!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=525)}([function(e,t,r){"use strict";r.d(t,"a",(function(){return _})),r.d(t,"b",(function(){return a}));var n=r(1),i=r.n(n),o={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=i.a.createContext&&i.a.createContext(o),s=function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},l=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};function _(e){return function(t){return i.a.createElement(u,s({attr:s({},e.attr)},t),function e(t){return t&&t.map((function(t,r){return i.a.createElement(t.tag,s({key:r},t.attr),e(t.child))}))}(e.child))}}function u(e){var t=function(t){var r,n=e.attr,o=e.size,a=e.title,_=l(e,["attr","size","title"]),u=o||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),i.a.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,_,{className:r,style:s(s({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&i.a.createElement("title",null,a),e.children)};return void 0!==a?i.a.createElement(a.Consumer,null,(function(e){return t(e)})):t(o)}},function(e,t,r){"use strict";e.exports=r(335)},function(e,t,r){e.exports=r(355)()},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return s})),r.d(t,"e",(function(){return l})),r.d(t,"f",(function(){return _})),r.d(t,"g",(function(){return u})),r.d(t,"h",(function(){return c})),r.d(t,"i",(function(){return p})),r.d(t,"j",(function(){return d})),r.d(t,"k",(function(){return h})),r.d(t,"l",(function(){return f})),r.d(t,"m",(function(){return m})),r.d(t,"n",(function(){return y})),r.d(t,"o",(function(){return g})),r.d(t,"p",(function(){return b})),r.d(t,"q",(function(){return v})),r.d(t,"r",(function(){return E})),r.d(t,"s",(function(){return M})),r.d(t,"t",(function(){return P})),r.d(t,"u",(function(){return x})),r.d(t,"v",(function(){return w})),r.d(t,"w",(function(){return C})),r.d(t,"x",(function(){return D})),r.d(t,"y",(function(){return T})),r.d(t,"B",(function(){return k})),r.d(t,"z",(function(){return A})),r.d(t,"A",(function(){return I})),r.d(t,"C",(function(){return L})),r.d(t,"D",(function(){return R})),r.d(t,"E",(function(){return S})),r.d(t,"F",(function(){return B})),r.d(t,"H",(function(){return U})),r.d(t,"I",(function(){return W})),r.d(t,"G",(function(){return K})),r.d(t,"a",(function(){return j})),r.d(t,"K",(function(){return z})),r.d(t,"J",(function(){return F}));var n=r(44),i=r(20);function o(e){for(var t=d(),r=0,n=e.length;r<n;++r)v(t,e[r]);return t}function a(e,t,r){return r?(r[0]=e[0]-t,r[1]=e[1]-t,r[2]=e[2]+t,r[3]=e[3]+t,r):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}function s(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function l(e,t,r){var n,i;return(n=t<e[0]?e[0]-t:e[2]<t?t-e[2]:0)*n+(i=r<e[1]?e[1]-r:e[3]<r?r-e[3]:0)*i}function _(e,t){return c(e,t[0],t[1])}function u(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function c(e,t,r){return e[0]<=t&&t<=e[2]&&e[1]<=r&&r<=e[3]}function p(e,t){var r=e[0],i=e[1],o=e[2],a=e[3],s=t[0],l=t[1],_=n.a.UNKNOWN;return s<r?_|=n.a.LEFT:s>o&&(_|=n.a.RIGHT),l<i?_|=n.a.BELOW:l>a&&(_|=n.a.ABOVE),_===n.a.UNKNOWN&&(_=n.a.INTERSECTING),_}function d(){return[1/0,1/0,-1/0,-1/0]}function h(e,t,r,n,i){return i?(i[0]=e,i[1]=t,i[2]=r,i[3]=n,i):[e,t,r,n]}function f(e){return h(1/0,1/0,-1/0,-1/0,e)}function m(e,t){var r=e[0],n=e[1];return h(r,n,r,n,t)}function y(e,t,r,n,i){return E(f(i),e,t,r,n)}function g(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function b(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function v(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function E(e,t,r,n,i){for(;r<n;r+=i)O(e,t[r],t[r+1]);return e}function O(e,t,r){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],r),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],r)}function M(e,t){var r;return(r=t(x(e)))||(r=t(w(e)))||(r=t(R(e)))?r:(r=t(L(e)))||!1}function P(e){var t=0;return U(e)||(t=S(e)*A(e)),t}function x(e){return[e[0],e[1]]}function w(e){return[e[2],e[1]]}function C(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function D(e,t){var r;return"bottom-left"===t?r=x(e):"bottom-right"===t?r=w(e):"top-left"===t?r=L(e):"top-right"===t?r=R(e):Object(i.a)(!1,13),r}function T(e,t,r,n,i){var o=k(e,t,r,n),a=o[0],s=o[1],l=o[2],_=o[3],u=o[4],c=o[5],p=o[6],d=o[7];return h(Math.min(a,l,u,p),Math.min(s,_,c,d),Math.max(a,l,u,p),Math.max(s,_,c,d),i)}function k(e,t,r,n){var i=t*n[0]/2,o=t*n[1]/2,a=Math.cos(r),s=Math.sin(r),l=i*a,_=i*s,u=o*a,c=o*s,p=e[0],d=e[1];return[p-l+c,d-_-u,p-l-c,d-_+u,p+l-c,d+_+u,p+l+c,d+_-u,p-l+c,d-_-u]}function A(e){return e[3]-e[1]}function I(e,t,r){var n=r||[1/0,1/0,-1/0,-1/0];return B(e,t)?(e[0]>t[0]?n[0]=e[0]:n[0]=t[0],e[1]>t[1]?n[1]=e[1]:n[1]=t[1],e[2]<t[2]?n[2]=e[2]:n[2]=t[2],e[3]<t[3]?n[3]=e[3]:n[3]=t[3]):f(n),n}function L(e){return[e[0],e[3]]}function R(e){return[e[2],e[3]]}function S(e){return e[2]-e[0]}function B(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function U(e){return e[2]<e[0]||e[3]<e[1]}function W(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}function K(e,t,r){var i=!1,o=p(e,t),a=p(e,r);if(o===n.a.INTERSECTING||a===n.a.INTERSECTING)i=!0;else{var s=e[0],l=e[1],_=e[2],u=e[3],c=t[0],d=t[1],h=r[0],f=r[1],m=(f-d)/(h-c),y=void 0,g=void 0;a&n.a.ABOVE&&!(o&n.a.ABOVE)&&(i=(y=h-(f-u)/m)>=s&&y<=_),i||!(a&n.a.RIGHT)||o&n.a.RIGHT||(i=(g=f-(h-_)*m)>=l&&g<=u),i||!(a&n.a.BELOW)||o&n.a.BELOW||(i=(y=h-(f-l)/m)>=s&&y<=_),i||!(a&n.a.LEFT)||o&n.a.LEFT||(i=(g=f-(h-s)*m)>=l&&g<=u)}return i}function j(e,t,r,n){var i=[];if(n>1)for(var o=e[2]-e[0],a=e[3]-e[1],s=0;s<n;++s)i.push(e[0]+o*s/n,e[1],e[2],e[1]+a*s/n,e[2]-o*s/n,e[3],e[0],e[3]-a*s/n);else i=[e[0],e[1],e[2],e[1],e[2],e[3],e[0],e[3]];t(i,i,2);for(var l=[],_=[],u=(s=0,i.length);s<u;s+=2)l.push(i[s]),_.push(i[s+1]);return function(e,t,r){return h(Math.min.apply(null,e),Math.min.apply(null,t),Math.max.apply(null,e),Math.max.apply(null,t),r)}(l,_,r)}function z(e,t){var r=t.getExtent(),n=C(e);if(t.canWrapX()&&(n[0]<r[0]||n[0]>=r[2])){var i=S(r),o=Math.floor((n[0]-r[0])/i)*i;e[0]-=o,e[2]-=o}return e}function F(e,t){if(t.canWrapX()){var r=t.getExtent();if(!isFinite(e[0])||!isFinite(e[2]))return[[r[0],e[1],r[2],e[3]]];z(e,t);var n=S(r);if(S(e)>n)return[[r[0],e[1],r[2],e[3]]];if(e[0]<r[0])return[[e[0]+n,e[1],r[2],e[3]],[r[0],e[1],e[2],e[3]]];if(e[2]>r[2])return[[e[0],e[1],r[2],e[3]],[r[0],e[1],e[2]-n,e[3]]]}return[e]}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(345);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(46).default,i=r(11);e.exports=function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";function n(){return function(){throw new Error("Unimplemented abstract method.")}()}r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return a}));var i=0;function o(e){return e.ol_uid||(e.ol_uid=String(++i))}var a="6.15.1"},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";r.d(t,"a",(function(){return i.a})),r.d(t,"c",(function(){return D})),r.d(t,"i",(function(){return I})),r.d(t,"j",(function(){return L})),r.d(t,"b",(function(){return S})),r.d(t,"e",(function(){return B})),r.d(t,"n",(function(){return U})),r.d(t,"d",(function(){return W})),r.d(t,"l",(function(){return K})),r.d(t,"k",(function(){return j})),r.d(t,"r",(function(){return z})),r.d(t,"s",(function(){return F})),r.d(t,"m",(function(){return V})),r.d(t,"o",(function(){return Z})),r.d(t,"f",(function(){return X})),r.d(t,"p",(function(){return $})),r.d(t,"g",(function(){return Y})),r.d(t,"q",(function(){return J})),r.d(t,"h",(function(){return Q}));var n,i=r(34),o=r(96),a=r(13),s=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),l=6378137*Math.PI,_=[-l,-l,l,l],u=[-180,-85,180,85],c=6378137*Math.log(Math.tan(Math.PI/2)),p=function(e){function t(t){return e.call(this,{code:t,units:i.b.METERS,extent:_,global:!0,worldExtent:u,getPointResolution:function(e,t){return e/Object(a.c)(t[1]/6378137)}})||this}return s(t,e),t}(o.a),d=[new p("EPSG:3857"),new p("EPSG:102100"),new p("EPSG:102113"),new p("EPSG:900913"),new p("http://www.opengis.net/def/crs/EPSG/0/3857"),new p("http://www.opengis.net/gml/srs/epsg.xml#3857")];function h(e,t,r){var n=e.length,i=r>1?r:2,o=t;void 0===o&&(o=i>2?e.slice():new Array(n));for(var a=0;a<n;a+=i){o[a]=l*e[a]/180;var s=6378137*Math.log(Math.tan(Math.PI*(+e[a+1]+90)/360));s>c?s=c:s<-c&&(s=-c),o[a+1]=s}return o}function f(e,t,r){var n=e.length,i=r>1?r:2,o=t;void 0===o&&(o=i>2?e.slice():new Array(n));for(var a=0;a<n;a+=i)o[a]=180*e[a]/l,o[a+1]=360*Math.atan(Math.exp(e[a+1]/6378137))/Math.PI-90;return o}var m=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),y=[-180,-90,180,90],g=6378137*Math.PI/180,b=function(e){function t(t,r){return e.call(this,{code:t,units:i.b.DEGREES,extent:y,axisOrientation:r,global:!0,metersPerUnit:g,worldExtent:y})||this}return m(t,e),t}(o.a),v=[new b("CRS:84"),new b("EPSG:4326","neu"),new b("urn:ogc:def:crs:OGC:1.3:CRS84"),new b("urn:ogc:def:crs:OGC:2:84"),new b("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new b("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new b("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],E={};r(21);var O={};function M(e,t,r){var n=e.getCode(),i=t.getCode();n in O||(O[n]={}),O[n][i]=r}var P=r(5),x=r(42),w=r(127),C=!0;function D(e){C=!(void 0===e||e)}function T(e,t,r){var n;if(void 0!==t){for(var i=0,o=e.length;i<o;++i)t[i]=e[i];n=t}else n=e.slice();return n}function k(e,t,r){if(void 0!==t&&e!==t){for(var n=0,i=e.length;n<i;++n)t[n]=e[n];e=t}return e}function A(e){!function(e,t){E[e]=t}(e.getCode(),e),M(e,e,T)}function I(e){return"string"==typeof e?E[t=e]||E[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:e||null;var t}function L(e,t,r,n){var o,a=(e=I(e)).getPointResolutionFunc();if(a){if(o=a(t,r),n&&n!==e.getUnits())(l=e.getMetersPerUnit())&&(o=o*l/i.a[n])}else{var s=e.getUnits();if(s==i.b.DEGREES&&!n||n==i.b.DEGREES)o=t;else{var l,_=K(e,I("EPSG:4326"));if(_===k&&s!==i.b.DEGREES)o=t*e.getMetersPerUnit();else{var u=[r[0]-t/2,r[1],r[0]+t/2,r[1],r[0],r[1]-t/2,r[0],r[1]+t/2];u=_(u,u,2),o=(Object(w.a)(u.slice(0,2),u.slice(2,4))+Object(w.a)(u.slice(4,6),u.slice(6,8)))/2}void 0!==(l=n?i.a[n]:e.getMetersPerUnit())&&(o/=l)}}return o}function R(e){!function(e){e.forEach(A)}(e),e.forEach((function(t){e.forEach((function(e){t!==e&&M(t,e,T)}))}))}function S(e,t){return e?"string"==typeof e?I(e):e:I(t)}function B(e,t){return D(),z(e,"EPSG:4326",void 0!==t?t:"EPSG:3857")}function U(e,t){var r=z(e,void 0!==t?t:"EPSG:3857","EPSG:4326"),n=r[0];return(n<-180||n>180)&&(r[0]=Object(a.g)(n+180,360)-180),r}function W(e,t){if(e===t)return!0;var r=e.getUnits()===t.getUnits();return(e.getCode()===t.getCode()||K(e,t)===T)&&r}function K(e,t){var r=function(e,t){var r;return e in O&&t in O[e]&&(r=O[e][t]),r}(e.getCode(),t.getCode());return r||(r=k),r}function j(e,t){return K(I(e),I(t))}function z(e,t,r){return j(t,r)(e,void 0,e.length)}function F(e,t,r,n){var i=j(t,r);return Object(P.a)(e,i,void 0,n)}var q,N,H,G=null;function V(){return G}function Z(e,t){return G?z(e,t,G):e}function X(e,t){return G?z(e,G,t):(C&&!Object(x.b)(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(C=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),e)}function $(e,t){return G?F(e,t,G):e}function Y(e,t){return G?F(e,G,t):e}function J(e,t){if(!G)return e;var r=I(t).getUnits(),n=G.getUnits();return r&&n?e*i.a[r]/i.a[n]:e}function Q(e,t){if(!G)return e;var r=I(t).getUnits(),n=G.getUnits();return r&&n?e*i.a[n]/i.a[r]:e}R(d),R(v),q=d,N=h,H=f,v.forEach((function(e){q.forEach((function(t){M(e,t,N),M(t,e,H)}))}))},function(e,t,r){"use strict";function n(e,t,r){return Math.min(Math.max(e,t),r)}r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return i})),r.d(t,"f",(function(){return o})),r.d(t,"j",(function(){return a})),r.d(t,"i",(function(){return s})),r.d(t,"h",(function(){return l})),r.d(t,"k",(function(){return _})),r.d(t,"l",(function(){return u})),r.d(t,"g",(function(){return c})),r.d(t,"e",(function(){return p})),r.d(t,"d",(function(){return h})),r.d(t,"a",(function(){return f}));var i="cosh"in Math?Math.cosh:function(e){var t=Math.exp(e);return(t+1/t)/2},o="log2"in Math?Math.log2:function(e){return Math.log(e)*Math.LOG2E};function a(e,t,r,n,i,o){var a=i-r,l=o-n;if(0!==a||0!==l){var _=((e-r)*a+(t-n)*l)/(a*a+l*l);_>1?(r=i,n=o):_>0&&(r+=a*_,n+=l*_)}return s(e,t,r,n)}function s(e,t,r,n){var i=r-e,o=n-t;return i*i+o*o}function l(e){for(var t=e.length,r=0;r<t;r++){for(var n=r,i=Math.abs(e[r][r]),o=r+1;o<t;o++){var a=Math.abs(e[o][r]);a>i&&(i=a,n=o)}if(0===i)return null;var s=e[n];e[n]=e[r],e[r]=s;for(var l=r+1;l<t;l++)for(var _=-e[l][r]/e[r][r],u=r;u<t+1;u++)r==u?e[l][u]=0:e[l][u]+=_*e[r][u]}for(var c=new Array(t),p=t-1;p>=0;p--){c[p]=e[p][t]/e[p][p];for(var d=p-1;d>=0;d--)e[d][t]-=e[d][p]*c[p]}return c}function _(e){return 180*e/Math.PI}function u(e){return e*Math.PI/180}function c(e,t){var r=e%t;return r*t<0?r+t:r}function p(e,t,r){return e+r*(t-e)}function d(e,t){var r=Math.pow(10,t);return Math.round(e*r)/r}function h(e,t){return Math.floor(d(e,t))}function f(e,t){return Math.ceil(d(e,t))}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,r){"use strict";t.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return a}));var n=r(21);function i(e,t,r,n,i){if(n&&n!==e&&(r=r.bind(n)),i){var o=r;r=function(){e.removeEventListener(t,r),o.apply(this,arguments)}}var a={target:e,type:t,listener:r};return e.addEventListener(t,r),a}function o(e,t,r,n){return i(e,t,r,n,!0)}function a(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),Object(n.b)(e))}},function(e,t,r){"use strict";r.d(t,"c",(function(){return _})),r.d(t,"b",(function(){return u})),r.d(t,"d",(function(){return c})),r.d(t,"e",(function(){return p})),r.d(t,"f",(function(){return d})),r.d(t,"g",(function(){return h})),r.d(t,"i",(function(){return f})),r.d(t,"k",(function(){return m})),r.d(t,"l",(function(){return y})),r.d(t,"m",(function(){return g})),r.d(t,"j",(function(){return b})),r.d(t,"h",(function(){return v})),r.d(t,"a",(function(){return E})),r.d(t,"p",(function(){return O})),r.d(t,"r",(function(){return C})),r.d(t,"q",(function(){return A})),r.d(t,"o",(function(){return I})),r.d(t,"n",(function(){return L}));var n=r(38),i=r(70),o=r(39),a=r(21),s=r(25),l=r(40),_="10px sans-serif",u="#000",c="round",p=[],d=0,h="round",f=10,m="#000",y="center",g="middle",b=[0,0,0,0],v=1,E=new n.a,O=new i.a;O.setSize=function(){console.warn("labelCache is deprecated.")};var M,P,x=null,w={},C=function(){var e,t,r=["monospace","serif"],n=r.length,i="wmytzilWMYTZIL@#/&?$%10";function o(e,o,a){for(var s=!0,l=0;l<n;++l){var _=r[l];if(t=k(e+" "+o+" 32px "+_,i),a!=_){var u=k(e+" "+o+" 32px "+a+","+_,i);s=s&&u!=t}}return!!s}function s(){for(var t=!0,r=E.getKeys(),n=0,i=r.length;n<i;++n){var s=r[n];E.get(s)<100&&(o.apply(this,s.split("\n"))?(Object(a.b)(w),x=null,M=void 0,E.set(s,100)):(E.set(s,E.get(s)+1,!0),t=!1))}t&&(clearInterval(e),e=void 0)}return function(t){var r=Object(l.f)(t);if(r)for(var n=r.families,i=0,a=n.length;i<a;++i){var _=n[i],u=r.style+"\n"+r.weight+"\n"+_;void 0===E.get(u)&&(E.set(u,100,!0),o(r.style,r.weight,_)||(E.set(u,0,!0),void 0===e&&(e=setInterval(s,32))))}}}(),D=function(e){var t=w[e];if(null==t){if(o.g){var r=Object(l.f)(e),n=T(e,"Žg");t=(isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight))*(n.actualBoundingBoxAscent+n.actualBoundingBoxDescent)}else P||((P=document.createElement("div")).innerHTML="M",P.style.minHeight="0",P.style.maxHeight="none",P.style.height="auto",P.style.padding="0",P.style.border="none",P.style.position="absolute",P.style.display="block",P.style.left="-99999px"),P.style.font=e,document.body.appendChild(P),t=P.offsetHeight,document.body.removeChild(P);w[e]=t}return t};function T(e,t){return x||(x=Object(s.a)(1,1)),e!=M&&(x.font=e,M=x.font),x.measureText(t)}function k(e,t){return T(e,t).width}function A(e,t,r){if(t in r)return r[t];var n=t.split("\n").reduce((function(t,r){return Math.max(t,k(e,r))}),0);return r[t]=n,n}function I(e,t){for(var r=[],n=[],i=[],o=0,a=0,s=0,l=0,_=0,u=t.length;_<=u;_+=2){var c=t[_];if("\n"!==c&&_!==u){var p=t[_+1]||e.font,d=k(p,c);r.push(d),a+=d;var h=D(p);n.push(h),l=Math.max(l,h)}else o=Math.max(o,a),i.push(a),a=0,s+=l}return{width:o,height:s,widths:r,heights:n,lineWidths:i}}function L(e,t,r,n,i,o,a,s,l,_,u){e.save(),1!==r&&(e.globalAlpha*=r),t&&e.setTransform.apply(e,t),n.contextInstructions?(e.translate(l,_),e.scale(u[0],u[1]),function(e,t){for(var r=e.contextInstructions,n=0,i=r.length;n<i;n+=2)Array.isArray(r[n+1])?t[r[n]].apply(t,r[n+1]):t[r[n]]=r[n+1]}(n,e)):u[0]<0||u[1]<0?(e.translate(l,_),e.scale(u[0],u[1]),e.drawImage(n,i,o,a,s,0,0,a,s)):e.drawImage(n,i,o,a,s,l,_,a*u[0],s*u[1]),e.restore()}},function(e,t,r){"use strict";t.a={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},function(e,t,r){"use strict";r.d(t,"c",(function(){return s})),r.d(t,"g",(function(){return l})),r.d(t,"f",(function(){return _})),r.d(t,"i",(function(){return c})),r.d(t,"a",(function(){return p})),r.d(t,"h",(function(){return d})),r.d(t,"e",(function(){return h})),r.d(t,"k",(function(){return f})),r.d(t,"b",(function(){return m})),r.d(t,"d",(function(){return y})),r.d(t,"j",(function(){return g}));var n,i=r(39),o=r(20),a=new Array(6);function s(){return[1,0,0,1,0,0]}function l(e){return u(e,1,0,0,1,0,0)}function _(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=t[0],_=t[1],u=t[2],c=t[3],p=t[4],d=t[5];return e[0]=r*l+i*_,e[1]=n*l+o*_,e[2]=r*u+i*c,e[3]=n*u+o*c,e[4]=r*p+i*d+a,e[5]=n*p+o*d+s,e}function u(e,t,r,n,i,o,a){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=a,e}function c(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function p(e,t){var r=t[0],n=t[1];return t[0]=e[0]*r+e[2]*n+e[4],t[1]=e[1]*r+e[3]*n+e[5],t}function d(e,t,r){return _(e,u(a,t,0,0,r,0,0))}function h(e,t,r){return u(e,t,0,0,r,0,0)}function f(e,t,r){return _(e,u(a,1,0,0,1,t,r))}function m(e,t,r,n,i,o,a,s){var l=Math.sin(o),_=Math.cos(o);return e[0]=n*_,e[1]=i*l,e[2]=-n*l,e[3]=i*_,e[4]=a*n*_-s*n*l+t,e[5]=a*i*l+s*i*_+r,e}function y(e,t){var r,n=(r=t)[0]*r[3]-r[1]*r[2];Object(o.a)(0!==n,32);var i=t[0],a=t[1],s=t[2],l=t[3],_=t[4],u=t[5];return e[0]=l/n,e[1]=-a/n,e[2]=-s/n,e[3]=i/n,e[4]=(s*u-l*_)/n,e[5]=-(i*u-a*_)/n,e}function g(e){var t="matrix("+e.join(", ")+")";if(i.g)return t;var r=n||(n=document.createElement("div"));return r.style.transform=t,r.style.transform}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(150);function i(e,t){if(!e)throw new n.a(t)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return a}));var n="function"==typeof Object.assign?Object.assign:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1,i=arguments.length;n<i;++n){var o=arguments[n];if(null!=o)for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])}return r};function i(e){for(var t in e)delete e[t]}var o="function"==typeof Object.values?Object.values:function(e){var t=[];for(var r in e)t.push(e[r]);return t};function a(e){var t;for(t in e)return!1;return!t}},function(e,t,r){"use strict";(function(e,n){r.d(t,"a",(function(){return me})),r.d(t,"b",(function(){return Kr})),r.d(t,"c",(function(){return Hr})),r.d(t,"d",(function(){return On})),r.d(t,"e",(function(){return kr})),r.d(t,"f",(function(){return s})),r.d(t,"g",(function(){return Mn})),r.d(t,"h",(function(){return i})),r.d(t,"i",(function(){return Fr})),r.d(t,"j",(function(){return En}));var i={$version:8,$root:{version:{required:!0,type:"enum",values:[8],doc:"Style specification version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:[-73.9749,40.7736]},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number",default:0,period:360,units:"degrees",doc:'Default bearing, in degrees. The bearing is the compass direction that is "up"; for example, a bearing of 90° orients the map so that east is up. This value will be used only if the map has not been positioned by other means (e.g. map options or user interaction).',example:29},pitch:{type:"number",default:0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface, for a look straight down at the map, while a greater value like 60 looks ahead towards the horizon. The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50},light:{type:"light",doc:"The global light source.",example:{anchor:"viewport",color:"white",intensity:.4}},terrain:{type:"terrain",doc:"A global modifier that elevates layers and markers based on a DEM data source."},fog:{type:"fog",doc:"A global effect that fades layers and markers based on their distance to the camera. The fog can be used to approximate the effect of atmosphere on distant objects and enhance the depth perception of the map when used with terrain or 3D features."},sources:{required:!0,type:"sources",doc:"Data source specifications.",example:{"mapbox-streets":{type:"vector",url:"mapbox://mapbox.mapbox-streets-v6"}}},sprite:{type:"string",doc:"A base URL for retrieving the sprite image and metadata. The extensions `.png`, `.json` and scale factor `@2x.png` will be automatically appended. This property is required if any layer uses the `background-pattern`, `fill-pattern`, `line-pattern`, `fill-extrusion-pattern`, or `icon-image` properties. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://sprites/mapbox/bright-v8"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format. The URL must include `{fontstack}` and `{range}` tokens. This property is required if any layer uses the `text-field` layout property. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties, to be used for timing transitions between one value and the next when no property-specific transition is set. Collision-based symbol fading is controlled independently of the style's `transition` property.",example:{duration:300,delay:0}},projection:{type:"projection",doc:"The projection the map should be rendered in. Supported projections are Albers, Equal Earth, Equirectangular (WGS84), Lambert conformal conic, Mercator, Natural Earth, and Winkel Tripel. Terrain, fog, sky and CustomLayerInterface are not supported for projections other than mercator.",example:{name:"albers",center:[-154,50],parallels:[55,65]}},layers:{required:!0,type:"array",value:"layer",doc:"Layers will be drawn in the order of this array.",example:[{id:"water",source:"mapbox-streets","source-layer":"water",type:"fill",paint:{"fill-color":"#00ffff"}}]}},sources:{"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For image and video sources, a URL must be provided. For GeoJSON sources, a URL or inline GeoJSON must be provided."}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{doc:"A vector tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`. If specified as a string for a vector tile source, the same property is used across all its source layers."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},source_raster:{type:{required:!0,type:"enum",values:{raster:{doc:"A raster tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{doc:"A RGB-encoded raster DEM source"}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},encoding:{type:"enum",values:{terrarium:{doc:"Terrarium format PNG tiles. See https://aws.amazon.com/es/public-datasets/terrain/ for more info."},mapbox:{doc:"Mapbox Terrain RGB tiles. See https://www.mapbox.com/help/access-elevation-data/#mapbox-terrain-rgb for more info."}},default:"mapbox",doc:"The encoding used by this source. Mapbox Terrain RGB is used by default"},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{doc:"A GeoJSON data source."}},doc:"The data type of the GeoJSON source."},data:{type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number",default:18,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},buffer:{type:"number",default:128,maximum:512,minimum:0,doc:"Size of the tile buffer on each side. A value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself. Larger values produce fewer rendering artifacts near tile edges and slower performance."},filter:{type:"*",doc:"An expression for filtering features prior to processing them for rendering."},tolerance:{type:"number",default:.375,doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean",default:!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups. Cluster groups become new `Point` features in the source with additional properties:\n * `cluster` Is `true` if the point is a cluster \n * `cluster_id` A unqiue id for the cluster to be used in conjunction with the [cluster inspection methods](https://www.mapbox.com/mapbox-gl-js/api/#geojsonsource#getclusterexpansionzoom)\n * `point_count` Number of original points grouped into this cluster\n * `point_count_abbreviated` An abbreviated point count"},clusterRadius:{type:"number",default:50,minimum:0,doc:"Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile."},clusterMaxZoom:{type:"number",doc:"Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered). Clusters are re-evaluated at integer zoom levels so setting clusterMaxZoom to 14 means the clusters will be displayed until z15."},clusterMinPoints:{type:"number",doc:"Minimum number of points necessary to form a cluster if clustering is enabled. Defaults to `2`."},clusterProperties:{type:"*",doc:'An object defining custom properties on the generated clusters if clustering is enabled, aggregating values from clustered points. Has the form `{"property_name": [operator, map_expression]}`. `operator` is any expression function that accepts at least 2 operands (e.g. `"+"` or `"max"`) — it accumulates the property value from clusters/points the cluster contains; `map_expression` produces the value of a single point.\n\nExample: `{"sum": ["+", ["get", "scalerank"]]}`.\n\nFor more advanced use cases, in place of `operator`, you can use a custom reduce expression that references a special `["accumulated"]` value, e.g.:\n`{"sum": [["+", ["accumulated"], ["get", "sum"]], ["get", "scalerank"]]}`'},lineMetrics:{type:"boolean",default:!1,doc:"Whether to calculate line distance metrics. This is required for line layers that specify `line-gradient` values."},generateId:{type:"boolean",default:!1,doc:"Whether to generate ids for the geojson features. When enabled, the `feature.id` property will be auto assigned based on its index in the `features` array, over-writing any previous values."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`."}},source_video:{type:{required:!0,type:"enum",values:{video:{doc:"A video data source."}},doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},source_image:{type:{required:!0,type:"enum",values:{image:{doc:"An image data source."}},doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image."},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},layer:{id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:{fill:{doc:"A filled polygon with an optional stroked border.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},line:{doc:"A stroked line.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},symbol:{doc:"An icon or a text label.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},circle:{doc:"A filled circle.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},heatmap:{doc:"A heatmap.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"fill-extrusion":{doc:"An extruded (3D) polygon.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},raster:{doc:"Raster map textures such as satellite imagery.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},hillshade:{doc:"Client-side hillshading visualization based on DEM data. Currently, the implementation only supports Mapbox Terrain RGB and Mapzen Terrarium tiles.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},background:{doc:"The background color or pattern of the map.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},sky:{doc:"A spherical dome around the map that is always rendered behind all other layers.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}}},doc:"Rendering type of this layer.",required:!0},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},source:{type:"string",doc:"Name of a source description to be used for this layer. Required for all layer types except `background`."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required for vector tile sources; prohibited for all other source types, including GeoJSON sources."},minzoom:{type:"number",minimum:0,maximum:24,doc:"The minimum zoom level for the layer. At zoom levels less than the minzoom, the layer will be hidden."},maxzoom:{type:"number",minimum:0,maximum:24,doc:"The maximum zoom level for the layer. At zoom levels equal to or greater than the maxzoom, the layer will be hidden."},filter:{type:"filter",doc:'An expression specifying conditions on source features. Only features that match the filter are displayed. Zoom expressions in filters are only evaluated at integer zoom levels. The `["feature-state", ...]` expression is not supported in filter expressions.  The `["pitch"]` and `["distance-from-center"]` expressions are supported only for filter expressions on the symbol layer.'},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],layout_background:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"},"data-driven styling":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},"property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{doc:"A cap with a squared-off end which is drawn to the exact endpoint of the line."},round:{doc:"A cap with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},square:{doc:"A cap with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."}},default:"butt",doc:"The display of line endings.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{doc:"A join with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."},round:{doc:"A join with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},miter:{doc:"A join with a sharp, angled corner which is drawn with the outer sides beyond the endpoint of the path until they meet."}},default:"miter",doc:"The display of lines when joining.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{doc:"The label is placed at the point where the geometry is located."},line:{doc:"The label is placed along the line of the geometry. Can only be used on `LineString` and `Polygon` geometries."},"line-center":{doc:"The label is placed at the center of the line of the geometry. Can only be used on `LineString` and `Polygon` geometries. Note that a single feature in a vector tile may contain multiple line geometries."}},default:"point",doc:"Label placement relative to its geometry.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`line-center` value":{js:"0.47.0",android:"6.4.0",ios:"4.3.0",macos:"0.10.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer. When using a client that supports global collision detection, like Mapbox GL JS version 0.42.0 or greater, enabling this property is not needed to prevent clipped labels at tile boundaries.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with lower sort keys are drawn and placed first.  When `icon-allow-overlap` or `text-allow-overlap` is `false`, features with a lower sort key will have priority during placement. When `icon-allow-overlap` or `text-allow-overlap` is set to `true`, features with a higher sort key will overlap over features with a lower sort key.","sdk-support":{"basic functionality":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"},"data-driven styling":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},"viewport-y":{doc:"Sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},source:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, no sorting is applied; symbols are rendered in the same order as the source data."}},default:"auto",doc:"Determines whether overlapping symbols in the same layer are rendered in the order that they appear in the data source or by their y-position relative to the viewport. To control the order and prioritization of symbols otherwise, use `symbol-sort-key`.","sdk-support":{"basic functionality":{js:"0.49.0",android:"6.6.0",ios:"4.5.0",macos:"0.12.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns icons east-west. When `symbol-placement` is set to `line` or `line-center`, aligns icon x-axes with the line."},viewport:{doc:"Produces icons whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",doc:"Scales the original size of the icon by the provided factor. The new pixel size of the image will be the original pixel size multiplied by `icon-size`. 1 is the original size; 3 triples the size of the image.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{doc:"The icon is displayed at its intrinsic aspect ratio."},width:{doc:"The icon is scaled in the x-dimension to fit the width of the text."},height:{doc:"The icon is scaled in the y-dimension to fit the height of the text."},both:{doc:"The icon is scaled in both x- and y-dimensions."}},default:"none",doc:"Scales the icon to fit around the associated text.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"stretchable icons":{js:"1.6.0",android:"9.2.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",doc:"Size of the additional area added to dimensions determined by `icon-text-fit`, in clockwise order: top, right, bottom, left.",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",doc:"Name of image in sprite to use for drawing an image background.",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the icon bounding box used for detecting symbol collisions.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up. Each component is multiplied by the value of `icon-size` to obtain the final offset in pixels. When combined with `icon-rotate` the offset will be as if the rotated direction was up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{doc:"The center of the icon is placed closest to the anchor."},left:{doc:"The left side of the icon is placed closest to the anchor."},right:{doc:"The right side of the icon is placed closest to the anchor."},top:{doc:"The top of the icon is placed closest to the anchor."},bottom:{doc:"The bottom of the icon is placed closest to the anchor."},"top-left":{doc:"The top left corner of the icon is placed closest to the anchor."},"top-right":{doc:"The top right corner of the icon is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the icon is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the icon is placed closest to the anchor."}},default:"center",doc:"Part of the icon placed closest to the anchor.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{doc:"The icon is aligned to the plane of the map."},viewport:{doc:"The icon is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `icon-rotation-alignment`."}},default:"auto",doc:"Orientation of icon when map is pitched.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{doc:"The text is aligned to the plane of the map."},viewport:{doc:"The text is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `text-rotation-alignment`."}},default:"auto",doc:"Orientation of text when map is pitched.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns text east-west. When `symbol-placement` is set to `line` or `line-center`, aligns text x-axes with the line."},viewport:{doc:"Produces glyphs whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of the individual glyphs forming the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,doc:"Value to use for a text label. If a plain `string` is provided, it will be treated as a `formatted` with default/inherited formatting options. SDF images are not supported in formatted text and will be ignored.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",doc:"Font size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",doc:"The maximum line width for text wrapping.",requires:["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",doc:"Text leading value for multi-line text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",doc:"Text tracking amount.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{doc:"The text is aligned towards the anchor position."},left:{doc:"The text is aligned to the left."},center:{doc:"The text is centered."},right:{doc:"The text is aligned to the right."}},default:"center",doc:"Text justification options.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},auto:{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,doc:"Radial offset of text, in the direction of the symbol's anchor. Useful in combination with `text-variable-anchor`, which defaults to using the two-dimensional `text-offset` if present.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"},"data-driven styling":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},requires:["text-field",{"symbol-placement":["point"]}],doc:"To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations: the renderer will attempt to place the label at each location, in order, before moving onto the next label. Use `text-justify: auto` to choose justification based on anchor position. To apply an offset, use the `text-radial-offset` or the two-dimensional `text-offset`.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},default:"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{doc:"If a text's language supports horizontal writing mode, symbols would be laid out horizontally."},vertical:{doc:"If a text's language supports vertical writing mode, symbols would be laid out vertically."}},doc:"The property allows control over a symbol's orientation. Note that the property values act as a hint, so that a symbol whose language doesn’t support the provided orientation will be laid out in its natural orientation. Example: English point symbol will be rendered horizontally even if array value contains single 'vertical' enum value. For symbol with point placement, the order of elements in an array define priority order for the placement of an orientation variant. For symbol with line placement, the default text writing mode is either ['horizontal', 'vertical'] or ['vertical', 'horizontal'], the order doesn't affect the placement.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"1.3.0",android:"8.3.0",ios:"5.3.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the text clockwise.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{doc:"The text is not altered."},uppercase:{doc:"Forces all letters to be displayed in uppercase."},lowercase:{doc:"Forces all letters to be displayed in lowercase."}},default:"none",doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up. If used with text-variable-anchor, input values will be taken as absolute values. Offsets along the x- and y-axis will be applied automatically based on the anchor position.",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},filter:{type:"array",value:"*",doc:"A filter selects specific features from a layer."},filter_symbol:{type:"boolean",doc:'Expression which determines whether or not to display a symbol. Symbols support dynamic filtering, meaning this expression can use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature","pitch","distance-from-center"]}},filter_fill:{type:"boolean",doc:'Expression which determines whether or not to display a polygon. Fill layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_line:{type:"boolean",doc:'Expression which determines whether or not to display a Polygon or LineString. Line layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_circle:{type:"boolean",doc:'Expression which determines whether or not to display a circle. Circle layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},"filter_fill-extrusion":{type:"boolean",doc:'Expression which determines whether or not to display a Polygon. Fill-extrusion layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_heatmap:{type:"boolean",doc:'Expression used to determine whether a point is being displayed or not. Heatmap layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_operator:{type:"enum",values:{"==":{doc:'`["==", key, value]` equality: `feature[key] = value`'},"!=":{doc:'`["!=", key, value]` inequality: `feature[key] ≠ value`'},">":{doc:'`[">", key, value]` greater than: `feature[key] > value`'},">=":{doc:'`[">=", key, value]` greater than or equal: `feature[key] ≥ value`'},"<":{doc:'`["<", key, value]` less than: `feature[key] < value`'},"<=":{doc:'`["<=", key, value]` less than or equal: `feature[key] ≤ value`'},in:{doc:'`["in", key, v0, ..., vn]` set inclusion: `feature[key] ∈ {v0, ..., vn}`'},"!in":{doc:'`["!in", key, v0, ..., vn]` set exclusion: `feature[key] ∉ {v0, ..., vn}`'},all:{doc:'`["all", f0, ..., fn]` logical `AND`: `f0 ∧ ... ∧ fn`'},any:{doc:'`["any", f0, ..., fn]` logical `OR`: `f0 ∨ ... ∨ fn`'},none:{doc:'`["none", f0, ..., fn]` logical `NOR`: `¬f0 ∧ ... ∧ ¬fn`'},has:{doc:'`["has", key]` `feature[key]` exists'},"!has":{doc:'`["!has", key]` `feature[key]` does not exist'},within:{doc:'`["within", object]` feature geometry is within object geometry'}},doc:"The filter operator."},geometry_type:{type:"enum",values:{Point:{doc:"Filter to point geometries."},LineString:{doc:"Filter to line geometries."},Polygon:{doc:"Filter to polygon geometries."}},doc:"The geometry type for the filter to select."},function:{expression:{type:"expression",doc:"An expression."},stops:{type:"array",doc:"An array of stops.",value:"function_stop"},base:{type:"number",default:1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},property:{type:"string",doc:"The name of a feature property to use as the function input.",default:"$zoom"},type:{type:"enum",values:{identity:{doc:"Return the input value as the output value."},exponential:{doc:"Generate an output by interpolating between stops just less than and just greater than the function input."},interval:{doc:"Return the output value of the stop just less than the function input."},categorical:{doc:"Return the output value of the stop equal to the function input."}},doc:"The interpolation strategy to use in function evaluation.",default:"exponential"},colorSpace:{type:"enum",values:{rgb:{doc:"Use the RGB color space to interpolate color values"},lab:{doc:"Use the LAB color space to interpolate color values."},hcl:{doc:"Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually."}},doc:"The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",default:"rgb"},default:{type:"*",required:!1,doc:"A value to serve as a fallback function result when a value isn't otherwise available. It is used in the following circumstances:\n* In categorical functions, when the feature value does not match any of the stop domain values.\n* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.\n* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a `circle-color` property but the feature property value is not a string or not a valid color).\n* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.\nIf no default is provided, the style property's default is used in these circumstances."}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2,doc:"Zoom level and value pair."},expression:{type:"array",value:"*",minimum:1,doc:"An expression defines a function that can be used for data-driven style properties or feature filters."},expression_name:{doc:"",type:"enum",values:{let:{doc:'Binds expressions to named variables, which can then be referenced in the result expression using ["var", "variable_name"].',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},var:{doc:'References variable bound using "let".',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},literal:{doc:"Provides a literal array or object value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},array:{doc:"Asserts that the input is an array (optionally with a specific item type and length).  If, when the input expression is evaluated, it is not of the asserted type, then this assertion will cause the whole expression to be aborted.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},at:{doc:"Retrieves an item from an array.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},in:{doc:"Determines whether an item exists in an array or a substring exists in a string. In the specific case when the second and third arguments are string literals, you must wrap at least one of them in a [`literal`](#types-literal) expression to hint correct interpretation to the [type system](#type-system).",group:"Lookup","sdk-support":{"basic functionality":{js:"1.6.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"index-of":{doc:"Returns the first position at which an item can be found in an array or a substring can be found in a string, or `-1` if the input cannot be found. Accepts an optional index from where to begin the search.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},slice:{doc:"Returns an item from an array or a substring from a string from a specified start index, or between a start index and an end index if set. The return value is inclusive of the start index but not of the end index.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},case:{doc:"Selects the first output whose corresponding test condition evaluates to true, or the fallback value otherwise.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},match:{doc:'Selects the output for which the label value matches the input value, or the fallback value if no match is found. The input can be any expression (for example, `["get", "building_type"]`). Each label must be unique, and must be either:\n - a single literal value; or\n - an array of literal values, the values of which must be all strings or all numbers (for example `[100, 101]` or `["c", "b"]`).\n\nThe input matches if any of the values in the array matches using strict equality, similar to the `"in"` operator.\nIf the input type does not match the type of the labels, the result will be the fallback value.',group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},coalesce:{doc:"Evaluates each expression in turn until the first valid value is obtained. Invalid values are `null` and [`'image'`](#types-image) expressions that are unavailable in the style. If all values are invalid, `coalesce` returns the first value listed.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},step:{doc:'Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. Returns the output value of the stop just less than the input, or the first output if the input is less than the first stop.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},interpolate:{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array<number>`, or `color`.\n\nInterpolation types:\n- `["linear"]`: Interpolates linearly between the pair of stops just less than and just greater than the input.\n- `["exponential", base]`: Interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\n- `["cubic-bezier", x1, y1, x2, y2]`: Interpolates using the cubic bezier curve defined by the given control points.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"interpolate-hcl":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the Hue-Chroma-Luminance color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},"interpolate-lab":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the CIELAB color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},ln2:{doc:"Returns mathematical constant ln(2).",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pi:{doc:"Returns the mathematical constant pi.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},e:{doc:"Returns the mathematical constant e.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},typeof:{doc:"Returns a string describing the type of the given value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},string:{doc:"Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string is obtained. If none of the inputs are strings, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},number:{doc:"Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number is obtained. If none of the inputs are numbers, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},boolean:{doc:"Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean is obtained. If none of the inputs are booleans, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},object:{doc:"Asserts that the input value is an object. If multiple values are provided, each one is evaluated in order until an object is obtained. If none of the inputs are objects, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},collator:{doc:"Returns a `collator` for use in locale-dependent comparison operations. The `case-sensitive` and `diacritic-sensitive` options default to `false`. The `locale` argument specifies the IETF language tag of the locale to use. If none is provided, the default locale is used. If the requested locale is not available, the `collator` will use a system-defined fallback locale. Use `resolved-locale` to test the results of locale fallback behavior.",group:"Types","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},format:{doc:'Returns a `formatted` string for displaying mixed-format text in the `text-field` property. The input may contain a string literal or expression, including an [`\'image\'`](#types-image) expression. Strings may be followed by a style override object that supports the following properties:\n- `"text-font"`: Overrides the font stack specified by the root layout property.\n- `"text-color"`: Overrides the color specified by the root paint property.\n- `"font-scale"`: Applies a scaling factor on `text-size` as specified by the root layout property.',group:"Types","sdk-support":{"basic functionality":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-font":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"font-scale":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-color":{js:"1.3.0",android:"7.3.0",ios:"4.10.0",macos:"0.14.0"},image:{js:"1.6.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},image:{doc:"Returns a [`ResolvedImage`](/mapbox-gl-js/style-spec/types/#resolvedimage) for use in [`icon-image`](/mapbox-gl-js/style-spec/layers/#layout-symbol-icon-image), `*-pattern` entries, and as a section in the [`'format'`](#types-format) expression. A [`'coalesce'`](#coalesce) expression containing `image` expressions will evaluate to the first listed image that is currently in the style. This validation process is synchronous and requires the image to have been added to the style before requesting it in the `'image'` argument.",group:"Types","sdk-support":{"basic functionality":{js:"1.4.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},"number-format":{doc:"Converts the input number into a string representation using the providing formatting rules. If set, the `locale` argument specifies the locale to use, as a BCP 47 language tag. If set, the `currency` argument specifies an ISO 4217 code to use for currency-style formatting. If set, the `min-fraction-digits` and `max-fraction-digits` arguments specify the minimum and maximum number of fractional digits to include.",group:"Types","sdk-support":{"basic functionality":{js:"0.54.0",android:"8.4.0",ios:"5.4.0",macos:"0.15.0"}}},"to-string":{doc:'Converts the input value to a string. If the input is `null`, the result is `""`. If the input is a [`boolean`](#types-boolean), the result is `"true"` or `"false"`. If the input is a number, it is converted to a string as specified by the ["NumberToString" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a [`color`](#color), it is converted to a string of the form `"rgba(r,g,b,a)"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. If the input is an [`\'image\'`](#types-image) expression, `\'to-string\'` returns the image name. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-number":{doc:'Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the ["ToNumber Applied to the String Type" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-boolean":{doc:"Converts the input value to a boolean. The result is `false` when then input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-rgba":{doc:"Returns a four-element array containing the input color's red, green, blue, and alpha components, in that order.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-color":{doc:"Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgb:{doc:"Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgba:{doc:"Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},get:{doc:"Retrieves a property value from the current feature's properties, or from another object if a second argument is provided. Returns `null` if the requested property is missing.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},has:{doc:"Tests for the presence of an property value in the current feature's properties, or from another object if a second argument is provided.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},length:{doc:"Returns the length of an array or string.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},properties:{doc:'Returns the feature properties object.  Note that in some cases, it may be more efficient to use `["get", "property_name"]` directly.',group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"feature-state":{doc:"Retrieves a property value from the current feature's state. Returns `null` if the requested property is not present on the feature's state. A feature's state is not part of the GeoJSON or vector tile data, and must be set programmatically on each feature. Features are identified by their `id` attribute, which must be an integer or a string that can be cast to an integer. Note that [\"feature-state\"] can only be used with paint properties that support data-driven styling.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.46.0"}}},"geometry-type":{doc:"Returns the feature's geometry type: `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`. `Multi*` feature types are only returned in GeoJSON sources. When working with vector tile sources, use the singular forms.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},id:{doc:"Returns the feature's id, if it has one.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},zoom:{doc:'Returns the current zoom level.  Note that in style layout and paint properties, ["zoom"] may only appear as the input to a top-level "step" or "interpolate" expression.',group:"Camera","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pitch:{doc:'Returns the current pitch in degrees. `["pitch"]` may only be used in the `filter` expression for a `symbol` layer.',group:"Camera","sdk-support":{"basic functionality":{js:"2.6.0"}}},"distance-from-center":{doc:'Returns the distance of a `symbol` instance from the center of the map. The distance is measured in pixels divided by the height of the map container. It measures 0 at the center, decreases towards the camera and increase away from the camera. For example, if the height of the map is 1000px, a value of -1 means 1000px away from the center towards the camera, and a value of 1 means a distance of 1000px away from the camera from the center. `["distance-from-center"]` may only be used in the `filter` expression for a `symbol` layer.',group:"Camera","sdk-support":{"basic functionality":{js:"2.6.0"}}},"heatmap-density":{doc:"Returns the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.",group:"Heatmap","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"line-progress":{doc:"Returns the progress along a gradient line. Can only be used in the `line-gradient` property.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.6.0",macos:"0.12.0"}}},"sky-radial-progress":{doc:"Returns the distance of a point on the sky from the sun position. Returns 0 at sun position and 1 when the distance reaches `sky-gradient-radius`. Can only be used in the `sky-gradient` property.",group:"sky","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}},accumulated:{doc:"Returns the value of a cluster property accumulated so far. Can only be used in the `clusterProperties` option of a clustered GeoJSON source.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.53.0",android:"8.4.0",ios:"5.5.0",macos:"0.15.0"}}},"+":{doc:"Returns the sum of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"*":{doc:"Returns the product of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"-":{doc:"For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"/":{doc:"Returns the result of floating point division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"%":{doc:"Returns the remainder after integer division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"^":{doc:"Returns the result of raising the first input to the power specified by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sqrt:{doc:"Returns the square root of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log10:{doc:"Returns the base-ten logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ln:{doc:"Returns the natural logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log2:{doc:"Returns the base-two logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sin:{doc:"Returns the sine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},cos:{doc:"Returns the cosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},tan:{doc:"Returns the tangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},asin:{doc:"Returns the arcsine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},acos:{doc:"Returns the arccosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},atan:{doc:"Returns the arctangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},min:{doc:"Returns the minimum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},max:{doc:"Returns the maximum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},round:{doc:'Rounds the input to the nearest integer. Halfway values are rounded away from zero. For example, `["round", -1.5]` evaluates to -2.',group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},abs:{doc:"Returns the absolute value of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ceil:{doc:"Returns the smallest integer that is greater than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},floor:{doc:"Returns the largest integer that is less than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},distance:{doc:"Returns the shortest distance in meters between the evaluated feature and the input geometry. The input value can be a valid GeoJSON of type `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Distance values returned may vary in precision due to loss in precision from encoding geometries, particularly below zoom level 13.",group:"Math","sdk-support":{"basic functionality":{android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}}},"==":{doc:"Returns `true` if the input values are equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"!=":{doc:"Returns `true` if the input values are not equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">":{doc:"Returns `true` if the first input is strictly greater than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<":{doc:"Returns `true` if the first input is strictly less than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">=":{doc:"Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<=":{doc:"Returns `true` if the first input is less than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},all:{doc:"Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},any:{doc:"Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"!":{doc:"Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},within:{doc:"Returns `true` if the evaluated feature is fully contained inside a boundary of the input geometry, `false` otherwise. The input value can be a valid GeoJSON of type `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Supported features for evaluation:\n- `Point`: Returns `false` if a point is on the boundary or falls outside the boundary.\n- `LineString`: Returns `false` if any part of a line falls outside the boundary, the line intersects the boundary, or a line's endpoint is on the boundary.",group:"Decision","sdk-support":{"basic functionality":{js:"1.9.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"is-supported-script":{doc:"Returns `true` if the input string is expected to render legibly. Returns `false` if the input string contains sections that cannot be rendered without potential loss of meaning (e.g. Indic scripts that require complex text shaping, or right-to-left scripts if the the `mapbox-gl-rtl-text` plugin is not in use in Mapbox GL JS).",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.6.0"}}},upcase:{doc:"Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},downcase:{doc:"Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},concat:{doc:"Returns a `string` consisting of the concatenation of the inputs. Each input is converted to a string as if by `to-string`.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"resolved-locale":{doc:"Returns the IETF language tag of the locale being used by the provided `collator`. This can be used to determine the default system locale, or to determine if a requested locale was successfully loaded.",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}}}},fog:{range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"The start and end distance range in which fog fades from fully transparent to fully opaque. The distance to the point at the center of the map is defined as zero, so that negative range values are closer to the camera, and positive values are farther away.",example:[.5,10],"sdk-support":{"basic functionality":{js:"2.3.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The color of the fog. Using opacity is recommended only for smoothly transitioning fog on/off as anything less than 100% opacity results in more tiles loaded and drawn.","sdk-support":{"basic functionality":{js:"2.3.0"}}},"horizon-blend":{type:"number","property-type":"data-constant",default:.1,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Horizon blend applies a smooth fade from the color of the fog to the color of the sky. A value of zero leaves a sharp transition from fog to sky. Increasing the value blends the color of fog into increasingly high angles of the sky.","sdk-support":{"basic functionality":{js:"2.3.0"}}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{doc:"The position of the light source is aligned to the rotation of the map."},viewport:{doc:"The position of the light source is aligned to the rotation of the viewport."}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},doc:"Whether extruded geometries are lit relative to the map or viewport.",example:"map","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0° (0° when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0° when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0°, directly above, to 180°, directly below).",example:[1.5,90,80],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Color tint for lighting extruded geometries.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},projection:{name:{type:"enum",values:{albers:{doc:"An Albers equal-area projection centered on the continental United States. You can configure the projection for a different region by setting `center` and `parallels` properties. You may want to set max bounds to constrain the map to the relevant region."},equalEarth:{doc:"An Equal Earth projection."},equirectangular:{doc:"An Equirectangular projection. This projection is very similar to the Plate Carrée projection."},lambertConformalConic:{doc:"A Lambert conformal conic projection. You can configure the projection for a region by setting `center` and `parallels` properties. You may want to set max bounds to constrain the map to the relevant region."},mercator:{doc:"The Mercator projection is the default projection."},naturalEarth:{doc:"A Natural Earth projection."},winkelTripel:{doc:"A Winkel Tripel projection."}},default:"mercator",doc:"The name of the projection to be used for rendering the map.",required:!0,"sdk-support":{"basic functionality":{js:"2.6.0"}}},center:{type:"array",length:2,value:"number","property-type":"data-constant",transition:!1,doc:"The reference longitude and latitude of the projection. `center` takes the form of [lng, lat]. This property is only configurable for conic projections (Albers and Lambert Conformal Conic). All other projections are centered on [0, 0].",example:[-96,37.5],requires:[{name:["albers","lambertConformalConic"]}],"sdk-support":{"basic functionality":{js:"2.6.0"}}},parallels:{type:"array",length:2,value:"number","property-type":"data-constant",transition:!1,doc:"The standard parallels of the projection, denoting the desired latitude range with minimal distortion. `parallels` takes the form of [lat0, lat1]. This property is only configurable for conic projections (Albers and Lambert Conformal Conic).",example:[29.5,45.5],requires:[{name:["albers","lambertConformalConic"]}],"sdk-support":{"basic functionality":{js:"2.6.0"}}}},terrain:{source:{type:"string",doc:"Name of a source of `raster_dem` type to be used for terrain elevation.",required:!0,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Exaggerates the elevation of the terrain by multiplying the data from the DEM with this value.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,doc:"Whether or not the fill should be antialiased.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill layer. In contrast to the `fill-color`, this value will also affect the 1px stroke around the fill, if the stroke is used.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",doc:"The color of the filled part of this layer. This color can be specified as `rgba` with an alpha component and the color's opacity will not affect the opacity of the 1px stroke, if it is used.",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{doc:"The fill is translated relative to the map."},viewport:{doc:"The fill is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-translate`.",default:"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill extrusion layer. This is rendered on a per-layer, not per-feature, basis, and data-driven styling is not available.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",doc:"The base color of the extruded fill. The extrusion's surfaces will be shaded differently based on this color in combination with the root `light` settings. If this color is specified as `rgba` with an alpha component, the alpha component will be ignored; use `fill-extrusion-opacity` to set layer opacity.",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up (on the flat plane), respectively.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{doc:"The fill extrusion is translated relative to the map."},viewport:{doc:"The fill extrusion is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-extrusion-translate`.",default:"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing images on extruded fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude this layer.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude the base of this layer. Must be less than or equal to `fill-extrusion-height`.",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,doc:"Whether to apply a vertical gradient to the sides of a fill-extrusion layer. If true, sides will be shaded slightly darker farther down.",transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",android:"7.0.0",ios:"4.7.0",macos:"0.13.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",doc:"The color with which the line will be drawn.",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{doc:"The line is translated relative to the map."},viewport:{doc:"The line is translated relative to the viewport."}},doc:"Controls the frame of reference for `line-translate`.",default:"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",doc:"Stroke thickness.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,doc:"The line's offset. For linear features, a positive value offsets the line to the right, relative to the direction of the line, and a negative value to the left. For polygon features, a positive value results in an inset, and a negative value results in an outset.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width. Note that GeoJSON sources with `lineMetrics: true` specified won't render dashed lines to the expected scale. Also note that zoom-dependent expressions will be evaluated only at integer zoom levels.",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",doc:'Defines a gradient with which to color a line feature. Can only be used with GeoJSON sources that specify `"lineMetrics": true`.',transition:!1,requires:[{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0",macos:"0.11.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",doc:"Circle radius.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",doc:"The fill color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{doc:"The circle is translated relative to the map."},viewport:{doc:"The circle is translated relative to the viewport."}},doc:"Controls the frame of reference for `circle-translate`.",default:"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{doc:"Circles are scaled according to their apparent distance to the camera."},viewport:{doc:"Circles are not scaled."}},default:"map",doc:"Controls the scaling behavior of the circle when the map is pitched.","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{doc:"The circle is aligned to the plane of the map."},viewport:{doc:"The circle is aligned to the plane of the viewport."}},default:"viewport",doc:"Orientation of circle when map is pitched.","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The width of the circle's stroke. Strokes are placed outside of the `circle-radius`.","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",doc:"The stroke color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",doc:"The opacity of the circle's stroke.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",doc:"Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed. `queryRenderedFeatures` on heatmap layers will return points within this radius.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,doc:"A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,doc:"Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],doc:'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.',transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",doc:"The global opacity at which the heatmap layer will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{doc:"The opacity at which the icon will be drawn.",type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,doc:"The color of the icon. This can only be used with [SDF icons](/help/troubleshooting/using-recolorable-images-in-mapbox-maps/).",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with [SDF icons](/help/troubleshooting/using-recolorable-images-in-mapbox-maps/).",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the icon outline.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{doc:"Icons are translated relative to the map."},viewport:{doc:"Icons are translated relative to the viewport."}},doc:"Controls the frame of reference for `icon-translate`.",default:"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",doc:"The opacity at which the text will be drawn.",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",doc:"The color with which the text will be drawn.",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{doc:"The text is translated relative to the map."},viewport:{doc:"The text is translated relative to the viewport."}},doc:"Controls the frame of reference for `text-translate`.",default:"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",doc:"Rotates hues around the color wheel.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.",default:0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",doc:"The resampling/interpolation method to use for overscaling, also known as texture magnification filter",values:{linear:{doc:"(Bi)linear filtering interpolates pixel values using the weighted average of the four closest original source pixels creating a smooth but blurry look when overscaled"},nearest:{doc:"Nearest neighbor filtering interpolates pixel values using the nearest original source pixel creating a sharp but pixelated look when overscaled"}},default:"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0",macos:"0.9.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",doc:"Fade duration when a new tile is added.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,doc:"The direction of the light source used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`.",transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{doc:"The hillshade illumination is relative to the north direction."},viewport:{doc:"The hillshade illumination is relative to the top of the viewport."}},default:"viewport",doc:"Direction of light source when map is rotated.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",doc:"Intensity of the hillshade",default:.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",doc:"The shading color of areas that face away from the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",doc:"The shading color of areas that faces towards the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",doc:"The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",doc:"The color with which the background will be drawn.",transition:!0,requires:[{"!":"background-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{doc:"Renders the sky with a gradient that can be configured with `sky-gradient-radius` and `sky-gradient`."},atmosphere:{doc:"Renders the sky with a simulated atmospheric scattering algorithm, the sun direction can be attached to the light position or explicitly set through `sky-atmosphere-sun`."}},default:"atmosphere",doc:"The type of the sky","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,doc:"Position of the sun center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the sun relative to 0° north, where degrees proceed clockwise. The polar angle indicates the height of the sun, where 0° is directly above, at zenith, and 90° at the horizon. When this property is ommitted, the sun center is directly inherited from the light position.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,doc:"Intensity of the sun as a light source in the atmosphere (on a scale from 0 to a 100). Setting higher values will brighten up the sky.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,doc:"Position of the gradient center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the gradient center relative to 0° north, where degrees proceed clockwise. The polar angle indicates the height of the gradient center, where 0° is directly above, at zenith, and 90° at the horizon.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,doc:"The angular distance (measured in degrees) from `sky-gradient-center` up to which the gradient extends. A value of 180 causes the gradient to wrap around to the opposite direction from `sky-gradient-center`.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],doc:"Defines a radial color gradient with which to color the sky. The color values can be interpolated with an expression using `sky-radial-progress`. The range [0, 1] for the interpolant covers a radial distance (in degrees) of [0, `sky-gradient-radius`] centered at the position specified by `sky-gradient-center`.",transition:!1,requires:[{"sky-type":"gradient"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",doc:"A color applied to the atmosphere sun halo. The alpha channel describes how strongly the sun halo is represented in an atmosphere sky layer.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",doc:"A color used to tweak the main atmospheric scattering coefficients. Using white applies the default coefficients giving the natural blue color to the atmosphere. This color affects how heavily the corresponding wavelength is represented during scattering. The alpha channel describes the density of the atmosphere, with 1 maximum density and 0 no density.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire sky layer.",transition:!0,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number",default:0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}},"property-type":{"data-driven":{type:"property-type",doc:"Property is interpolable and can be represented using a property expression."},"cross-faded":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms."},"cross-faded-data-driven":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms. It can be represented using a property expression."},"color-ramp":{type:"property-type",doc:"Property should be specified using a color ramp from which the output color can be sampled based on a property calculation."},"data-constant":{type:"property-type",doc:"Property is interpolable but cannot be represented using a property expression."},constant:{type:"property-type",doc:"Property is constant across all zoom levels and property values."}},promoteId:{"*":{type:"string",doc:"A name of a feature property to use as ID for feature state."}}},o=/("(?:[^\\"]|\\.)*")|[:,]/g;function a(e,t){const r={};for(const n in t)void 0!==e[n]&&(r[n]=e[n]);for(const t in e)void 0===r[t]&&(r[t]=e[t]);return r}function s(e,t=2){return(e=a(e,i.$root)).layers&&(e.layers=e.layers.map(e=>a(e,i.layer))),r=e,n=(n={indent:t})||{},s=JSON.stringify([1],void 0,void 0===n.indent?2:n.indent).slice(2,-3),l=""===s?1/0:void 0===n.maxLength?80:n.maxLength,_=n.replacer,function e(t,r,n){var i,a,u,c,p,d,h,f,m,y,g,b;if(t&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0===(g=JSON.stringify(t,_)))return g;if(h=l-r.length-n,g.length<=h&&(m=g.replace(o,(function(e,t){return t||e+" "}))).length<=h)return m;if(null!=_&&(t=JSON.parse(g),_=void 0),"object"==typeof t&&null!==t){if(f=r+s,u=[],a=0,Array.isArray(t))for(y="[",i="]",h=t.length;a<h;a++)u.push(e(t[a],f,a===h-1?0:1)||"null");else for(y="{",i="}",h=(d=Object.keys(t)).length;a<h;a++)c=d[a],p=JSON.stringify(c)+": ",void 0!==(b=e(t[c],f,p.length+(a===h-1?0:1)))&&u.push(p+b);if(u.length>0)return[y,s+u.join(",\n"+f),i].join("\n"+r)}return g}(r,"",0);var r,n,s,l,_}var l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function _(e){var t={exports:{}};return e(t,t.exports),t.exports}function u(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets option of @rollup/plugin-commonjs appropriately for this require call to behave properly.')}
/*! https://mths.be/punycode v1.3.2 by @mathias */var c=_((function(e,t){!function(r){var n=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,o="object"==typeof l&&l;o.global!==o&&o.window!==o&&o.self!==o||(r=o);var a,s,_=2147483647,u=/^xn--/,c=/[^\x20-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,f=String.fromCharCode;function m(e){throw RangeError(d[e])}function y(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function g(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+y((e=e.replace(p,".")).split("."),t).join(".")}function b(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function v(e){return y(e,(function(e){var t="";return e>65535&&(t+=f((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=f(e)})).join("")}function E(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function O(e,t,r){var n=0;for(e=r?h(e/700):e>>1,e+=h(e/t);e>455;n+=36)e=h(e/35);return h(n+36*e/(e+38))}function M(e){var t,r,n,i,o,a,s,l,u,c,p,d=[],f=e.length,y=0,g=128,b=72;for((r=e.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&m("not-basic"),d.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<f;){for(o=y,a=1,s=36;i>=f&&m("invalid-input"),((l=(p=e.charCodeAt(i++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:36)>=36||l>h((_-y)/a))&&m("overflow"),y+=l*a,!(l<(u=s<=b?1:s>=b+26?26:s-b));s+=36)a>h(_/(c=36-u))&&m("overflow"),a*=c;b=O(y-o,t=d.length+1,0==o),h(y/t)>_-g&&m("overflow"),g+=h(y/t),y%=t,d.splice(y++,0,g)}return v(d)}function P(e){var t,r,n,i,o,a,s,l,u,c,p,d,y,g,v,M=[];for(d=(e=b(e)).length,t=128,r=0,o=72,a=0;a<d;++a)(p=e[a])<128&&M.push(f(p));for(n=i=M.length,i&&M.push("-");n<d;){for(s=_,a=0;a<d;++a)(p=e[a])>=t&&p<s&&(s=p);for(s-t>h((_-r)/(y=n+1))&&m("overflow"),r+=(s-t)*y,t=s,a=0;a<d;++a)if((p=e[a])<t&&++r>_&&m("overflow"),p==t){for(l=r,u=36;!(l<(c=u<=o?1:u>=o+26?26:u-o));u+=36)v=l-c,g=36-c,M.push(f(E(c+v%g,0))),l=h(v/g);M.push(f(E(l,0))),o=O(r,y,n==i),r=0,++n}++r,++t}return M.join("")}if(a={version:"1.3.2",ucs2:{decode:b,encode:v},decode:M,encode:P,toASCII:function(e){return g(e,(function(e){return c.test(e)?"xn--"+P(e):e}))},toUnicode:function(e){return g(e,(function(e){return u.test(e)?M(e.slice(4).toLowerCase()):e}))}},n&&i)if(e.exports==n)i.exports=a;else for(s in a)a.hasOwnProperty(s)&&(n[s]=a[s]);else r.punycode=a}(l)})),p=function(e){return"string"==typeof e},d=function(e){return"object"==typeof e&&null!==e},h=function(e){return null===e},f=function(e){return null==e};function m(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var y=function(e,t,r,n){t=t||"&",r=r||"=";var i={};if("string"!=typeof e||0===e.length)return i;var o=/\+/g;e=e.split(t);var a=1e3;n&&"number"==typeof n.maxKeys&&(a=n.maxKeys);var s=e.length;a>0&&s>a&&(s=a);for(var l=0;l<s;++l){var _,u,c,p,d=e[l].replace(o,"%20"),h=d.indexOf(r);h>=0?(_=d.substr(0,h),u=d.substr(h+1)):(_=d,u=""),c=decodeURIComponent(_),p=decodeURIComponent(u),m(i,c)?Array.isArray(i[c])?i[c].push(p):i[c]=[i[c],p]:i[c]=p}return i},g=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},b=function(e,t,r,n){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(n){var i=encodeURIComponent(g(n))+r;return Array.isArray(e[n])?e[n].map((function(e){return i+encodeURIComponent(g(e))})).join(t):i+encodeURIComponent(g(e[n]))})).join(t):n?encodeURIComponent(g(n))+r+encodeURIComponent(g(e)):""},v=_((function(e,t){t.decode=t.parse=y,t.encode=t.stringify=b})),E=K,O=function(e,t){return K(e,!1,!0).resolve(t)},M=function(e,t){return e?K(e,!1,!0).resolveObject(t):t},P=function(e){p(e)&&(e=K(e));return e instanceof w?e.format():w.prototype.format.call(e)},x=w;function w(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var C=/^([a-z0-9.+-]+:)/i,D=/:[0-9]*$/,T=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,k=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),A=["'"].concat(k),I=["%","/","?",";","#"].concat(A),L=["/","?","#"],R=/^[+a-z0-9A-Z_-]{0,63}$/,S=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,B={javascript:!0,"javascript:":!0},U={javascript:!0,"javascript:":!0},W={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function K(e,t,r){if(e&&d(e)&&e instanceof w)return e;var n=new w;return n.parse(e,t,r),n}w.prototype.parse=function(e,t,r){if(!p(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),i=-1!==n&&n<e.indexOf("#")?"?":"#",o=e.split(i);o[0]=o[0].replace(/\\/g,"/");var a=e=o.join(i);if(a=a.trim(),!r&&1===e.split("#").length){var s=T.exec(a);if(s)return this.path=a,this.href=a,this.pathname=s[1],s[2]?(this.search=s[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var l=C.exec(a);if(l){var _=(l=l[0]).toLowerCase();this.protocol=_,a=a.substr(l.length)}if(r||l||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var u="//"===a.substr(0,2);!u||l&&U[l]||(a=a.substr(2),this.slashes=!0)}if(!U[l]&&(u||l&&!W[l])){for(var d,h,f=-1,m=0;m<L.length;m++){-1!==(y=a.indexOf(L[m]))&&(-1===f||y<f)&&(f=y)}-1!==(h=-1===f?a.lastIndexOf("@"):a.lastIndexOf("@",f))&&(d=a.slice(0,h),a=a.slice(h+1),this.auth=decodeURIComponent(d)),f=-1;for(m=0;m<I.length;m++){var y;-1!==(y=a.indexOf(I[m]))&&(-1===f||y<f)&&(f=y)}-1===f&&(f=a.length),this.host=a.slice(0,f),a=a.slice(f),this.parseHost(),this.hostname=this.hostname||"";var g="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!g)for(var b=this.hostname.split(/\./),E=(m=0,b.length);m<E;m++){var O=b[m];if(O&&!O.match(R)){for(var M="",P=0,x=O.length;P<x;P++)O.charCodeAt(P)>127?M+="x":M+=O[P];if(!M.match(R)){var w=b.slice(0,m),D=b.slice(m+1),k=O.match(S);k&&(w.push(k[1]),D.unshift(k[2])),D.length&&(a="/"+D.join(".")+a),this.hostname=w.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),g||(this.hostname=c.toASCII(this.hostname));var K=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+K,this.href+=this.host,g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!B[_])for(m=0,E=A.length;m<E;m++){var z=A[m];if(-1!==a.indexOf(z)){var F=encodeURIComponent(z);F===z&&(F=escape(z)),a=a.split(z).join(F)}}var q=a.indexOf("#");-1!==q&&(this.hash=a.substr(q),a=a.slice(0,q));var N=a.indexOf("?");if(-1!==N?(this.search=a.substr(N),this.query=a.substr(N+1),t&&(this.query=v.parse(this.query)),a=a.slice(0,N)):t&&(this.search="",this.query={}),a&&(this.pathname=a),W[_]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){K=this.pathname||"";var H=this.search||"";this.path=K+H}return this.href=this.format(),this},w.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&d(this.query)&&Object.keys(this.query).length&&(o=v.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||W[t])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),t+i+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+n},w.prototype.resolve=function(e){return this.resolveObject(K(e,!1,!0)).format()},w.prototype.resolveObject=function(e){if(p(e)){var t=new w;t.parse(e,!1,!0),e=t}for(var r=new w,n=Object.keys(this),i=0;i<n.length;i++){var o=n[i];r[o]=this[o]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),s=0;s<a.length;s++){var l=a[s];"protocol"!==l&&(r[l]=e[l])}return W[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!W[e.protocol]){for(var _=Object.keys(e),u=0;u<_.length;u++){var c=_[u];r[c]=e[c]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||U[e.protocol])r.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var m=r.pathname||"",y=r.search||"";r.path=m+y}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var g=r.pathname&&"/"===r.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),v=b||g||r.host&&e.pathname,E=v,O=r.pathname&&r.pathname.split("/")||[],M=(d=e.pathname&&e.pathname.split("/")||[],r.protocol&&!W[r.protocol]);if(M&&(r.hostname="",r.port=null,r.host&&(""===O[0]?O[0]=r.host:O.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),v=v&&(""===d[0]||""===O[0])),b)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,O=d;else if(d.length)O||(O=[]),O.pop(),O=O.concat(d),r.search=e.search,r.query=e.query;else if(!f(e.search)){if(M)r.hostname=r.host=O.shift(),(T=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=T.shift(),r.host=r.hostname=T.shift());return r.search=e.search,r.query=e.query,h(r.pathname)&&h(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!O.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var P=O.slice(-1)[0],x=(r.host||e.host||O.length>1)&&("."===P||".."===P)||""===P,C=0,D=O.length;D>=0;D--)"."===(P=O[D])?O.splice(D,1):".."===P?(O.splice(D,1),C++):C&&(O.splice(D,1),C--);if(!v&&!E)for(;C--;C)O.unshift("..");!v||""===O[0]||O[0]&&"/"===O[0].charAt(0)||O.unshift(""),x&&"/"!==O.join("/").substr(-1)&&O.push("");var T,k=""===O[0]||O[0]&&"/"===O[0].charAt(0);M&&(r.hostname=r.host=k?"":O.length?O.shift():"",(T=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=T.shift(),r.host=r.hostname=T.shift()));return(v=v||r.host&&O.length)&&!k&&O.unshift(""),O.length?r.pathname=O.join("/"):(r.pathname=null,r.path=null),h(r.pathname)&&h(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},w.prototype.parseHost=function(){var e=this.host,t=D.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};var j={parse:E,resolve:O,resolveObject:M,format:P,Url:x};function z(e){for(let t=0;t<i.layout.length;t++)for(const r in i[i.layout[t]])if(r===e)return i[i.layout[t]][r];for(let t=0;t<i.paint.length;t++)for(const r in i[i.paint[t]])if(r===e)return i[i.paint[t]][r];return null}function F(e,t){for(const r in e.sources)t(e.sources[r])}function q(e,t){for(const r of e.layers)t(r)}function N(e,t,r){function n(e,t){const n=e[t];n&&Object.keys(n).forEach(i=>{r({path:[e.id,t,i],key:i,value:n[i],reference:z(i),set(e){n[i]=e}})})}q(e,e=>{t.paint&&n(e,"paint"),t.layout&&n(e,"layout")})}function H(e,t){for(const r in e)0===r.indexOf("layout")&&t(e[r],r)}function G(e,t){for(const r in e)0===r.indexOf("paint")&&t(e[r],r)}function V(e,t){return"string"==typeof t&&"@"===t[0]?V(e,e.constants[t]):t}function Z(e,t,r){e[r]=e[t],delete e[t]}function X(e){e.version=8,F(e,e=>{"video"===e.type&&void 0!==e.url&&Z(e,"url","urls"),"video"===e.type&&e.coordinates.forEach(e=>e.reverse())}),q(e,e=>{H(e,e=>{void 0!==e["symbol-min-distance"]&&Z(e,"symbol-min-distance","symbol-spacing")}),G(e,e=>{void 0!==e["background-image"]&&Z(e,"background-image","background-pattern"),void 0!==e["line-image"]&&Z(e,"line-image","line-pattern"),void 0!==e["fill-image"]&&Z(e,"fill-image","fill-pattern")})}),N(e,{paint:!0,layout:!0},t=>{const r=V(e,t.value);(function(e){return Array.isArray(e.stops)})(r)&&r.stops.forEach(t=>{t[1]=V(e,t[1])}),t.set(r)}),delete e.constants,q(e,e=>{H(e,e=>{delete e["text-max-size"],delete e["icon-max-size"]}),G(e,t=>{t["text-size"]&&(e.layout||(e.layout={}),e.layout["text-size"]=t["text-size"],delete t["text-size"]),t["icon-size"]&&(e.layout||(e.layout={}),e.layout["icon-size"]=t["icon-size"],delete t["icon-size"])})}),e.glyphs&&(e.glyphs=function(e){const t=j.parse(e),r=t.pathname.split("/");return"mapbox:"!==t.protocol?e:"fontstack"===t.hostname?"mapbox://fonts/mapbox/{fontstack}/{range}.pbf":"fonts"===t.hostname?`mapbox://fonts/${r[2]}/{fontstack}/{range}.pbf`:void 0}(e.glyphs)),q(e,e=>{H(e,e=>{e["text-font"]&&(e["text-font"]=function(e){function t(e){return e.split(",").map(e=>e.trim())}if(Array.isArray(e))return e;if("string"==typeof e)return t(e);if("object"==typeof e)return e.stops.forEach(e=>{e[1]=t(e[1])}),e;throw new Error("unexpected font value")}(e["text-font"]))})});let t=0;for(let r=e.layers.length-1;r>=0;r--){if("symbol"!==e.layers[r].type){t=r+1;break}}const r=e.layers.splice(t);return r.reverse(),e.layers=e.layers.concat(r),e}function $(e,...t){for(const r of t)for(const t in r)e[t]=r[t];return e}class Y extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}class J{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[e,r]of t)this.bindings[e]=r}concat(e){return new J(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}const Q={kind:"null"},ee={kind:"number"},te={kind:"string"},re={kind:"boolean"},ne={kind:"color"},ie={kind:"object"},oe={kind:"value"},ae={kind:"collator"},se={kind:"formatted"},le={kind:"resolvedImage"};function _e(e,t){return{kind:"array",itemType:e,N:t}}function ue(e){if("array"===e.kind){const t=ue(e.itemType);return"number"==typeof e.N?`array<${t}, ${e.N}>`:"value"===e.itemType.kind?"array":`array<${t}>`}return e.kind}const ce=[Q,ee,te,re,ne,se,ie,_e(oe),le];function pe(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!pe(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(const e of ce)if(!pe(e,t))return null}return`Expected ${ue(e)} but found ${ue(t)} instead.`}function de(e,t){return t.some(t=>t.kind===e.kind)}function he(e,t){return t.some(t=>"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e)}var fe=_((function(e,t){var r={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(e){return(e=Math.round(e))<0?0:e>255?255:e}function i(e){return e<0?0:e>1?1:e}function o(e){return"%"===e[e.length-1]?n(parseFloat(e)/100*255):n(parseInt(e))}function a(e){return"%"===e[e.length-1]?i(parseFloat(e)/100):i(parseFloat(e))}function s(e,t,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?e+(t-e)*r*6:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}try{t.parseCSSColor=function(e){var t,i=e.replace(/ /g,"").toLowerCase();if(i in r)return r[i].slice();if("#"===i[0])return 4===i.length?(t=parseInt(i.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===i.length&&(t=parseInt(i.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var l=i.indexOf("("),_=i.indexOf(")");if(-1!==l&&_+1===i.length){var u=i.substr(0,l),c=i.substr(l+1,_-(l+1)).split(","),p=1;switch(u){case"rgba":if(4!==c.length)return null;p=a(c.pop());case"rgb":return 3!==c.length?null:[o(c[0]),o(c[1]),o(c[2]),p];case"hsla":if(4!==c.length)return null;p=a(c.pop());case"hsl":if(3!==c.length)return null;var d=(parseFloat(c[0])%360+360)%360/360,h=a(c[1]),f=a(c[2]),m=f<=.5?f*(h+1):f+h-f*h,y=2*f-m;return[n(255*s(y,m,d+1/3)),n(255*s(y,m,d)),n(255*s(y,m,d-1/3)),p];default:return null}}return null}}catch(e){}}));class me{constructor(e,t,r,n=1){this.r=e,this.g=t,this.b=r,this.a=n}static parse(e){if(!e)return;if(e instanceof me)return e;if("string"!=typeof e)return;const t=fe.parseCSSColor(e);return t?new me(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3]):void 0}toString(){const[e,t,r,n]=this.toArray();return`rgba(${Math.round(e)},${Math.round(t)},${Math.round(r)},${n})`}toArray(){const{r:e,g:t,b:r,a:n}=this;return 0===n?[0,0,0,0]:[255*e/n,255*t/n,255*r/n,n]}}me.black=new me(0,0,0,1),me.white=new me(1,1,1,1),me.transparent=new me(0,0,0,0),me.red=new me(1,0,0,1),me.blue=new me(0,0,1,1);class ye{constructor(e,t,r){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class ge{constructor(e,t,r,n,i){this.text=e.normalize?e.normalize():e,this.image=t,this.scale=r,this.fontStack=n,this.textColor=i}}class be{constructor(e){this.sections=e}static fromString(e){return new be([new ge(e,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(e=>0!==e.text.length||e.image&&0!==e.image.name.length)}static factory(e){return e instanceof be?e:be.fromString(e)}toString(){return 0===this.sections.length?"":this.sections.map(e=>e.text).join("")}serialize(){const e=["format"];for(const t of this.sections){if(t.image){e.push(["image",t.image.name]);continue}e.push(t.text);const r={};t.fontStack&&(r["text-font"]=["literal",t.fontStack.split(",")]),t.scale&&(r["font-scale"]=t.scale),t.textColor&&(r["text-color"]=["rgba"].concat(t.textColor.toArray())),e.push(r)}return e}}class ve{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new ve({name:e,available:!1}):null}serialize(){return["image",this.name]}}function Ee(e,t,r,n){if(!("number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof r&&r>=0&&r<=255)){return`Invalid rgba value [${("number"==typeof n?[e,t,r,n]:[e,t,r]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}return void 0===n||"number"==typeof n&&n>=0&&n<=1?null:`Invalid rgba value [${[e,t,r,n].join(", ")}]: 'a' must be between 0 and 1.`}function Oe(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof me)return!0;if(e instanceof ye)return!0;if(e instanceof be)return!0;if(e instanceof ve)return!0;if(Array.isArray(e)){for(const t of e)if(!Oe(t))return!1;return!0}if("object"==typeof e){for(const t in e)if(!Oe(e[t]))return!1;return!0}return!1}function Me(e){if(null===e)return Q;if("string"==typeof e)return te;if("boolean"==typeof e)return re;if("number"==typeof e)return ee;if(e instanceof me)return ne;if(e instanceof ye)return ae;if(e instanceof be)return se;if(e instanceof ve)return le;if(Array.isArray(e)){const t=e.length;let r;for(const t of e){const e=Me(t);if(r){if(r===e)continue;r=oe;break}r=e}return _e(r||oe,t)}return ie}function Pe(e){const t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof me||e instanceof be||e instanceof ve?e.toString():JSON.stringify(e)}class xe{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(2!==e.length)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!Oe(e[1]))return t.error("invalid value");const r=e[1];let n=Me(r);const i=t.expectedType;return"array"!==n.kind||0!==n.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(n=i),new xe(n,r)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof me?["rgba"].concat(this.value.toArray()):this.value instanceof be?this.value.serialize():this.value}}class we{constructor(e){this.name="ExpressionEvaluationError",this.message=e}toJSON(){return this.message}}const Ce={string:te,number:ee,boolean:re,object:ie};class De{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let r,n=1;const i=e[0];if("array"===i){let i,o;if(e.length>2){const r=e[1];if("string"!=typeof r||!(r in Ce)||"object"===r)return t.error('The item type argument of "array" must be one of string, number, boolean',1);i=Ce[r],n++}else i=oe;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);o=e[2],n++}r=_e(i,o)}else r=Ce[i];const o=[];for(;n<e.length;n++){const r=t.parse(e[n],n,oe);if(!r)return null;o.push(r)}return new De(r,o)}evaluate(e){for(let t=0;t<this.args.length;t++){const r=this.args[t].evaluate(e);if(!pe(this.type,Me(r)))return r;if(t===this.args.length-1)throw new we(`Expected value to be of type ${ue(this.type)}, but found ${ue(Me(r))} instead.`)}return null}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=this.type,t=[e.kind];if("array"===e.kind){const r=e.itemType;if("string"===r.kind||"number"===r.kind||"boolean"===r.kind){t.push(r.kind);const n=e.N;("number"==typeof n||this.args.length>1)&&t.push(n)}}return t.concat(this.args.map(e=>e.serialize()))}}class Te{constructor(e){this.type=se,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const r=e[1];if(!Array.isArray(r)&&"object"==typeof r)return t.error("First argument must be an image or text section.");const n=[];let i=!1;for(let r=1;r<=e.length-1;++r){const o=e[r];if(i&&"object"==typeof o&&!Array.isArray(o)){i=!1;let e=null;if(o["font-scale"]&&(e=t.parse(o["font-scale"],1,ee),!e))return null;let r=null;if(o["text-font"]&&(r=t.parse(o["text-font"],1,_e(te)),!r))return null;let a=null;if(o["text-color"]&&(a=t.parse(o["text-color"],1,ne),!a))return null;const s=n[n.length-1];s.scale=e,s.font=r,s.textColor=a}else{const o=t.parse(e[r],1,oe);if(!o)return null;const a=o.type.kind;if("string"!==a&&"value"!==a&&"null"!==a&&"resolvedImage"!==a)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,n.push({content:o,scale:null,font:null,textColor:null})}}return new Te(n)}evaluate(e){return new be(this.sections.map(t=>{const r=t.content.evaluate(e);return Me(r)===le?new ge("",r,null,null,null):new ge(Pe(r),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)}))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor)}outputDefined(){return!1}serialize(){const e=["format"];for(const t of this.sections){e.push(t.content.serialize());const r={};t.scale&&(r["font-scale"]=t.scale.serialize()),t.font&&(r["text-font"]=t.font.serialize()),t.textColor&&(r["text-color"]=t.textColor.serialize()),e.push(r)}return e}}class ke{constructor(e){this.type=le,this.input=e}static parse(e,t){if(2!==e.length)return t.error("Expected two arguments.");const r=t.parse(e[1],1,te);return r?new ke(r):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),r=ve.fromString(t);return r&&e.availableImages&&(r.available=e.availableImages.indexOf(t)>-1),r}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Ae={"to-boolean":re,"to-color":ne,"to-number":ee,"to-string":te};class Ie{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const r=e[0];if(("to-boolean"===r||"to-string"===r)&&2!==e.length)return t.error("Expected one argument.");const n=Ae[r],i=[];for(let r=1;r<e.length;r++){const n=t.parse(e[r],r,oe);if(!n)return null;i.push(n)}return new Ie(n,i)}evaluate(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){let t,r;for(const n of this.args){if(t=n.evaluate(e),r=null,t instanceof me)return t;if("string"==typeof t){const r=e.parseColor(t);if(r)return r}else if(Array.isArray(t)&&(r=t.length<3||t.length>4?`Invalid rbga value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:Ee(t[0],t[1],t[2],t[3]),!r))return new me(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new we(r||`Could not parse color from value '${"string"==typeof t?t:String(JSON.stringify(t))}'`)}if("number"===this.type.kind){let t=null;for(const r of this.args){if(t=r.evaluate(e),null===t)return 0;const n=Number(t);if(!isNaN(n))return n}throw new we(`Could not convert ${JSON.stringify(t)} to number.`)}return"formatted"===this.type.kind?be.fromString(Pe(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?ve.fromString(Pe(this.args[0].evaluate(e))):Pe(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){if("formatted"===this.type.kind)return new Te([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new ke(this.args[0]).serialize();const e=["to-"+this.type.kind];return this.eachChild(t=>{e.push(t.serialize())}),e}}const Le=["Unknown","Point","LineString","Polygon"];class Re{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?Le[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const e=this.featureDistanceData.center,t=this.featureDistanceData.scale,{x:r,y:n}=this.featureTileCoord,i=r*t-e[0],o=n*t-e[1];return this.featureDistanceData.bearing[0]*i+this.featureDistanceData.bearing[1]*o}return 0}parseColor(e){let t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=me.parse(e)),t}}class Se{constructor(e,t,r,n){this.name=e,this.type=t,this._evaluate=r,this.args=n}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(e=>e.serialize()))}static parse(e,t){const r=e[0],n=Se.definitions[r];if(!n)return t.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0);const i=Array.isArray(n)?n[0]:n.type,o=Array.isArray(n)?[[n[1],n[2]]]:n.overloads,a=o.filter(([t])=>!Array.isArray(t)||t.length===e.length-1);let s=null;for(const[n,o]of a){s=new it(t.registry,t.path,null,t.scope);const a=[];let l=!1;for(let t=1;t<e.length;t++){const r=e[t],i=Array.isArray(n)?n[t-1]:n.type,o=s.parse(r,1+a.length,i);if(!o){l=!0;break}a.push(o)}if(!l)if(Array.isArray(n)&&n.length!==a.length)s.error(`Expected ${n.length} arguments, but found ${a.length} instead.`);else{for(let e=0;e<a.length;e++){const t=Array.isArray(n)?n[e]:n.type,r=a[e];s.concat(e+1).checkSubtype(t,r.type)}if(0===s.errors.length)return new Se(r,i,o,a)}}if(1===a.length)t.errors.push(...s.errors);else{const r=(a.length?a:o).map(([e])=>{return t=e,Array.isArray(t)?`(${t.map(ue).join(", ")})`:`(${ue(t.type)}...)`;var t}).join(" | "),n=[];for(let r=1;r<e.length;r++){const i=t.parse(e[r],1+n.length);if(!i)return null;n.push(ue(i.type))}t.error(`Expected arguments of type ${r}, but found (${n.join(", ")}) instead.`)}return null}static register(e,t){Se.definitions=t;for(const r in t)e[r]=Se}}class Be{constructor(e,t,r){this.type=ae,this.locale=r,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(2!==e.length)return t.error("Expected one argument.");const r=e[1];if("object"!=typeof r||Array.isArray(r))return t.error("Collator options argument must be an object.");const n=t.parse(void 0!==r["case-sensitive"]&&r["case-sensitive"],1,re);if(!n)return null;const i=t.parse(void 0!==r["diacritic-sensitive"]&&r["diacritic-sensitive"],1,re);if(!i)return null;let o=null;return r.locale&&(o=t.parse(r.locale,1,te),!o)?null:new Be(n,i,o)}evaluate(e){return new ye(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}serialize(){const e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}function Ue(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function We(e,t){return!(e[0]<=t[0])&&(!(e[2]>=t[2])&&(!(e[1]<=t[1])&&!(e[3]>=t[3])))}function Ke(e,t){const r=(180+e[0])/360;const n=(i=e[1],(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+i*Math.PI/360)))/360);var i;const o=Math.pow(2,t.z);return[Math.round(r*o*8192),Math.round(n*o*8192)]}function je(e,t,r){const n=e[0]-t[0],i=e[1]-t[1],o=e[0]-r[0],a=e[1]-r[1];return n*a-o*i==0&&n*o<=0&&i*a<=0}function ze(e,t){let r=!1;for(let a=0,s=t.length;a<s;a++){const s=t[a];for(let t=0,a=s.length;t<a-1;t++){if(je(e,s[t],s[t+1]))return!1;n=e,i=s[t],o=s[t+1],i[1]>n[1]!=o[1]>n[1]&&n[0]<(o[0]-i[0])*(n[1]-i[1])/(o[1]-i[1])+i[0]&&(r=!r)}}var n,i,o;return r}function Fe(e,t){for(let r=0;r<t.length;r++)if(ze(e,t[r]))return!0;return!1}function qe(e,t,r,n){const i=e[0]-r[0],o=e[1]-r[1],a=t[0]-r[0],s=t[1]-r[1],l=n[0]-r[0],_=n[1]-r[1],u=i*_-l*o,c=a*_-l*s;return u>0&&c<0||u<0&&c>0}function Ne(e,t,r,n){const i=[t[0]-e[0],t[1]-e[1]],o=[n[0]-r[0],n[1]-r[1]];return 0!=(a=o)[0]*(s=i)[1]-a[1]*s[0]&&!(!qe(e,t,r,n)||!qe(r,n,e,t));var a,s}function He(e,t,r){for(const n of r)for(let r=0;r<n.length-1;++r)if(Ne(e,t,n[r],n[r+1]))return!0;return!1}function Ge(e,t){for(let r=0;r<e.length;++r)if(!ze(e[r],t))return!1;for(let r=0;r<e.length-1;++r)if(He(e[r],e[r+1],t))return!1;return!0}function Ve(e,t){for(let r=0;r<t.length;r++)if(Ge(e,t[r]))return!0;return!1}function Ze(e,t,r){const n=[];for(let i=0;i<e.length;i++){const o=[];for(let n=0;n<e[i].length;n++){const a=Ke(e[i][n],r);Ue(t,a),o.push(a)}n.push(o)}return n}function Xe(e,t,r){const n=[];for(let i=0;i<e.length;i++){const o=Ze(e[i],t,r);n.push(o)}return n}function $e(e,t,r,n){if(e[0]<r[0]||e[0]>r[2]){const t=.5*n;let i=e[0]-r[0]>t?-n:r[0]-e[0]>t?n:0;0===i&&(i=e[0]-r[2]>t?-n:r[2]-e[0]>t?n:0),e[0]+=i}Ue(t,e)}function Ye(e,t,r,n){const i=8192*Math.pow(2,n.z),o=[8192*n.x,8192*n.y],a=[];for(const n of e)for(const e of n){const n=[e.x+o[0],e.y+o[1]];$e(n,t,r,i),a.push(n)}return a}function Je(e,t,r,n){const i=8192*Math.pow(2,n.z),o=[8192*n.x,8192*n.y],a=[];for(const r of e){const e=[];for(const n of r){const r=[n.x+o[0],n.y+o[1]];Ue(t,r),e.push(r)}a.push(e)}if(t[2]-t[0]<=i/2){(s=t)[0]=s[1]=1/0,s[2]=s[3]=-1/0;for(const e of a)for(const n of e)$e(n,t,r,i)}var s;return a}class Qe{constructor(e,t){this.type=re,this.geojson=e,this.geometries=t}static parse(e,t){if(2!==e.length)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(Oe(e[1])){const t=e[1];if("FeatureCollection"===t.type)for(let e=0;e<t.features.length;++e){const r=t.features[e].geometry.type;if("Polygon"===r||"MultiPolygon"===r)return new Qe(t,t.features[e].geometry)}else if("Feature"===t.type){const e=t.geometry.type;if("Polygon"===e||"MultiPolygon"===e)return new Qe(t,t.geometry)}else if("Polygon"===t.type||"MultiPolygon"===t.type)return new Qe(t,t)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){const r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){const o=Ze(t.coordinates,n,i),a=Ye(e.geometry(),r,n,i);if(!We(r,n))return!1;for(const e of a)if(!ze(e,o))return!1}if("MultiPolygon"===t.type){const o=Xe(t.coordinates,n,i),a=Ye(e.geometry(),r,n,i);if(!We(r,n))return!1;for(const e of a)if(!Fe(e,o))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){const r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){const o=Ze(t.coordinates,n,i),a=Je(e.geometry(),r,n,i);if(!We(r,n))return!1;for(const e of a)if(!Ge(e,o))return!1}if("MultiPolygon"===t.type){const o=Xe(t.coordinates,n,i),a=Je(e.geometry(),r,n,i);if(!We(r,n))return!1;for(const e of a)if(!Ve(e,o))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}function et(e){if(e instanceof Se){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof Qe)return!1;let t=!0;return e.eachChild(e=>{t&&!et(e)&&(t=!1)}),t}function tt(e){if(e instanceof Se&&"feature-state"===e.name)return!1;let t=!0;return e.eachChild(e=>{t&&!tt(e)&&(t=!1)}),t}function rt(e,t){if(e instanceof Se&&t.indexOf(e.name)>=0)return!1;let r=!0;return e.eachChild(e=>{r&&!rt(e,t)&&(r=!1)}),r}class nt{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");const r=e[1];return t.scope.has(r)?new nt(r,t.scope.get(r)):t.error(`Unknown variable "${r}". Make sure "${r}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class it{constructor(e,t=[],r,n=new J,i=[]){this.registry=e,this.path=t,this.key=t.map(e=>`[${e}]`).join(""),this.scope=n,this.errors=i,this.expectedType=r}parse(e,t,r,n,i={}){return t?this.concat(t,r,n)._parse(e,i):this._parse(e,i)}_parse(e,t){function r(e,t,r){return"assert"===r?new De(t,[e]):"coerce"===r?new Ie(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const n=e[0];if("string"!=typeof n)return this.error(`Expression name must be a string, but found ${typeof n} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const i=this.registry[n];if(i){let n=i.parse(e,this);if(!n)return null;if(this.expectedType){const e=this.expectedType,i=n.type;if("string"!==e.kind&&"number"!==e.kind&&"boolean"!==e.kind&&"object"!==e.kind&&"array"!==e.kind||"value"!==i.kind)if("color"!==e.kind&&"formatted"!==e.kind&&"resolvedImage"!==e.kind||"value"!==i.kind&&"string"!==i.kind){if(this.checkSubtype(e,i))return null}else n=r(n,e,t.typeAnnotation||"coerce");else n=r(n,e,t.typeAnnotation||"assert")}if(!(n instanceof xe)&&"resolvedImage"!==n.type.kind&&function e(t){if(t instanceof nt)return e(t.boundExpression);if(t instanceof Se&&"error"===t.name)return!1;if(t instanceof Be)return!1;if(t instanceof Qe)return!1;const r=t instanceof Ie||t instanceof De;let n=!0;if(t.eachChild(t=>{n=r?n&&e(t):n&&t instanceof xe}),!n)return!1;return et(t)&&rt(t,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}(n)){const e=new Re;try{n=new xe(n.type,n.evaluate(e))}catch(e){return this.error(e.message),null}}return n}return this.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0)}return void 0===e?this.error("'undefined' value invalid. Use null instead."):"object"==typeof e?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof e} instead.`)}concat(e,t,r){const n="number"==typeof e?this.path.concat(e):this.path,i=r?this.scope.concat(r):this.scope;return new it(this.registry,n,t||null,i,this.errors)}error(e,...t){const r=`${this.key}${t.map(e=>`[${e}]`).join("")}`;this.errors.push(new Y(r,e))}checkSubtype(e,t){const r=pe(e,t);return r&&this.error(r),r}}function ot(e,t){const r=e.length-1;let n,i,o=0,a=r,s=0;for(;o<=a;)if(s=Math.floor((o+a)/2),n=e[s],i=e[s+1],n<=t){if(s===r||t<i)return s;o=s+1}else{if(!(n>t))throw new we("Input is not a number.");a=s-1}return 0}class at{constructor(e,t,r){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[e,t]of r)this.labels.push(e),this.outputs.push(t)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");const r=t.parse(e[1],1,ee);if(!r)return null;const n=[];let i=null;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);for(let r=1;r<e.length;r+=2){const o=1===r?-1/0:e[r],a=e[r+1],s=r,l=r+1;if("number"!=typeof o)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',s);if(n.length&&n[n.length-1][0]>=o)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',s);const _=t.parse(a,l,i);if(!_)return null;i=i||_.type,n.push([o,_])}return new at(i,r,n)}evaluate(e){const t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);const n=this.input.evaluate(e);if(n<=t[0])return r[0].evaluate(e);const i=t.length;if(n>=t[i-1])return r[i-1].evaluate(e);return r[ot(t,n)].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){const e=["step",this.input.serialize()];for(let t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e}}var st=lt;function lt(e,t,r,n){this.cx=3*e,this.bx=3*(r-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(n-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=n,this.p2x=r,this.p2y=n}function _t(e,t,r){return e*(1-r)+t*r}lt.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},lt.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},lt.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},lt.prototype.solveCurveX=function(e,t){var r,n,i,o,a;for(void 0===t&&(t=1e-6),i=e,a=0;a<8;a++){if(o=this.sampleCurveX(i)-e,Math.abs(o)<t)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=o/s}if((i=e)<(r=0))return r;if(i>(n=1))return n;for(;r<n;){if(o=this.sampleCurveX(i),Math.abs(o-e)<t)return i;e>o?r=i:n=i,i=.5*(n-r)+r}return i},lt.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var ut=Object.freeze({__proto__:null,number:_t,color:function(e,t,r){return new me(_t(e.r,t.r,r),_t(e.g,t.g,r),_t(e.b,t.b,r),_t(e.a,t.a,r))},array:function(e,t,r){return e.map((e,n)=>_t(e,t[n],r))}});const ct=6/29,pt=3*ct*ct,dt=Math.PI/180,ht=180/Math.PI;function ft(e){return e>.008856451679035631?Math.pow(e,1/3):e/pt+4/29}function mt(e){return e>ct?e*e*e:pt*(e-4/29)}function yt(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function gt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function bt(e){const t=gt(e.r),r=gt(e.g),n=gt(e.b),i=ft((.4124564*t+.3575761*r+.1804375*n)/.95047),o=ft((.2126729*t+.7151522*r+.072175*n)/1);return{l:116*o-16,a:500*(i-o),b:200*(o-ft((.0193339*t+.119192*r+.9503041*n)/1.08883)),alpha:e.a}}function vt(e){let t=(e.l+16)/116,r=isNaN(e.a)?t:t+e.a/500,n=isNaN(e.b)?t:t-e.b/200;return t=1*mt(t),r=.95047*mt(r),n=1.08883*mt(n),new me(yt(3.2404542*r-1.5371385*t-.4985314*n),yt(-.969266*r+1.8760108*t+.041556*n),yt(.0556434*r-.2040259*t+1.0572252*n),e.alpha)}function Et(e,t,r){const n=t-e;return e+r*(n>180||n<-180?n-360*Math.round(n/360):n)}const Ot={forward:bt,reverse:vt,interpolate:function(e,t,r){return{l:_t(e.l,t.l,r),a:_t(e.a,t.a,r),b:_t(e.b,t.b,r),alpha:_t(e.alpha,t.alpha,r)}}},Mt={forward:function(e){const{l:t,a:r,b:n}=bt(e),i=Math.atan2(n,r)*ht;return{h:i<0?i+360:i,c:Math.sqrt(r*r+n*n),l:t,alpha:e.a}},reverse:function(e){const t=e.h*dt,r=e.c;return vt({l:e.l,a:Math.cos(t)*r,b:Math.sin(t)*r,alpha:e.alpha})},interpolate:function(e,t,r){return{h:Et(e.h,t.h,r),c:_t(e.c,t.c,r),l:_t(e.l,t.l,r),alpha:_t(e.alpha,t.alpha,r)}}};var Pt=Object.freeze({__proto__:null,lab:Ot,hcl:Mt});class xt{constructor(e,t,r,n,i){this.type=e,this.operator=t,this.interpolation=r,this.input=n,this.labels=[],this.outputs=[];for(const[e,t]of i)this.labels.push(e),this.outputs.push(t)}static interpolationFactor(e,t,r,n){let i=0;if("exponential"===e.name)i=wt(t,e.base,r,n);else if("linear"===e.name)i=wt(t,1,r,n);else if("cubic-bezier"===e.name){const o=e.controlPoints;i=new st(o[0],o[1],o[2],o[3]).solve(wt(t,1,r,n))}return i}static parse(e,t){let[r,n,i,...o]=e;if(!Array.isArray(n)||0===n.length)return t.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){const e=n[1];if("number"!=typeof e)return t.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:e}}else{if("cubic-bezier"!==n[0])return t.error("Unknown interpolation type "+String(n[0]),1,0);{const e=n.slice(1);if(4!==e.length||e.some(e=>"number"!=typeof e||e<0||e>1))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:e}}}if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(i=t.parse(i,2,ee),!i)return null;const a=[];let s=null;"interpolate-hcl"===r||"interpolate-lab"===r?s=ne:t.expectedType&&"value"!==t.expectedType.kind&&(s=t.expectedType);for(let e=0;e<o.length;e+=2){const r=o[e],n=o[e+1],i=e+3,l=e+4;if("number"!=typeof r)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',i);if(a.length&&a[a.length-1][0]>=r)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',i);const _=t.parse(n,l,s);if(!_)return null;s=s||_.type,a.push([r,_])}return"number"===s.kind||"color"===s.kind||"array"===s.kind&&"number"===s.itemType.kind&&"number"==typeof s.N?new xt(s,r,n,i,a):t.error(`Type ${ue(s)} is not interpolatable.`)}evaluate(e){const t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);const n=this.input.evaluate(e);if(n<=t[0])return r[0].evaluate(e);const i=t.length;if(n>=t[i-1])return r[i-1].evaluate(e);const o=ot(t,n),a=t[o],s=t[o+1],l=xt.interpolationFactor(this.interpolation,n,a,s),_=r[o].evaluate(e),u=r[o+1].evaluate(e);return"interpolate"===this.operator?ut[this.type.kind.toLowerCase()](_,u,l):"interpolate-hcl"===this.operator?Mt.reverse(Mt.interpolate(Mt.forward(_),Mt.forward(u),l)):Ot.reverse(Ot.interpolate(Ot.forward(_),Ot.forward(u),l))}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){let e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const t=[this.operator,e,this.input.serialize()];for(let e=0;e<this.labels.length;e++)t.push(this.labels[e],this.outputs[e].serialize());return t}}function wt(e,t,r,n){const i=n-r,o=e-r;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}class Ct{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expectected at least one argument.");let r=null;const n=t.expectedType;n&&"value"!==n.kind&&(r=n);const i=[];for(const n of e.slice(1)){const e=t.parse(n,1+i.length,r,void 0,{typeAnnotation:"omit"});if(!e)return null;r=r||e.type,i.push(e)}const o=n&&i.some(e=>pe(n,e.type));return new Ct(o?oe:r,i)}evaluate(e){let t,r=null,n=0;for(const i of this.args){if(n++,r=i.evaluate(e),r&&r instanceof ve&&!r.available&&(t||(t=r),r=null,n===this.args.length))return t;if(null!==r)break}return r}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=["coalesce"];return this.eachChild(t=>{e.push(t.serialize())}),e}}class Dt{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const r=[];for(let n=1;n<e.length-1;n+=2){const i=e[n];if("string"!=typeof i)return t.error(`Expected string, but found ${typeof i} instead.`,n);if(/[^a-zA-Z0-9_]/.test(i))return t.error("Variable names must contain only alphanumeric characters or '_'.",n);const o=t.parse(e[n+1],n+1);if(!o)return null;r.push([i,o])}const n=t.parse(e[e.length-1],e.length-1,t.expectedType,r);return n?new Dt(r,n):null}outputDefined(){return this.result.outputDefined()}serialize(){const e=["let"];for(const[t,r]of this.bindings)e.push(t,r.serialize());return e.push(this.result.serialize()),e}}class Tt{constructor(e,t,r){this.type=e,this.index=t,this.input=r}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const r=t.parse(e[1],1,ee),n=t.parse(e[2],2,_e(t.expectedType||oe));if(!r||!n)return null;const i=n.type;return new Tt(i.itemType,r,n)}evaluate(e){const t=this.index.evaluate(e),r=this.input.evaluate(e);if(t<0)throw new we(`Array index out of bounds: ${t} < 0.`);if(t>=r.length)throw new we(`Array index out of bounds: ${t} > ${r.length-1}.`);if(t!==Math.floor(t))throw new we(`Array index must be an integer, but found ${t} instead.`);return r[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class kt{constructor(e,t){this.type=re,this.needle=e,this.haystack=t}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const r=t.parse(e[1],1,oe),n=t.parse(e[2],2,oe);return r&&n?de(r.type,[re,te,ee,Q,oe])?new kt(r,n):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${ue(r.type)} instead`):null}evaluate(e){const t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(!r)return!1;if(!he(t,["boolean","string","number","null"]))throw new we(`Expected first argument to be of type boolean, string, number or null, but found ${ue(Me(t))} instead.`);if(!he(r,["string","array"]))throw new we(`Expected second argument to be of type array or string, but found ${ue(Me(r))} instead.`);return r.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class At{constructor(e,t,r){this.type=ee,this.needle=e,this.haystack=t,this.fromIndex=r}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const r=t.parse(e[1],1,oe),n=t.parse(e[2],2,oe);if(!r||!n)return null;if(!de(r.type,[re,te,ee,Q,oe]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${ue(r.type)} instead`);if(4===e.length){const i=t.parse(e[3],3,ee);return i?new At(r,n,i):null}return new At(r,n)}evaluate(e){const t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(!he(t,["boolean","string","number","null"]))throw new we(`Expected first argument to be of type boolean, string, number or null, but found ${ue(Me(t))} instead.`);if(!he(r,["string","array"]))throw new we(`Expected second argument to be of type array or string, but found ${ue(Me(r))} instead.`);if(this.fromIndex){const n=this.fromIndex.evaluate(e);return r.indexOf(t,n)}return r.indexOf(t)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class It{constructor(e,t,r,n,i,o){this.inputType=e,this.type=t,this.input=r,this.cases=n,this.outputs=i,this.otherwise=o}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return t.error("Expected an even number of arguments.");let r,n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);const i={},o=[];for(let a=2;a<e.length-1;a+=2){let s=e[a];const l=e[a+1];Array.isArray(s)||(s=[s]);const _=t.concat(a);if(0===s.length)return _.error("Expected at least one branch label.");for(const e of s){if("number"!=typeof e&&"string"!=typeof e)return _.error("Branch labels must be numbers or strings.");if("number"==typeof e&&Math.abs(e)>Number.MAX_SAFE_INTEGER)return _.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof e&&Math.floor(e)!==e)return _.error("Numeric branch labels must be integer values.");if(r){if(_.checkSubtype(r,Me(e)))return null}else r=Me(e);if(void 0!==i[String(e)])return _.error("Branch labels must be unique.");i[String(e)]=o.length}const u=t.parse(l,a,n);if(!u)return null;n=n||u.type,o.push(u)}const a=t.parse(e[1],1,oe);if(!a)return null;const s=t.parse(e[e.length-1],e.length-1,n);return s?"value"!==a.type.kind&&t.concat(1).checkSubtype(r,a.type)?null:new It(r,n,a,i,o,s):null}evaluate(e){const t=this.input.evaluate(e);return(Me(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["match",this.input.serialize()],t=Object.keys(this.cases).sort(),r=[],n={};for(const e of t){const t=n[this.cases[e]];void 0===t?(n[this.cases[e]]=r.length,r.push([this.cases[e],[e]])):r[t][1].push(e)}const i=e=>"number"===this.inputType.kind?Number(e):e;for(const[t,n]of r)1===n.length?e.push(i(n[0])):e.push(n.map(i)),e.push(this.outputs[t].serialize());return e.push(this.otherwise.serialize()),e}}class Lt{constructor(e,t,r){this.type=e,this.branches=t,this.otherwise=r}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return t.error("Expected an odd number of arguments.");let r;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);const n=[];for(let i=1;i<e.length-1;i+=2){const o=t.parse(e[i],i,re);if(!o)return null;const a=t.parse(e[i+1],i+1,r);if(!a)return null;n.push([o,a]),r=r||a.type}const i=t.parse(e[e.length-1],e.length-1,r);return i?new Lt(r,n,i):null}evaluate(e){for(const[t,r]of this.branches)if(t.evaluate(e))return r.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,r]of this.branches)e(t),e(r);e(this.otherwise)}outputDefined(){return this.branches.every(([e,t])=>t.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["case"];return this.eachChild(t=>{e.push(t.serialize())}),e}}class Rt{constructor(e,t,r,n){this.type=e,this.input=t,this.beginIndex=r,this.endIndex=n}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const r=t.parse(e[1],1,oe),n=t.parse(e[2],2,ee);if(!r||!n)return null;if(!de(r.type,[_e(oe),te,oe]))return t.error(`Expected first argument to be of type array or string, but found ${ue(r.type)} instead`);if(4===e.length){const i=t.parse(e[3],3,ee);return i?new Rt(r.type,r,n,i):null}return new Rt(r.type,r,n)}evaluate(e){const t=this.input.evaluate(e),r=this.beginIndex.evaluate(e);if(!he(t,["string","array"]))throw new we(`Expected first argument to be of type array or string, but found ${ue(Me(t))} instead.`);if(this.endIndex){const n=this.endIndex.evaluate(e);return t.slice(r,n)}return t.slice(r)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}function St(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function Bt(e,t,r,n){return 0===n.compare(t,r)}function Ut(e,t,r){const n="=="!==e&&"!="!==e;return class i{constructor(e,t,r){this.type=re,this.lhs=e,this.rhs=t,this.collator=r,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}static parse(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");const r=e[0];let o=t.parse(e[1],1,oe);if(!o)return null;if(!St(r,o.type))return t.concat(1).error(`"${r}" comparisons are not supported for type '${ue(o.type)}'.`);let a=t.parse(e[2],2,oe);if(!a)return null;if(!St(r,a.type))return t.concat(2).error(`"${r}" comparisons are not supported for type '${ue(a.type)}'.`);if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error(`Cannot compare types '${ue(o.type)}' and '${ue(a.type)}'.`);n&&("value"===o.type.kind&&"value"!==a.type.kind?o=new De(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new De(o.type,[a])));let s=null;if(4===e.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(s=t.parse(e[3],3,ae),!s)return null}return new i(o,a,s)}evaluate(i){const o=this.lhs.evaluate(i),a=this.rhs.evaluate(i);if(n&&this.hasUntypedArgument){const t=Me(o),r=Me(a);if(t.kind!==r.kind||"string"!==t.kind&&"number"!==t.kind)throw new we(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${t.kind}, ${r.kind}) instead.`)}if(this.collator&&!n&&this.hasUntypedArgument){const e=Me(o),r=Me(a);if("string"!==e.kind||"string"!==r.kind)return t(i,o,a)}return this.collator?r(i,o,a,this.collator.evaluate(i)):t(i,o,a)}eachChild(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}outputDefined(){return!0}serialize(){const t=[e];return this.eachChild(e=>{t.push(e.serialize())}),t}}}const Wt=Ut("==",(function(e,t,r){return t===r}),Bt),Kt=Ut("!=",(function(e,t,r){return t!==r}),(function(e,t,r,n){return!Bt(0,t,r,n)})),jt=Ut("<",(function(e,t,r){return t<r}),(function(e,t,r,n){return n.compare(t,r)<0})),zt=Ut(">",(function(e,t,r){return t>r}),(function(e,t,r,n){return n.compare(t,r)>0})),Ft=Ut("<=",(function(e,t,r){return t<=r}),(function(e,t,r,n){return n.compare(t,r)<=0})),qt=Ut(">=",(function(e,t,r){return t>=r}),(function(e,t,r,n){return n.compare(t,r)>=0}));class Nt{constructor(e,t,r,n,i){this.type=te,this.number=e,this.locale=t,this.currency=r,this.minFractionDigits=n,this.maxFractionDigits=i}static parse(e,t){if(3!==e.length)return t.error("Expected two arguments.");const r=t.parse(e[1],1,ee);if(!r)return null;const n=e[2];if("object"!=typeof n||Array.isArray(n))return t.error("NumberFormat options argument must be an object.");let i=null;if(n.locale&&(i=t.parse(n.locale,1,te),!i))return null;let o=null;if(n.currency&&(o=t.parse(n.currency,1,te),!o))return null;let a=null;if(n["min-fraction-digits"]&&(a=t.parse(n["min-fraction-digits"],1,ee),!a))return null;let s=null;return n["max-fraction-digits"]&&(s=t.parse(n["max-fraction-digits"],1,ee),!s)?null:new Nt(r,i,o,a,s)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}class Ht{constructor(e){this.type=ee,this.input=e}static parse(e,t){if(2!==e.length)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const r=t.parse(e[1],1);return r?"array"!==r.type.kind&&"string"!==r.type.kind&&"value"!==r.type.kind?t.error(`Expected argument of type string or array, but found ${ue(r.type)} instead.`):new Ht(r):null}evaluate(e){const t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new we(`Expected value to be of type string or array, but found ${ue(Me(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){const e=["length"];return this.eachChild(t=>{e.push(t.serialize())}),e}}const Gt={"==":Wt,"!=":Kt,">":zt,"<":jt,">=":qt,"<=":Ft,array:De,at:Tt,boolean:De,case:Lt,coalesce:Ct,collator:Be,format:Te,image:ke,in:kt,"index-of":At,interpolate:xt,"interpolate-hcl":xt,"interpolate-lab":xt,length:Ht,let:Dt,literal:xe,match:It,number:De,"number-format":Nt,object:De,slice:Rt,step:at,string:De,"to-boolean":Ie,"to-color":Ie,"to-number":Ie,"to-string":Ie,var:nt,within:Qe};function Vt(e,[t,r,n,i]){t=t.evaluate(e),r=r.evaluate(e),n=n.evaluate(e);const o=i?i.evaluate(e):1,a=Ee(t,r,n,o);if(a)throw new we(a);return new me(t/255*o,r/255*o,n/255*o,o)}function Zt(e,t){return e in t}function Xt(e,t){const r=t[e];return void 0===r?null:r}function $t(e){return{type:e}}function Yt(e){return{result:"success",value:e}}function Jt(e){return{result:"error",value:e}}function Qt(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function er(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function tr(e){return!!e.expression&&e.expression.interpolated}function rr(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function nr(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function ir(e){return e}function or(e,t){const r="color"===t.type,n=e.stops&&"object"==typeof e.stops[0][0],i=n||void 0!==e.property,o=n||!i,a=e.type||(tr(t)?"exponential":"interval");if(r&&((e=$({},e)).stops&&(e.stops=e.stops.map(e=>[e[0],me.parse(e[1])])),e.default?e.default=me.parse(e.default):e.default=me.parse(t.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!Pt[e.colorSpace])throw new Error("Unknown color space: "+e.colorSpace);let s,l,_;if("exponential"===a)s=_r;else if("interval"===a)s=lr;else if("categorical"===a){s=sr,l=Object.create(null);for(const t of e.stops)l[t[0]]=t[1];_=typeof e.stops[0][0]}else{if("identity"!==a)throw new Error(`Unknown function type "${a}"`);s=ur}if(n){const r={},n=[];for(let t=0;t<e.stops.length;t++){const i=e.stops[t],o=i[0].zoom;void 0===r[o]&&(r[o]={zoom:o,type:e.type,property:e.property,default:e.default,stops:[]},n.push(o)),r[o].stops.push([i[0].value,i[1]])}const i=[];for(const e of n)i.push([r[e].zoom,or(r[e],t)]);const o={name:"linear"};return{kind:"composite",interpolationType:o,interpolationFactor:xt.interpolationFactor.bind(void 0,o),zoomStops:i.map(e=>e[0]),evaluate:({zoom:r},n)=>_r({stops:i,base:e.base},t,r).evaluate(r,n)}}if(o){const r="exponential"===a?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:r,interpolationFactor:xt.interpolationFactor.bind(void 0,r),zoomStops:e.stops.map(e=>e[0]),evaluate:({zoom:r})=>s(e,t,r,l,_)}}return{kind:"source",evaluate(r,n){const i=n&&n.properties?n.properties[e.property]:void 0;return void 0===i?ar(e.default,t.default):s(e,t,i,l,_)}}}function ar(e,t,r){return void 0!==e?e:void 0!==t?t:void 0!==r?r:void 0}function sr(e,t,r,n,i){return ar(typeof r===i?n[r]:void 0,e.default,t.default)}function lr(e,t,r){if("number"!==rr(r))return ar(e.default,t.default);const n=e.stops.length;if(1===n)return e.stops[0][1];if(r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[n-1][0])return e.stops[n-1][1];const i=ot(e.stops.map(e=>e[0]),r);return e.stops[i][1]}function _r(e,t,r){const n=void 0!==e.base?e.base:1;if("number"!==rr(r))return ar(e.default,t.default);const i=e.stops.length;if(1===i)return e.stops[0][1];if(r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[i-1][0])return e.stops[i-1][1];const o=ot(e.stops.map(e=>e[0]),r),a=function(e,t,r,n){const i=n-r,o=e-r;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}(r,n,e.stops[o][0],e.stops[o+1][0]),s=e.stops[o][1],l=e.stops[o+1][1];let _=ut[t.type]||ir;if(e.colorSpace&&"rgb"!==e.colorSpace){const t=Pt[e.colorSpace];_=(e,r)=>t.reverse(t.interpolate(t.forward(e),t.forward(r),a))}return"function"==typeof s.evaluate?{evaluate(...e){const t=s.evaluate.apply(void 0,e),r=l.evaluate.apply(void 0,e);if(void 0!==t&&void 0!==r)return _(t,r,a)}}:_(s,l,a)}function ur(e,t,r){return"color"===t.type?r=me.parse(r):"formatted"===t.type?r=be.fromString(r.toString()):"resolvedImage"===t.type?r=ve.fromString(r.toString()):rr(r)===t.type||"enum"===t.type&&t.values[r]||(r=void 0),ar(r,e.default,t.default)}Se.register(Gt,{error:[{kind:"error"},[te],(e,[t])=>{throw new we(t.evaluate(e))}],typeof:[te,[oe],(e,[t])=>ue(Me(t.evaluate(e)))],"to-rgba":[_e(ee,4),[ne],(e,[t])=>t.evaluate(e).toArray()],rgb:[ne,[ee,ee,ee],Vt],rgba:[ne,[ee,ee,ee,ee],Vt],has:{type:re,overloads:[[[te],(e,[t])=>Zt(t.evaluate(e),e.properties())],[[te,ie],(e,[t,r])=>Zt(t.evaluate(e),r.evaluate(e))]]},get:{type:oe,overloads:[[[te],(e,[t])=>Xt(t.evaluate(e),e.properties())],[[te,ie],(e,[t,r])=>Xt(t.evaluate(e),r.evaluate(e))]]},"feature-state":[oe,[te],(e,[t])=>Xt(t.evaluate(e),e.featureState||{})],properties:[ie,[],e=>e.properties()],"geometry-type":[te,[],e=>e.geometryType()],id:[oe,[],e=>e.id()],zoom:[ee,[],e=>e.globals.zoom],pitch:[ee,[],e=>e.globals.pitch||0],"distance-from-center":[ee,[],e=>e.distanceFromCenter()],"heatmap-density":[ee,[],e=>e.globals.heatmapDensity||0],"line-progress":[ee,[],e=>e.globals.lineProgress||0],"sky-radial-progress":[ee,[],e=>e.globals.skyRadialProgress||0],accumulated:[oe,[],e=>void 0===e.globals.accumulated?null:e.globals.accumulated],"+":[ee,$t(ee),(e,t)=>{let r=0;for(const n of t)r+=n.evaluate(e);return r}],"*":[ee,$t(ee),(e,t)=>{let r=1;for(const n of t)r*=n.evaluate(e);return r}],"-":{type:ee,overloads:[[[ee,ee],(e,[t,r])=>t.evaluate(e)-r.evaluate(e)],[[ee],(e,[t])=>-t.evaluate(e)]]},"/":[ee,[ee,ee],(e,[t,r])=>t.evaluate(e)/r.evaluate(e)],"%":[ee,[ee,ee],(e,[t,r])=>t.evaluate(e)%r.evaluate(e)],ln2:[ee,[],()=>Math.LN2],pi:[ee,[],()=>Math.PI],e:[ee,[],()=>Math.E],"^":[ee,[ee,ee],(e,[t,r])=>Math.pow(t.evaluate(e),r.evaluate(e))],sqrt:[ee,[ee],(e,[t])=>Math.sqrt(t.evaluate(e))],log10:[ee,[ee],(e,[t])=>Math.log(t.evaluate(e))/Math.LN10],ln:[ee,[ee],(e,[t])=>Math.log(t.evaluate(e))],log2:[ee,[ee],(e,[t])=>Math.log(t.evaluate(e))/Math.LN2],sin:[ee,[ee],(e,[t])=>Math.sin(t.evaluate(e))],cos:[ee,[ee],(e,[t])=>Math.cos(t.evaluate(e))],tan:[ee,[ee],(e,[t])=>Math.tan(t.evaluate(e))],asin:[ee,[ee],(e,[t])=>Math.asin(t.evaluate(e))],acos:[ee,[ee],(e,[t])=>Math.acos(t.evaluate(e))],atan:[ee,[ee],(e,[t])=>Math.atan(t.evaluate(e))],min:[ee,$t(ee),(e,t)=>Math.min(...t.map(t=>t.evaluate(e)))],max:[ee,$t(ee),(e,t)=>Math.max(...t.map(t=>t.evaluate(e)))],abs:[ee,[ee],(e,[t])=>Math.abs(t.evaluate(e))],round:[ee,[ee],(e,[t])=>{const r=t.evaluate(e);return r<0?-Math.round(-r):Math.round(r)}],floor:[ee,[ee],(e,[t])=>Math.floor(t.evaluate(e))],ceil:[ee,[ee],(e,[t])=>Math.ceil(t.evaluate(e))],"filter-==":[re,[te,oe],(e,[t,r])=>e.properties()[t.value]===r.value],"filter-id-==":[re,[oe],(e,[t])=>e.id()===t.value],"filter-type-==":[re,[te],(e,[t])=>e.geometryType()===t.value],"filter-<":[re,[te,oe],(e,[t,r])=>{const n=e.properties()[t.value],i=r.value;return typeof n==typeof i&&n<i}],"filter-id-<":[re,[oe],(e,[t])=>{const r=e.id(),n=t.value;return typeof r==typeof n&&r<n}],"filter->":[re,[te,oe],(e,[t,r])=>{const n=e.properties()[t.value],i=r.value;return typeof n==typeof i&&n>i}],"filter-id->":[re,[oe],(e,[t])=>{const r=e.id(),n=t.value;return typeof r==typeof n&&r>n}],"filter-<=":[re,[te,oe],(e,[t,r])=>{const n=e.properties()[t.value],i=r.value;return typeof n==typeof i&&n<=i}],"filter-id-<=":[re,[oe],(e,[t])=>{const r=e.id(),n=t.value;return typeof r==typeof n&&r<=n}],"filter->=":[re,[te,oe],(e,[t,r])=>{const n=e.properties()[t.value],i=r.value;return typeof n==typeof i&&n>=i}],"filter-id->=":[re,[oe],(e,[t])=>{const r=e.id(),n=t.value;return typeof r==typeof n&&r>=n}],"filter-has":[re,[oe],(e,[t])=>t.value in e.properties()],"filter-has-id":[re,[],e=>null!==e.id()&&void 0!==e.id()],"filter-type-in":[re,[_e(te)],(e,[t])=>t.value.indexOf(e.geometryType())>=0],"filter-id-in":[re,[_e(oe)],(e,[t])=>t.value.indexOf(e.id())>=0],"filter-in-small":[re,[te,_e(oe)],(e,[t,r])=>r.value.indexOf(e.properties()[t.value])>=0],"filter-in-large":[re,[te,_e(oe)],(e,[t,r])=>function(e,t,r,n){for(;r<=n;){const i=r+n>>1;if(t[i]===e)return!0;t[i]>e?n=i-1:r=i+1}return!1}(e.properties()[t.value],r.value,0,r.value.length-1)],all:{type:re,overloads:[[[re,re],(e,[t,r])=>t.evaluate(e)&&r.evaluate(e)],[$t(re),(e,t)=>{for(const r of t)if(!r.evaluate(e))return!1;return!0}]]},any:{type:re,overloads:[[[re,re],(e,[t,r])=>t.evaluate(e)||r.evaluate(e)],[$t(re),(e,t)=>{for(const r of t)if(r.evaluate(e))return!0;return!1}]]},"!":[re,[re],(e,[t])=>!t.evaluate(e)],"is-supported-script":[re,[te],(e,[t])=>{const r=e.globals&&e.globals.isSupportedScript;return!r||r(t.evaluate(e))}],upcase:[te,[te],(e,[t])=>t.evaluate(e).toUpperCase()],downcase:[te,[te],(e,[t])=>t.evaluate(e).toLowerCase()],concat:[te,$t(oe),(e,t)=>t.map(t=>Pe(t.evaluate(e))).join("")],"resolved-locale":[te,[ae],(e,[t])=>t.evaluate(e).resolvedLocale()]});class cr{constructor(e,t){var r;this.expression=e,this._warningHistory={},this._evaluator=new Re,this._defaultValue=t?"color"===(r=t).type&&nr(r.default)?new me(0,0,0,0):"color"===r.type?me.parse(r.default)||null:void 0===r.default?null:r.default:null,this._enumValues=t&&"enum"===t.type?t.values:null}evaluateWithoutErrorHandling(e,t,r,n,i,o,a,s){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=r,this._evaluator.canonical=n,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=s||null,this.expression.evaluate(this._evaluator)}evaluate(e,t,r,n,i,o,a,s){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=r||null,this._evaluator.canonical=n,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o||null,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=s||null;try{const e=this.expression.evaluate(this._evaluator);if(null==e||"number"==typeof e&&e!=e)return this._defaultValue;if(this._enumValues&&!(e in this._enumValues))throw new we(`Expected value to be one of ${Object.keys(this._enumValues).map(e=>JSON.stringify(e)).join(", ")}, but found ${JSON.stringify(e)} instead.`);return e}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}}}function pr(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in Gt}function dr(e,t){const r=new it(Gt,[],t?function(e){const t={color:ne,string:te,number:ee,enum:te,boolean:re,formatted:se,resolvedImage:le};if("array"===e.type)return _e(t[e.value]||oe,e.length);return t[e.type]}(t):void 0),n=r.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return n?Yt(new cr(n,t)):Jt(r.errors)}class hr{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!tt(t.expression)}evaluateWithoutErrorHandling(e,t,r,n,i,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,n,i,o)}evaluate(e,t,r,n,i,o){return this._styleExpression.evaluate(e,t,r,n,i,o)}}class fr{constructor(e,t,r,n){this.kind=e,this.zoomStops=r,this._styleExpression=t,this.isStateDependent="camera"!==e&&!tt(t.expression),this.interpolationType=n}evaluateWithoutErrorHandling(e,t,r,n,i,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,n,i,o)}evaluate(e,t,r,n,i,o){return this._styleExpression.evaluate(e,t,r,n,i,o)}interpolationFactor(e,t,r){return this.interpolationType?xt.interpolationFactor(this.interpolationType,e,t,r):0}}function mr(e,t){if("error"===(e=dr(e,t)).result)return e;const r=e.value.expression,n=et(r);if(!n&&!Qt(t))return Jt([new Y("","data expressions not supported")]);const i=rt(r,["zoom","pitch","distance-from-center"]);if(!i&&!er(t))return Jt([new Y("","zoom expressions not supported")]);const o=function e(t){let r=null;if(t instanceof Dt)r=e(t.result);else if(t instanceof Ct){for(const n of t.args)if(r=e(n),r)break}else(t instanceof at||t instanceof xt)&&t.input instanceof Se&&"zoom"===t.input.name&&(r=t);if(r instanceof Y)return r;return t.eachChild(t=>{const n=e(t);n instanceof Y?r=n:!r&&n?r=new Y("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):r&&n&&r!==n&&(r=new Y("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),r}(r);if(!o&&!i)return Jt([new Y("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(o instanceof Y)return Jt([o]);if(o instanceof xt&&!tr(t))return Jt([new Y("",'"interpolate" expressions cannot be used with this property')]);if(!o)return Yt(new hr(n?"constant":"source",e.value));const a=o instanceof xt?o.interpolation:void 0;return Yt(new fr(n?"camera":"composite",e.value,o.labels,a))}class yr{constructor(e,t){this._parameters=e,this._specification=t,$(this,or(this._parameters,this._specification))}static deserialize(e){return new yr(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}}function gr(e){return"object"==typeof e?["literal",e]:e}function br(e,t){let r=e.stops;if(!r)return function(e,t){const r=["get",e.property];if(void 0===e.default)return"string"===t.type?["string",r]:r;if("enum"===t.type)return["match",r,Object.keys(t.values),r,e.default];{const n=["color"===t.type?"to-color":t.type,r,gr(e.default)];return"array"===t.type&&n.splice(1,0,t.value,t.length||null),n}}(e,t);const n=r&&"object"==typeof r[0][0],i=n||void 0!==e.property,o=n||!i;return r=r.map(e=>!i&&t.tokens&&"string"==typeof e[1]?[e[0],wr(e[1])]:[e[0],gr(e[1])]),n?function(e,t,r){const n={},i={},o=[];for(let t=0;t<r.length;t++){const a=r[t],s=a[0].zoom;void 0===n[s]&&(n[s]={zoom:s,type:e.type,property:e.property,default:e.default},i[s]=[],o.push(s)),i[s].push([a[0].value,a[1]])}if("exponential"===xr({},t)){const r=[vr(e),["linear"],["zoom"]];for(const e of o){const o=Or(n[e],t,i[e]);Pr(r,e,o,!1)}return r}{const e=["step",["zoom"]];for(const r of o){const o=Or(n[r],t,i[r]);Pr(e,r,o,!0)}return Mr(e),e}}(e,t,r):o?function(e,t,r,n=["zoom"]){const i=xr(e,t);let o,a=!1;if("interval"===i)o=["step",n],a=!0;else{if("exponential"!==i)throw new Error(`Unknown zoom function type "${i}"`);{const t=void 0!==e.base?e.base:1;o=[vr(e),1===t?["linear"]:["exponential",t],n]}}for(const e of r)Pr(o,e[0],e[1],a);return Mr(o),o}(e,t,r):Or(e,t,r)}function vr(e){switch(e.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function Er(e,t){const r=gr((n=e.default,i=t.default,void 0!==n?n:void 0!==i?i:void 0));var n,i;return void 0===r&&"resolvedImage"===t.type?"":r}function Or(e,t,r){const n=xr(e,t),i=["get",e.property];if("categorical"===n&&"boolean"==typeof r[0][0]){const n=["case"];for(const e of r)n.push(["==",i,e[0]],e[1]);return n.push(Er(e,t)),n}if("categorical"===n){const n=["match",i];for(const e of r)Pr(n,e[0],e[1],!1);return n.push(Er(e,t)),n}if("interval"===n){const t=["step",["number",i]];for(const e of r)Pr(t,e[0],e[1],!0);return Mr(t),void 0===e.default?t:["case",["==",["typeof",i],"number"],t,gr(e.default)]}if("exponential"===n){const t=void 0!==e.base?e.base:1,n=[vr(e),1===t?["linear"]:["exponential",t],["number",i]];for(const e of r)Pr(n,e[0],e[1],!1);return void 0===e.default?n:["case",["==",["typeof",i],"number"],n,gr(e.default)]}throw new Error("Unknown property function type "+n)}function Mr(e){"step"===e[0]&&3===e.length&&(e.push(0),e.push(e[3]))}function Pr(e,t,r,n){e.length>3&&t===e[e.length-2]||(n&&2===e.length||e.push(t),e.push(r))}function xr(e,t){return e.type?e.type:t.expression.interpolated?"exponential":"interval"}function wr(e){const t=["concat"],r=/{([^{}]+)}/g;let n=0;for(let i=r.exec(e);null!==i;i=r.exec(e)){const o=e.slice(n,r.lastIndex-i[0].length);n=r.lastIndex,o.length>0&&t.push(o),t.push(["get",i[1]])}if(1===t.length)return e;if(n<e.length)t.push(e.slice(n));else if(2===t.length)return["to-string",t[1]];return t}function Cr(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function Dr(e){if(Array.isArray(e))return e.map(Dr);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const t={};for(const r in e)t[r]=Dr(e[r]);return t}return Cr(e)}function Tr(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const t of e.slice(1))if(!Tr(t)&&"boolean"!=typeof t)return!1;return!0;default:return!0}}function kr(e,t="fill"){if(null==e)return{filter:()=>!0,needGeometry:!1,needFeature:!1};Tr(e)||(e=Rr(e));const r=e;let n=!0;try{n=function(e){if(!Ar(e))return e;let t=Dr(e);return function e(t){let r=!1;const n=[];if("case"===t[0]){for(let e=1;e<t.length-1;e+=2)r=r||Ar(t[e]),n.push(t[e+1]);n.push(t[t.length-1])}else if("match"===t[0]){r=r||Ar(t[1]);for(let e=2;e<t.length-1;e+=2)n.push(t[e+1]);n.push(t[t.length-1])}else if("step"===t[0]){r=r||Ar(t[1]);for(let e=1;e<t.length-1;e+=2)n.push(t[e+1])}r&&(t.length=0,t.push("any",...n));for(let r=1;r<t.length;r++)e(t[r])}(t),t=function e(t){if(!Array.isArray(t))return t;const r=function(e){if(Ir.has(e[0]))for(let t=1;t<e.length;t++){if(Ar(e[t]))return!0}return e}(t);return!0===r?r:r.map(t=>e(t))}(t),t}(r)}catch(e){console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n${JSON.stringify(r,null,2)}\n        `)}const o=i["filter_"+t],a=dr(n,o);let s=null;if("error"===a.result)throw new Error(a.value.map(e=>`${e.key}: ${e.message}`).join(", "));s=(e,t,r)=>a.value.evaluate(e,t,{},r);let l=null,_=null;if(n!==r){const e=dr(r,o);if("error"===e.result)throw new Error(e.value.map(e=>`${e.key}: ${e.message}`).join(", "));l=(t,r,n,i,o)=>e.value.evaluate(t,r,{},n,void 0,void 0,i,o),_=!et(e.value.expression)}s=s;return{filter:s,dynamicFilter:l||void 0,needGeometry:function e(t){if(!Array.isArray(t))return!1;if("within"===t[0])return!0;for(let r=1;r<t.length;r++)if(e(t[r]))return!0;return!1}(n),needFeature:!!_}}function Ar(e){if(!Array.isArray(e))return!1;if(function(e){return"pitch"===e||"distance-from-center"===e}(e[0]))return!0;for(let t=1;t<e.length;t++){if(Ar(e[t]))return!0}return!1}const Ir=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Lr(e,t){return e<t?-1:e>t?1:0}function Rr(e){if(!e)return!0;const t=e[0];if(e.length<=1)return"any"!==t;var r;return"=="===t?Sr(e[1],e[2],"=="):"!="===t?Wr(Sr(e[1],e[2],"==")):"<"===t||">"===t||"<="===t||">="===t?Sr(e[1],e[2],t):"any"===t?(r=e.slice(1),["any"].concat(r.map(Rr))):"all"===t?["all"].concat(e.slice(1).map(Rr)):"none"===t?["all"].concat(e.slice(1).map(Rr).map(Wr)):"in"===t?Br(e[1],e.slice(2)):"!in"===t?Wr(Br(e[1],e.slice(2))):"has"===t?Ur(e[1]):"!has"===t?Wr(Ur(e[1])):"within"!==t||e}function Sr(e,t,r){switch(e){case"$type":return["filter-type-"+r,t];case"$id":return["filter-id-"+r,t];default:return["filter-"+r,e,t]}}function Br(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(e=>typeof e!=typeof t[0])?["filter-in-large",e,["literal",t.sort(Lr)]]:["filter-in-small",e,["literal",t]]}}function Ur(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function Wr(e){return["!",e]}function Kr(e){return function e(t,r){if(Tr(t))return t;if(!t)return!0;const n=t[0];if(t.length<=1)return"any"!==n;let i;if("=="===n||"!="===n||"<"===n||">"===n||"<="===n||">="===n){const[,e,o]=t;i=function(e,t,r,n){let i;if("$type"===e)return[r,["geometry-type"],t];i="$id"===e?["id"]:["get",e];if(n&&null!==t){const r=typeof t;n[e]=r}if("=="===r&&"$id"!==e&&null===t)return["all",["has",e],["==",i,null]];if("!="===r&&"$id"!==e&&null===t)return["any",["!",["has",e]],["!=",i,null]];return[r,i,t]}(e,o,n,r)}else{if("any"===n){const r=t.slice(1).map(t=>{const r={},n=e(t,r),i=function(e){const t=[];for(const r in e){const n="$id"===r?["id"]:["get",r];t.push(["==",["typeof",n],e[r]])}return 0===t.length||(1===t.length?t[0]:["all"].concat(t))}(r);return!0===i?n:["case",i,n,!1]});return["any"].concat(r)}if("all"===n){const n=t.slice(1).map(t=>e(t,r));return n.length>1?["all"].concat(n):[].concat(...n)}if("none"===n)return["!",e(["any"].concat(t.slice(1)),{})];i="in"===n?jr(t[1],t.slice(2)):"!in"===n?jr(t[1],t.slice(2),!0):"has"===n?zr(t[1]):"!has"!==n||["!",zr(t[1])]}return i}(e,{})}function jr(e,t,r=!1){if(0===t.length)return r;let n;n="$type"===e?["geometry-type"]:"$id"===e?["id"]:["get",e];let i=!0;const o=typeof t[0];for(const e of t)if(typeof e!==o){i=!1;break}if(i&&("string"===o||"number"===o)){const e=t.sort().filter((e,r)=>0===r||t[r-1]!==e);return["match",n,e,!r,r]}return[r?"all":"any"].concat(t.map(e=>[r?"!=":"==",n,e]))}function zr(e){return"$type"===e||("$id"===e?["!=",["id"],null]:["has",e])}function Fr(e){let t=!1;if(7===e.version&&(e=X(e),t=!0),8===e.version&&(t=function(e){const t=[];return q(e,e=>{e.filter&&(e.filter=Kr(e.filter))}),N(e,{paint:!0,layout:!0},({path:e,value:r,reference:n,set:i})=>{pr(r)||("object"!=typeof r||Array.isArray(r)?n.tokens&&"string"==typeof r&&i(wr(r)):(i(br(r,n)),t.push(e.join("."))))}),e}(e),t=!0),!t)throw new Error("cannot migrate from",e.version);return e}var qr=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Nr(e,t){const r={};for(const t in e)"ref"!==t&&(r[t]=e[t]);return qr.forEach(e=>{e in t&&(r[e]=t[e])}),r}function Hr(e){e=e.slice();const t=Object.create(null);for(let r=0;r<e.length;r++)t[e[r].id]=e[r];for(let r=0;r<e.length;r++)"ref"in e[r]&&(e[r]=Nr(e[r],t[e[r].ref]));return e}class Gr{constructor(e,t,r,n){this.message=(e?e+": ":"")+r,n&&(this.identifier=n),null!=t&&t.__line__&&(this.line=t.__line__)}}class Vr{constructor(e){this.error=e,this.message=e.message;const t=e.message.match(/line (\d+)/);this.line=t?parseInt(t[1],10):0}}function Zr(e){const t=e.key,r=e.value;return r?[new Gr(t,r,"constants have been deprecated as of v8")]:[]}function Xr(e){const t=e.key,r=e.value,n=e.valueSpec||{},i=e.objectElementValidators||{},o=e.style,a=e.styleSpec;let s=[];const l=rr(r);if("object"!==l)return[new Gr(t,r,`object expected, ${l} found`)];for(const e in r){const l=e.split(".")[0],_=n[l]||n["*"];let u;if(i[l])u=i[l];else if(n[l])u=hn;else if(i["*"])u=i["*"];else{if(!n["*"]){s.push(new Gr(t,r[e],`unknown property "${e}"`));continue}u=hn}s=s.concat(u({key:(t?t+".":t)+e,value:r[e],valueSpec:_,style:o,styleSpec:a,object:r,objectKey:e},r))}for(const e in n)i[e]||n[e].required&&void 0===n[e].default&&void 0===r[e]&&s.push(new Gr(t,r,`missing required property "${e}"`));return s}function $r(e){const t=e.value,r=e.valueSpec,n=e.style,i=e.styleSpec,o=e.key,a=e.arrayElementValidator||hn;if("array"!==rr(t))return[new Gr(o,t,`array expected, ${rr(t)} found`)];if(r.length&&t.length!==r.length)return[new Gr(o,t,`array length ${r.length} expected, length ${t.length} found`)];if(r["min-length"]&&t.length<r["min-length"])return[new Gr(o,t,`array length at least ${r["min-length"]} expected, length ${t.length} found`)];let s={type:r.value,values:r.values,minimum:r.minimum,maximum:r.maximum};i.$version<7&&(s.function=r.function),"object"===rr(r.value)&&(s=r.value);let l=[];for(let e=0;e<t.length;e++)l=l.concat(a({array:t,arrayIndex:e,value:t[e],valueSpec:s,style:n,styleSpec:i,key:`${o}[${e}]`}));return l}function Yr(e){const t=e.key,r=e.value,n=e.valueSpec;let i=rr(r);if("number"===i&&r!=r&&(i="NaN"),"number"!==i)return[new Gr(t,r,`number expected, ${i} found`)];if("minimum"in n){let i=n.minimum;if("array"===rr(n.minimum)){const t=e.arrayIndex;i=n.minimum[t]}if(r<i)return[new Gr(t,r,`${r} is less than the minimum value ${i}`)]}if("maximum"in n){let i=n.maximum;if("array"===rr(n.maximum)){const t=e.arrayIndex;i=n.maximum[t]}if(r>i)return[new Gr(t,r,`${r} is greater than the maximum value ${i}`)]}return[]}function Jr(e){const t=e.valueSpec,r=Cr(e.value.type);let n,i,o,a={};const s="categorical"!==r&&void 0===e.value.property,l=!s,_="array"===rr(e.value.stops)&&"array"===rr(e.value.stops[0])&&"object"===rr(e.value.stops[0][0]),u=Xr({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===r)return[new Gr(e.key,e.value,'identity function may not have a "stops" property')];let t=[];const n=e.value;t=t.concat($r({key:e.key,value:n,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:c})),"array"===rr(n)&&0===n.length&&t.push(new Gr(e.key,n,"array must have at least one stop"));return t},default:function(e){return hn({key:e.key,value:e.value,valueSpec:t,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===r&&s&&u.push(new Gr(e.key,e.value,'missing required property "property"')),"identity"===r||e.value.stops||u.push(new Gr(e.key,e.value,'missing required property "stops"')),"exponential"===r&&e.valueSpec.expression&&!tr(e.valueSpec)&&u.push(new Gr(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(l&&!Qt(e.valueSpec)?u.push(new Gr(e.key,e.value,"property functions not supported")):s&&!er(e.valueSpec)&&u.push(new Gr(e.key,e.value,"zoom functions not supported"))),"categorical"!==r&&!_||void 0!==e.value.property||u.push(new Gr(e.key,e.value,'"property" property is required')),u;function c(e){let r=[];const n=e.value,s=e.key;if("array"!==rr(n))return[new Gr(s,n,`array expected, ${rr(n)} found`)];if(2!==n.length)return[new Gr(s,n,`array length 2 expected, length ${n.length} found`)];if(_){if("object"!==rr(n[0]))return[new Gr(s,n,`object expected, ${rr(n[0])} found`)];if(void 0===n[0].zoom)return[new Gr(s,n,"object stop key must have zoom")];if(void 0===n[0].value)return[new Gr(s,n,"object stop key must have value")];if(o&&o>Cr(n[0].zoom))return[new Gr(s,n[0].zoom,"stop zoom values must appear in ascending order")];Cr(n[0].zoom)!==o&&(o=Cr(n[0].zoom),i=void 0,a={}),r=r.concat(Xr({key:s+"[0]",value:n[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:Yr,value:p}}))}else r=r.concat(p({key:s+"[0]",value:n[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},n));return pr(Dr(n[1]))?r.concat([new Gr(s+"[1]",n[1],"expressions are not allowed in function stops.")]):r.concat(hn({key:s+"[1]",value:n[1],valueSpec:t,style:e.style,styleSpec:e.styleSpec}))}function p(e,o){const s=rr(e.value),l=Cr(e.value),_=null!==e.value?e.value:o;if(n){if(s!==n)return[new Gr(e.key,_,`${s} stop domain type must match previous stop domain type ${n}`)]}else n=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new Gr(e.key,_,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==r){let n=`number expected, ${s} found`;return Qt(t)&&void 0===r&&(n+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Gr(e.key,_,n)]}return"categorical"!==r||"number"!==s||isFinite(l)&&Math.floor(l)===l?"categorical"!==r&&"number"===s&&void 0!==i&&l<i?[new Gr(e.key,_,"stop domain values must appear in ascending order")]:(i=l,"categorical"===r&&l in a?[new Gr(e.key,_,"stop domain values must be unique")]:(a[l]=!0,[])):[new Gr(e.key,_,"integer expected, found "+l)]}}function Qr(e){const t=("property"===e.expressionContext?mr:dr)(Dr(e.value),e.valueSpec);if("error"===t.result)return t.value.map(t=>new Gr(`${e.key}${t.key}`,e.value,t.message));const r=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!r.outputDefined())return[new Gr(e.key,e.value,`Invalid data expression for "${e.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===e.expressionContext&&"layout"===e.propertyType&&!tt(r))return[new Gr(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext)return function e(t,r){const n=new Set(["zoom","feature-state","pitch","distance-from-center"]);for(const e of r.valueSpec.expression.parameters)n.delete(e);if(0===n.size)return[];const i=[];if(t instanceof Se&&n.has(t.name))return[new Gr(r.key,r.value,`["${t.name}"] expression is not supported in a filter for a ${r.object.type} layer with id: ${r.object.id}`)];return t.eachChild(t=>{i.push(...e(t,r))}),i}(r,e);if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!rt(r,["zoom","feature-state"]))return[new Gr(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!et(r))return[new Gr(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function en(e){const t=e.key,r=e.value,n=e.valueSpec,i=[];return Array.isArray(n.values)?-1===n.values.indexOf(Cr(r))&&i.push(new Gr(t,r,`expected one of [${n.values.join(", ")}], ${JSON.stringify(r)} found`)):-1===Object.keys(n.values).indexOf(Cr(r))&&i.push(new Gr(t,r,`expected one of [${Object.keys(n.values).join(", ")}], ${JSON.stringify(r)} found`)),i}function tn(e){if(Tr(Dr(e.value))){const t=Dr(e.layerType);return Qr($({},e,{expressionContext:"filter",valueSpec:e.styleSpec["filter_"+(t||"fill")]}))}return function e(t){const r=t.value,n=t.key;if("array"!==rr(r))return[new Gr(n,r,`array expected, ${rr(r)} found`)];const i=t.styleSpec;let o,a=[];if(r.length<1)return[new Gr(n,r,"filter array must have at least 1 element")];switch(a=a.concat(en({key:n+"[0]",value:r[0],valueSpec:i.filter_operator,style:t.style,styleSpec:t.styleSpec})),Cr(r[0])){case"<":case"<=":case">":case">=":r.length>=2&&"$type"===Cr(r[1])&&a.push(new Gr(n,r,`"$type" cannot be use with operator "${r[0]}"`));case"==":case"!=":3!==r.length&&a.push(new Gr(n,r,`filter array for operator "${r[0]}" must have 3 elements`));case"in":case"!in":r.length>=2&&(o=rr(r[1]),"string"!==o&&a.push(new Gr(n+"[1]",r[1],`string expected, ${o} found`)));for(let e=2;e<r.length;e++)o=rr(r[e]),"$type"===Cr(r[1])?a=a.concat(en({key:`${n}[${e}]`,value:r[e],valueSpec:i.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==o&&"number"!==o&&"boolean"!==o&&a.push(new Gr(`${n}[${e}]`,r[e],`string, number, or boolean expected, ${o} found`));break;case"any":case"all":case"none":for(let i=1;i<r.length;i++)a=a.concat(e({key:`${n}[${i}]`,value:r[i],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":o=rr(r[1]),2!==r.length?a.push(new Gr(n,r,`filter array for "${r[0]}" operator must have 2 elements`)):"string"!==o&&a.push(new Gr(n+"[1]",r[1],`string expected, ${o} found`));break;case"within":o=rr(r[1]),2!==r.length?a.push(new Gr(n,r,`filter array for "${r[0]}" operator must have 2 elements`)):"object"!==o&&a.push(new Gr(n+"[1]",r[1],`object expected, ${o} found`))}return a}(e)}function rn(e,t){const r=e.key,n=e.style,i=e.styleSpec,o=e.value,a=e.objectKey,s=i[`${t}_${e.layerType}`];if(!s)return[];const l=a.match(/^(.*)-transition$/);if("paint"===t&&l&&s[l[1]]&&s[l[1]].transition)return hn({key:r,value:o,valueSpec:i.transition,style:n,styleSpec:i});const _=e.valueSpec||s[a];if(!_)return[new Gr(r,o,`unknown property "${a}"`)];let u;if("string"===rr(o)&&Qt(_)&&!_.tokens&&(u=/^{([^}]+)}$/.exec(o)))return[new Gr(r,o,`"${a}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(u[1])} }\`.`)];const c=[];return"symbol"===e.layerType&&("text-field"===a&&n&&!n.glyphs&&c.push(new Gr(r,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&nr(Dr(o))&&"identity"===Cr(o.type)&&c.push(new Gr(r,o,'"text-font" does not support identity functions'))),c.concat(hn({key:e.key,value:o,valueSpec:_,style:n,styleSpec:i,expressionContext:"property",propertyType:t,propertyKey:a}))}function nn(e){return rn(e,"paint")}function on(e){return rn(e,"layout")}function an(e){let t=[];const r=e.value,n=e.key,i=e.style,o=e.styleSpec;r.type||r.ref||t.push(new Gr(n,r,'either "type" or "ref" is required'));let a=Cr(r.type);const s=Cr(r.ref);if(r.id){const o=Cr(r.id);for(let a=0;a<e.arrayIndex;a++){const e=i.layers[a];Cr(e.id)===o&&t.push(new Gr(n,r.id,`duplicate layer id "${r.id}", previously used at line ${e.id.__line__}`))}}if("ref"in r){let e;["type","source","source-layer","filter","layout"].forEach(e=>{e in r&&t.push(new Gr(n,r[e],`"${e}" is prohibited for ref layers`))}),i.layers.forEach(t=>{Cr(t.id)===s&&(e=t)}),e?e.ref?t.push(new Gr(n,r.ref,"ref cannot reference another ref layer")):a=Cr(e.type):t.push(new Gr(n,r.ref,`ref layer "${s}" not found`))}else if("background"!==a&&"sky"!==a)if(r.source){const e=i.sources&&i.sources[r.source],o=e&&Cr(e.type);e?"vector"===o&&"raster"===a?t.push(new Gr(n,r.source,`layer "${r.id}" requires a raster source`)):"raster"===o&&"raster"!==a?t.push(new Gr(n,r.source,`layer "${r.id}" requires a vector source`)):"vector"!==o||r["source-layer"]?"raster-dem"===o&&"hillshade"!==a?t.push(new Gr(n,r.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==a||!r.paint||!r.paint["line-gradient"]||"geojson"===o&&e.lineMetrics||t.push(new Gr(n,r,`layer "${r.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new Gr(n,r,`layer "${r.id}" must specify a "source-layer"`)):t.push(new Gr(n,r.source,`source "${r.source}" not found`))}else t.push(new Gr(n,r,'missing required property "source"'));return t=t.concat(Xr({key:n,value:r,valueSpec:o.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":()=>[],type:()=>hn({key:n+".type",value:r.type,valueSpec:o.layer.type,style:e.style,styleSpec:e.styleSpec,object:r,objectKey:"type"}),filter:e=>tn($({layerType:a},e)),layout:e=>Xr({layer:r,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":e=>on($({layerType:a},e))}}),paint:e=>Xr({layer:r,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":e=>nn($({layerType:a},e))}})}})),t}function sn(e){const t=e.value,r=e.key,n=rr(t);return"string"!==n?[new Gr(r,t,`string expected, ${n} found`)]:[]}const ln={promoteId:function({key:e,value:t}){if("string"===rr(t))return sn({key:e,value:t});{const r=[];for(const n in t)r.push(...sn({key:`${e}.${n}`,value:t[n]}));return r}}};function _n(e){const t=e.value,r=e.key,n=e.styleSpec,i=e.style;if(!t.type)return[new Gr(r,t,'"type" is required')];const o=Cr(t.type);let a;switch(o){case"vector":case"raster":case"raster-dem":return a=Xr({key:r,value:t,valueSpec:n["source_"+o.replace("-","_")],style:e.style,styleSpec:n,objectElementValidators:ln}),a;case"geojson":if(a=Xr({key:r,value:t,valueSpec:n.source_geojson,style:i,styleSpec:n,objectElementValidators:ln}),t.cluster)for(const e in t.clusterProperties){const[n,i]=t.clusterProperties[e],o="string"==typeof n?[n,["accumulated"],["get",e]]:n;a.push(...Qr({key:`${r}.${e}.map`,value:i,expressionContext:"cluster-map"})),a.push(...Qr({key:`${r}.${e}.reduce`,value:o,expressionContext:"cluster-reduce"}))}return a;case"video":return Xr({key:r,value:t,valueSpec:n.source_video,style:i,styleSpec:n});case"image":return Xr({key:r,value:t,valueSpec:n.source_image,style:i,styleSpec:n});case"canvas":return[new Gr(r,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return en({key:r+".type",value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:n})}}function un(e){const t=e.value,r=e.styleSpec,n=r.light,i=e.style;let o=[];const a=rr(t);if(void 0===t)return o;if("object"!==a)return o=o.concat([new Gr("light",t,`object expected, ${a} found`)]),o;for(const e in t){const a=e.match(/^(.*)-transition$/);o=a&&n[a[1]]&&n[a[1]].transition?o.concat(hn({key:e,value:t[e],valueSpec:r.transition,style:i,styleSpec:r})):n[e]?o.concat(hn({key:e,value:t[e],valueSpec:n[e],style:i,styleSpec:r})):o.concat([new Gr(e,t[e],`unknown property "${e}"`)])}return o}function cn(e){const t=e.value,r=e.key,n=e.style,i=e.styleSpec,o=i.terrain;let a=[];const s=rr(t);if(void 0===t)return a;if("object"!==s)return a=a.concat([new Gr("terrain",t,`object expected, ${s} found`)]),a;for(const e in t){const r=e.match(/^(.*)-transition$/);a=r&&o[r[1]]&&o[r[1]].transition?a.concat(hn({key:e,value:t[e],valueSpec:i.transition,style:n,styleSpec:i})):o[e]?a.concat(hn({key:e,value:t[e],valueSpec:o[e],style:n,styleSpec:i})):a.concat([new Gr(e,t[e],`unknown property "${e}"`)])}if(t.source){const e=n.sources&&n.sources[t.source],i=e&&Cr(e.type);e?"raster-dem"!==i&&a.push(new Gr(r,t.source,`terrain cannot be used with a source of type ${i}, it only be used with a "raster-dem" source type`)):a.push(new Gr(r,t.source,`source "${t.source}" not found`))}else a.push(new Gr(r,t,'terrain is missing required property "source"'));return a}function pn(e){const t=e.value,r=e.style,n=e.styleSpec,i=n.fog;let o=[];const a=rr(t);if(void 0===t)return o;if("object"!==a)return o=o.concat([new Gr("fog",t,`object expected, ${a} found`)]),o;for(const e in t){const a=e.match(/^(.*)-transition$/);o=a&&i[a[1]]&&i[a[1]].transition?o.concat(hn({key:e,value:t[e],valueSpec:n.transition,style:r,styleSpec:n})):i[e]?o.concat(hn({key:e,value:t[e],valueSpec:i[e],style:r,styleSpec:n})):o.concat([new Gr(e,t[e],`unknown property "${e}"`)])}return o}const dn={"*":()=>[],array:$r,boolean:function(e){const t=e.value,r=e.key,n=rr(t);return"boolean"!==n?[new Gr(r,t,`boolean expected, ${n} found`)]:[]},number:Yr,color:function(e){const t=e.key,r=e.value,n=rr(r);return"string"!==n?[new Gr(t,r,`color expected, ${n} found`)]:null===fe.parseCSSColor(r)?[new Gr(t,r,`color expected, "${r}" found`)]:[]},constants:Zr,enum:en,filter:tn,function:Jr,layer:an,object:Xr,source:_n,light:un,terrain:cn,fog:pn,string:sn,formatted:function(e){return 0===sn(e).length?[]:Qr(e)},resolvedImage:function(e){return 0===sn(e).length?[]:Qr(e)},projection:function(e){const t=e.value,r=e.styleSpec,n=r.projection,i=e.style;let o=[];const a=rr(t);if("object"===a)for(const e in t)o=o.concat(hn({key:e,value:t[e],valueSpec:n[e],style:i,styleSpec:r}));else"string"!==a&&(o=o.concat([new Gr("projection",t,`object or string expected, ${a} found`)]));return o}};function hn(e){const t=e.value,r=e.valueSpec,n=e.styleSpec;if(r.expression&&nr(Cr(t)))return Jr(e);if(r.expression&&pr(Dr(t)))return Qr(e);if(r.type&&dn[r.type])return dn[r.type](e);return Xr($({},e,{valueSpec:r.type?n[r.type]:r}))}function fn(e){const t=e.value,r=e.key,n=sn(e);return n.length||(-1===t.indexOf("{fontstack}")&&n.push(new Gr(r,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&n.push(new Gr(r,t,'"glyphs" url must include a "{range}" token'))),n}function mn(e,t=i){let r=[];return r=r.concat(hn({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:fn,"*":()=>[]}})),e.constants&&(r=r.concat(Zr({key:"constants",value:e.constants,style:e,styleSpec:t}))),yn(r)}function yn(e){return[].concat(e).sort((e,t)=>e.line-t.line)}function gn(e){return function(...t){return yn(e.apply(this,t))}}mn.source=gn(_n),mn.light=gn(un),mn.terrain=gn(cn),mn.fog=gn(pn),mn.layer=gn(an),mn.filter=gn(tn),mn.paintProperty=gn(nn),mn.layoutProperty=gn(on);var bn=_((function(e,t){var r=function(){var e=function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r},t=[1,12],r=[1,13],n=[1,9],i=[1,10],o=[1,11],a=[1,14],s=[1,15],l=[14,18,22,24],_=[18,22],u=[22,24],c={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(e,t,r,n,i,o,a){var s=o.length-1;switch(i){case 1:this.$=new String(e.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b")),this.$.__line__=this._$.first_line;break;case 2:this.$=new Number(e),this.$.__line__=this._$.first_line;break;case 3:this.$=null;break;case 4:this.$=new Boolean(!0),this.$.__line__=this._$.first_line;break;case 5:this.$=new Boolean(!1),this.$.__line__=this._$.first_line;break;case 6:return this.$=o[s-1];case 13:this.$={},Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 14:case 19:this.$=o[s-1],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[o[s-2],o[s]];break;case 16:this.$={},this.$[o[s][0]]=o[s][1];break;case 17:this.$=o[s-2],o[s-2][o[s][0]]=o[s][1];break;case 18:this.$=[],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 20:this.$=[o[s]];break;case 21:this.$=o[s-2],o[s-2].push(o[s])}},table:[{3:5,4:t,5:6,6:r,7:3,8:n,9:4,10:i,11:o,12:1,13:2,15:7,16:8,17:a,23:s},{1:[3]},{14:[1,16]},e(l,[2,7]),e(l,[2,8]),e(l,[2,9]),e(l,[2,10]),e(l,[2,11]),e(l,[2,12]),e(l,[2,3]),e(l,[2,4]),e(l,[2,5]),e([14,18,21,22,24],[2,1]),e(l,[2,2]),{3:20,4:t,18:[1,17],19:18,20:19},{3:5,4:t,5:6,6:r,7:3,8:n,9:4,10:i,11:o,13:23,15:7,16:8,17:a,23:s,24:[1,21],25:22},{1:[2,6]},e(l,[2,13]),{18:[1,24],22:[1,25]},e(_,[2,16]),{21:[1,26]},e(l,[2,18]),{22:[1,28],24:[1,27]},e(u,[2,20]),e(l,[2,14]),{3:20,4:t,20:29},{3:5,4:t,5:6,6:r,7:3,8:n,9:4,10:i,11:o,13:30,15:7,16:8,17:a,23:s},e(l,[2,19]),{3:5,4:t,5:6,6:r,7:3,8:n,9:4,10:i,11:o,13:31,15:7,16:8,17:a,23:s},e(_,[2,17]),e(_,[2,15]),e(u,[2,21])],defaultActions:{16:[2,6]},parseError:function(e,t){if(!t.recoverable)throw new Error(e);this.trace(e)},parse:function(e){var t=this,r=[0],n=[null],i=[],o=this.table,a="",s=0,l=0,_=2,u=1,c=i.slice.call(arguments,1),p=Object.create(this.lexer),d={yy:{}};for(var h in this.yy)Object.prototype.hasOwnProperty.call(this.yy,h)&&(d.yy[h]=this.yy[h]);p.setInput(e,d.yy),d.yy.lexer=p,d.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var f=p.yylloc;i.push(f);var m=p.options&&p.options.ranges;function y(){var e;return"number"!=typeof(e=p.lex()||u)&&(e=t.symbols_[e]||e),e}"function"==typeof d.yy.parseError?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var g,b,v,E,O,M,P,x,w={};;){if(b=r[r.length-1],this.defaultActions[b]?v=this.defaultActions[b]:(null==g&&(g=y()),v=o[b]&&o[b][g]),void 0===v||!v.length||!v[0]){var C="";for(O in x=[],o[b])this.terminals_[O]&&O>_&&x.push("'"+this.terminals_[O]+"'");C=p.showPosition?"Parse error on line "+(s+1)+":\n"+p.showPosition()+"\nExpecting "+x.join(", ")+", got '"+(this.terminals_[g]||g)+"'":"Parse error on line "+(s+1)+": Unexpected "+(g==u?"end of input":"'"+(this.terminals_[g]||g)+"'"),this.parseError(C,{text:p.match,token:this.terminals_[g]||g,line:p.yylineno,loc:f,expected:x})}if(v[0]instanceof Array&&v.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+g);switch(v[0]){case 1:r.push(g),n.push(p.yytext),i.push(p.yylloc),r.push(v[1]),g=null,l=p.yyleng,a=p.yytext,s=p.yylineno,f=p.yylloc;break;case 2:if(M=this.productions_[v[1]][1],w.$=n[n.length-M],w._$={first_line:i[i.length-(M||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(M||1)].first_column,last_column:i[i.length-1].last_column},m&&(w._$.range=[i[i.length-(M||1)].range[0],i[i.length-1].range[1]]),void 0!==(E=this.performAction.apply(w,[a,l,s,d.yy,v[1],n,i].concat(c))))return E;M&&(r=r.slice(0,-1*M*2),n=n.slice(0,-1*M),i=i.slice(0,-1*M)),r.push(this.productions_[v[1]][0]),n.push(w.$),i.push(w._$),P=o[r[r.length-2]][r[r.length-1]],r.push(P);break;case 3:return!0}}return!0}},p={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var r,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((r=this._input.match(this.rules[i[o]]))&&(!t||r[0].length>t[0].length)){if(t=r,n=o,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,i[o])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,r,n){switch(r){case 0:break;case 1:return 6;case 2:return t.yytext=t.yytext.substr(1,t.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};function d(){this.yy={}}return c.lexer=p,d.prototype=c,c.Parser=d,new d}();void 0!==u&&(t.parser=r,t.Parser=r.Parser,t.parse=function(){return r.parse.apply(r,arguments)})}));function vn(e){if(e instanceof String||"string"==typeof e||e instanceof n)try{return bn.parse(e.toString())}catch(e){throw new Vr(e)}return e}function En(e,t=i){let r=e;try{r=vn(r)}catch(e){return[e]}return mn(r,t)}new Set(["vector","raster","raster-dem"]);const On={StyleExpression:cr,isExpression:pr,isExpressionFilter:Tr,createExpression:dr,createPropertyExpression:mr,normalizePropertyExpression:function(e,t){if(nr(e))return new yr(e,t);if(pr(e)){const r=mr(e,t);if("error"===r.result)throw new Error(r.value.map(e=>`${e.key}: ${e.message}`).join(", "));return r.value}{let r=e;return"string"==typeof e&&"color"===t.type&&(r=me.parse(e)),{kind:"constant",evaluate:()=>r}}},ZoomConstantExpression:hr,ZoomDependentExpression:fr,StylePropertyFunction:yr},Mn={convertFunction:br,createFunction:or,isFunction:nr};En.parsed=En,En.latest=En}).call(this,r(50),r(211).Buffer)},function(e,t,r){"use strict";function n(e,t,r){for(var n,o,a=r||i,s=0,l=e.length,_=!1;s<l;)(o=+a(e[n=s+(l-s>>1)],t))<0?s=n+1:(l=n,_=!o);return _?s:~s}function i(e,t){return e>t?1:e<t?-1:0}function o(e,t,r){var n=e.length;if(e[0]<=t)return 0;if(t<=e[n-1])return n-1;var i=void 0;if(r>0){for(i=1;i<n;++i)if(e[i]<t)return i-1}else if(r<0){for(i=1;i<n;++i)if(e[i]<=t)return i}else for(i=1;i<n;++i){if(e[i]==t)return i;if(e[i]<t)return"function"==typeof r?r(t,e[i-1],e[i])>0?i-1:i:e[i-1]-t<t-e[i]?i-1:i}return n-1}function a(e,t,r){for(;t<r;){var n=e[t];e[t]=e[r],e[r]=n,++t,--r}}function s(e,t){for(var r=Array.isArray(t)?t:[t],n=r.length,i=0;i<n;i++)e[e.length]=r[i]}function l(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function _(e,t,r){var n=t||i;return e.every((function(t,i){if(0===i)return!0;var o=n(e[i-1],t);return!(o>0||r&&0===o)}))}r.d(t,"a",(function(){return n})),r.d(t,"f",(function(){return i})),r.d(t,"e",(function(){return o})),r.d(t,"g",(function(){return a})),r.d(t,"c",(function(){return s})),r.d(t,"b",(function(){return l})),r.d(t,"d",(function(){return _}))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return Block}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),classnames__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(51),classnames__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_9__),_FieldDocLabel__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(112),_Doc__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(113),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},Block=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(Block,_React$Component);var _super=_createSuper(Block);function Block(e){var t;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,Block),t=_super.call(this,e),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"onToggleDoc",(function(e){t.setState({showDoc:e})})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"onLabelClick",(function(e){var r=e.nativeEvent.target,n=(e.nativeEvent,t._blockEl.contains(r));"INPUT"===e.nativeEvent.target.nodeName||n||e.stopPropagation(),e.preventDefault()})),t.state={showDoc:!1},t}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Block,[{key:"onChange",value:function(e){var t=e.target.value;return this.props.onChange(""===t?void 0:t)}},{key:"render",value:function(){var e=this;return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("label",{style:this.props.style,"data-wd-key":this.props["data-wd-key"],className:classnames__WEBPACK_IMPORTED_MODULE_9___default()({"maputnik-input-block":!0,"maputnik-input-block--wide":this.props.wideMode,"maputnik-action-block":this.props.action}),onClick:this.onLabelClick},this.props.fieldSpec&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-input-block-label"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_FieldDocLabel__WEBPACK_IMPORTED_MODULE_10__.a,{label:this.props.label,doc:this.props.fieldSpec.doc,onToggleDoc:this.onToggleDoc})),!this.props.fieldSpec&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-input-block-label"},this.props.label),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-input-block-action"},this.props.action),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-input-block-content",ref:function(t){return e._blockEl=t}},this.props.children),this.props.fieldSpec&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-doc-inline",style:{display:this.state.showDoc?"":"none"}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_Doc__WEBPACK_IMPORTED_MODULE_11__.a,{fieldSpec:this.props.fieldSpec})))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),Block}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(Block,"propTypes",{"data-wd-key":prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string,label:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string,prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.element]),action:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.element,children:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.node.isRequired,style:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object,onChange:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func,fieldSpec:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object,wideMode:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.bool}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(Block,"Block","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\Block.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"d",(function(){return o})),r.d(t,"c",(function(){return a})),r.d(t,"b",(function(){return s})),r.d(t,"h",(function(){return l})),r.d(t,"f",(function(){return _})),r.d(t,"e",(function(){return u})),r.d(t,"g",(function(){return c}));var n=r(39);function i(e,t,r,i){var o;return o=r&&r.length?r.shift():n.g?new OffscreenCanvas(e||300,t||300):document.createElement("canvas"),e&&(o.width=e),t&&(o.height=t),o.getContext("2d",i)}function o(e){var t=e.canvas;t.width=1,t.height=1,e.clearRect(0,0,1,1)}function a(e){var t=e.offsetWidth,r=getComputedStyle(e);return t+=parseInt(r.marginLeft,10)+parseInt(r.marginRight,10)}function s(e){var t=e.offsetHeight,r=getComputedStyle(e);return t+=parseInt(r.marginTop,10)+parseInt(r.marginBottom,10)}function l(e,t){var r=t.parentNode;r&&r.replaceChild(e,t)}function _(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function u(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function c(e,t){for(var r=e.childNodes,n=0;;++n){var i=r[n],o=t[n];if(!i&&!o)break;i!==o&&(i?o?e.insertBefore(o,i):(e.removeChild(i),--n):e.appendChild(o))}}},function(e,t,r){var n=r(524)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},function(e,t,r){"use strict";t.a={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return InputButton}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),classnames__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(51),classnames__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_8__),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},InputButton=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(InputButton,_React$Component);var _super=_createSuper(InputButton);function InputButton(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,InputButton),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(InputButton,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("button",{id:this.props.id,title:this.props.title,type:this.props.type,onClick:this.props.onClick,disabled:this.props.disabled,"aria-label":this.props["aria-label"],className:classnames__WEBPACK_IMPORTED_MODULE_8___default()("maputnik-button",this.props.className),"data-wd-key":this.props["data-wd-key"],style:this.props.style},this.props.children)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),InputButton}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(InputButton,"propTypes",{"data-wd-key":prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string,"aria-label":prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string,onClick:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func,style:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.object,className:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string,children:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.node,disabled:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool,type:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string,id:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string,title:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(InputButton,"InputButton","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\InputButton.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(e,t,r){"use strict";r.d(t,"f",(function(){return i})),r.d(t,"h",(function(){return o})),r.d(t,"i",(function(){return a})),r.d(t,"m",(function(){return s})),r.d(t,"r",(function(){return l})),r.d(t,"q",(function(){return _})),r.d(t,"e",(function(){return u})),r.d(t,"o",(function(){return c})),r.d(t,"p",(function(){return p})),r.d(t,"g",(function(){return d})),r.d(t,"j",(function(){return h})),r.d(t,"d",(function(){return f})),r.d(t,"k",(function(){return m})),r.d(t,"a",(function(){return y})),r.d(t,"b",(function(){return g})),r.d(t,"c",(function(){return b})),r.d(t,"l",(function(){return v})),r.d(t,"n",(function(){return E}));var n=r(0);function i(e){return Object(n.a)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}}]})(e)}function o(e){return Object(n.a)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}}]})(e)}function a(e){return Object(n.a)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M11 7h2v2h-2V7zm0 4h2v6h-2v-6zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}}]})(e)}function s(e){return Object(n.a)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 4H5a2 2 0 00-2 2v12a2 2 0 002 2h4v-2H5V8h14v10h-4v2h4c1.1 0 2-.9 2-2V6a2 2 0 00-2-2zm-7 6l-4 4h3v6h2v-6h3l-4-4z"}}]})(e)}function l(e){return Object(n.a)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46A11.804 11.804 0 001 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}}]})(e)}function _(e){return Object(n.a)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}}]})(e)}function u(e){return Object(n.a)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}}]})(e)}function c(e){return Object(n.a)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M17 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}}]})(e)}function p(e){return Object(n.a)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"}}]})(e)}function d(e){return Object(n.a)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M18 4H6v2l6.5 6L6 18v2h12v-3h-7l5-5-5-5h7z"}}]})(e)}function h(e){return Object(n.a)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"}}]})(e)}function f(e){return Object(n.a)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19.35 10.04A7.49 7.49 0 0012 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 000 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}}]})(e)}function m(e){return Object(n.a)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M11.99 18.54l-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z"}}]})(e)}function y(e){return Object(n.a)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M7 10l5 5 5-5z"}}]})(e)}function g(e){return Object(n.a)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M7 14l5-5 5 5z"}}]})(e)}function b(e){return Object(n.a)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}}]})(e)}function v(e){return Object(n.a)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}}]})(e)}function E(e){return Object(n.a)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"circle",attr:{cx:"12",cy:"19",r:"2"}},{tag:"path",attr:{d:"M10 3h4v12h-4z"}}]})(e)}},function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return o})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return s}));var n=r(23);function i(){return!0}function o(){return!1}function a(){}function s(e){var t,r,i,o=!1;return function(){var a=Array.prototype.slice.call(arguments);return o&&this===i&&Object(n.b)(a,r)||(o=!0,i=this,r=a,t=e.apply(this,arguments)),t}}},function(e,t,r){var n=r(342),i=r(343),o=r(210),a=r(344);e.exports=function(e,t){return n(e)||i(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";t.a={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}},function(e,t){function r(){return e.exports=r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,r.apply(this,arguments)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"};var i={};i[n.RADIANS]=6370997/(2*Math.PI),i[n.DEGREES]=2*Math.PI*6370997/360,i[n.FEET]=.3048,i[n.METERS]=1,i[n.USFEET]=1200/3937,t.b=n},function(e,t,r){"use strict";function n(e){return e[0]>0&&e[1]>0}function i(e,t,r){return void 0===r&&(r=[0,0]),r[0]=e[0]*t+.5|0,r[1]=e[1]*t+.5|0,r}function o(e,t){return Array.isArray(e)?e:(void 0===t?t=[e,e]:(t[0]=e,t[1]=e),t)}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return o}))},function(e,t,r){"use strict";t.a={ANIMATING:0,INTERACTING:1}},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return InputString}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},InputString=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(InputString,_React$Component);var _super=_createSuper(InputString);function InputString(e){var t;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,InputString),(t=_super.call(this,e)).state={editing:!1,value:e.value||""},t}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(InputString,[{key:"render",value:function(){var e,t,r=this;return this.props.multi?(e="textarea",t=["maputnik-string","maputnik-string--multi"]):(e="input",t=["maputnik-string"]),this.props.disabled&&t.push("maputnik-string--disabled"),this.props.error&&t.push("maputnik-string--error"),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(e,{"aria-label":this.props["aria-label"],"data-wd-key":this.props["data-wd-key"],spellCheck:this.props.hasOwnProperty("spellCheck")?this.props.spellCheck:!("input"===e),disabled:this.props.disabled,className:t.join(" "),style:this.props.style,type:this.props.type,value:void 0===this.state.value?"":this.state.value,placeholder:this.props.default,onChange:function(e){r.setState({editing:!0,value:e.target.value},(function(){r.props.onInput(r.state.value)}))},onBlur:function(){r.state.value!==r.props.value&&(r.setState({editing:!1}),r.props.onChange(r.state.value))},onKeyDown:function(e){13===e.keyCode&&r.props.onChange(r.state.value)},required:this.props.required})}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.editing?{}:{value:e.value}}}]),InputString}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(InputString,"propTypes",{"data-wd-key":prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string,value:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string,style:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.object,default:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string,onChange:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func,onInput:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func,multi:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool,required:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool,disabled:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool,spellCheck:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool,"aria-label":prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string,error:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(InputString,"defaultProps",{onInput:function(){}}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(InputString,"InputString","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\InputString.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(e,t,r){"use strict";var n,i=r(47),o=r(80),a=r(95),s=r(21),l=r(10),_=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),u=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.key=r,i.oldValue=n,i}return _(t,e),t}(i.a),c=function(e){function t(t){var r=e.call(this)||this;return r.on,r.once,r.un,Object(l.c)(r),r.values_=null,void 0!==t&&r.setProperties(t),r}return _(t,e),t.prototype.get=function(e){var t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t},t.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},t.prototype.getProperties=function(){return this.values_&&Object(s.a)({},this.values_)||{}},t.prototype.hasProperties=function(){return!!this.values_},t.prototype.notify=function(e,t){var r;r="change:".concat(e),this.hasListener(r)&&this.dispatchEvent(new u(r,e,t)),r=o.a.PROPERTYCHANGE,this.hasListener(r)&&this.dispatchEvent(new u(r,e,t))},t.prototype.addChangeListener=function(e,t){this.addEventListener("change:".concat(e),t)},t.prototype.removeChangeListener=function(e,t){this.removeEventListener("change:".concat(e),t)},t.prototype.set=function(e,t,r){var n=this.values_||(this.values_={});if(r)n[e]=t;else{var i=n[e];n[e]=t,i!==t&&this.notify(e,i)}},t.prototype.setProperties=function(e,t){for(var r in e)this.set(r,e[r],t)},t.prototype.applyProperties=function(e){e.values_&&Object(s.a)(this.values_||(this.values_={}),e.values_)},t.prototype.unset=function(e,t){if(this.values_&&e in this.values_){var r=this.values_[e];delete this.values_[e],Object(s.d)(this.values_)&&(this.values_=null),t||this.notify(e,r)}},t}(a.a);t.a=c},function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"f",(function(){return o})),r.d(t,"d",(function(){return a})),r.d(t,"a",(function(){return s})),r.d(t,"g",(function(){return l})),r.d(t,"c",(function(){return _})),r.d(t,"e",(function(){return u}));var n="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",i=-1!==n.indexOf("firefox"),o=(-1!==n.indexOf("safari")&&-1==n.indexOf("chrom")&&(n.indexOf("version/15.4")>=0||n.match(/cpu (os|iphone os) 15_4 like mac os x/)),-1!==n.indexOf("webkit")&&-1==n.indexOf("edge")),a=-1!==n.indexOf("macintosh"),s="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,l="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,_="undefined"!=typeof Image&&Image.prototype.decode,u=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch(e){}return e}()},function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return i})),r.d(t,"e",(function(){return o})),r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return s})),r.d(t,"f",(function(){return u}));var n="ol-hidden",i="ol-selectable",o="ol-unselectable",a="ol-control",s="ol-collapsed",l=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),_=["style","variant","weight","size","lineHeight","family"],u=function(e){var t=e.match(l);if(!t)return null;for(var r={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},n=0,i=_.length;n<i;++n){var o=t[n+1];void 0!==o&&(r[_[n]]=o)}return r.families=r.family.split(/,\s?/),r}},function(e,t){function r(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,l,"next",e)}function l(e){r(a,i,o,s,l,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"d",(function(){return a})),r.d(t,"e",(function(){return s})),r.d(t,"f",(function(){return l})),r.d(t,"c",(function(){return _}));var n=r(5);r(13);function i(e,t){return e[0]+=+t[0],e[1]+=+t[1],e}function o(e,t){for(var r=!0,n=e.length-1;n>=0;--n)if(e[n]!=t[n]){r=!1;break}return r}function a(e,t){var r=Math.cos(t),n=Math.sin(t),i=e[0]*r-e[1]*n,o=e[1]*r+e[0]*n;return e[0]=i,e[1]=o,e}function s(e,t){return e[0]*=t,e[1]*=t,e}function l(e,t){if(t.canWrapX()){var r=Object(n.E)(t.getExtent()),i=_(e,t,r);i&&(e[0]-=i*r)}return e}function _(e,t,r){var i=t.getExtent(),o=0;if(t.canWrapX()&&(e[0]<i[0]||e[0]>i[2])){var a=r||Object(n.E)(i);o=Math.floor((e[0]-i[0])/a)}return o}},function(e,t,r){"use strict";function n(e,t,r,n,i){for(var o=void 0!==i?i:[],a=0,s=t;s<r;s+=n)o[a++]=e.slice(s,s+n);return o.length=a,o}function i(e,t,r,i,o){for(var a=void 0!==o?o:[],s=0,l=0,_=r.length;l<_;++l){var u=r[l];a[s++]=n(e,t,u,i,a[s]),t=u}return a.length=s,a}function o(e,t,r,n,o){for(var a=void 0!==o?o:[],s=0,l=0,_=r.length;l<_;++l){var u=r[l];a[s++]=i(e,t,u,n,a[s]),t=u[u.length-1]}return a.length=s,a}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return o}))},function(e,t,r){"use strict";t.a={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},function(e,t,r){"use strict";function n(e,t,r,n,i,o){for(var a=o||[],s=0,l=t;l<r;l+=n){var _=e[l],u=e[l+1];a[s++]=i[0]*_+i[2]*u+i[4],a[s++]=i[1]*_+i[3]*u+i[5]}return o&&a.length!=s&&(a.length=s),a}function i(e,t,r,n,i,o,a){for(var s=a||[],l=Math.cos(i),_=Math.sin(i),u=o[0],c=o[1],p=0,d=t;d<r;d+=n){var h=e[d]-u,f=e[d+1]-c;s[p++]=u+h*l-f*_,s[p++]=c+h*_+f*l;for(var m=d+2;m<d+n;++m)s[p++]=e[m]}return a&&s.length!=p&&(s.length=p),s}function o(e,t,r,n,i,o,a,s){for(var l=s||[],_=a[0],u=a[1],c=0,p=t;p<r;p+=n){var d=e[p]-_,h=e[p+1]-u;l[c++]=_+i*d,l[c++]=u+o*h;for(var f=p+2;f<p+n;++f)l[c++]=e[f]}return s&&l.length!=c&&(l.length=c),l}function a(e,t,r,n,i,o,a){for(var s=a||[],l=0,_=t;_<r;_+=n){s[l++]=e[_]+i,s[l++]=e[_+1]+o;for(var u=_+2;u<_+n;++u)s[l++]=e[u]}return a&&s.length!=l&&(s.length=l),s}r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"d",(function(){return a}))},function(e,t){function r(t){return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";var n=function(){function e(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}return e.prototype.preventDefault=function(){this.defaultPrevented=!0},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e}();t.a=n},function(e,t,r){e.exports=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,r=/gecko\/\d/i.test(e),n=/MSIE \d/.test(e),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),a=n||i||o,s=a&&(n?document.documentMode||6:+(o||i)[1]),l=!o&&/WebKit\//.test(e),_=l&&/Qt\/\d+\.\d+/.test(e),u=!o&&/Chrome\/(\d+)/.exec(e),c=u&&+u[1],p=/Opera\//.test(e),d=/Apple Computer/.test(navigator.vendor),h=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),f=/PhantomJS/.test(e),m=d&&(/Mobile\/\w+/.test(e)||navigator.maxTouchPoints>2),y=/Android/.test(e),g=m||y||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),b=m||/Mac/.test(t),v=/\bCrOS\b/.test(e),E=/win/i.test(t),O=p&&e.match(/Version\/(\d*\.\d*)/);O&&(O=Number(O[1])),O&&O>=15&&(p=!1,l=!0);var M=b&&(_||p&&(null==O||O<12.11)),P=r||a&&s>=9;function x(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var w,C=function(e,t){var r=e.className,n=x(t).exec(r);if(n){var i=r.slice(n.index+n[0].length);e.className=r.slice(0,n.index)+(i?n[1]+i:"")}};function D(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function T(e,t){return D(e).appendChild(t)}function k(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function A(e,t,r,n){var i=k(e,t,r,n);return i.setAttribute("role","presentation"),i}function I(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function L(e){var t;try{t=e.activeElement}catch(r){t=e.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function R(e,t){var r=e.className;x(t).test(r)||(e.className+=(r?" ":"")+t)}function S(e,t){for(var r=e.split(" "),n=0;n<r.length;n++)r[n]&&!x(r[n]).test(t)&&(t+=" "+r[n]);return t}w=document.createRange?function(e,t,r,n){var i=document.createRange();return i.setEnd(n||e,r),i.setStart(e,t),i}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(e){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};var B=function(e){e.select()};function U(e){return e.display.wrapper.ownerDocument}function W(e){return U(e).defaultView}function K(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function j(e,t,r){for(var n in t||(t={}),e)!e.hasOwnProperty(n)||!1===r&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function z(e,t,r,n,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=n||0,a=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return a+(t-o);a+=s-o,a+=r-a%r,o=s+1}}m?B=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:a&&(B=function(e){try{e.select()}catch(e){}});var F=function(){this.id=null,this.f=null,this.time=0,this.handler=K(this.onTimeout,this)};function q(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}F.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},F.prototype.set=function(e,t){this.f=t;var r=+new Date+e;(!this.id||r<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=r)};var N={toString:function(){return"CodeMirror.Pass"}},H={scroll:!1},G={origin:"*mouse"},V={origin:"+move"};function Z(e,t,r){for(var n=0,i=0;;){var o=e.indexOf("\t",n);-1==o&&(o=e.length);var a=o-n;if(o==e.length||i+a>=t)return n+Math.min(a,t-i);if(i+=o-n,n=o+1,(i+=r-i%r)>=t)return n}}var X=[""];function $(e){for(;X.length<=e;)X.push(Y(X)+" ");return X[e]}function Y(e){return e[e.length-1]}function J(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function Q(){}function ee(e,t){var r;return Object.create?r=Object.create(e):(Q.prototype=e,r=new Q),t&&j(t,r),r}var te=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function re(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||te.test(e))}function ne(e,t){return t?!!(t.source.indexOf("\\w")>-1&&re(e))||t.test(e):re(e)}function ie(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var oe=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ae(e){return e.charCodeAt(0)>=768&&oe.test(e)}function se(e,t,r){for(;(r<0?t>0:t<e.length)&&ae(e.charAt(t));)t+=r;return t}function le(e,t,r){for(var n=t>r?-1:1;;){if(t==r)return t;var i=(t+r)/2,o=n<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:r;e(o)?r=o:t=o+n}}var _e=null;function ue(e,t,r){var n;_e=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==r?n=i:_e=i),o.from==t&&(o.from!=o.to&&"before"!=r?n=i:_e=i)}return null!=n?n:_e}var ce=function(){var e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,t=/[stwN]/,r=/[LRr]/,n=/[Lb1n]/,i=/[1n]/;function o(e,t,r){this.level=e,this.from=t,this.to=r}return function(a,s){var l="ltr"==s?"L":"R";if(0==a.length||"ltr"==s&&!e.test(a))return!1;for(var _,u=a.length,c=[],p=0;p<u;++p)c.push((_=a.charCodeAt(p))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(_):1424<=_&&_<=1524?"R":1536<=_&&_<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(_-1536):1774<=_&&_<=2220?"r":8192<=_&&_<=8203?"w":8204==_?"b":"L");for(var d=0,h=l;d<u;++d){var f=c[d];"m"==f?c[d]=h:h=f}for(var m=0,y=l;m<u;++m){var g=c[m];"1"==g&&"r"==y?c[m]="n":r.test(g)&&(y=g,"r"==g&&(c[m]="R"))}for(var b=1,v=c[0];b<u-1;++b){var E=c[b];"+"==E&&"1"==v&&"1"==c[b+1]?c[b]="1":","!=E||v!=c[b+1]||"1"!=v&&"n"!=v||(c[b]=v),v=E}for(var O=0;O<u;++O){var M=c[O];if(","==M)c[O]="N";else if("%"==M){var P=void 0;for(P=O+1;P<u&&"%"==c[P];++P);for(var x=O&&"!"==c[O-1]||P<u&&"1"==c[P]?"1":"N",w=O;w<P;++w)c[w]=x;O=P-1}}for(var C=0,D=l;C<u;++C){var T=c[C];"L"==D&&"1"==T?c[C]="L":r.test(T)&&(D=T)}for(var k=0;k<u;++k)if(t.test(c[k])){var A=void 0;for(A=k+1;A<u&&t.test(c[A]);++A);for(var I="L"==(k?c[k-1]:l),L=I==("L"==(A<u?c[A]:l))?I?"L":"R":l,R=k;R<A;++R)c[R]=L;k=A-1}for(var S,B=[],U=0;U<u;)if(n.test(c[U])){var W=U;for(++U;U<u&&n.test(c[U]);++U);B.push(new o(0,W,U))}else{var K=U,j=B.length,z="rtl"==s?1:0;for(++U;U<u&&"L"!=c[U];++U);for(var F=K;F<U;)if(i.test(c[F])){K<F&&(B.splice(j,0,new o(1,K,F)),j+=z);var q=F;for(++F;F<U&&i.test(c[F]);++F);B.splice(j,0,new o(2,q,F)),j+=z,K=F}else++F;K<U&&B.splice(j,0,new o(1,K,U))}return"ltr"==s&&(1==B[0].level&&(S=a.match(/^\s+/))&&(B[0].from=S[0].length,B.unshift(new o(0,0,S[0].length))),1==Y(B).level&&(S=a.match(/\s+$/))&&(Y(B).to-=S[0].length,B.push(new o(0,u-S[0].length,u)))),"rtl"==s?B.reverse():B}}();function pe(e,t){var r=e.order;return null==r&&(r=e.order=ce(e.text,t)),r}var de=[],he=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||de).concat(r)}};function fe(e,t){return e._handlers&&e._handlers[t]||de}function me(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers,i=n&&n[t];if(i){var o=q(i,r);o>-1&&(n[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function ye(e,t){var r=fe(e,t);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)}function ge(e,t,r){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),ye(e,r||t.type,e,t),Pe(t)||t.codemirrorIgnore}function be(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==q(r,t[n])&&r.push(t[n])}function ve(e,t){return fe(e,t).length>0}function Ee(e){e.prototype.on=function(e,t){he(this,e,t)},e.prototype.off=function(e,t){me(this,e,t)}}function Oe(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Me(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Pe(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function xe(e){Oe(e),Me(e)}function we(e){return e.target||e.srcElement}function Ce(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),b&&e.ctrlKey&&1==t&&(t=3),t}var De,Te,ke=function(){if(a&&s<9)return!1;var e=k("div");return"draggable"in e||"dragDrop"in e}();function Ae(e){if(null==De){var t=k("span","​");T(e,k("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(De=t.offsetWidth<=1&&t.offsetHeight>2&&!(a&&s<8))}var r=De?k("span","​"):k("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function Ie(e){if(null!=Te)return Te;var t=T(e,document.createTextNode("AخA")),r=w(t,0,1).getBoundingClientRect(),n=w(t,1,2).getBoundingClientRect();return D(e),!(!r||r.left==r.right)&&(Te=n.right-r.right<3)}var Le,Re=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],n=e.length;t<=n;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(r.push(o.slice(0,a)),t+=a+1):(r.push(o),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)},Se=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Be="oncopy"in(Le=k("div"))||(Le.setAttribute("oncopy","return;"),"function"==typeof Le.oncopy),Ue=null,We={},Ke={};function je(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),We[e]=t}function ze(e){if("string"==typeof e&&Ke.hasOwnProperty(e))e=Ke[e];else if(e&&"string"==typeof e.name&&Ke.hasOwnProperty(e.name)){var t=Ke[e.name];"string"==typeof t&&(t={name:t}),(e=ee(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return ze("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return ze("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Fe(e,t){t=ze(t);var r=We[t.name];if(!r)return Fe(e,"text/plain");var n=r(e,t);if(qe.hasOwnProperty(t.name)){var i=qe[t.name];for(var o in i)i.hasOwnProperty(o)&&(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=i[o])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)n[a]=t.modeProps[a];return n}var qe={};function Ne(e,t){j(t,qe.hasOwnProperty(e)?qe[e]:qe[e]={})}function He(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}function Ge(e,t){for(var r;e.innerMode&&(r=e.innerMode(t))&&r.mode!=e;)t=r.state,e=r.mode;return r||{mode:e,state:t}}function Ve(e,t,r){return!e.startState||e.startState(t,r)}var Ze=function(e,t,r){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r};function Xe(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var i=r.children[n],o=i.chunkSize();if(t<o){r=i;break}t-=o}return r.lines[t]}function $e(e,t,r){var n=[],i=t.line;return e.iter(t.line,r.line+1,(function(e){var o=e.text;i==r.line&&(o=o.slice(0,r.ch)),i==t.line&&(o=o.slice(t.ch)),n.push(o),++i})),n}function Ye(e,t,r){var n=[];return e.iter(t,r,(function(e){n.push(e.text)})),n}function Je(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function Qe(e){if(null==e.parent)return null;for(var t=e.parent,r=q(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}function et(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var i=e.children[n],o=i.height;if(t<o){e=i;continue e}t-=o,r+=i.chunkSize()}return r}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s=e.lines[a].height;if(t<s)break;t-=s}return r+a}function tt(e,t){return t>=e.first&&t<e.first+e.size}function rt(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function nt(e,t,r){if(void 0===r&&(r=null),!(this instanceof nt))return new nt(e,t,r);this.line=e,this.ch=t,this.sticky=r}function it(e,t){return e.line-t.line||e.ch-t.ch}function ot(e,t){return e.sticky==t.sticky&&0==it(e,t)}function at(e){return nt(e.line,e.ch)}function st(e,t){return it(e,t)<0?t:e}function lt(e,t){return it(e,t)<0?e:t}function _t(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ut(e,t){if(t.line<e.first)return nt(e.first,0);var r=e.first+e.size-1;return t.line>r?nt(r,Xe(e,r).text.length):function(e,t){var r=e.ch;return null==r||r>t?nt(e.line,t):r<0?nt(e.line,0):e}(t,Xe(e,t.line).text.length)}function ct(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=ut(e,t[n]);return r}Ze.prototype.eol=function(){return this.pos>=this.string.length},Ze.prototype.sol=function(){return this.pos==this.lineStart},Ze.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ze.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ze.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Ze.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Ze.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Ze.prototype.skipToEnd=function(){this.pos=this.string.length},Ze.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Ze.prototype.backUp=function(e){this.pos-=e},Ze.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=z(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?z(this.string,this.lineStart,this.tabSize):0)},Ze.prototype.indentation=function(){return z(this.string,null,this.tabSize)-(this.lineStart?z(this.string,this.lineStart,this.tabSize):0)},Ze.prototype.match=function(e,t,r){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&!1!==t&&(this.pos+=n[0].length),n)}var i=function(e){return r?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},Ze.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ze.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Ze.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Ze.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var pt=function(e,t){this.state=e,this.lookAhead=t},dt=function(e,t,r,n){this.state=t,this.doc=e,this.line=r,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};function ht(e,t,r,n){var i=[e.state.modeGen],o={};Mt(e,t.text,e.doc.mode,r,(function(e,t){return i.push(e,t)}),o,n);for(var a=r.state,s=function(n){r.baseTokens=i;var s=e.state.overlays[n],l=1,_=0;r.state=!0,Mt(e,t.text,s.mode,r,(function(e,t){for(var r=l;_<e;){var n=i[l];n>e&&i.splice(l,1,e,i[l+1],n),l+=2,_=Math.min(e,n)}if(t)if(s.opaque)i.splice(r,l-r,e,"overlay "+t),l=r+2;else for(;r<l;r+=2){var o=i[r+1];i[r+1]=(o?o+" ":"")+"overlay "+t}}),o),r.state=a,r.baseTokens=null,r.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)s(l);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function ft(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=mt(e,Qe(t)),i=t.text.length>e.options.maxHighlightLength&&He(e.doc.mode,n.state),o=ht(e,t,n);i&&(n.state=i),t.stateAfter=n.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function mt(e,t,r){var n=e.doc,i=e.display;if(!n.mode.startState)return new dt(n,!0,t);var o=function(e,t,r){for(var n,i,o=e.doc,a=r?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=o.first)return o.first;var l=Xe(o,s-1),_=l.stateAfter;if(_&&(!r||s+(_ instanceof pt?_.lookAhead:0)<=o.modeFrontier))return s;var u=z(l.text,null,e.options.tabSize);(null==i||n>u)&&(i=s-1,n=u)}return i}(e,t,r),a=o>n.first&&Xe(n,o-1).stateAfter,s=a?dt.fromSaved(n,a,o):new dt(n,Ve(n.mode),o);return n.iter(o,t,(function(r){yt(e,r.text,s);var n=s.line;r.stateAfter=n==t-1||n%5==0||n>=i.viewFrom&&n<i.viewTo?s.save():null,s.nextLine()})),r&&(n.modeFrontier=s.line),s}function yt(e,t,r,n){var i=e.doc.mode,o=new Ze(t,e.options.tabSize,r);for(o.start=o.pos=n||0,""==t&&gt(i,r.state);!o.eol();)bt(i,o,r.state),o.start=o.pos}function gt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var r=Ge(e,t);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function bt(e,t,r,n){for(var i=0;i<10;i++){n&&(n[0]=Ge(e,r).mode);var o=e.token(t,r);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}dt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},dt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},dt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},dt.fromSaved=function(e,t,r){return t instanceof pt?new dt(e,He(e.mode,t.state),r,t.lookAhead):new dt(e,He(e.mode,t),r)},dt.prototype.save=function(e){var t=!1!==e?He(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new pt(t,this.maxLookAhead):t};var vt=function(e,t,r){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=r};function Et(e,t,r,n){var i,o,a=e.doc,s=a.mode,l=Xe(a,(t=ut(a,t)).line),_=mt(e,t.line,r),u=new Ze(l.text,e.options.tabSize,_);for(n&&(o=[]);(n||u.pos<t.ch)&&!u.eol();)u.start=u.pos,i=bt(s,u,_.state),n&&o.push(new vt(u,i,He(a.mode,_.state)));return n?o:new vt(u,i,_.state)}function Ot(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==t[n]?t[n]=r[2]:new RegExp("(?:^|\\s)"+r[2]+"(?:$|\\s)").test(t[n])||(t[n]+=" "+r[2])}return e}function Mt(e,t,r,n,i,o,a){var s=r.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,_=0,u=null,c=new Ze(t,e.options.tabSize,n),p=e.options.addModeClass&&[null];for(""==t&&Ot(gt(r,n.state),o);!c.eol();){if(c.pos>e.options.maxHighlightLength?(s=!1,a&&yt(e,t,n,c.pos),c.pos=t.length,l=null):l=Ot(bt(r,c,n.state,p),o),p){var d=p[0].name;d&&(l="m-"+(l?d+" "+l:d))}if(!s||u!=l){for(;_<c.start;)i(_=Math.min(c.start,_+5e3),u);u=l}c.start=c.pos}for(;_<c.pos;){var h=Math.min(c.pos,_+5e3);i(h,u),_=h}}var Pt=!1,xt=!1;function wt(e,t,r){this.marker=e,this.from=t,this.to=r}function Ct(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function Dt(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function Tt(e,t){if(t.full)return null;var r=tt(e,t.from.line)&&Xe(e,t.from.line).markedSpans,n=tt(e,t.to.line)&&Xe(e,t.to.line).markedSpans;if(!r&&!n)return null;var i=t.from.ch,o=t.to.ch,a=0==it(t.from,t.to),s=function(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==a.type&&(!r||!o.marker.insertLeft)){var s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(n||(n=[])).push(new wt(a,o.from,s?null:o.to))}}return n}(r,i,a),l=function(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.to||(a.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==a.type&&(!r||o.marker.insertLeft)){var s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(n||(n=[])).push(new wt(a,s?null:o.from-t,null==o.to?null:o.to-t))}}return n}(n,o,a),_=1==t.text.length,u=Y(t.text).length+(_?i:0);if(s)for(var c=0;c<s.length;++c){var p=s[c];if(null==p.to){var d=Ct(l,p.marker);d?_&&(p.to=null==d.to?null:d.to+u):p.to=i}}if(l)for(var h=0;h<l.length;++h){var f=l[h];null!=f.to&&(f.to+=u),null==f.from?Ct(s,f.marker)||(f.from=u,_&&(s||(s=[])).push(f)):(f.from+=u,_&&(s||(s=[])).push(f))}s&&(s=kt(s)),l&&l!=s&&(l=kt(l));var m=[s];if(!_){var y,g=t.text.length-2;if(g>0&&s)for(var b=0;b<s.length;++b)null==s[b].to&&(y||(y=[])).push(new wt(s[b].marker,null,null));for(var v=0;v<g;++v)m.push(y);m.push(l)}return m}function kt(e){for(var t=0;t<e.length;++t){var r=e[t];null!=r.from&&r.from==r.to&&!1!==r.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function At(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function It(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function Lt(e){return e.inclusiveLeft?-1:0}function Rt(e){return e.inclusiveRight?1:0}function St(e,t){var r=e.lines.length-t.lines.length;if(0!=r)return r;var n=e.find(),i=t.find(),o=it(n.from,i.from)||Lt(e)-Lt(t);if(o)return-o;var a=it(n.to,i.to)||Rt(e)-Rt(t);return a||t.id-e.id}function Bt(e,t){var r,n=xt&&e.markedSpans;if(n)for(var i=void 0,o=0;o<n.length;++o)(i=n[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!r||St(r,i.marker)<0)&&(r=i.marker);return r}function Ut(e){return Bt(e,!0)}function Wt(e){return Bt(e,!1)}function Kt(e,t){var r,n=xt&&e.markedSpans;if(n)for(var i=0;i<n.length;++i){var o=n[i];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!r||St(r,o.marker)<0)&&(r=o.marker)}return r}function jt(e,t,r,n,i){var o=Xe(e,t),a=xt&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var _=l.marker.find(0),u=it(_.from,r)||Lt(l.marker)-Lt(i),c=it(_.to,n)||Rt(l.marker)-Rt(i);if(!(u>=0&&c<=0||u<=0&&c>=0)&&(u<=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?it(_.to,r)>=0:it(_.to,r)>0)||u>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?it(_.from,n)<=0:it(_.from,n)<0)))return!0}}}function zt(e){for(var t;t=Ut(e);)e=t.find(-1,!0).line;return e}function Ft(e,t){var r=Xe(e,t),n=zt(r);return r==n?t:Qe(n)}function qt(e,t){if(t>e.lastLine())return t;var r,n=Xe(e,t);if(!Nt(e,n))return t;for(;r=Wt(n);)n=r.find(1,!0).line;return Qe(n)+1}function Nt(e,t){var r=xt&&t.markedSpans;if(r)for(var n=void 0,i=0;i<r.length;++i)if((n=r[i]).marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&Ht(e,t,n))return!0}}function Ht(e,t,r){if(null==r.to){var n=r.marker.find(1,!0);return Ht(e,n.line,Ct(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(null==i.to||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&Ht(e,t,i))return!0}function Gt(e){for(var t=0,r=(e=zt(e)).parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==e)break;t+=i.height}for(var o=r.parent;o;o=(r=o).parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==r)break;t+=s.height}return t}function Vt(e){if(0==e.height)return 0;for(var t,r=e.text.length,n=e;t=Ut(n);){var i=t.find(0,!0);n=i.from.line,r+=i.from.ch-i.to.ch}for(n=e;t=Wt(n);){var o=t.find(0,!0);r-=n.text.length-o.from.ch,r+=(n=o.to.line).text.length-o.to.ch}return r}function Zt(e){var t=e.display,r=e.doc;t.maxLine=Xe(r,r.first),t.maxLineLength=Vt(t.maxLine),t.maxLineChanged=!0,r.iter((function(e){var r=Vt(e);r>t.maxLineLength&&(t.maxLineLength=r,t.maxLine=e)}))}var Xt=function(e,t,r){this.text=e,It(this,t),this.height=r?r(this):1};function $t(e){e.parent=null,At(e)}Xt.prototype.lineNo=function(){return Qe(this)},Ee(Xt);var Yt={},Jt={};function Qt(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?Jt:Yt;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function er(e,t){var r=A("span",null,null,l?"padding-right: .1px":null),n={pre:A("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,a=void 0;n.pos=0,n.addToken=rr,Ie(e.display.measure)&&(a=pe(o,e.doc.direction))&&(n.addToken=nr(n.addToken,a)),n.map=[],or(o,n,ft(e,o,t!=e.display.externalMeasured&&Qe(o))),o.styleClasses&&(o.styleClasses.bgClass&&(n.bgClass=S(o.styleClasses.bgClass,n.bgClass||"")),o.styleClasses.textClass&&(n.textClass=S(o.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(Ae(e.display.measure))),0==i?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var s=n.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return ye(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=S(n.pre.className,n.textClass||"")),n}function tr(e){var t=k("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function rr(e,t,r,n,i,o,l){if(t){var _,u=e.splitSpaces?function(e,t){if(e.length>1&&!/  /.test(e))return e;for(var r=t,n="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!r||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=" "),n+=o,r=" "==o}return n}(t,e.trailingSpace):t,c=e.cm.state.specialChars,p=!1;if(c.test(t)){_=document.createDocumentFragment();for(var d=0;;){c.lastIndex=d;var h=c.exec(t),f=h?h.index-d:t.length-d;if(f){var m=document.createTextNode(u.slice(d,d+f));a&&s<9?_.appendChild(k("span",[m])):_.appendChild(m),e.map.push(e.pos,e.pos+f,m),e.col+=f,e.pos+=f}if(!h)break;d+=f+1;var y=void 0;if("\t"==h[0]){var g=e.cm.options.tabSize,b=g-e.col%g;(y=_.appendChild(k("span",$(b),"cm-tab"))).setAttribute("role","presentation"),y.setAttribute("cm-text","\t"),e.col+=b}else"\r"==h[0]||"\n"==h[0]?((y=_.appendChild(k("span","\r"==h[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",h[0]),e.col+=1):((y=e.cm.options.specialCharPlaceholder(h[0])).setAttribute("cm-text",h[0]),a&&s<9?_.appendChild(k("span",[y])):_.appendChild(y),e.col+=1);e.map.push(e.pos,e.pos+1,y),e.pos++}}else e.col+=t.length,_=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,_),a&&s<9&&(p=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),r||n||i||p||o||l){var v=r||"";n&&(v+=n),i&&(v+=i);var E=k("span",[_],v,o);if(l)for(var O in l)l.hasOwnProperty(O)&&"style"!=O&&"class"!=O&&E.setAttribute(O,l[O]);return e.content.appendChild(E)}e.content.appendChild(_)}}function nr(e,t){return function(r,n,i,o,a,s,l){i=i?i+" cm-force-border":"cm-force-border";for(var _=r.pos,u=_+n.length;;){for(var c=void 0,p=0;p<t.length&&!((c=t[p]).to>_&&c.from<=_);p++);if(c.to>=u)return e(r,n,i,o,a,s,l);e(r,n.slice(0,c.to-_),i,o,null,s,l),o=null,n=n.slice(c.to-_),_=c.to}}}function ir(e,t,r,n){var i=!n&&r.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!n&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function or(e,t,r){var n=e.markedSpans,i=e.text,o=0;if(n)for(var a,s,l,_,u,c,p,d=i.length,h=0,f=1,m="",y=0;;){if(y==h){l=_=u=s="",p=null,c=null,y=1/0;for(var g=[],b=void 0,v=0;v<n.length;++v){var E=n[v],O=E.marker;if("bookmark"==O.type&&E.from==h&&O.widgetNode)g.push(O);else if(E.from<=h&&(null==E.to||E.to>h||O.collapsed&&E.to==h&&E.from==h)){if(null!=E.to&&E.to!=h&&y>E.to&&(y=E.to,_=""),O.className&&(l+=" "+O.className),O.css&&(s=(s?s+";":"")+O.css),O.startStyle&&E.from==h&&(u+=" "+O.startStyle),O.endStyle&&E.to==y&&(b||(b=[])).push(O.endStyle,E.to),O.title&&((p||(p={})).title=O.title),O.attributes)for(var M in O.attributes)(p||(p={}))[M]=O.attributes[M];O.collapsed&&(!c||St(c.marker,O)<0)&&(c=E)}else E.from>h&&y>E.from&&(y=E.from)}if(b)for(var P=0;P<b.length;P+=2)b[P+1]==y&&(_+=" "+b[P]);if(!c||c.from==h)for(var x=0;x<g.length;++x)ir(t,0,g[x]);if(c&&(c.from||0)==h){if(ir(t,(null==c.to?d+1:c.to)-h,c.marker,null==c.from),null==c.to)return;c.to==h&&(c=!1)}}if(h>=d)break;for(var w=Math.min(d,y);;){if(m){var C=h+m.length;if(!c){var D=C>w?m.slice(0,w-h):m;t.addToken(t,D,a?a+l:l,u,h+D.length==y?_:"",s,p)}if(C>=w){m=m.slice(w-h),h=w;break}h=C,u=""}m=i.slice(o,o=r[f++]),a=Qt(r[f++],t.cm.options)}}else for(var T=1;T<r.length;T+=2)t.addToken(t,i.slice(o,o=r[T]),Qt(r[T+1],t.cm.options))}function ar(e,t,r){this.line=t,this.rest=function(e){for(var t,r;t=Wt(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}(t),this.size=this.rest?Qe(Y(this.rest))-r+1:1,this.node=this.text=null,this.hidden=Nt(e,t)}function sr(e,t,r){for(var n,i=[],o=t;o<r;o=n){var a=new ar(e.doc,Xe(e.doc,o),o);n=o+a.size,i.push(a)}return i}var lr=null,_r=null;function ur(e,t){var r=fe(e,t);if(r.length){var n,i=Array.prototype.slice.call(arguments,2);lr?n=lr.delayedCallbacks:_r?n=_r:(n=_r=[],setTimeout(cr,0));for(var o=function(e){n.push((function(){return r[e].apply(null,i)}))},a=0;a<r.length;++a)o(a)}}function cr(){var e=_r;_r=null;for(var t=0;t<e.length;++t)e[t]()}function pr(e,t,r,n){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?fr(e,t):"gutter"==o?yr(e,t,r,n):"class"==o?mr(e,t):"widget"==o&&gr(e,t,n)}t.changes=null}function dr(e){return e.node==e.text&&(e.node=k("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),a&&s<8&&(e.node.style.zIndex=2)),e.node}function hr(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):er(e,t)}function fr(e,t){var r=t.text.className,n=hr(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,mr(e,t)):r&&(t.text.className=r)}function mr(e,t){!function(e,t){var r=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),t.background)r?t.background.className=r:(t.background.parentNode.removeChild(t.background),t.background=null);else if(r){var n=dr(t);t.background=n.insertBefore(k("div",null,r),n.firstChild),e.display.input.setUneditable(t.background)}}(e,t),t.line.wrapClass?dr(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var r=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=r||""}function yr(e,t,r,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=dr(t);t.gutterBackground=k("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var a=dr(t),s=t.gutter=k("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(s.setAttribute("aria-hidden","true"),e.display.input.setUneditable(s),a.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(k("div",rt(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<e.display.gutterSpecs.length;++l){var _=e.display.gutterSpecs[l].className,u=o.hasOwnProperty(_)&&o[_];u&&s.appendChild(k("div",[u],"CodeMirror-gutter-elt","left: "+n.gutterLeft[_]+"px; width: "+n.gutterWidth[_]+"px"))}}}function gr(e,t,r){t.alignable&&(t.alignable=null);for(var n=x("CodeMirror-linewidget"),i=t.node.firstChild,o=void 0;i;i=o)o=i.nextSibling,n.test(i.className)&&t.node.removeChild(i);vr(e,t,r)}function br(e,t,r,n){var i=hr(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),mr(e,t),yr(e,t,r,n),vr(e,t,n),t.node}function vr(e,t,r){if(Er(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)Er(e,t.rest[n],t,r,!1)}function Er(e,t,r,n,i){if(t.widgets)for(var o=dr(r),a=0,s=t.widgets;a<s.length;++a){var l=s[a],_=k("div",[l.node],"CodeMirror-linewidget"+(l.className?" "+l.className:""));l.handleMouseEvents||_.setAttribute("cm-ignore-events","true"),Or(l,_,r,n),e.display.input.setUneditable(_),i&&l.above?o.insertBefore(_,r.gutter||r.text):o.appendChild(_),ur(l,"redraw")}}function Or(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var i=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(i-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function Mr(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!I(document.body,e.node)){var r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),T(t.display.measure,k("div",[e.node],null,r))}return e.height=e.node.parentNode.offsetHeight}function Pr(e,t){for(var r=we(t);r!=e.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==e.sizer&&r!=e.mover)return!0}function xr(e){return e.lineSpace.offsetTop}function wr(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Cr(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=T(e.measure,k("pre","x","CodeMirror-line-like")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function Dr(e){return 50-e.display.nativeBarWidth}function Tr(e){return e.display.scroller.clientWidth-Dr(e)-e.display.barWidth}function kr(e){return e.display.scroller.clientHeight-Dr(e)-e.display.barHeight}function Ar(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};if(e.rest){for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var i=0;i<e.rest.length;i++)if(Qe(e.rest[i])>r)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}}function Ir(e,t,r,n){return Sr(e,Rr(e,t),r,n)}function Lr(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[dn(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function Rr(e,t){var r=Qe(t),n=Lr(e,r);n&&!n.text?n=null:n&&n.changes&&(pr(e,n,r,ln(e)),e.curOp.forceUpdate=!0),n||(n=function(e,t){var r=Qe(t=zt(t)),n=e.display.externalMeasured=new ar(e.doc,t,r);n.lineN=r;var i=n.built=er(e,n);return n.text=i.pre,T(e.display.lineMeasure,i.pre),n}(e,t));var i=Ar(n,t,r);return{line:t,view:n,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Sr(e,t,r,n,i){t.before&&(r=-1);var o,l=r+(n||"");return t.cache.hasOwnProperty(l)?o=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(e,t,r){var n=e.options.lineWrapping,i=n&&Tr(e);if(!t.measure.heights||n&&t.measure.width!=i){var o=t.measure.heights=[];if(n){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],_=a[s+1];Math.abs(l.bottom-_.bottom)>2&&o.push((l.bottom+_.top)/2-r.top)}}o.push(r.bottom-r.top)}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(e,t,r,n){var i,o=Wr(t.map,r,n),l=o.node,_=o.start,u=o.end,c=o.collapse;if(3==l.nodeType){for(var p=0;p<4;p++){for(;_&&ae(t.line.text.charAt(o.coverStart+_));)--_;for(;o.coverStart+u<o.coverEnd&&ae(t.line.text.charAt(o.coverStart+u));)++u;if((i=a&&s<9&&0==_&&u==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():Kr(w(l,_,u).getClientRects(),n)).left||i.right||0==_)break;u=_,_-=1,c="right"}a&&s<11&&(i=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=Ue)return Ue;var t=T(e,k("span","x")),r=t.getBoundingClientRect(),n=w(t,0,1).getBoundingClientRect();return Ue=Math.abs(r.left-n.left)>1}(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*n,bottom:t.bottom*n}}(e.display.measure,i))}else{var d;_>0&&(c=n="right"),i=e.options.lineWrapping&&(d=l.getClientRects()).length>1?d["right"==n?d.length-1:0]:l.getBoundingClientRect()}if(a&&s<9&&!_&&(!i||!i.left&&!i.right)){var h=l.parentNode.getClientRects()[0];i=h?{left:h.left,right:h.left+sn(e.display),top:h.top,bottom:h.bottom}:Ur}for(var f=i.top-t.rect.top,m=i.bottom-t.rect.top,y=(f+m)/2,g=t.view.measure.heights,b=0;b<g.length-1&&!(y<g[b]);b++);var v=b?g[b-1]:0,E=g[b],O={left:("right"==c?i.right:i.left)-t.rect.left,right:("left"==c?i.left:i.right)-t.rect.left,top:v,bottom:E};return i.left||i.right||(O.bogus=!0),e.options.singleCursorHeightPerLine||(O.rtop=f,O.rbottom=m),O}(e,t,r,n)).bogus||(t.cache[l]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var Br,Ur={left:0,right:0,top:0,bottom:0};function Wr(e,t,r){for(var n,i,o,a,s,l,_=0;_<e.length;_+=3)if(s=e[_],l=e[_+1],t<s?(i=0,o=1,a="left"):t<l?o=1+(i=t-s):(_==e.length-3||t==l&&e[_+3]>t)&&(i=(o=l-s)-1,t>=l&&(a="right")),null!=i){if(n=e[_+2],s==l&&r==(n.insertLeft?"left":"right")&&(a=r),"left"==r&&0==i)for(;_&&e[_-2]==e[_-3]&&e[_-1].insertLeft;)n=e[2+(_-=3)],a="left";if("right"==r&&i==l-s)for(;_<e.length-3&&e[_+3]==e[_+4]&&!e[_+5].insertLeft;)n=e[(_+=3)+2],a="right";break}return{node:n,start:i,end:o,collapse:a,coverStart:s,coverEnd:l}}function Kr(e,t){var r=Ur;if("left"==t)for(var n=0;n<e.length&&(r=e[n]).left==r.right;n++);else for(var i=e.length-1;i>=0&&(r=e[i]).left==r.right;i--);return r}function jr(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function zr(e){e.display.externalMeasure=null,D(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)jr(e.display.view[t])}function Fr(e){zr(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function qr(e){return u&&y?-(e.body.getBoundingClientRect().left-parseInt(getComputedStyle(e.body).marginLeft)):e.defaultView.pageXOffset||(e.documentElement||e.body).scrollLeft}function Nr(e){return u&&y?-(e.body.getBoundingClientRect().top-parseInt(getComputedStyle(e.body).marginTop)):e.defaultView.pageYOffset||(e.documentElement||e.body).scrollTop}function Hr(e){var t=zt(e).widgets,r=0;if(t)for(var n=0;n<t.length;++n)t[n].above&&(r+=Mr(t[n]));return r}function Gr(e,t,r,n,i){if(!i){var o=Hr(t);r.top+=o,r.bottom+=o}if("line"==n)return r;n||(n="local");var a=Gt(t);if("local"==n?a+=xr(e.display):a-=e.display.viewOffset,"page"==n||"window"==n){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==n?0:Nr(U(e)));var l=s.left+("window"==n?0:qr(U(e)));r.left+=l,r.right+=l}return r.top+=a,r.bottom+=a,r}function Vr(e,t,r){if("div"==r)return t;var n=t.left,i=t.top;if("page"==r)n-=qr(U(e)),i-=Nr(U(e));else if("local"==r||!r){var o=e.display.sizer.getBoundingClientRect();n+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:n-a.left,top:i-a.top}}function Zr(e,t,r,n,i){return n||(n=Xe(e.doc,t.line)),Gr(e,n,Ir(e,n,t.ch,i),r)}function Xr(e,t,r,n,i,o){function a(t,a){var s=Sr(e,i,t,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,Gr(e,n,s,r)}n=n||Xe(e.doc,t.line),i||(i=Rr(e,n));var s=pe(n,e.doc.direction),l=t.ch,_=t.sticky;if(l>=n.text.length?(l=n.text.length,_="before"):l<=0&&(l=0,_="after"),!s)return a("before"==_?l-1:l,"before"==_);function u(e,t,r){return a(r?e-1:e,1==s[t].level!=r)}var c=ue(s,l,_),p=_e,d=u(l,c,"before"==_);return null!=p&&(d.other=u(l,p,"before"!=_)),d}function $r(e,t){var r=0;t=ut(e.doc,t),e.options.lineWrapping||(r=sn(e.display)*t.ch);var n=Xe(e.doc,t.line),i=Gt(n)+xr(e.display);return{left:r,right:r,top:i,bottom:i+n.height}}function Yr(e,t,r,n,i){var o=nt(e,t,r);return o.xRel=i,n&&(o.outside=n),o}function Jr(e,t,r){var n=e.doc;if((r+=e.display.viewOffset)<0)return Yr(n.first,0,null,-1,-1);var i=et(n,r),o=n.first+n.size-1;if(i>o)return Yr(n.first+n.size-1,Xe(n,o).text.length,null,1,1);t<0&&(t=0);for(var a=Xe(n,i);;){var s=rn(e,a,i,t,r),l=Kt(a,s.ch+(s.xRel>0||s.outside>0?1:0));if(!l)return s;var _=l.find(1);if(_.line==i)return _;a=Xe(n,i=_.line)}}function Qr(e,t,r,n){n-=Hr(t);var i=t.text.length,o=le((function(t){return Sr(e,r,t-1).bottom<=n}),i,0);return{begin:o,end:i=le((function(t){return Sr(e,r,t).top>n}),o,i)}}function en(e,t,r,n){return r||(r=Rr(e,t)),Qr(e,t,r,Gr(e,t,Sr(e,r,n),"line").top)}function tn(e,t,r,n){return!(e.bottom<=r)&&(e.top>r||(n?e.left:e.right)>t)}function rn(e,t,r,n,i){i-=Gt(t);var o=Rr(e,t),a=Hr(t),s=0,l=t.text.length,_=!0,u=pe(t,e.doc.direction);if(u){var c=(e.options.lineWrapping?on:nn)(e,t,r,o,u,n,i);s=(_=1!=c.level)?c.from:c.to-1,l=_?c.to:c.from-1}var p,d,h=null,f=null,m=le((function(t){var r=Sr(e,o,t);return r.top+=a,r.bottom+=a,!!tn(r,n,i,!1)&&(r.top<=i&&r.left<=n&&(h=t,f=r),!0)}),s,l),y=!1;if(f){var g=n-f.left<f.right-n,b=g==_;m=h+(b?0:1),d=b?"after":"before",p=g?f.left:f.right}else{_||m!=l&&m!=s||m++,d=0==m?"after":m==t.text.length?"before":Sr(e,o,m-(_?1:0)).bottom+a<=i==_?"after":"before";var v=Xr(e,nt(r,m,d),"line",t,o);p=v.left,y=i<v.top?-1:i>=v.bottom?1:0}return Yr(r,m=se(t.text,m,1),d,y,n-p)}function nn(e,t,r,n,i,o,a){var s=le((function(s){var l=i[s],_=1!=l.level;return tn(Xr(e,nt(r,_?l.to:l.from,_?"before":"after"),"line",t,n),o,a,!0)}),0,i.length-1),l=i[s];if(s>0){var _=1!=l.level,u=Xr(e,nt(r,_?l.from:l.to,_?"after":"before"),"line",t,n);tn(u,o,a,!0)&&u.top>a&&(l=i[s-1])}return l}function on(e,t,r,n,i,o,a){var s=Qr(e,t,n,a),l=s.begin,_=s.end;/\s/.test(t.text.charAt(_-1))&&_--;for(var u=null,c=null,p=0;p<i.length;p++){var d=i[p];if(!(d.from>=_||d.to<=l)){var h=Sr(e,n,1!=d.level?Math.min(_,d.to)-1:Math.max(l,d.from)).right,f=h<o?o-h+1e9:h-o;(!u||c>f)&&(u=d,c=f)}}return u||(u=i[i.length-1]),u.from<l&&(u={from:l,to:u.to,level:u.level}),u.to>_&&(u={from:u.from,to:_,level:u.level}),u}function an(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Br){Br=k("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)Br.appendChild(document.createTextNode("x")),Br.appendChild(k("br"));Br.appendChild(document.createTextNode("x"))}T(e.measure,Br);var r=Br.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),D(e.measure),r||1}function sn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=k("span","xxxxxxxxxx"),r=k("pre",[t],"CodeMirror-line-like");T(e.measure,r);var n=t.getBoundingClientRect(),i=(n.right-n.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function ln(e){for(var t=e.display,r={},n={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a){var s=e.display.gutterSpecs[a].className;r[s]=o.offsetLeft+o.clientLeft+i,n[s]=o.clientWidth}return{fixedPos:_n(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function _n(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function un(e){var t=an(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/sn(e.display)-3);return function(i){if(Nt(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return r?o+(Math.ceil(i.text.length/n)||1)*t:o+t}}function cn(e){var t=e.doc,r=un(e);t.iter((function(e){var t=r(e);t!=e.height&&Je(e,t)}))}function pn(e,t,r,n){var i=e.display;if(!r&&"true"==we(t).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(e){return null}var l,_=Jr(e,o,a);if(n&&_.xRel>0&&(l=Xe(e.doc,_.line).text).length==_.ch){var u=z(l,l.length,e.options.tabSize)-l.length;_=nt(_.line,Math.max(0,Math.round((o-Cr(e.display).left)/sn(e.display))-u))}return _}function dn(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var r=e.display.view,n=0;n<r.length;n++)if((t-=r[n].size)<0)return n}function hn(e,t,r,n){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size),n||(n=0);var i=e.display;if(n&&r<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)xt&&Ft(e.doc,t)<i.viewTo&&mn(e);else if(r<=i.viewFrom)xt&&qt(e.doc,r+n)>i.viewFrom?mn(e):(i.viewFrom+=n,i.viewTo+=n);else if(t<=i.viewFrom&&r>=i.viewTo)mn(e);else if(t<=i.viewFrom){var o=yn(e,r,r+n,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=n):mn(e)}else if(r>=i.viewTo){var a=yn(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):mn(e)}else{var s=yn(e,t,t,-1),l=yn(e,r,r+n,1);s&&l?(i.view=i.view.slice(0,s.index).concat(sr(e,s.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=n):mn(e)}var _=i.externalMeasured;_&&(r<_.lineN?_.lineN+=n:t<_.lineN+_.size&&(i.externalMeasured=null))}function fn(e,t,r){e.curOp.viewChanged=!0;var n=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var o=n.view[dn(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==q(a,r)&&a.push(r)}}}function mn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function yn(e,t,r,n){var i,o=dn(e,t),a=e.display.view;if(!xt||r==e.doc.first+e.doc.size)return{index:o,lineN:r};for(var s=e.display.viewFrom,l=0;l<o;l++)s+=a[l].size;if(s!=t){if(n>0){if(o==a.length-1)return null;i=s+a[o].size-t,o++}else i=s-t;t+=i,r+=i}for(;Ft(e.doc,r)!=r;){if(o==(n<0?0:a.length-1))return null;r+=n*a[o-(n<0?1:0)].size,o+=n}return{index:o,lineN:r}}function gn(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var i=t[n];i.hidden||i.node&&!i.changes||++r}return r}function bn(e){e.display.input.showSelection(e.display.input.prepareSelection())}function vn(e,t){void 0===t&&(t=!0);var r=e.doc,n={},i=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),a=e.options.$customCursor;a&&(t=!0);for(var s=0;s<r.sel.ranges.length;s++)if(t||s!=r.sel.primIndex){var l=r.sel.ranges[s];if(!(l.from().line>=e.display.viewTo||l.to().line<e.display.viewFrom)){var _=l.empty();if(a){var u=a(e,l);u&&En(e,u,i)}else(_||e.options.showCursorWhenSelecting)&&En(e,l.head,i);_||Mn(e,l,o)}}return n}function En(e,t,r){var n=Xr(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=r.appendChild(k("div"," ","CodeMirror-cursor"));if(i.style.left=n.left+"px",i.style.top=n.top+"px",i.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var o=Zr(e,t,"div",null,null),a=o.right-o.left;i.style.width=(a>0?a:e.defaultCharWidth())+"px"}if(n.other){var s=r.appendChild(k("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));s.style.display="",s.style.left=n.other.left+"px",s.style.top=n.other.top+"px",s.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function On(e,t){return e.top-t.top||e.left-t.left}function Mn(e,t,r){var n=e.display,i=e.doc,o=document.createDocumentFragment(),a=Cr(e.display),s=a.left,l=Math.max(n.sizerWidth,Tr(e)-n.sizer.offsetLeft)-a.right,_="ltr"==i.direction;function u(e,t,r,n){t<0&&(t=0),t=Math.round(t),n=Math.round(n),o.appendChild(k("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==r?l-e:r)+"px;\n                             height: "+(n-t)+"px"))}function c(t,r,n){var o,a,c=Xe(i,t),p=c.text.length;function d(r,n){return Zr(e,nt(t,r),"div",c,n)}function h(t,r,n){var i=en(e,c,null,t),o="ltr"==r==("after"==n)?"left":"right";return d("after"==n?i.begin:i.end-(/\s/.test(c.text.charAt(i.end-1))?2:1),o)[o]}var f=pe(c,i.direction);return function(e,t,r,n){if(!e)return n(t,r,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<r&&a.to>t||t==r&&a.to==t)&&(n(Math.max(a.from,t),Math.min(a.to,r),1==a.level?"rtl":"ltr",o),i=!0)}i||n(t,r,"ltr")}(f,r||0,null==n?p:n,(function(e,t,i,c){var m="ltr"==i,y=d(e,m?"left":"right"),g=d(t-1,m?"right":"left"),b=null==r&&0==e,v=null==n&&t==p,E=0==c,O=!f||c==f.length-1;if(g.top-y.top<=3){var M=(_?v:b)&&O,P=(_?b:v)&&E?s:(m?y:g).left,x=M?l:(m?g:y).right;u(P,y.top,x-P,y.bottom)}else{var w,C,D,T;m?(w=_&&b&&E?s:y.left,C=_?l:h(e,i,"before"),D=_?s:h(t,i,"after"),T=_&&v&&O?l:g.right):(w=_?h(e,i,"before"):s,C=!_&&b&&E?l:y.right,D=!_&&v&&O?s:g.left,T=_?h(t,i,"after"):l),u(w,y.top,C-w,y.bottom),y.bottom<g.top&&u(s,y.bottom,null,g.top),u(D,g.top,T-D,g.bottom)}(!o||On(y,o)<0)&&(o=y),On(g,o)<0&&(o=g),(!a||On(y,a)<0)&&(a=y),On(g,a)<0&&(a=g)})),{start:o,end:a}}var p=t.from(),d=t.to();if(p.line==d.line)c(p.line,p.ch,d.ch);else{var h=Xe(i,p.line),f=Xe(i,d.line),m=zt(h)==zt(f),y=c(p.line,p.ch,m?h.text.length+1:null).end,g=c(d.line,m?0:null,d.ch).start;m&&(y.top<g.top-2?(u(y.right,y.top,null,y.bottom),u(s,g.top,g.left,g.bottom)):u(y.right,y.top,g.left-y.right,y.bottom)),y.bottom<g.top&&u(s,y.bottom,null,g.top)}r.appendChild(o)}function Pn(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){e.hasFocus()||Dn(e),t.cursorDiv.style.visibility=(r=!r)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function xn(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Cn(e))}function wn(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&Dn(e))}),100)}function Cn(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(ye(e,"focus",e,t),e.state.focused=!0,R(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),Pn(e))}function Dn(e,t){e.state.delayingBlurEvent||(e.state.focused&&(ye(e,"blur",e,t),e.state.focused=!1,C(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function Tn(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=Math.max(0,t.scroller.getBoundingClientRect().top),i=t.lineDiv.getBoundingClientRect().top,o=0,l=0;l<t.view.length;l++){var _=t.view[l],u=e.options.lineWrapping,c=void 0,p=0;if(!_.hidden){if(i+=_.line.height,a&&s<8){var d=_.node.offsetTop+_.node.offsetHeight;c=d-r,r=d}else{var h=_.node.getBoundingClientRect();c=h.bottom-h.top,!u&&_.text.firstChild&&(p=_.text.firstChild.getBoundingClientRect().right-h.left-1)}var f=_.line.height-c;if((f>.005||f<-.005)&&(i<n&&(o-=f),Je(_.line,c),kn(_.line),_.rest))for(var m=0;m<_.rest.length;m++)kn(_.rest[m]);if(p>e.display.sizerWidth){var y=Math.ceil(p/sn(e.display));y>e.display.maxLineLength&&(e.display.maxLineLength=y,e.display.maxLine=_.line,e.display.maxLineChanged=!0)}}}Math.abs(o)>2&&(t.scroller.scrollTop+=o)}function kn(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var r=e.widgets[t],n=r.node.parentNode;n&&(r.height=n.offsetHeight)}}function An(e,t,r){var n=r&&null!=r.top?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-xr(e));var i=r&&null!=r.bottom?r.bottom:n+e.wrapper.clientHeight,o=et(t,n),a=et(t,i);if(r&&r.ensure){var s=r.ensure.from.line,l=r.ensure.to.line;s<o?(o=s,a=et(t,Gt(Xe(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=a&&(o=et(t,Gt(Xe(t,l))-e.wrapper.clientHeight),a=l)}return{from:o,to:Math.max(a,o+1)}}function In(e,t){var r=e.display,n=an(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:r.scroller.scrollTop,o=kr(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+wr(r),l=t.top<n,_=t.bottom>s-n;if(t.top<i)a.scrollTop=l?0:t.top;else if(t.bottom>i+o){var u=Math.min(t.top,(_?s:t.bottom)-o);u!=i&&(a.scrollTop=u)}var c=e.options.fixedGutter?0:r.gutters.offsetWidth,p=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:r.scroller.scrollLeft-c,d=Tr(e)-r.gutters.offsetWidth,h=t.right-t.left>d;return h&&(t.right=t.left+d),t.left<10?a.scrollLeft=0:t.left<p?a.scrollLeft=Math.max(0,t.left+c-(h?0:10)):t.right>d+p-3&&(a.scrollLeft=t.right+(h?0:10)-d),a}function Ln(e,t){null!=t&&(Bn(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Rn(e){Bn(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Sn(e,t,r){null==t&&null==r||Bn(e),null!=t&&(e.curOp.scrollLeft=t),null!=r&&(e.curOp.scrollTop=r)}function Bn(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Un(e,$r(e,t.from),$r(e,t.to),t.margin))}function Un(e,t,r,n){var i=In(e,{left:Math.min(t.left,r.left),top:Math.min(t.top,r.top)-n,right:Math.max(t.right,r.right),bottom:Math.max(t.bottom,r.bottom)+n});Sn(e,i.scrollLeft,i.scrollTop)}function Wn(e,t){Math.abs(e.doc.scrollTop-t)<2||(r||pi(e,{top:t}),Kn(e,t,!0),r&&pi(e),ai(e,100))}function Kn(e,t,r){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||r)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function jn(e,t,r,n){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,fi(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function zn(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+wr(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+Dr(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}var Fn=function(e,t,r){this.cm=r;var n=this.vert=k("div",[k("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=k("div",[k("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=i.tabIndex=-1,e(n),e(i),he(n,"scroll",(function(){n.clientHeight&&t(n.scrollTop,"vertical")})),he(i,"scroll",(function(){i.clientWidth&&t(i.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,a&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Fn.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var i=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}},Fn.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Fn.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Fn.prototype.zeroWidthHack=function(){var e=b&&!h?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new F,this.disableVert=new F},Fn.prototype.enableZeroWidthBar=function(e,t,r){e.style.visibility="",t.set(1e3,(function n(){var i=e.getBoundingClientRect();("vert"==r?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.visibility="hidden":t.set(1e3,n)}))},Fn.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var qn=function(){};function Nn(e,t){t||(t=zn(e));var r=e.display.barWidth,n=e.display.barHeight;Hn(e,t);for(var i=0;i<4&&r!=e.display.barWidth||n!=e.display.barHeight;i++)r!=e.display.barWidth&&e.options.lineWrapping&&Tn(e),Hn(e,zn(e)),r=e.display.barWidth,n=e.display.barHeight}function Hn(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}qn.prototype.update=function(){return{bottom:0,right:0}},qn.prototype.setScrollLeft=function(){},qn.prototype.setScrollTop=function(){},qn.prototype.clear=function(){};var Gn={native:Fn,null:qn};function Vn(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&C(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Gn[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),he(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,r){"horizontal"==r?jn(e,t):Wn(e,t)}),e),e.display.scrollbars.addClass&&R(e.display.wrapper,e.display.scrollbars.addClass)}var Zn=0;function Xn(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Zn,markArrays:null},t=e.curOp,lr?lr.ops.push(t):t.ownsGroup=lr={ops:[t],delayedCallbacks:[]}}function $n(e){var t=e.curOp;t&&function(e,t){var r=e.ownsGroup;if(r)try{!function(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(var n=0;n<e.ops.length;n++){var i=e.ops[n];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(r<t.length)}(r)}finally{lr=null,t(r)}}(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,r=0;r<t.length;r++)Yn(t[r]);for(var n=0;n<t.length;n++)Jn(t[n]);for(var i=0;i<t.length;i++)Qn(t[i]);for(var o=0;o<t.length;o++)ei(t[o]);for(var a=0;a<t.length;a++)ti(t[a])}(e)}))}function Yn(e){var t=e.cm,r=t.display;!function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Dr(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Dr(e)+"px",t.scrollbarsClipped=!0)}(t),e.updateMaxLine&&Zt(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new li(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Jn(e){e.updatedDisplay=e.mustUpdate&&ui(e.cm,e.update)}function Qn(e){var t=e.cm,r=t.display;e.updatedDisplay&&Tn(t),e.barMeasure=zn(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Ir(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+Dr(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-Tr(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function ei(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&jn(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==L(U(t));e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Nn(t,e.barMeasure),e.updatedDisplay&&hi(t,e.barMeasure),e.selectionChanged&&Pn(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&xn(e.cm)}function ti(e){var t=e.cm,r=t.display,n=t.doc;e.updatedDisplay&&ci(t,e.update),null==r.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null!=e.scrollTop&&Kn(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&jn(t,e.scrollLeft,!0,!0),e.scrollToPos&&function(e,t){if(!ge(e,"scrollCursorIntoView")){var r=e.display,n=r.sizer.getBoundingClientRect(),i=null,o=r.wrapper.ownerDocument;if(t.top+n.top<0?i=!0:t.bottom+n.top>(o.defaultView.innerHeight||o.documentElement.clientHeight)&&(i=!1),null!=i&&!f){var a=k("div","​",null,"position: absolute;\n                         top: "+(t.top-r.viewOffset-xr(e.display))+"px;\n                         height: "+(t.bottom-t.top+Dr(e)+r.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(a),a.scrollIntoView(i),e.display.lineSpace.removeChild(a)}}}(t,function(e,t,r,n){var i;null==n&&(n=0),e.options.lineWrapping||t!=r||(r="before"==t.sticky?nt(t.line,t.ch+1,"before"):t,t=t.ch?nt(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t);for(var o=0;o<5;o++){var a=!1,s=Xr(e,t),l=r&&r!=t?Xr(e,r):s,_=In(e,i={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-n,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+n}),u=e.doc.scrollTop,c=e.doc.scrollLeft;if(null!=_.scrollTop&&(Wn(e,_.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(a=!0)),null!=_.scrollLeft&&(jn(e,_.scrollLeft),Math.abs(e.doc.scrollLeft-c)>1&&(a=!0)),!a)break}return i}(t,ut(n,e.scrollToPos.from),ut(n,e.scrollToPos.to),e.scrollToPos.margin));var i=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(i)for(var a=0;a<i.length;++a)i[a].lines.length||ye(i[a],"hide");if(o)for(var s=0;s<o.length;++s)o[s].lines.length&&ye(o[s],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&ye(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function ri(e,t){if(e.curOp)return t();Xn(e);try{return t()}finally{$n(e)}}function ni(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Xn(e);try{return t.apply(e,arguments)}finally{$n(e)}}}function ii(e){return function(){if(this.curOp)return e.apply(this,arguments);Xn(this);try{return e.apply(this,arguments)}finally{$n(this)}}}function oi(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Xn(t);try{return e.apply(this,arguments)}finally{$n(t)}}}function ai(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,K(si,e))}function si(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=mt(e,t.highlightFrontier),i=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(o){if(n.line>=e.display.viewFrom){var a=o.styles,s=o.text.length>e.options.maxHighlightLength?He(t.mode,n.state):null,l=ht(e,o,n,!0);s&&(n.state=s),o.styles=l.styles;var _=o.styleClasses,u=l.classes;u?o.styleClasses=u:_&&(o.styleClasses=null);for(var c=!a||a.length!=o.styles.length||_!=u&&(!_||!u||_.bgClass!=u.bgClass||_.textClass!=u.textClass),p=0;!c&&p<a.length;++p)c=a[p]!=o.styles[p];c&&i.push(n.line),o.stateAfter=n.save(),n.nextLine()}else o.text.length<=e.options.maxHighlightLength&&yt(e,o.text,n),o.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>r)return ai(e,e.options.workDelay),!0})),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),i.length&&ri(e,(function(){for(var t=0;t<i.length;t++)fn(e,i[t],"text")}))}}var li=function(e,t,r){var n=e.display;this.viewport=t,this.visible=An(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Tr(e),this.force=r,this.dims=ln(e),this.events=[]};function _i(e){if(e.hasFocus())return null;var t=L(U(e));if(!t||!I(e.display.lineDiv,t))return null;var r={activeElt:t};if(window.getSelection){var n=W(e).getSelection();n.anchorNode&&n.extend&&I(e.display.lineDiv,n.anchorNode)&&(r.anchorNode=n.anchorNode,r.anchorOffset=n.anchorOffset,r.focusNode=n.focusNode,r.focusOffset=n.focusOffset)}return r}function ui(e,t){var r=e.display,n=e.doc;if(t.editorIsHidden)return mn(e),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==gn(e))return!1;mi(e)&&(mn(e),t.dims=ln(e));var i=n.first+n.size,o=Math.max(t.visible.from-e.options.viewportMargin,n.first),a=Math.min(i,t.visible.to+e.options.viewportMargin);r.viewFrom<o&&o-r.viewFrom<20&&(o=Math.max(n.first,r.viewFrom)),r.viewTo>a&&r.viewTo-a<20&&(a=Math.min(i,r.viewTo)),xt&&(o=Ft(e.doc,o),a=qt(e.doc,a));var s=o!=r.viewFrom||a!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;!function(e,t,r){var n=e.display;0==n.view.length||t>=n.viewTo||r<=n.viewFrom?(n.view=sr(e,t,r),n.viewFrom=t):(n.viewFrom>t?n.view=sr(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(dn(e,t))),n.viewFrom=t,n.viewTo<r?n.view=n.view.concat(sr(e,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,dn(e,r)))),n.viewTo=r}(e,o,a),r.viewOffset=Gt(Xe(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var _=gn(e);if(!s&&0==_&&!t.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var u=_i(e);return _>4&&(r.lineDiv.style.display="none"),function(e,t,r){var n=e.display,i=e.options.lineNumbers,o=n.lineDiv,a=o.firstChild;function s(t){var r=t.nextSibling;return l&&b&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),r}for(var _=n.view,u=n.viewFrom,c=0;c<_.length;c++){var p=_[c];if(p.hidden);else if(p.node&&p.node.parentNode==o){for(;a!=p.node;)a=s(a);var d=i&&null!=t&&t<=u&&p.lineNumber;p.changes&&(q(p.changes,"gutter")>-1&&(d=!1),pr(e,p,u,r)),d&&(D(p.lineNumber),p.lineNumber.appendChild(document.createTextNode(rt(e.options,u)))),a=p.node.nextSibling}else{var h=br(e,p,u,r);o.insertBefore(h,a)}u+=p.size}for(;a;)a=s(a)}(e,r.updateLineNumbers,t.dims),_>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,function(e){if(e&&e.activeElt&&e.activeElt!=L(e.activeElt.ownerDocument)&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&I(document.body,e.anchorNode)&&I(document.body,e.focusNode))){var t=e.activeElt.ownerDocument,r=t.defaultView.getSelection(),n=t.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),r.removeAllRanges(),r.addRange(n),r.extend(e.focusNode,e.focusOffset)}}(u),D(r.cursorDiv),D(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,s&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,ai(e,400)),r.updateLineNumbers=null,!0}function ci(e,t){for(var r=t.viewport,n=!0;;n=!1){if(n&&e.options.lineWrapping&&t.oldDisplayWidth!=Tr(e))n&&(t.visible=An(e.display,e.doc,r));else if(r&&null!=r.top&&(r={top:Math.min(e.doc.height+wr(e.display)-kr(e),r.top)}),t.visible=An(e.display,e.doc,r),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!ui(e,t))break;Tn(e);var i=zn(e);bn(e),Nn(e,i),hi(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function pi(e,t){var r=new li(e,t);if(ui(e,r)){Tn(e),ci(e,r);var n=zn(e);bn(e),Nn(e,n),hi(e,n),r.finish()}}function di(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",ur(e,"gutterChanged",e)}function hi(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Dr(e)+"px"}function fi(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=_n(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=n+"px",a=0;a<r.length;a++)if(!r[a].hidden){e.options.fixedGutter&&(r[a].gutter&&(r[a].gutter.style.left=o),r[a].gutterBackground&&(r[a].gutterBackground.style.left=o));var s=r[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=n+i+"px")}}function mi(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=rt(e.options,t.first+t.size-1),n=e.display;if(r.length!=n.lineNumChars){var i=n.measure.appendChild(k("div",[k("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(o,n.lineGutter.offsetWidth-a)+1,n.lineNumWidth=n.lineNumInnerWidth+a,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",di(e.display),!0}return!1}function yi(e,t){for(var r=[],n=!1,i=0;i<e.length;i++){var o=e[i],a=null;if("string"!=typeof o&&(a=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;n=!0}r.push({className:o,style:a})}return t&&!n&&r.push({className:"CodeMirror-linenumbers",style:null}),r}function gi(e){var t=e.gutters,r=e.gutterSpecs;D(t),e.lineGutter=null;for(var n=0;n<r.length;++n){var i=r[n],o=i.className,a=i.style,s=t.appendChild(k("div",null,"CodeMirror-gutter "+o));a&&(s.style.cssText=a),"CodeMirror-linenumbers"==o&&(e.lineGutter=s,s.style.width=(e.lineNumWidth||1)+"px")}t.style.display=r.length?"":"none",di(e)}function bi(e){gi(e.display),hn(e),fi(e)}function vi(e,t,n,i){var o=this;this.input=n,o.scrollbarFiller=k("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=k("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=A("div",null,"CodeMirror-code"),o.selectionDiv=k("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=k("div",null,"CodeMirror-cursors"),o.measure=k("div",null,"CodeMirror-measure"),o.lineMeasure=k("div",null,"CodeMirror-measure"),o.lineSpace=A("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var _=A("div",[o.lineSpace],"CodeMirror-lines");o.mover=k("div",[_],null,"position: relative"),o.sizer=k("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=k("div",null,null,"position: absolute; height: 50px; width: 1px;"),o.gutters=k("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=k("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=k("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),u&&c>=105&&(o.wrapper.style.clipPath="inset(0px)"),o.wrapper.setAttribute("translate","no"),a&&s<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),l||r&&g||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=yi(i.gutters,i.lineNumbers),gi(o),n.init(o)}li.prototype.signal=function(e,t){ve(e,t)&&this.events.push(arguments)},li.prototype.finish=function(){for(var e=0;e<this.events.length;e++)ye.apply(null,this.events[e])};var Ei=0,Oi=null;function Mi(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==r&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:null==r&&(r=e.wheelDelta),{x:t,y:r}}function Pi(e){var t=Mi(e);return t.x*=Oi,t.y*=Oi,t}function xi(e,t){u&&102==c&&(null==e.display.chromeScrollHack?e.display.sizer.style.pointerEvents="none":clearTimeout(e.display.chromeScrollHack),e.display.chromeScrollHack=setTimeout((function(){e.display.chromeScrollHack=null,e.display.sizer.style.pointerEvents=""}),100));var n=Mi(t),i=n.x,o=n.y,a=Oi;0===t.deltaMode&&(i=t.deltaX,o=t.deltaY,a=1);var s=e.display,_=s.scroller,d=_.scrollWidth>_.clientWidth,h=_.scrollHeight>_.clientHeight;if(i&&d||o&&h){if(o&&b&&l)e:for(var f=t.target,m=s.view;f!=_;f=f.parentNode)for(var y=0;y<m.length;y++)if(m[y].node==f){e.display.currentWheelTarget=f;break e}if(i&&!r&&!p&&null!=a)return o&&h&&Wn(e,Math.max(0,_.scrollTop+o*a)),jn(e,Math.max(0,_.scrollLeft+i*a)),(!o||o&&h)&&Oe(t),void(s.wheelStartX=null);if(o&&null!=a){var g=o*a,v=e.doc.scrollTop,E=v+s.wrapper.clientHeight;g<0?v=Math.max(0,v+g-50):E=Math.min(e.doc.height,E+g+50),pi(e,{top:v,bottom:E})}Ei<20&&0!==t.deltaMode&&(null==s.wheelStartX?(s.wheelStartX=_.scrollLeft,s.wheelStartY=_.scrollTop,s.wheelDX=i,s.wheelDY=o,setTimeout((function(){if(null!=s.wheelStartX){var e=_.scrollLeft-s.wheelStartX,t=_.scrollTop-s.wheelStartY,r=t&&s.wheelDY&&t/s.wheelDY||e&&s.wheelDX&&e/s.wheelDX;s.wheelStartX=s.wheelStartY=null,r&&(Oi=(Oi*Ei+r)/(Ei+1),++Ei)}}),200)):(s.wheelDX+=i,s.wheelDY+=o))}}a?Oi=-.53:r?Oi=15:u?Oi=-.7:d&&(Oi=-1/3);var wi=function(e,t){this.ranges=e,this.primIndex=t};wi.prototype.primary=function(){return this.ranges[this.primIndex]},wi.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t],n=e.ranges[t];if(!ot(r.anchor,n.anchor)||!ot(r.head,n.head))return!1}return!0},wi.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new Ci(at(this.ranges[t].anchor),at(this.ranges[t].head));return new wi(e,this.primIndex)},wi.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},wi.prototype.contains=function(e,t){t||(t=e);for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(it(t,n.from())>=0&&it(e,n.to())<=0)return r}return-1};var Ci=function(e,t){this.anchor=e,this.head=t};function Di(e,t,r){var n=e&&e.options.selectionsMayTouch,i=t[r];t.sort((function(e,t){return it(e.from(),t.from())})),r=q(t,i);for(var o=1;o<t.length;o++){var a=t[o],s=t[o-1],l=it(s.to(),a.from());if(n&&!a.empty()?l>0:l>=0){var _=lt(s.from(),a.from()),u=st(s.to(),a.to()),c=s.empty()?a.from()==a.head:s.from()==s.head;o<=r&&--r,t.splice(--o,2,new Ci(c?u:_,c?_:u))}}return new wi(t,r)}function Ti(e,t){return new wi([new Ci(e,t||e)],0)}function ki(e){return e.text?nt(e.from.line+e.text.length-1,Y(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Ai(e,t){if(it(e,t.from)<0)return e;if(it(e,t.to)<=0)return ki(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=ki(t).ch-t.to.ch),nt(r,n)}function Ii(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var i=e.sel.ranges[n];r.push(new Ci(Ai(i.anchor,t),Ai(i.head,t)))}return Di(e.cm,r,e.sel.primIndex)}function Li(e,t,r){return e.line==t.line?nt(r.line,e.ch-t.ch+r.ch):nt(r.line+(e.line-t.line),e.ch)}function Ri(e){e.doc.mode=Fe(e.options,e.doc.modeOption),Si(e)}function Si(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,ai(e,100),e.state.modeGen++,e.curOp&&hn(e)}function Bi(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Y(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Ui(e,t,r,n){function i(e){return r?r[e]:null}function o(e,r,i){!function(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),At(e),It(e,r);var i=n?n(e):1;i!=e.height&&Je(e,i)}(e,r,i,n),ur(e,"change",e,t)}function a(e,t){for(var r=[],o=e;o<t;++o)r.push(new Xt(_[o],i(o),n));return r}var s=t.from,l=t.to,_=t.text,u=Xe(e,s.line),c=Xe(e,l.line),p=Y(_),d=i(_.length-1),h=l.line-s.line;if(t.full)e.insert(0,a(0,_.length)),e.remove(_.length,e.size-_.length);else if(Bi(e,t)){var f=a(0,_.length-1);o(c,c.text,d),h&&e.remove(s.line,h),f.length&&e.insert(s.line,f)}else if(u==c)if(1==_.length)o(u,u.text.slice(0,s.ch)+p+u.text.slice(l.ch),d);else{var m=a(1,_.length-1);m.push(new Xt(p+u.text.slice(l.ch),d,n)),o(u,u.text.slice(0,s.ch)+_[0],i(0)),e.insert(s.line+1,m)}else if(1==_.length)o(u,u.text.slice(0,s.ch)+_[0]+c.text.slice(l.ch),i(0)),e.remove(s.line+1,h);else{o(u,u.text.slice(0,s.ch)+_[0],i(0)),o(c,p+c.text.slice(l.ch),d);var y=a(1,_.length-1);h>1&&e.remove(s.line+1,h-1),e.insert(s.line+1,y)}ur(e,"change",e,t)}function Wi(e,t,r){!function e(n,i,o){if(n.linked)for(var a=0;a<n.linked.length;++a){var s=n.linked[a];if(s.doc!=i){var l=o&&s.sharedHist;r&&!l||(t(s.doc,l),e(s.doc,n,l))}}}(e,null,!0)}function Ki(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,cn(e),Ri(e),ji(e),e.options.direction=t.direction,e.options.lineWrapping||Zt(e),e.options.mode=t.modeOption,hn(e)}function ji(e){("rtl"==e.doc.direction?R:C)(e.display.lineDiv,"CodeMirror-rtl")}function zi(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function Fi(e,t){var r={from:at(t.from),to:ki(t),text:$e(e,t.from,t.to)};return Vi(e,r,t.from.line,t.to.line+1),Wi(e,(function(e){return Vi(e,r,t.from.line,t.to.line+1)}),!0),r}function qi(e){for(;e.length&&Y(e).ranges;)e.pop()}function Ni(e,t,r,n){var i=e.history;i.undone.length=0;var o,a,s=+new Date;if((i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=function(e,t){return t?(qi(e.done),Y(e.done)):e.done.length&&!Y(e.done).ranges?Y(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Y(e.done)):void 0}(i,i.lastOp==n)))a=Y(o.changes),0==it(t.from,t.to)&&0==it(t.from,a.to)?a.to=ki(t):o.changes.push(Fi(e,t));else{var l=Y(i.done);for(l&&l.ranges||Gi(e.sel,i.done),o={changes:[Fi(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=t.origin,a||ye(e,"historyAdded")}function Hi(e,t,r,n){var i=e.history,o=n&&n.origin;r==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||function(e,t,r,n){var i=t.charAt(0);return"*"==i||"+"==i&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,o,Y(i.done),t))?i.done[i.done.length-1]=t:Gi(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=r,n&&!1!==n.clearRedo&&qi(i.undone)}function Gi(e,t){var r=Y(t);r&&r.ranges&&r.equals(e)||t.push(e)}function Vi(e,t,r,n){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),(function(r){r.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=r.markedSpans),++o}))}function Zi(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function Xi(e,t){var r=function(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=[],i=0;i<t.text.length;++i)n.push(Zi(r[i]));return n}(e,t),n=Tt(e,t);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var o=r[i],a=n[i];if(o&&a)e:for(var s=0;s<a.length;++s){for(var l=a[s],_=0;_<o.length;++_)if(o[_].marker==l.marker)continue e;o.push(l)}else a&&(r[i]=a)}return r}function $i(e,t,r){for(var n=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)n.push(r?wi.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];n.push({changes:s});for(var l=0;l<a.length;++l){var _=a[l],u=void 0;if(s.push({from:_.from,to:_.to,text:_.text}),t)for(var c in _)(u=c.match(/^spans_(\d+)$/))&&q(t,Number(u[1]))>-1&&(Y(s)[c]=_[c],delete _[c])}}}return n}function Yi(e,t,r,n){if(n){var i=e.anchor;if(r){var o=it(t,i)<0;o!=it(r,i)<0?(i=t,t=r):o!=it(t,r)<0&&(t=r)}return new Ci(i,t)}return new Ci(r||t,t)}function Ji(e,t,r,n,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),no(e,new wi([Yi(e.sel.primary(),t,r,i)],0),n)}function Qi(e,t,r){for(var n=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)n[o]=Yi(e.sel.ranges[o],t[o],null,i);no(e,Di(e.cm,n,e.sel.primIndex),r)}function eo(e,t,r,n){var i=e.sel.ranges.slice(0);i[t]=r,no(e,Di(e.cm,i,e.sel.primIndex),n)}function to(e,t,r,n){no(e,Ti(t,r),n)}function ro(e,t,r){var n=e.history.done,i=Y(n);i&&i.ranges?(n[n.length-1]=t,io(e,t,r)):no(e,t,r)}function no(e,t,r){io(e,t,r),Hi(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function io(e,t,r){(ve(e,"beforeSelectionChange")||e.cm&&ve(e.cm,"beforeSelectionChange"))&&(t=function(e,t,r){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var r=0;r<t.length;r++)this.ranges[r]=new Ci(ut(e,t[r].anchor),ut(e,t[r].head))},origin:r&&r.origin};return ye(e,"beforeSelectionChange",e,n),e.cm&&ye(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?Di(e.cm,n.ranges,n.ranges.length-1):t}(e,t,r));var n=r&&r.bias||(it(t.primary().head,e.sel.primary().head)<0?-1:1);oo(e,so(e,t,n,!0)),r&&!1===r.scroll||!e.cm||"nocursor"==e.cm.getOption("readOnly")||Rn(e.cm)}function oo(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,be(e.cm)),ur(e,"cursorActivity",e))}function ao(e){oo(e,so(e,e.sel,null,!1))}function so(e,t,r,n){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=_o(e,a.anchor,s&&s.anchor,r,n),_=a.head==a.anchor?l:_o(e,a.head,s&&s.head,r,n);(i||l!=a.anchor||_!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new Ci(l,_))}return i?Di(e.cm,i,t.primIndex):t}function lo(e,t,r,n,i){var o=Xe(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],l=s.marker,_="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,u="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==s.from||(_?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(u?s.to>=t.ch:s.to>t.ch))){if(i&&(ye(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!l.atomic)continue;if(r){var c=l.find(n<0?1:-1),p=void 0;if((n<0?u:_)&&(c=uo(e,c,-n,c&&c.line==t.line?o:null)),c&&c.line==t.line&&(p=it(c,r))&&(n<0?p<0:p>0))return lo(e,c,t,n,i)}var d=l.find(n<0?-1:1);return(n<0?_:u)&&(d=uo(e,d,n,d.line==t.line?o:null)),d?lo(e,d,t,n,i):null}}return t}function _o(e,t,r,n,i){var o=n||1,a=lo(e,t,r,o,i)||!i&&lo(e,t,r,o,!0)||lo(e,t,r,-o,i)||!i&&lo(e,t,r,-o,!0);return a||(e.cantEdit=!0,nt(e.first,0))}function uo(e,t,r,n){return r<0&&0==t.ch?t.line>e.first?ut(e,nt(t.line-1)):null:r>0&&t.ch==(n||Xe(e,t.line)).text.length?t.line<e.first+e.size-1?nt(t.line+1,0):null:new nt(t.line,t.ch+r)}function co(e){e.setSelection(nt(e.firstLine(),0),nt(e.lastLine()),H)}function po(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return r&&(n.update=function(t,r,i,o){t&&(n.from=ut(e,t)),r&&(n.to=ut(e,r)),i&&(n.text=i),void 0!==o&&(n.origin=o)}),ye(e,"beforeChange",e,n),e.cm&&ye(e.cm,"beforeChange",e.cm,n),n.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function ho(e,t,r){if(e.cm){if(!e.cm.curOp)return ni(e.cm,ho)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(ve(e,"beforeChange")||e.cm&&ve(e.cm,"beforeChange"))||(t=po(e,t,!0))){var n=Pt&&!r&&function(e,t,r){var n=null;if(e.iter(t.line,r.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var r=e.markedSpans[t].marker;!r.readOnly||n&&-1!=q(n,r)||(n||(n=[])).push(r)}})),!n)return null;for(var i=[{from:t,to:r}],o=0;o<n.length;++o)for(var a=n[o],s=a.find(0),l=0;l<i.length;++l){var _=i[l];if(!(it(_.to,s.from)<0||it(_.from,s.to)>0)){var u=[l,1],c=it(_.from,s.from),p=it(_.to,s.to);(c<0||!a.inclusiveLeft&&!c)&&u.push({from:_.from,to:s.from}),(p>0||!a.inclusiveRight&&!p)&&u.push({from:s.to,to:_.to}),i.splice.apply(i,u),l+=u.length-3}}return i}(e,t.from,t.to);if(n)for(var i=n.length-1;i>=0;--i)fo(e,{from:n[i].from,to:n[i].to,text:i?[""]:t.text,origin:t.origin});else fo(e,t)}}function fo(e,t){if(1!=t.text.length||""!=t.text[0]||0!=it(t.from,t.to)){var r=Ii(e,t);Ni(e,t,r,e.cm?e.cm.curOp.id:NaN),go(e,t,r,Tt(e,t));var n=[];Wi(e,(function(e,r){r||-1!=q(n,e.history)||(Oo(e.history,t),n.push(e.history)),go(e,t,null,Tt(e,t))}))}}function mo(e,t,r){var n=e.cm&&e.cm.state.suppressEdits;if(!n||r){for(var i,o=e.history,a=e.sel,s="undo"==t?o.done:o.undone,l="undo"==t?o.undone:o.done,_=0;_<s.length&&(i=s[_],r?!i.ranges||i.equals(e.sel):i.ranges);_++);if(_!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(i=s.pop()).ranges){if(n)return void s.push(i);break}if(Gi(i,l),r&&!i.equals(e.sel))return void no(e,i,{clearRedo:!1});a=i}var u=[];Gi(a,l),l.push({changes:u,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var c=ve(e,"beforeChange")||e.cm&&ve(e.cm,"beforeChange"),p=function(r){var n=i.changes[r];if(n.origin=t,c&&!po(e,n,!1))return s.length=0,{};u.push(Fi(e,n));var o=r?Ii(e,n):Y(s);go(e,n,o,Xi(e,n)),!r&&e.cm&&e.cm.scrollIntoView({from:n.from,to:ki(n)});var a=[];Wi(e,(function(e,t){t||-1!=q(a,e.history)||(Oo(e.history,n),a.push(e.history)),go(e,n,null,Xi(e,n))}))},d=i.changes.length-1;d>=0;--d){var h=p(d);if(h)return h.v}}}}function yo(e,t){if(0!=t&&(e.first+=t,e.sel=new wi(J(e.sel.ranges,(function(e){return new Ci(nt(e.anchor.line+t,e.anchor.ch),nt(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){hn(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)fn(e.cm,n,"gutter")}}function go(e,t,r,n){if(e.cm&&!e.cm.curOp)return ni(e.cm,go)(e,t,r,n);if(t.to.line<e.first)yo(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);yo(e,i),t={from:nt(e.first,0),to:nt(t.to.line+i,t.to.ch),text:[Y(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:nt(o,Xe(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=$e(e,t.from,t.to),r||(r=Ii(e,t)),e.cm?function(e,t,r){var n=e.doc,i=e.display,o=t.from,a=t.to,s=!1,l=o.line;e.options.lineWrapping||(l=Qe(zt(Xe(n,o.line))),n.iter(l,a.line+1,(function(e){if(e==i.maxLine)return s=!0,!0}))),n.sel.contains(t.from,t.to)>-1&&be(e),Ui(n,t,r,un(e)),e.options.lineWrapping||(n.iter(l,o.line+t.text.length,(function(e){var t=Vt(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)})),s&&(e.curOp.updateMaxLine=!0)),function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var r=e.first,n=t-1;n>r;n--){var i=Xe(e,n).stateAfter;if(i&&(!(i instanceof pt)||n+i.lookAhead<t)){r=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,r)}}(n,o.line),ai(e,400);var _=t.text.length-(a.line-o.line)-1;t.full?hn(e):o.line!=a.line||1!=t.text.length||Bi(e.doc,t)?hn(e,o.line,a.line+1,_):fn(e,o.line,"text");var u=ve(e,"changes"),c=ve(e,"change");if(c||u){var p={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};c&&ur(e,"change",e,p),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(p)}e.display.selForContextMenu=null}(e.cm,t,n):Ui(e,t,n),io(e,r,H),e.cantEdit&&_o(e,nt(e.firstLine(),0))&&(e.cantEdit=!1)}}function bo(e,t,r,n,i){var o;n||(n=r),it(n,r)<0&&(r=(o=[n,r])[0],n=o[1]),"string"==typeof t&&(t=e.splitLines(t)),ho(e,{from:r,to:n,text:t,origin:i})}function vo(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function Eo(e,t,r,n){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)vo(o.ranges[s].anchor,t,r,n),vo(o.ranges[s].head,t,r,n)}else{for(var l=0;l<o.changes.length;++l){var _=o.changes[l];if(r<_.from.line)_.from=nt(_.from.line+n,_.from.ch),_.to=nt(_.to.line+n,_.to.ch);else if(t<=_.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function Oo(e,t){var r=t.from.line,n=t.to.line,i=t.text.length-(n-r)-1;Eo(e.done,r,n,i),Eo(e.undone,r,n,i)}function Mo(e,t,r,n){var i=t,o=t;return"number"==typeof t?o=Xe(e,_t(e,t)):i=Qe(t),null==i?null:(n(o,i)&&e.cm&&fn(e.cm,i,r),o)}function Po(e){this.lines=e,this.parent=null;for(var t=0,r=0;r<e.length;++r)e[r].parent=this,t+=e[r].height;this.height=t}function xo(e){this.children=e;for(var t=0,r=0,n=0;n<e.length;++n){var i=e[n];t+=i.chunkSize(),r+=i.height,i.parent=this}this.size=t,this.height=r,this.parent=null}Ci.prototype.from=function(){return lt(this.anchor,this.head)},Ci.prototype.to=function(){return st(this.anchor,this.head)},Ci.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Po.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=e,n=e+t;r<n;++r){var i=this.lines[r];this.height-=i.height,$t(i),ur(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,r){for(var n=e+t;e<n;++e)if(r(this.lines[e]))return!0}},xo.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;r<this.children.length;++r){var n=this.children[r],i=n.chunkSize();if(e<i){var o=Math.min(t,i-e),a=n.height;if(n.removeInner(e,o),this.height-=a-n.height,i==o&&(this.children.splice(r--,1),n.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Po))){var s=[];this.collapse(s),this.children=[new Po(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,r),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,s=a;s<i.lines.length;){var l=new Po(i.lines.slice(s,s+=25));i.height-=l.height,this.children.splice(++n,0,l),l.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new xo(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var r=q(e.parent.children,e);e.parent.children.splice(r+1,0,t)}else{var n=new xo(e.children);n.parent=e,e.children=[n,t],e=n}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<o){var a=Math.min(t,o-e);if(i.iterN(e,a,r))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var wo=function(e,t,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=e,this.node=t};function Co(e,t,r){Gt(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Ln(e,r)}wo.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,r=this.line,n=Qe(r);if(null!=n&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(r.widgets=null);var o=Mr(this);Je(r,Math.max(0,r.height-o)),e&&(ri(e,(function(){Co(e,r,-o),fn(e,n,"widget")})),ur(e,"lineWidgetCleared",e,this,n))}},wo.prototype.changed=function(){var e=this,t=this.height,r=this.doc.cm,n=this.line;this.height=null;var i=Mr(this)-t;i&&(Nt(this.doc,n)||Je(n,n.height+i),r&&ri(r,(function(){r.curOp.forceUpdate=!0,Co(r,n,i),ur(r,"lineWidgetChanged",r,e,Qe(n))})))},Ee(wo);var Do=0,To=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Do};function ko(e,t,r,n,i){if(n&&n.shared)return function(e,t,r,n,i){(n=j(n)).shared=!1;var o=[ko(e,t,r,n,i)],a=o[0],s=n.widgetNode;return Wi(e,(function(e){s&&(n.widgetNode=s.cloneNode(!0)),o.push(ko(e,ut(e,t),ut(e,r),n,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;a=Y(o)})),new Ao(o,a)}(e,t,r,n,i);if(e.cm&&!e.cm.curOp)return ni(e.cm,ko)(e,t,r,n,i);var o=new To(e,i),a=it(t,r);if(n&&j(n,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=A("span",[o.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(jt(e,t.line,t,r,o)||t.line!=r.line&&jt(e,r.line,t,r,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");xt=!0}o.addToHistory&&Ni(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var s,l=t.line,_=e.cm;if(e.iter(l,r.line+1,(function(n){_&&o.collapsed&&!_.options.lineWrapping&&zt(n)==_.display.maxLine&&(s=!0),o.collapsed&&l!=t.line&&Je(n,0),function(e,t,r){var n=r&&window.WeakSet&&(r.markedSpans||(r.markedSpans=new WeakSet));n&&e.markedSpans&&n.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],n&&n.add(e.markedSpans)),t.marker.attachLine(e)}(n,new wt(o,l==t.line?t.ch:null,l==r.line?r.ch:null),e.cm&&e.cm.curOp),++l})),o.collapsed&&e.iter(t.line,r.line+1,(function(t){Nt(e,t)&&Je(t,0)})),o.clearOnEnter&&he(o,"beforeCursorEnter",(function(){return o.clear()})),o.readOnly&&(Pt=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++Do,o.atomic=!0),_){if(s&&(_.curOp.updateMaxLine=!0),o.collapsed)hn(_,t.line,r.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var u=t.line;u<=r.line;u++)fn(_,u,"text");o.atomic&&ao(_.doc),ur(_,"markerAdded",_,o)}return o}To.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Xn(e),ve(this,"clear")){var r=this.find();r&&ur(this,"clear",r.from,r.to)}for(var n=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=Ct(a.markedSpans,this);e&&!this.collapsed?fn(e,Qe(a),"text"):e&&(null!=s.to&&(i=Qe(a)),null!=s.from&&(n=Qe(a))),a.markedSpans=Dt(a.markedSpans,s),null==s.from&&this.collapsed&&!Nt(this.doc,a)&&e&&Je(a,an(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var _=zt(this.lines[l]),u=Vt(_);u>e.display.maxLineLength&&(e.display.maxLine=_,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=n&&e&&this.collapsed&&hn(e,n,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&ao(e.doc)),e&&ur(e,"markerCleared",e,this,n,i),t&&$n(e),this.parent&&this.parent.clear()}},To.prototype.find=function(e,t){var r,n;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],a=Ct(o.markedSpans,this);if(null!=a.from&&(r=nt(t?o:Qe(o),a.from),-1==e))return r;if(null!=a.to&&(n=nt(t?o:Qe(o),a.to),1==e))return n}return r&&{from:r,to:n}},To.prototype.changed=function(){var e=this,t=this.find(-1,!0),r=this,n=this.doc.cm;t&&n&&ri(n,(function(){var i=t.line,o=Qe(t.line),a=Lr(n,o);if(a&&(jr(a),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!Nt(r.doc,i)&&null!=r.height){var s=r.height;r.height=null;var l=Mr(r)-s;l&&Je(i,i.height+l)}ur(n,"markerChanged",n,e)}))},To.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=q(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},To.prototype.detachLine=function(e){if(this.lines.splice(q(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},Ee(To);var Ao=function(e,t){this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this};function Io(e){return e.findMarks(nt(e.first,0),e.clipPos(nt(e.lastLine())),(function(e){return e.parent}))}function Lo(e){for(var t=function(t){var r=e[t],n=[r.primary.doc];Wi(r.primary.doc,(function(e){return n.push(e)}));for(var i=0;i<r.markers.length;i++){var o=r.markers[i];-1==q(n,o.doc)&&(o.parent=null,r.markers.splice(i--,1))}},r=0;r<e.length;r++)t(r)}Ao.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();ur(this,"clear")}},Ao.prototype.find=function(e,t){return this.primary.find(e,t)},Ee(Ao);var Ro=0,So=function(e,t,r,n,i){if(!(this instanceof So))return new So(e,t,r,n,i);null==r&&(r=0),xo.call(this,[new Po([new Xt("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var o=nt(r,0);this.sel=Ti(o),this.history=new zi(null),this.id=++Ro,this.modeOption=t,this.lineSep=n,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Ui(this,{from:o,to:o,text:e}),no(this,Ti(o),H)};So.prototype=ee(xo.prototype,{constructor:So,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Ye(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:oi((function(e){var t=nt(this.first,0),r=this.first+this.size-1;ho(this,{from:t,to:nt(r,Xe(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Sn(this.cm,0,0),no(this,Ti(t),H)})),replaceRange:function(e,t,r,n){bo(this,e,t=ut(this,t),r=r?ut(this,r):t,n)},getRange:function(e,t,r){var n=$e(this,ut(this,e),ut(this,t));return!1===r?n:""===r?n.join(""):n.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(tt(this,e))return Xe(this,e)},getLineNumber:function(e){return Qe(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Xe(this,e)),zt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ut(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:oi((function(e,t,r){to(this,ut(this,"number"==typeof e?nt(e,t||0):e),null,r)})),setSelection:oi((function(e,t,r){to(this,ut(this,e),ut(this,t||e),r)})),extendSelection:oi((function(e,t,r){Ji(this,ut(this,e),t&&ut(this,t),r)})),extendSelections:oi((function(e,t){Qi(this,ct(this,e),t)})),extendSelectionsBy:oi((function(e,t){Qi(this,ct(this,J(this.sel.ranges,e)),t)})),setSelections:oi((function(e,t,r){if(e.length){for(var n=[],i=0;i<e.length;i++)n[i]=new Ci(ut(this,e[i].anchor),ut(this,e[i].head||e[i].anchor));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),no(this,Di(this.cm,n,t),r)}})),addSelection:oi((function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new Ci(ut(this,e),ut(this,t||e))),no(this,Di(this.cm,n,n.length-1),r)})),getSelection:function(e){for(var t,r=this.sel.ranges,n=0;n<r.length;n++){var i=$e(this,r[n].from(),r[n].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],r=this.sel.ranges,n=0;n<r.length;n++){var i=$e(this,r[n].from(),r[n].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[n]=i}return t},replaceSelection:function(e,t,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:oi((function(e,t,r){for(var n=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];n[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:r}}for(var s=t&&"end"!=t&&function(e,t,r){for(var n=[],i=nt(e.first,0),o=i,a=0;a<t.length;a++){var s=t[a],l=Li(s.from,i,o),_=Li(ki(s),i,o);if(i=s.to,o=_,"around"==r){var u=e.sel.ranges[a],c=it(u.head,u.anchor)<0;n[a]=new Ci(c?_:l,c?l:_)}else n[a]=new Ci(l,l)}return new wi(n,e.sel.primIndex)}(this,n,t),l=n.length-1;l>=0;l--)ho(this,n[l]);s?ro(this,s):this.cm&&Rn(this.cm)})),undo:oi((function(){mo(this,"undo")})),redo:oi((function(){mo(this,"redo")})),undoSelection:oi((function(){mo(this,"undo",!0)})),redoSelection:oi((function(){mo(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){var e=this;this.history=new zi(this.history),Wi(this,(function(t){return t.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:$i(this.history.done),undone:$i(this.history.undone)}},setHistory:function(e){var t=this.history=new zi(this.history);t.done=$i(e.done.slice(0),null,!0),t.undone=$i(e.undone.slice(0),null,!0)},setGutterMarker:oi((function(e,t,r){return Mo(this,e,"gutter",(function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=r,!r&&ie(n)&&(e.gutterMarkers=null),!0}))})),clearGutter:oi((function(e){var t=this;this.iter((function(r){r.gutterMarkers&&r.gutterMarkers[e]&&Mo(t,r,"gutter",(function(){return r.gutterMarkers[e]=null,ie(r.gutterMarkers)&&(r.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if("number"==typeof e){if(!tt(this,e))return null;if(t=e,!(e=Xe(this,e)))return null}else if(null==(t=Qe(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:oi((function(e,t,r){return Mo(this,e,"gutter"==t?"gutter":"class",(function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[n]){if(x(r).test(e[n]))return!1;e[n]+=" "+r}else e[n]=r;return!0}))})),removeLineClass:oi((function(e,t,r){return Mo(this,e,"gutter"==t?"gutter":"class",(function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[n];if(!i)return!1;if(null==r)e[n]=null;else{var o=i.match(x(r));if(!o)return!1;var a=o.index+o[0].length;e[n]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0}))})),addLineWidget:oi((function(e,t,r){return function(e,t,r,n){var i=new wo(e,r,n),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),Mo(e,t,"widget",(function(t){var r=t.widgets||(t.widgets=[]);if(null==i.insertAt?r.push(i):r.splice(Math.min(r.length,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!Nt(e,t)){var n=Gt(t)<e.scrollTop;Je(t,t.height+Mr(i)),n&&Ln(o,i.height),o.curOp.forceUpdate=!0}return!0})),o&&ur(o,"lineWidgetAdded",o,i,"number"==typeof t?t:Qe(t)),i}(this,e,t,r)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return ko(this,ut(this,e),ut(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return ko(this,e=ut(this,e),e,r,"bookmark")},findMarksAt:function(e){var t=[],r=Xe(this,(e=ut(this,e)).line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,r){e=ut(this,e),t=ut(this,t);var n=[],i=e.line;return this.iter(e.line,t.line+1,(function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&i==e.line&&e.ch>=l.to||null==l.from&&i!=e.line||null!=l.from&&i==t.line&&l.from>=t.ch||r&&!r(l.marker)||n.push(l.marker.parent||l.marker)}++i})),n},getAllMarks:function(){var e=[];return this.iter((function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&e.push(r[n].marker)})),e},posFromIndex:function(e){var t,r=this.first,n=this.lineSeparator().length;return this.iter((function(i){var o=i.text.length+n;if(o>e)return t=e,!0;e-=o,++r})),ut(this,nt(r,t))},indexFromPos:function(e){var t=(e=ut(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+r})),t},copy:function(e){var t=new So(Ye(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<r&&(r=e.to);var n=new So(Ye(this,t,r),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(it(o,a)){var s=ko(e,o,a,n.primary,n.primary.type);n.markers.push(s),s.parent=n}}}(n,Io(this)),n},unlinkDoc:function(e){if(e instanceof Aa&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Lo(Io(this));break}if(e.history==this.history){var r=[e.id];Wi(e,(function(e){return r.push(e.id)}),!0),e.history=new zi(null),e.history.done=$i(this.history.done,r),e.history.undone=$i(this.history.undone,r)}},iterLinkedDocs:function(e){Wi(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Re(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:oi((function(e){var t;"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&ri(t=this.cm,(function(){ji(t),hn(t)})))}))}),So.prototype.eachLine=So.prototype.iter;var Bo=0;function Uo(e){var t=this;if(Wo(t),!ge(t,e)&&!Pr(t.display,e)){Oe(e),a&&(Bo=+new Date);var r=pn(t,e,!0),n=e.dataTransfer.files;if(r&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,o=Array(i),s=0,l=function(){++s==i&&ni(t,(function(){var e={from:r=ut(t.doc,r),to:r,text:t.doc.splitLines(o.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:"paste"};ho(t.doc,e),ro(t.doc,Ti(ut(t.doc,r),ut(t.doc,ki(e))))}))()},_=function(e,r){if(t.options.allowDropFileTypes&&-1==q(t.options.allowDropFileTypes,e.type))l();else{var n=new FileReader;n.onerror=function(){return l()},n.onload=function(){var e=n.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)||(o[r]=e),l()},n.readAsText(e)}},u=0;u<n.length;u++)_(n[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var c=e.dataTransfer.getData("Text");if(c){var p;if(t.state.draggingText&&!t.state.draggingText.copy&&(p=t.listSelections()),io(t.doc,Ti(r,r)),p)for(var d=0;d<p.length;++d)bo(t.doc,"",p[d].anchor,p[d].head,"drag");t.replaceSelection(c,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Wo(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Ko(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),r=[],n=0;n<t.length;n++){var i=t[n].CodeMirror;i&&r.push(i)}r.length&&r[0].operation((function(){for(var t=0;t<r.length;t++)e(r[t])}))}}var jo=!1;function zo(){var e;jo||(he(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,Ko(Fo)}),100))})),he(window,"blur",(function(){return Ko(Dn)})),jo=!0)}function Fo(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var qo={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},No=0;No<10;No++)qo[No+48]=qo[No+96]=String(No);for(var Ho=65;Ho<=90;Ho++)qo[Ho]=String.fromCharCode(Ho);for(var Go=1;Go<=12;Go++)qo[Go+111]=qo[Go+63235]="F"+Go;var Vo={};function Zo(e){var t,r,n,i,o=e.split(/-(?!$)/);e=o[o.length-1];for(var a=0;a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);n=!0}}return t&&(e="Alt-"+e),r&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function Xo(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==n){delete e[r];continue}for(var i=J(r.split(" "),Zo),o=0;o<i.length;o++){var a=void 0,s=void 0;o==i.length-1?(s=i.join(" "),a=n):(s=i.slice(0,o+1).join(" "),a="...");var l=t[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[r]}for(var _ in t)e[_]=t[_];return e}function $o(e,t,r,n){var i=(t=ea(t)).call?t.call(e,n):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return $o(e,t.fallthrough,r,n);for(var o=0;o<t.fallthrough.length;o++){var a=$o(e,t.fallthrough[o],r,n);if(a)return a}}}function Yo(e){var t="string"==typeof e?e:qo[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Jo(e,t,r){var n=e;return t.altKey&&"Alt"!=n&&(e="Alt-"+e),(M?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(e="Ctrl-"+e),(M?t.ctrlKey:t.metaKey)&&"Mod"!=n&&(e="Cmd-"+e),!r&&t.shiftKey&&"Shift"!=n&&(e="Shift-"+e),e}function Qo(e,t){if(p&&34==e.keyCode&&e.char)return!1;var r=qo[e.keyCode];return null!=r&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(r=e.code),Jo(r,e,t))}function ea(e){return"string"==typeof e?Vo[e]:e}function ta(e,t){for(var r=e.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var o=t(r[i]);n.length&&it(o.from,Y(n).to)<=0;){var a=n.pop();if(it(a.from,o.from)<0){o.from=a.from;break}}n.push(o)}ri(e,(function(){for(var t=n.length-1;t>=0;t--)bo(e.doc,"",n[t].from,n[t].to,"+delete");Rn(e)}))}function ra(e,t,r){var n=se(e.text,t+r,r);return n<0||n>e.text.length?null:n}function na(e,t,r){var n=ra(e,t.ch,r);return null==n?null:new nt(t.line,n,r<0?"after":"before")}function ia(e,t,r,n,i){if(e){"rtl"==t.doc.direction&&(i=-i);var o=pe(r,t.doc.direction);if(o){var a,s=i<0?Y(o):o[0],l=i<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var _=Rr(t,r);a=i<0?r.text.length-1:0;var u=Sr(t,_,a).top;a=le((function(e){return Sr(t,_,e).top==u}),i<0==(1==s.level)?s.from:s.to-1,a),"before"==l&&(a=ra(r,a,1))}else a=i<0?s.to:s.from;return new nt(n,a,l)}}return new nt(n,i<0?r.text.length:0,i<0?"before":"after")}Vo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Vo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Vo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Vo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Vo.default=b?Vo.macDefault:Vo.pcDefault;var oa={selectAll:co,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),H)},killLine:function(e){return ta(e,(function(t){if(t.empty()){var r=Xe(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:nt(t.head.line+1,0)}:{from:t.head,to:nt(t.head.line,r)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return ta(e,(function(t){return{from:nt(t.from().line,0),to:ut(e.doc,nt(t.to().line+1,0))}}))},delLineLeft:function(e){return ta(e,(function(e){return{from:nt(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return ta(e,(function(t){var r=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:r},"div"),to:t.from()}}))},delWrappedLineRight:function(e){return ta(e,(function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(nt(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(nt(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return aa(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return sa(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return function(e,t){var r=Xe(e.doc,t),n=function(e){for(var t;t=Wt(e);)e=t.find(1,!0).line;return e}(r);return n!=r&&(t=Qe(n)),ia(!0,e,r,t,-1)}(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")}),V)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")}),V)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var r=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?sa(e,t.head):n}),V)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,i=0;i<r.length;i++){var o=r[i].from(),a=z(e.getLine(o.line),o.ch,n);t.push($(n-a%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return ri(e,(function(){for(var t=e.listSelections(),r=[],n=0;n<t.length;n++)if(t[n].empty()){var i=t[n].head,o=Xe(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new nt(i.line,i.ch-1)),i.ch>0)i=new nt(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),nt(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=Xe(e.doc,i.line-1).text;a&&(i=new nt(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),nt(i.line-1,a.length-1),i,"+transpose"))}r.push(new Ci(i,i))}e.setSelections(r)}))},newlineAndIndent:function(e){return ri(e,(function(){for(var t=e.listSelections(),r=t.length-1;r>=0;r--)e.replaceRange(e.doc.lineSeparator(),t[r].anchor,t[r].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);Rn(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function aa(e,t){var r=Xe(e.doc,t),n=zt(r);return n!=r&&(t=Qe(n)),ia(!0,e,n,t,1)}function sa(e,t){var r=aa(e,t.line),n=Xe(e.doc,r.line),i=pe(n,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(r.ch,n.text.search(/\S/)),a=t.line==r.line&&t.ch<=o&&t.ch;return nt(r.line,a?0:o,r.sticky)}return r}function la(e,t,r){if("string"==typeof t&&!(t=oa[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),i=t(e)!=N}finally{e.display.shift=n,e.state.suppressEdits=!1}return i}var _a=new F;function ua(e,t,r,n){var i=e.state.keySeq;if(i){if(Yo(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:_a.set(50,(function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())})),ca(e,i+" "+t,r,n))return!0}return ca(e,t,r,n)}function ca(e,t,r,n){var i=function(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var i=$o(t,e.state.keyMaps[n],r,e);if(i)return i}return e.options.extraKeys&&$o(t,e.options.extraKeys,r,e)||$o(t,e.options.keyMap,r,e)}(e,t,n);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&ur(e,"keyHandled",e,t,r),"handled"!=i&&"multi"!=i||(Oe(r),Pn(e)),!!i}function pa(e,t){var r=Qo(t,!0);return!!r&&(t.shiftKey&&!e.state.keySeq?ua(e,"Shift-"+r,t,(function(t){return la(e,t,!0)}))||ua(e,r,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return la(e,t)})):ua(e,r,t,(function(t){return la(e,t)})))}var da=null;function ha(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=L(U(t)),ge(t,e)))){a&&s<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var i=pa(t,e);p&&(da=i?n:null,i||88!=n||Be||!(b?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),r&&!b&&!i&&46==n&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(e){var t=e.display.lineDiv;function r(e){18!=e.keyCode&&e.altKey||(C(t,"CodeMirror-crosshair"),me(document,"keyup",r),me(document,"mouseover",r))}R(t,"CodeMirror-crosshair"),he(document,"keyup",r),he(document,"mouseover",r)}(t)}}function fa(e){16==e.keyCode&&(this.doc.sel.shift=!1),ge(this,e)}function ma(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||Pr(t.display,e)||ge(t,e)||e.ctrlKey&&!e.altKey||b&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(p&&r==da)return da=null,void Oe(e);if(!p||e.which&&!(e.which<10)||!pa(t,e)){var i=String.fromCharCode(null==n?r:n);"\b"!=i&&(function(e,t,r){return ua(e,"'"+r+"'",t,(function(t){return la(e,t,!0)}))}(t,e,i)||t.display.input.onKeyPress(e))}}}var ya,ga,ba=function(e,t,r){this.time=e,this.pos=t,this.button=r};function va(e){var t=this,r=t.display;if(!(ge(t,e)||r.activeTouch&&r.input.supportsTouch()))if(r.input.ensurePolled(),r.shift=e.shiftKey,Pr(r,e))l||(r.scroller.draggable=!1,setTimeout((function(){return r.scroller.draggable=!0}),100));else if(!Ma(t,e)){var n=pn(t,e),i=Ce(e),o=n?function(e,t){var r=+new Date;return ga&&ga.compare(r,e,t)?(ya=ga=null,"triple"):ya&&ya.compare(r,e,t)?(ga=new ba(r,e,t),ya=null,"double"):(ya=new ba(r,e,t),ga=null,"single")}(n,i):"single";W(t).focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),n&&function(e,t,r,n,i){var o="Click";return"double"==n?o="Double"+o:"triple"==n&&(o="Triple"+o),ua(e,Jo(o=(1==t?"Left":2==t?"Middle":"Right")+o,i),i,(function(t){if("string"==typeof t&&(t=oa[t]),!t)return!1;var n=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n=t(e,r)!=N}finally{e.state.suppressEdits=!1}return n}))}(t,i,n,o,e)||(1==i?n?function(e,t,r,n){a?setTimeout(K(xn,e),0):e.curOp.focus=L(U(e));var i,o=function(e,t,r){var n=e.getOption("configureMouse"),i=n?n(e,t,r):{};if(null==i.unit){var o=v?r.shiftKey&&r.metaKey:r.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||r.shiftKey),null==i.addNew&&(i.addNew=b?r.metaKey:r.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(b?r.altKey:r.ctrlKey)),i}(e,r,n),_=e.doc.sel;e.options.dragDrop&&ke&&!e.isReadOnly()&&"single"==r&&(i=_.contains(t))>-1&&(it((i=_.ranges[i]).from(),t)<0||t.xRel>0)&&(it(i.to(),t)>0||t.xRel<0)?function(e,t,r,n){var i=e.display,o=!1,_=ni(e,(function(t){l&&(i.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:wn(e)),me(i.wrapper.ownerDocument,"mouseup",_),me(i.wrapper.ownerDocument,"mousemove",u),me(i.scroller,"dragstart",c),me(i.scroller,"drop",_),o||(Oe(t),n.addNew||Ji(e.doc,r,null,null,n.extend),l&&!d||a&&9==s?setTimeout((function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()}),20):i.input.focus())})),u=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},c=function(){return o=!0};l&&(i.scroller.draggable=!0),e.state.draggingText=_,_.copy=!n.moveOnDrag,he(i.wrapper.ownerDocument,"mouseup",_),he(i.wrapper.ownerDocument,"mousemove",u),he(i.scroller,"dragstart",c),he(i.scroller,"drop",_),e.state.delayingBlurEvent=!0,setTimeout((function(){return i.input.focus()}),20),i.scroller.dragDrop&&i.scroller.dragDrop()}(e,n,t,o):function(e,t,r,n){a&&wn(e);var i=e.display,o=e.doc;Oe(t);var s,l,_=o.sel,u=_.ranges;if(n.addNew&&!n.extend?(l=o.sel.contains(r),s=l>-1?u[l]:new Ci(r,r)):(s=o.sel.primary(),l=o.sel.primIndex),"rectangle"==n.unit)n.addNew||(s=new Ci(r,r)),r=pn(e,t,!0,!0),l=-1;else{var c=Ea(e,r,n.unit);s=n.extend?Yi(s,c.anchor,c.head,n.extend):c}n.addNew?-1==l?(l=u.length,no(o,Di(e,u.concat([s]),l),{scroll:!1,origin:"*mouse"})):u.length>1&&u[l].empty()&&"char"==n.unit&&!n.extend?(no(o,Di(e,u.slice(0,l).concat(u.slice(l+1)),0),{scroll:!1,origin:"*mouse"}),_=o.sel):eo(o,l,s,G):(l=0,no(o,new wi([s],0),G),_=o.sel);var p=r;function d(t){if(0!=it(p,t))if(p=t,"rectangle"==n.unit){for(var i=[],a=e.options.tabSize,u=z(Xe(o,r.line).text,r.ch,a),c=z(Xe(o,t.line).text,t.ch,a),d=Math.min(u,c),h=Math.max(u,c),f=Math.min(r.line,t.line),m=Math.min(e.lastLine(),Math.max(r.line,t.line));f<=m;f++){var y=Xe(o,f).text,g=Z(y,d,a);d==h?i.push(new Ci(nt(f,g),nt(f,g))):y.length>g&&i.push(new Ci(nt(f,g),nt(f,Z(y,h,a))))}i.length||i.push(new Ci(r,r)),no(o,Di(e,_.ranges.slice(0,l).concat(i),l),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b,v=s,E=Ea(e,t,n.unit),O=v.anchor;it(E.anchor,O)>0?(b=E.head,O=lt(v.from(),E.anchor)):(b=E.anchor,O=st(v.to(),E.head));var M=_.ranges.slice(0);M[l]=function(e,t){var r=t.anchor,n=t.head,i=Xe(e.doc,r.line);if(0==it(r,n)&&r.sticky==n.sticky)return t;var o=pe(i);if(!o)return t;var a=ue(o,r.ch,r.sticky),s=o[a];if(s.from!=r.ch&&s.to!=r.ch)return t;var l,_=a+(s.from==r.ch==(1!=s.level)?0:1);if(0==_||_==o.length)return t;if(n.line!=r.line)l=(n.line-r.line)*("ltr"==e.doc.direction?1:-1)>0;else{var u=ue(o,n.ch,n.sticky),c=u-a||(n.ch-r.ch)*(1==s.level?-1:1);l=u==_-1||u==_?c<0:c>0}var p=o[_+(l?-1:0)],d=l==(1==p.level),h=d?p.from:p.to,f=d?"after":"before";return r.ch==h&&r.sticky==f?t:new Ci(new nt(r.line,h,f),n)}(e,new Ci(ut(o,O),b)),no(o,Di(e,M,l),G)}}var h=i.wrapper.getBoundingClientRect(),f=0;function m(t){e.state.selectingText=!1,f=1/0,t&&(Oe(t),i.input.focus()),me(i.wrapper.ownerDocument,"mousemove",y),me(i.wrapper.ownerDocument,"mouseup",g),o.history.lastSelOrigin=null}var y=ni(e,(function(t){0!==t.buttons&&Ce(t)?function t(r){var a=++f,s=pn(e,r,!0,"rectangle"==n.unit);if(s)if(0!=it(s,p)){e.curOp.focus=L(U(e)),d(s);var l=An(i,o);(s.line>=l.to||s.line<l.from)&&setTimeout(ni(e,(function(){f==a&&t(r)})),150)}else{var _=r.clientY<h.top?-20:r.clientY>h.bottom?20:0;_&&setTimeout(ni(e,(function(){f==a&&(i.scroller.scrollTop+=_,t(r))})),50)}}(t):m(t)})),g=ni(e,m);e.state.selectingText=g,he(i.wrapper.ownerDocument,"mousemove",y),he(i.wrapper.ownerDocument,"mouseup",g)}(e,n,t,o)}(t,n,o,e):we(e)==r.scroller&&Oe(e):2==i?(n&&Ji(t.doc,n),setTimeout((function(){return r.input.focus()}),20)):3==i&&(P?t.display.input.onContextMenu(e):wn(t)))}}function Ea(e,t,r){if("char"==r)return new Ci(t,t);if("word"==r)return e.findWordAt(t);if("line"==r)return new Ci(nt(t.line,0),ut(e.doc,nt(t.line+1,0)));var n=r(e,t);return new Ci(n.from,n.to)}function Oa(e,t,r,n){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(e){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&Oe(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!ve(e,r))return Pe(t);o-=s.top-a.viewOffset;for(var l=0;l<e.display.gutterSpecs.length;++l){var _=a.gutters.childNodes[l];if(_&&_.getBoundingClientRect().right>=i)return ye(e,r,e,et(e.doc,o),e.display.gutterSpecs[l].className,t),Pe(t)}}function Ma(e,t){return Oa(e,t,"gutterClick",!0)}function Pa(e,t){Pr(e.display,t)||function(e,t){return!!ve(e,"gutterContextMenu")&&Oa(e,t,"gutterContextMenu",!1)}(e,t)||ge(e,t,"contextmenu")||P||e.display.input.onContextMenu(t)}function xa(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Fr(e)}ba.prototype.compare=function(e,t,r){return this.time+400>e&&0==it(t,this.pos)&&r==this.button};var wa={toString:function(){return"CodeMirror.Init"}},Ca={},Da={};function Ta(e,t,r){if(!t!=!(r&&r!=wa)){var n=e.display.dragFunctions,i=t?he:me;i(e.display.scroller,"dragstart",n.start),i(e.display.scroller,"dragenter",n.enter),i(e.display.scroller,"dragover",n.over),i(e.display.scroller,"dragleave",n.leave),i(e.display.scroller,"drop",n.drop)}}function ka(e){e.options.lineWrapping?(R(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(C(e.display.wrapper,"CodeMirror-wrap"),Zt(e)),cn(e),hn(e),Fr(e),setTimeout((function(){return Nn(e)}),100)}function Aa(e,t){var r=this;if(!(this instanceof Aa))return new Aa(e,t);this.options=t=t?j(t):{},j(Ca,t,!1);var n=t.value;"string"==typeof n?n=new So(n,t.mode,null,t.lineSeparator,t.direction):t.mode&&(n.modeOption=t.mode),this.doc=n;var i=new Aa.inputStyles[t.inputStyle](this),o=this.display=new vi(e,n,i,t);for(var _ in o.wrapper.CodeMirror=this,xa(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Vn(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new F,keySeq:null,specialChars:null},t.autofocus&&!g&&o.input.focus(),a&&s<11&&setTimeout((function(){return r.display.input.reset(!0)}),20),function(e){var t=e.display;he(t.scroller,"mousedown",ni(e,va)),he(t.scroller,"dblclick",a&&s<11?ni(e,(function(t){if(!ge(e,t)){var r=pn(e,t);if(r&&!Ma(e,t)&&!Pr(e.display,t)){Oe(t);var n=e.findWordAt(r);Ji(e.doc,n.anchor,n.head)}}})):function(t){return ge(e,t)||Oe(t)}),he(t.scroller,"contextmenu",(function(t){return Pa(e,t)})),he(t.input.getField(),"contextmenu",(function(r){t.scroller.contains(r.target)||Pa(e,r)}));var r,n={end:0};function i(){t.activeTouch&&(r=setTimeout((function(){return t.activeTouch=null}),1e3),(n=t.activeTouch).end=+new Date)}function o(e,t){if(null==t.left)return!0;var r=t.left-e.left,n=t.top-e.top;return r*r+n*n>400}he(t.scroller,"touchstart",(function(i){if(!ge(e,i)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(i)&&!Ma(e,i)){t.input.ensurePolled(),clearTimeout(r);var o=+new Date;t.activeTouch={start:o,moved:!1,prev:o-n.end<=300?n:null},1==i.touches.length&&(t.activeTouch.left=i.touches[0].pageX,t.activeTouch.top=i.touches[0].pageY)}})),he(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),he(t.scroller,"touchend",(function(r){var n=t.activeTouch;if(n&&!Pr(t,r)&&null!=n.left&&!n.moved&&new Date-n.start<300){var a,s=e.coordsChar(t.activeTouch,"page");a=!n.prev||o(n,n.prev)?new Ci(s,s):!n.prev.prev||o(n,n.prev.prev)?e.findWordAt(s):new Ci(nt(s.line,0),ut(e.doc,nt(s.line+1,0))),e.setSelection(a.anchor,a.head),e.focus(),Oe(r)}i()})),he(t.scroller,"touchcancel",i),he(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(Wn(e,t.scroller.scrollTop),jn(e,t.scroller.scrollLeft,!0),ye(e,"scroll",e))})),he(t.scroller,"mousewheel",(function(t){return xi(e,t)})),he(t.scroller,"DOMMouseScroll",(function(t){return xi(e,t)})),he(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){ge(e,t)||xe(t)},over:function(t){ge(e,t)||(function(e,t){var r=pn(e,t);if(r){var n=document.createDocumentFragment();En(e,r,n),e.display.dragCursor||(e.display.dragCursor=k("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),T(e.display.dragCursor,n)}}(e,t),xe(t))},start:function(t){return function(e,t){if(a&&(!e.state.draggingText||+new Date-Bo<100))xe(t);else if(!ge(e,t)&&!Pr(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!d)){var r=k("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",p&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),p&&r.parentNode.removeChild(r)}}(e,t)},drop:ni(e,Uo),leave:function(t){ge(e,t)||Wo(e)}};var l=t.input.getField();he(l,"keyup",(function(t){return fa.call(e,t)})),he(l,"keydown",ni(e,ha)),he(l,"keypress",ni(e,ma)),he(l,"focus",(function(t){return Cn(e,t)})),he(l,"blur",(function(t){return Dn(e,t)}))}(this),zo(),Xn(this),this.curOp.forceUpdate=!0,Ki(this,n),t.autofocus&&!g||this.hasFocus()?setTimeout((function(){r.hasFocus()&&!r.state.focused&&Cn(r)}),20):Dn(this),Da)Da.hasOwnProperty(_)&&Da[_](this,t[_],wa);mi(this),t.finishInit&&t.finishInit(this);for(var u=0;u<Ia.length;++u)Ia[u](this);$n(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}Aa.defaults=Ca,Aa.optionHandlers=Da;var Ia=[];function La(e,t,r,n){var i,o=e.doc;null==r&&(r="add"),"smart"==r&&(o.mode.indent?i=mt(e,t).state:r="prev");var a=e.options.tabSize,s=Xe(o,t),l=z(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var _,u=s.text.match(/^\s*/)[0];if(n||/\S/.test(s.text)){if("smart"==r&&((_=o.mode.indent(i,s.text.slice(u.length),s.text))==N||_>150)){if(!n)return;r="prev"}}else _=0,r="not";"prev"==r?_=t>o.first?z(Xe(o,t-1).text,null,a):0:"add"==r?_=l+e.options.indentUnit:"subtract"==r?_=l-e.options.indentUnit:"number"==typeof r&&(_=l+r),_=Math.max(0,_);var c="",p=0;if(e.options.indentWithTabs)for(var d=Math.floor(_/a);d;--d)p+=a,c+="\t";if(p<_&&(c+=$(_-p)),c!=u)return bo(o,c,nt(t,0),nt(t,u.length),"+input"),s.stateAfter=null,!0;for(var h=0;h<o.sel.ranges.length;h++){var f=o.sel.ranges[h];if(f.head.line==t&&f.head.ch<u.length){var m=nt(t,u.length);eo(o,h,new Ci(m,m));break}}}Aa.defineInitHook=function(e){return Ia.push(e)};var Ra=null;function Sa(e){Ra=e}function Ba(e,t,r,n,i){var o=e.doc;e.display.shift=!1,n||(n=o.sel);var a=+new Date-200,s="paste"==i||e.state.pasteIncoming>a,l=Re(t),_=null;if(s&&n.ranges.length>1)if(Ra&&Ra.text.join("\n")==t){if(n.ranges.length%Ra.text.length==0){_=[];for(var u=0;u<Ra.text.length;u++)_.push(o.splitLines(Ra.text[u]))}}else l.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(_=J(l,(function(e){return[e]})));for(var c=e.curOp.updateInput,p=n.ranges.length-1;p>=0;p--){var d=n.ranges[p],h=d.from(),f=d.to();d.empty()&&(r&&r>0?h=nt(h.line,h.ch-r):e.state.overwrite&&!s?f=nt(f.line,Math.min(Xe(o,f.line).text.length,f.ch+Y(l).length)):s&&Ra&&Ra.lineWise&&Ra.text.join("\n")==l.join("\n")&&(h=f=nt(h.line,0)));var m={from:h,to:f,text:_?_[p%_.length]:l,origin:i||(s?"paste":e.state.cutIncoming>a?"cut":"+input")};ho(e.doc,m),ur(e,"inputRead",e,m)}t&&!s&&Wa(e,t),Rn(e),e.curOp.updateInput<2&&(e.curOp.updateInput=c),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Ua(e,t){var r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||!t.hasFocus()||ri(t,(function(){return Ba(t,r,0,null,"paste")})),!0}function Wa(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,n=r.ranges.length-1;n>=0;n--){var i=r.ranges[n];if(!(i.head.ch>100||n&&r.ranges[n-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){a=La(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Xe(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=La(e,i.head.line,"smart"));a&&ur(e,"electricInput",e,i.head.line)}}}function Ka(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var i=e.doc.sel.ranges[n].head.line,o={anchor:nt(i,0),head:nt(i+1,0)};r.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:r}}function ja(e,t,r,n){e.setAttribute("autocorrect",r?"":"off"),e.setAttribute("autocapitalize",n?"":"off"),e.setAttribute("spellcheck",!!t)}function za(){var e=k("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),t=k("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),m&&(e.style.border="1px solid black"),ja(e),t}function Fa(e,t,r,n,i){var o=t,a=r,s=Xe(e,t.line),l=i&&"rtl"==e.direction?-r:r;function _(o){var a,_;if("codepoint"==n){var u=s.text.charCodeAt(t.ch+(r>0?0:-1));if(isNaN(u))a=null;else{var c=r>0?u>=55296&&u<56320:u>=56320&&u<57343;a=new nt(t.line,Math.max(0,Math.min(s.text.length,t.ch+r*(c?2:1))),-r)}}else a=i?function(e,t,r,n){var i=pe(t,e.doc.direction);if(!i)return na(t,r,n);r.ch>=t.text.length?(r.ch=t.text.length,r.sticky="before"):r.ch<=0&&(r.ch=0,r.sticky="after");var o=ue(i,r.ch,r.sticky),a=i[o];if("ltr"==e.doc.direction&&a.level%2==0&&(n>0?a.to>r.ch:a.from<r.ch))return na(t,r,n);var s,l=function(e,r){return ra(t,e instanceof nt?e.ch:e,r)},_=function(r){return e.options.lineWrapping?(s=s||Rr(e,t),en(e,t,s,r)):{begin:0,end:t.text.length}},u=_("before"==r.sticky?l(r,-1):r.ch);if("rtl"==e.doc.direction||1==a.level){var c=1==a.level==n<0,p=l(r,c?1:-1);if(null!=p&&(c?p<=a.to&&p<=u.end:p>=a.from&&p>=u.begin)){var d=c?"before":"after";return new nt(r.line,p,d)}}var h=function(e,t,n){for(var o=function(e,t){return t?new nt(r.line,l(e,1),"before"):new nt(r.line,e,"after")};e>=0&&e<i.length;e+=t){var a=i[e],s=t>0==(1!=a.level),_=s?n.begin:l(n.end,-1);if(a.from<=_&&_<a.to)return o(_,s);if(_=s?a.from:l(a.to,-1),n.begin<=_&&_<n.end)return o(_,s)}},f=h(o+n,n,u);if(f)return f;var m=n>0?u.end:l(u.begin,-1);return null==m||n>0&&m==t.text.length||!(f=h(n>0?0:i.length-1,n,_(m)))?null:f}(e.cm,s,t,r):na(s,t,r);if(null==a){if(o||(_=t.line+l)<e.first||_>=e.first+e.size||(t=new nt(_,t.ch,t.sticky),!(s=Xe(e,_))))return!1;t=ia(i,e.cm,s,t.line,l)}else t=a;return!0}if("char"==n||"codepoint"==n)_();else if("column"==n)_(!0);else if("word"==n||"group"==n)for(var u=null,c="group"==n,p=e.cm&&e.cm.getHelper(t,"wordChars"),d=!0;!(r<0)||_(!d);d=!1){var h=s.text.charAt(t.ch)||"\n",f=ne(h,p)?"w":c&&"\n"==h?"n":!c||/\s/.test(h)?null:"p";if(!c||d||f||(f="s"),u&&u!=f){r<0&&(r=1,_(),t.sticky="after");break}if(f&&(u=f),r>0&&!_(!d))break}var m=_o(e,t,o,a,!0);return ot(o,m)&&(m.hitSide=!0),m}function qa(e,t,r,n){var i,o,a=e.doc,s=t.left;if("page"==n){var l=Math.min(e.display.wrapper.clientHeight,W(e).innerHeight||a(e).documentElement.clientHeight),_=Math.max(l-.5*an(e.display),3);i=(r>0?t.bottom:t.top)+r*_}else"line"==n&&(i=r>0?t.bottom+3:t.top-3);for(;(o=Jr(e,s,i)).outside;){if(r<0?i<=0:i>=a.height){o.hitSide=!0;break}i+=5*r}return o}var Na=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new F,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Ha(e,t){var r=Lr(e,t.line);if(!r||r.hidden)return null;var n=Xe(e.doc,t.line),i=Ar(r,n,t.line),o=pe(n,e.doc.direction),a="left";o&&(a=ue(o,t.ch)%2?"right":"left");var s=Wr(i.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function Ga(e,t){return t&&(e.bad=!0),e}function Va(e,t,r){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[r]))return Ga(e.clipPos(nt(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==n)return Za(o,t,r)}}function Za(e,t,r){var n=e.text.firstChild,i=!1;if(!t||!I(n,t))return Ga(nt(Qe(e.line),0),!0);if(t==n&&(i=!0,t=n.childNodes[r],r=0,!t)){var o=e.rest?Y(e.rest):e.line;return Ga(nt(Qe(o),o.text.length),i)}var a=3==t.nodeType?t:null,s=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,r&&(r=a.nodeValue.length));s.parentNode!=n;)s=s.parentNode;var l=e.measure,_=l.maps;function u(t,r,n){for(var i=-1;i<(_?_.length:0);i++)for(var o=i<0?l.map:_[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==t||s==r){var u=Qe(i<0?e.line:e.rest[i]),c=o[a]+n;return(n<0||s!=t)&&(c=o[a+(n?1:0)]),nt(u,c)}}}var c=u(a,s,r);if(c)return Ga(c,i);for(var p=s.nextSibling,d=a?a.nodeValue.length-r:0;p;p=p.nextSibling){if(c=u(p,p.firstChild,0))return Ga(nt(c.line,c.ch-d),i);d+=p.textContent.length}for(var h=s.previousSibling,f=r;h;h=h.previousSibling){if(c=u(h,h.firstChild,-1))return Ga(nt(c.line,c.ch+f),i);f+=h.textContent.length}}Na.prototype.init=function(e){var t=this,r=this,n=r.cm,i=r.div=e.lineDiv;function o(e){for(var t=e.target;t;t=t.parentNode){if(t==i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function a(e){if(o(e)&&!ge(n,e)){if(n.somethingSelected())Sa({lineWise:!1,text:n.getSelections()}),"cut"==e.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var t=Ka(n);Sa({lineWise:!0,text:t.text}),"cut"==e.type&&n.operation((function(){n.setSelections(t.ranges,0,H),n.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var a=Ra.text.join("\n");if(e.clipboardData.setData("Text",a),e.clipboardData.getData("Text")==a)return void e.preventDefault()}var s=za(),l=s.firstChild;n.display.lineSpace.insertBefore(s,n.display.lineSpace.firstChild),l.value=Ra.text.join("\n");var _=L(i.ownerDocument);B(l),setTimeout((function(){n.display.lineSpace.removeChild(s),_.focus(),_==i&&r.showPrimarySelection()}),50)}}i.contentEditable=!0,ja(i,n.options.spellcheck,n.options.autocorrect,n.options.autocapitalize),he(i,"paste",(function(e){!o(e)||ge(n,e)||Ua(e,n)||s<=11&&setTimeout(ni(n,(function(){return t.updateFromDOM()})),20)})),he(i,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),he(i,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),he(i,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),he(i,"touchstart",(function(){return r.forceCompositionEnd()})),he(i,"input",(function(){t.composing||t.readFromDOMSoon()})),he(i,"copy",a),he(i,"cut",a)},Na.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Na.prototype.prepareSelection=function(){var e=vn(this.cm,!1);return e.focus=L(this.div.ownerDocument)==this.div,e},Na.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Na.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Na.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,n=t.doc.sel.primary(),i=n.from(),o=n.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var a=Va(t,e.anchorNode,e.anchorOffset),s=Va(t,e.focusNode,e.focusOffset);if(!a||a.bad||!s||s.bad||0!=it(lt(a,s),i)||0!=it(st(a,s),o)){var l=t.display.view,_=i.line>=t.display.viewFrom&&Ha(t,i)||{node:l[0].measure.map[2],offset:0},u=o.line<t.display.viewTo&&Ha(t,o);if(!u){var c=l[l.length-1].measure,p=c.maps?c.maps[c.maps.length-1]:c.map;u={node:p[p.length-1],offset:p[p.length-2]-p[p.length-3]}}if(_&&u){var d,h=e.rangeCount&&e.getRangeAt(0);try{d=w(_.node,_.offset,u.offset,u.node)}catch(e){}d&&(!r&&t.state.focused?(e.collapse(_.node,_.offset),d.collapsed||(e.removeAllRanges(),e.addRange(d))):(e.removeAllRanges(),e.addRange(d)),h&&null==e.anchorNode?e.addRange(h):r&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Na.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},Na.prototype.showMultipleSelections=function(e){T(this.cm.display.cursorDiv,e.cursors),T(this.cm.display.selectionDiv,e.selection)},Na.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Na.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return I(this.div,t)},Na.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&L(this.div.ownerDocument)==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Na.prototype.blur=function(){this.div.blur()},Na.prototype.getField=function(){return this.div},Na.prototype.supportsTouch=function(){return!0},Na.prototype.receivedFocus=function(){var e=this,t=this;this.selectionInEditor()?setTimeout((function(){return e.pollSelection()}),20):ri(this.cm,(function(){return t.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,(function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}))},Na.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Na.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(y&&u&&this.cm.display.gutterSpecs.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var r=Va(t,e.anchorNode,e.anchorOffset),n=Va(t,e.focusNode,e.focusOffset);r&&n&&ri(t,(function(){no(t.doc,Ti(r,n),H),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)}))}}},Na.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,r,n=this.cm,i=n.display,o=n.doc.sel.primary(),a=o.from(),s=o.to();if(0==a.ch&&a.line>n.firstLine()&&(a=nt(a.line-1,Xe(n.doc,a.line-1).length)),s.ch==Xe(n.doc,s.line).text.length&&s.line<n.lastLine()&&(s=nt(s.line+1,0)),a.line<i.viewFrom||s.line>i.viewTo-1)return!1;a.line==i.viewFrom||0==(e=dn(n,a.line))?(t=Qe(i.view[0].line),r=i.view[0].node):(t=Qe(i.view[e].line),r=i.view[e-1].node.nextSibling);var l,_,u=dn(n,s.line);if(u==i.view.length-1?(l=i.viewTo-1,_=i.lineDiv.lastChild):(l=Qe(i.view[u+1].line)-1,_=i.view[u+1].node.previousSibling),!r)return!1;for(var c=n.doc.splitLines(function(e,t,r,n,i){var o="",a=!1,s=e.doc.lineSeparator(),l=!1;function _(){a&&(o+=s,l&&(o+=s),a=l=!1)}function u(e){e&&(_(),o+=e)}function c(t){if(1==t.nodeType){var r=t.getAttribute("cm-text");if(r)return void u(r);var o,p=t.getAttribute("cm-marker");if(p){var d=e.findMarks(nt(n,0),nt(i+1,0),(m=+p,function(e){return e.id==m}));return void(d.length&&(o=d[0].find(0))&&u($e(e.doc,o.from,o.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;var h=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;h&&_();for(var f=0;f<t.childNodes.length;f++)c(t.childNodes[f]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),h&&(a=!0)}else 3==t.nodeType&&u(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var m}for(;c(t),t!=r;)t=t.nextSibling,l=!1;return o}(n,r,_,t,l)),p=$e(n.doc,nt(t,0),nt(l,Xe(n.doc,l).text.length));c.length>1&&p.length>1;)if(Y(c)==Y(p))c.pop(),p.pop(),l--;else{if(c[0]!=p[0])break;c.shift(),p.shift(),t++}for(var d=0,h=0,f=c[0],m=p[0],y=Math.min(f.length,m.length);d<y&&f.charCodeAt(d)==m.charCodeAt(d);)++d;for(var g=Y(c),b=Y(p),v=Math.min(g.length-(1==c.length?d:0),b.length-(1==p.length?d:0));h<v&&g.charCodeAt(g.length-h-1)==b.charCodeAt(b.length-h-1);)++h;if(1==c.length&&1==p.length&&t==a.line)for(;d&&d>a.ch&&g.charCodeAt(g.length-h-1)==b.charCodeAt(b.length-h-1);)d--,h++;c[c.length-1]=g.slice(0,g.length-h).replace(/^\u200b+/,""),c[0]=c[0].slice(d).replace(/\u200b+$/,"");var E=nt(t,d),O=nt(l,p.length?Y(p).length-h:0);return c.length>1||c[0]||it(E,O)?(bo(n.doc,c,E,O,"+input"),!0):void 0},Na.prototype.ensurePolled=function(){this.forceCompositionEnd()},Na.prototype.reset=function(){this.forceCompositionEnd()},Na.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Na.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},Na.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||ri(this.cm,(function(){return hn(e.cm)}))},Na.prototype.setUneditable=function(e){e.contentEditable="false"},Na.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||ni(this.cm,Ba)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Na.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Na.prototype.onContextMenu=function(){},Na.prototype.resetPosition=function(){},Na.prototype.needsContentAttribute=!0;var Xa=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new F,this.hasSelection=!1,this.composing=null,this.resetting=!1};Xa.prototype.init=function(e){var t=this,r=this,n=this.cm;this.createField(e);var i=this.textarea;function o(e){if(!ge(n,e)){if(n.somethingSelected())Sa({lineWise:!1,text:n.getSelections()});else{if(!n.options.lineWiseCopyCut)return;var t=Ka(n);Sa({lineWise:!0,text:t.text}),"cut"==e.type?n.setSelections(t.ranges,null,H):(r.prevInput="",i.value=t.text.join("\n"),B(i))}"cut"==e.type&&(n.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),m&&(i.style.width="0px"),he(i,"input",(function(){a&&s>=9&&t.hasSelection&&(t.hasSelection=null),r.poll()})),he(i,"paste",(function(e){ge(n,e)||Ua(e,n)||(n.state.pasteIncoming=+new Date,r.fastPoll())})),he(i,"cut",o),he(i,"copy",o),he(e.scroller,"paste",(function(t){if(!Pr(e,t)&&!ge(n,t)){if(!i.dispatchEvent)return n.state.pasteIncoming=+new Date,void r.focus();var o=new Event("paste");o.clipboardData=t.clipboardData,i.dispatchEvent(o)}})),he(e.lineSpace,"selectstart",(function(t){Pr(e,t)||Oe(t)})),he(i,"compositionstart",(function(){var e=n.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}})),he(i,"compositionend",(function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)}))},Xa.prototype.createField=function(e){this.wrapper=za(),this.textarea=this.wrapper.firstChild},Xa.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},Xa.prototype.prepareSelection=function(){var e=this.cm,t=e.display,r=e.doc,n=vn(e);if(e.options.moveInputWithCursor){var i=Xr(e,r.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return n},Xa.prototype.showSelection=function(e){var t=this.cm.display;T(t.cursorDiv,e.cursors),T(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},Xa.prototype.reset=function(e){if(!(this.contextMenuPending||this.composing&&e)){var t=this.cm;if(this.resetting=!0,t.somethingSelected()){this.prevInput="";var r=t.getSelection();this.textarea.value=r,t.state.focused&&B(this.textarea),a&&s>=9&&(this.hasSelection=r)}else e||(this.prevInput=this.textarea.value="",a&&s>=9&&(this.hasSelection=null));this.resetting=!1}},Xa.prototype.getField=function(){return this.textarea},Xa.prototype.supportsTouch=function(){return!1},Xa.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!g||L(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch(e){}},Xa.prototype.blur=function(){this.textarea.blur()},Xa.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Xa.prototype.receivedFocus=function(){this.slowPoll()},Xa.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},Xa.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,(function r(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,r))}))},Xa.prototype.poll=function(){var e=this,t=this.cm,r=this.textarea,n=this.prevInput;if(this.contextMenuPending||this.resetting||!t.state.focused||Se(r)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=r.value;if(i==n&&!t.somethingSelected())return!1;if(a&&s>=9&&this.hasSelection===i||b&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||n||(n="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,_=Math.min(n.length,i.length);l<_&&n.charCodeAt(l)==i.charCodeAt(l);)++l;return ri(t,(function(){Ba(t,i.slice(l),n.length-l,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?r.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},Xa.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Xa.prototype.onKeyPress=function(){a&&s>=9&&(this.hasSelection=null),this.fastPoll()},Xa.prototype.onContextMenu=function(e){var t=this,r=t.cm,n=r.display,i=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=pn(r,e),_=n.scroller.scrollTop;if(o&&!p){r.options.resetSelectionOnContextMenu&&-1==r.doc.sel.contains(o)&&ni(r,no)(r.doc,Ti(o),H);var u,c=i.style.cssText,d=t.wrapper.style.cssText,h=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(u=i.ownerDocument.defaultView.scrollY),n.input.focus(),l&&i.ownerDocument.defaultView.scrollTo(null,u),n.input.reset(),r.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=y,n.selForContextMenu=r.doc.sel,clearTimeout(n.detectingSelectAll),a&&s>=9&&m(),P){xe(e);var f=function(){me(window,"mouseup",f),setTimeout(y,20)};he(window,"mouseup",f)}else setTimeout(y,50)}function m(){if(null!=i.selectionStart){var e=r.somethingSelected(),o="​"+(e?i.value:"");i.value="⇚",i.value=o,t.prevInput=e?"":"​",i.selectionStart=1,i.selectionEnd=o.length,n.selForContextMenu=r.doc.sel}}function y(){if(t.contextMenuPending==y&&(t.contextMenuPending=!1,t.wrapper.style.cssText=d,i.style.cssText=c,a&&s<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=_),null!=i.selectionStart)){(!a||a&&s<9)&&m();var e=0,o=function(){n.selForContextMenu==r.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"​"==t.prevInput?ni(r,co)(r):e++<10?n.detectingSelectAll=setTimeout(o,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(o,200)}}},Xa.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},Xa.prototype.setUneditable=function(){},Xa.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function r(r,n,i,o){e.defaults[r]=n,i&&(t[r]=o?function(e,t,r){r!=wa&&i(e,t,r)}:i)}e.defineOption=r,e.Init=wa,r("value","",(function(e,t){return e.setValue(t)}),!0),r("mode",null,(function(e,t){e.doc.modeOption=t,Ri(e)}),!0),r("indentUnit",2,Ri,!0),r("indentWithTabs",!1),r("smartIndent",!0),r("tabSize",4,(function(e){Si(e),Fr(e),hn(e)}),!0),r("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var r=[],n=e.doc.first;e.doc.iter((function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,r.push(nt(n,o))}n++}));for(var i=r.length-1;i>=0;i--)bo(e.doc,t,r[i],nt(r[i].line,r[i].ch+t.length))}})),r("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,(function(e,t,r){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),r!=wa&&e.refresh()})),r("specialCharPlaceholder",tr,(function(e){return e.refresh()}),!0),r("electricChars",!0),r("inputStyle",g?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),r("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),r("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),r("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),r("rtlMoveVisually",!E),r("wholeLineUpdateBefore",!0),r("theme","default",(function(e){xa(e),bi(e)}),!0),r("keyMap","default",(function(e,t,r){var n=ea(t),i=r!=wa&&ea(r);i&&i.detach&&i.detach(e,n),n.attach&&n.attach(e,i||null)})),r("extraKeys",null),r("configureMouse",null),r("lineWrapping",!1,ka,!0),r("gutters",[],(function(e,t){e.display.gutterSpecs=yi(t,e.options.lineNumbers),bi(e)}),!0),r("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?_n(e.display)+"px":"0",e.refresh()}),!0),r("coverGutterNextToScrollbar",!1,(function(e){return Nn(e)}),!0),r("scrollbarStyle","native",(function(e){Vn(e),Nn(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),r("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=yi(e.options.gutters,t),bi(e)}),!0),r("firstLineNumber",1,bi,!0),r("lineNumberFormatter",(function(e){return e}),bi,!0),r("showCursorWhenSelecting",!1,bn,!0),r("resetSelectionOnContextMenu",!0),r("lineWiseCopyCut",!0),r("pasteLinesPerSelection",!0),r("selectionsMayTouch",!1),r("readOnly",!1,(function(e,t){"nocursor"==t&&(Dn(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),r("screenReaderLabel",null,(function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)})),r("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),r("dragDrop",!0,Ta),r("allowDropFileTypes",null),r("cursorBlinkRate",530),r("cursorScrollMargin",0),r("cursorHeight",1,bn,!0),r("singleCursorHeightPerLine",!0,bn,!0),r("workTime",100),r("workDelay",100),r("flattenSpans",!0,Si,!0),r("addModeClass",!1,Si,!0),r("pollInterval",100),r("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),r("historyEventDelay",1250),r("viewportMargin",10,(function(e){return e.refresh()}),!0),r("maxHighlightLength",1e4,Si,!0),r("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),r("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),r("autofocus",null),r("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),r("phrases",null)}(Aa),function(e){var t=e.optionHandlers,r=e.helpers={};e.prototype={constructor:e,focus:function(){W(this).focus(),this.display.input.focus()},setOption:function(e,r){var n=this.options,i=n[e];n[e]==r&&"mode"!=e||(n[e]=r,t.hasOwnProperty(e)&&ni(this,t[e])(this,r,i),ye(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](ea(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,r=0;r<t.length;++r)if(t[r]==e||t[r].name==e)return t.splice(r,1),!0},addOverlay:ii((function(t,r){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");!function(e,t,r){for(var n=0,i=r(t);n<e.length&&r(e[n])<=i;)n++;e.splice(n,0,t)}(this.state.overlays,{mode:n,modeSpec:t,opaque:r&&r.opaque,priority:r&&r.priority||0},(function(e){return e.priority})),this.state.modeGen++,hn(this)})),removeOverlay:ii((function(e){for(var t=this.state.overlays,r=0;r<t.length;++r){var n=t[r].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(r,1),this.state.modeGen++,void hn(this)}})),indentLine:ii((function(e,t,r){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),tt(this.doc,e)&&La(this,e,t,r)})),indentSelection:ii((function(e){for(var t=this.doc.sel.ranges,r=-1,n=0;n<t.length;n++){var i=t[n];if(i.empty())i.head.line>r&&(La(this,i.head.line,e,!0),r=i.head.line,n==this.doc.sel.primIndex&&Rn(this));else{var o=i.from(),a=i.to(),s=Math.max(r,o.line);r=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var l=s;l<r;++l)La(this,l,e);var _=this.doc.sel.ranges;0==o.ch&&t.length==_.length&&_[n].from().ch>0&&eo(this.doc,n,new Ci(o,_[n].to()),H)}}})),getTokenAt:function(e,t){return Et(this,e,t)},getLineTokens:function(e,t){return Et(this,nt(e),t,!0)},getTokenTypeAt:function(e){e=ut(this.doc,e);var t,r=ft(this,Xe(this.doc,e.line)),n=0,i=(r.length-1)/2,o=e.ch;if(0==o)t=r[2];else for(;;){var a=n+i>>1;if((a?r[2*a-1]:0)>=o)i=a;else{if(!(r[2*a+1]<o)){t=r[2*a+2];break}n=a+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var r=this.doc.mode;return r.innerMode?e.innerMode(r,this.getTokenAt(t).state).mode:r},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!r.hasOwnProperty(t))return n;var i=r[t],o=this.getModeAt(e);if("string"==typeof o[t])i[o[t]]&&n.push(i[o[t]]);else if(o[t])for(var a=0;a<o[t].length;a++){var s=i[o[t][a]];s&&n.push(s)}else o.helperType&&i[o.helperType]?n.push(i[o.helperType]):i[o.name]&&n.push(i[o.name]);for(var l=0;l<i._global.length;l++){var _=i._global[l];_.pred(o,this)&&-1==q(n,_.val)&&n.push(_.val)}return n},getStateAfter:function(e,t){var r=this.doc;return mt(this,(e=_t(r,null==e?r.first+r.size-1:e))+1,t).state},cursorCoords:function(e,t){var r=this.doc.sel.primary();return Xr(this,null==e?r.head:"object"==typeof e?ut(this.doc,e):e?r.from():r.to(),t||"page")},charCoords:function(e,t){return Zr(this,ut(this.doc,e),t||"page")},coordsChar:function(e,t){return Jr(this,(e=Vr(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Vr(this,{top:e,left:0},t||"page").top,et(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,r){var n,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),n=Xe(this.doc,e)}else n=e;return Gr(this,n,{top:0,left:0},t||"page",r||i).top+(i?this.doc.height-Gt(n):0)},defaultTextHeight:function(){return an(this.display)},defaultCharWidth:function(){return sn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,r,n,i){var o,a,s,l=this.display,_=(e=Xr(this,ut(this.doc,e))).bottom,u=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),l.sizer.appendChild(t),"over"==n)_=e.top;else if("above"==n||"near"==n){var c=Math.max(l.wrapper.clientHeight,this.doc.height),p=Math.max(l.sizer.clientWidth,l.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>c)&&e.top>t.offsetHeight?_=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=c&&(_=e.bottom),u+t.offsetWidth>p&&(u=p-t.offsetWidth)}t.style.top=_+"px",t.style.left=t.style.right="","right"==i?(u=l.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?u=0:"middle"==i&&(u=(l.sizer.clientWidth-t.offsetWidth)/2),t.style.left=u+"px"),r&&(o=this,a={left:u,top:_,right:u+t.offsetWidth,bottom:_+t.offsetHeight},null!=(s=In(o,a)).scrollTop&&Wn(o,s.scrollTop),null!=s.scrollLeft&&jn(o,s.scrollLeft))},triggerOnKeyDown:ii(ha),triggerOnKeyPress:ii(ma),triggerOnKeyUp:fa,triggerOnMouseDown:ii(va),execCommand:function(e){if(oa.hasOwnProperty(e))return oa[e].call(null,this)},triggerElectric:ii((function(e){Wa(this,e)})),findPosH:function(e,t,r,n){var i=1;t<0&&(i=-1,t=-t);for(var o=ut(this.doc,e),a=0;a<t&&!(o=Fa(this.doc,o,i,r,n)).hitSide;++a);return o},moveH:ii((function(e,t){var r=this;this.extendSelectionsBy((function(n){return r.display.shift||r.doc.extend||n.empty()?Fa(r.doc,n.head,e,t,r.options.rtlMoveVisually):e<0?n.from():n.to()}),V)})),deleteH:ii((function(e,t){var r=this.doc.sel,n=this.doc;r.somethingSelected()?n.replaceSelection("",null,"+delete"):ta(this,(function(r){var i=Fa(n,r.head,e,t,!1);return e<0?{from:i,to:r.head}:{from:r.head,to:i}}))})),findPosV:function(e,t,r,n){var i=1,o=n;t<0&&(i=-1,t=-t);for(var a=ut(this.doc,e),s=0;s<t;++s){var l=Xr(this,a,"div");if(null==o?o=l.left:l.left=o,(a=qa(this,l,i,r)).hitSide)break}return a},moveV:ii((function(e,t){var r=this,n=this.doc,i=[],o=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy((function(a){if(o)return e<0?a.from():a.to();var s=Xr(r,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var l=qa(r,s,e,t);return"page"==t&&a==n.sel.primary()&&Ln(r,Zr(r,l,"div").top-s.top),l}),V),i.length)for(var a=0;a<n.sel.ranges.length;a++)n.sel.ranges[a].goalColumn=i[a]})),findWordAt:function(e){var t=Xe(this.doc,e.line).text,r=e.ch,n=e.ch;if(t){var i=this.getHelper(e,"wordChars");"before"!=e.sticky&&n!=t.length||!r?++n:--r;for(var o=t.charAt(r),a=ne(o,i)?function(e){return ne(e,i)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ne(e)};r>0&&a(t.charAt(r-1));)--r;for(;n<t.length&&a(t.charAt(n));)++n}return new Ci(nt(e.line,r),nt(e.line,n))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?R(this.display.cursorDiv,"CodeMirror-overwrite"):C(this.display.cursorDiv,"CodeMirror-overwrite"),ye(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==L(U(this))},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:ii((function(e,t){Sn(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Dr(this)-this.display.barHeight,width:e.scrollWidth-Dr(this)-this.display.barWidth,clientHeight:kr(this),clientWidth:Tr(this)}},scrollIntoView:ii((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:nt(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?function(e,t){Bn(e),e.curOp.scrollToPos=t}(this,e):Un(this,e.from,e.to,e.margin)})),setSize:ii((function(e,t){var r=this,n=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.options.lineWrapping&&zr(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){fn(r,i,"widget");break}++i})),this.curOp.forceUpdate=!0,ye(this,"refresh",this)})),operation:function(e){return ri(this,e)},startOperation:function(){return Xn(this)},endOperation:function(){return $n(this)},refresh:ii((function(){var e=this.display.cachedTextHeight;hn(this),this.curOp.forceUpdate=!0,Fr(this),Sn(this,this.doc.scrollLeft,this.doc.scrollTop),di(this.display),(null==e||Math.abs(e-an(this.display))>.5||this.options.lineWrapping)&&cn(this),ye(this,"refresh",this)})),swapDoc:ii((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),Ki(this,e),Fr(this),this.display.input.reset(),Sn(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,ur(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ee(e),e.registerHelper=function(t,n,i){r.hasOwnProperty(t)||(r[t]=e[t]={_global:[]}),r[t][n]=i},e.registerGlobalHelper=function(t,n,i,o){e.registerHelper(t,n,o),r[t]._global.push({pred:i,val:o})}}(Aa);var $a="iter insert remove copy getEditor constructor".split(" ");for(var Ya in So.prototype)So.prototype.hasOwnProperty(Ya)&&q($a,Ya)<0&&(Aa.prototype[Ya]=function(e){return function(){return e.apply(this.doc,arguments)}}(So.prototype[Ya]));return Ee(So),Aa.inputStyles={textarea:Xa,contenteditable:Na},Aa.defineMode=function(e){Aa.defaults.mode||"null"==e||(Aa.defaults.mode=e),je.apply(this,arguments)},Aa.defineMIME=function(e,t){Ke[e]=t},Aa.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),Aa.defineMIME("text/plain","null"),Aa.defineExtension=function(e,t){Aa.prototype[e]=t},Aa.defineDocExtension=function(e,t){So.prototype[e]=t},Aa.fromTextArea=function(e,t){if((t=t?j(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var r=L(e.ownerDocument);t.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}function n(){e.value=s.getValue()}var i;if(e.form&&(he(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var a=o.submit=function(){n(),o.submit=i,o.submit(),o.submit=a}}catch(e){}}t.finishInit=function(r){r.save=n,r.getTextArea=function(){return e},r.toTextArea=function(){r.toTextArea=isNaN,n(),e.parentNode.removeChild(r.getWrapperElement()),e.style.display="",e.form&&(me(e.form,"submit",n),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=i))}},e.style.display="none";var s=Aa((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return s},function(e){e.off=me,e.on=he,e.wheelEventPixels=Pi,e.Doc=So,e.splitLines=Re,e.countColumn=z,e.findColumn=Z,e.isWordChar=re,e.Pass=N,e.signal=ye,e.Line=Xt,e.changeEnd=ki,e.scrollbarModel=Gn,e.Pos=nt,e.cmpPos=it,e.modes=We,e.mimeModes=Ke,e.resolveMode=ze,e.getMode=Fe,e.modeExtensions=qe,e.extendMode=Ne,e.copyState=He,e.startState=Ve,e.innerMode=Ge,e.commands=oa,e.keyMap=Vo,e.keyName=Qo,e.isModifierKey=Yo,e.lookupKey=$o,e.normalizeKeyMap=Xo,e.StringStream=Ze,e.SharedTextMarker=Ao,e.TextMarker=To,e.LineWidget=wo,e.e_preventDefault=Oe,e.e_stopPropagation=Me,e.e_stop=xe,e.addClass=R,e.contains=I,e.rmClass=C,e.keyNames=qo}(Aa),Aa.version="5.65.9",Aa}()},function(e,t,r){"use strict";t.a={ADD:"add",REMOVE:"remove"}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var n;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return InputSelect}));var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(31),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},InputSelect=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(InputSelect,_React$Component);var _super=_createSuper(InputSelect);function InputSelect(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,InputSelect),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(InputSelect,[{key:"render",value:function(){var e=this,t=this.props.options;return t.length>0&&!Array.isArray(t[0])&&(t=t.map((function(e){return[e,e]}))),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("select",{className:"maputnik-select","data-wd-key":this.props["data-wd-key"],style:this.props.style,title:this.props.title,value:this.props.value,onChange:function(t){return e.props.onChange(t.target.value)},"aria-label":this.props["aria-label"]},t.map((function(e){var t=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(e,2),r=t[0],n=t[1];return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("option",{key:r,value:r},n)})))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),InputSelect}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(InputSelect,"propTypes",{value:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string.isRequired,"data-wd-key":prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string,options:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.array.isRequired,style:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object,onChange:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired,title:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string,"aria-label":prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(InputSelect,"InputSelect","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\InputSelect.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(e,t,r){"use strict";var n,i=r(150),o=r(38),a=r(49),s=r(47),l=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),_="length",u=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.element=r,i.index=n,i}return l(t,e),t}(s.a),c=function(e){function t(t,r){var n=e.call(this)||this;n.on,n.once,n.un;var i=r||{};if(n.unique_=!!i.unique,n.array_=t||[],n.unique_)for(var o=0,a=n.array_.length;o<a;++o)n.assertUnique_(n.array_[o],o);return n.updateLength_(),n}return l(t,e),t.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},t.prototype.extend=function(e){for(var t=0,r=e.length;t<r;++t)this.push(e[t]);return this},t.prototype.forEach=function(e){for(var t=this.array_,r=0,n=t.length;r<n;++r)e(t[r],r,t)},t.prototype.getArray=function(){return this.array_},t.prototype.item=function(e){return this.array_[e]},t.prototype.getLength=function(){return this.get(_)},t.prototype.insertAt=function(e,t){this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new u(a.a.ADD,t,e))},t.prototype.pop=function(){return this.removeAt(this.getLength()-1)},t.prototype.push=function(e){this.unique_&&this.assertUnique_(e);var t=this.getLength();return this.insertAt(t,e),this.getLength()},t.prototype.remove=function(e){for(var t=this.array_,r=0,n=t.length;r<n;++r)if(t[r]===e)return this.removeAt(r)},t.prototype.removeAt=function(e){var t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new u(a.a.REMOVE,t,e)),t},t.prototype.setAt=function(e,t){var r=this.getLength();if(e<r){this.unique_&&this.assertUnique_(t,e);var n=this.array_[e];this.array_[e]=t,this.dispatchEvent(new u(a.a.REMOVE,n,e)),this.dispatchEvent(new u(a.a.ADD,t,e))}else{for(var i=r;i<e;++i)this.insertAt(i,void 0);this.insertAt(e,t)}},t.prototype.updateLength_=function(){this.set(_,this.array_.length)},t.prototype.assertUnique_=function(e,t){for(var r=0,n=this.array_.length;r<n;++r)if(this.array_[r]===e&&r!==t)throw new i.a(58)},t}(o.a);t.a=c},function(e,t,r){"use strict";r.d(t,"b",(function(){return p}));var n,i=r(151),o=r(27),a=r(10),s=r(5),l=r(45),_=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),u=function(e){function t(){var t=e.call(this)||this;return t.layout=o.a.XY,t.stride=2,t.flatCoordinates=null,t}return _(t,e),t.prototype.computeExtent=function(e){return Object(s.n)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},t.prototype.getCoordinates=function(){return Object(a.b)()},t.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},t.prototype.getFlatCoordinates=function(){return this.flatCoordinates},t.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},t.prototype.getLayout=function(){return this.layout},t.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)},t.prototype.getSimplifiedGeometryInternal=function(e){return this},t.prototype.getStride=function(){return this.stride},t.prototype.setFlatCoordinates=function(e,t){this.stride=c(e),this.layout=e,this.flatCoordinates=t},t.prototype.setCoordinates=function(e,t){Object(a.b)()},t.prototype.setLayout=function(e,t,r){var n;if(e)n=c(e);else{for(var i=0;i<r;++i){if(0===t.length)return this.layout=o.a.XY,void(this.stride=2);t=t[0]}e=function(e){var t;2==e?t=o.a.XY:3==e?t=o.a.XYZ:4==e&&(t=o.a.XYZM);return t}(n=t.length)}this.layout=e,this.stride=n},t.prototype.applyTransform=function(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},t.prototype.rotate=function(e,t){var r=this.getFlatCoordinates();if(r){var n=this.getStride();Object(l.a)(r,0,r.length,n,e,t,r),this.changed()}},t.prototype.scale=function(e,t,r){var n=t;void 0===n&&(n=e);var i=r;i||(i=Object(s.w)(this.getExtent()));var o=this.getFlatCoordinates();if(o){var a=this.getStride();Object(l.b)(o,0,o.length,a,e,n,i,o),this.changed()}},t.prototype.translate=function(e,t){var r=this.getFlatCoordinates();if(r){var n=this.getStride();Object(l.d)(r,0,r.length,n,e,t,r),this.changed()}},t}(i.a);function c(e){var t;return e==o.a.XY?t=2:e==o.a.XYZ||e==o.a.XYM?t=3:e==o.a.XYZM&&(t=4),t}function p(e,t,r){var n=e.getFlatCoordinates();if(n){var i=e.getStride();return Object(l.c)(n,0,n.length,i,t,r)}return null}t.a=u},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module,setImmediate){__webpack_require__.d(__webpack_exports__,"a",(function(){return Modal}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),react_icons_md__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(29),react_aria_modal__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(278),react_aria_modal__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(react_aria_modal__WEBPACK_IMPORTED_MODULE_10__),classnames__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(51),classnames__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_11__),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},Modal=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(Modal,_React$Component);var _super=_createSuper(Modal);function Modal(){var e;_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,Modal);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=_super.call.apply(_super,[this].concat(r)),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(e),"onClose",(function(){document.activeElement&&document.activeElement.blur(),setImmediate((function(){e.props.onOpenToggle(!1)}))})),e}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Modal,[{key:"render",value:function(){return!!this.props.isOpen&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_aria_modal__WEBPACK_IMPORTED_MODULE_10___default.a,{titleText:this.props.title,underlayClickExits:this.props.underlayClickExits,underlayProps:this.props.underlayProps,"data-wd-key":this.props["data-wd-key"],verticallyCenter:!0,onExit:this.onClose},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_11___default()("maputnik-modal",this.props.className),"data-wd-key":this.props["data-wd-key"]},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("header",{className:"maputnik-modal-header"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("h1",{className:"maputnik-modal-header-title"},this.props.title),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",{className:"maputnik-modal-header-space"}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{className:"maputnik-modal-header-toggle",title:"Close modal",onClick:this.onClose,"data-wd-key":this.props["data-wd-key"]+".close-modal"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_9__.c,null))),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-modal-scroller"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-modal-content"},this.props.children))))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),Modal}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(Modal,"propTypes",{"data-wd-key":prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string,isOpen:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.bool.isRequired,title:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string.isRequired,onOpenToggle:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired,children:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.node,underlayClickExits:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.bool,underlayProps:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object,className:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(Modal,"defaultProps",{underlayClickExits:!0}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(Modal,"Modal","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\Modal.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module),__webpack_require__(215).setImmediate)},function(e,t,r){"use strict";function n(e){return Math.pow(e,3)}function i(e){return 1-n(1-e)}function o(e){return 3*e*e-2*e*e*e}function a(e){return e}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return a}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return a}));var n="M12.42,5.29C11.32,5.19 10.35,6 10.25,7.11L10,10H12.82V12H9.82L9.38,17.07C9.18,19.27 7.24,20.9 5.04,20.7C3.79,20.59 2.66,19.9 2,18.83L3.5,17.33C3.83,18.38 4.96,18.97 6,18.63C6.78,18.39 7.33,17.7 7.4,16.89L7.82,12H4.82V10H8L8.27,6.93C8.46,4.73 10.39,3.1 12.6,3.28C13.86,3.39 15,4.09 15.66,5.17L14.16,6.67C13.91,5.9 13.23,5.36 12.42,5.29M22,13.65L20.59,12.24L17.76,15.07L14.93,12.24L13.5,13.65L16.35,16.5L13.5,19.31L14.93,20.72L17.76,17.89L20.59,20.72L22,19.31L19.17,16.5L22,13.65Z",i="M7,10L12,15L17,10H7Z",o="M7,15L12,10L17,15H7Z",a="M22,10A2,2 0 0,1 20,12H4A2,2 0 0,1 2,10V3H4V5H8V3H10V5H14V3H16V5H20V3H22V10M4,10H8V7H4V10M10,10H14V7H10V10M20,10V7H16V10H20M11,14H13V17H16V19H13V22H11V19H8V17H11V14Z"},function(e,t,r){"use strict";(function(e){var n,i=r(3),o=r.n(i),a=r(320),s=r(98);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var u=f({version:8,sources:{},layers:[]});function c(){return Math.random().toString(36).substr(2,9)}function p(e){return"id"in e||(e.id=c()),e}function d(e){var t=e.layers.map((function(e){var t=_({},e);return delete t.interactive,t}));return _(_({},e),{},{layers:t})}function h(e){return _(_({},e),{},{layers:Object(a.a)(e.layers)})}function f(e){return d(h(p(e)))}function m(e,t){for(var r=0;r<e.length;r++)if(e[r].id===t)return r;return null}function y(e,t,r){"thunderforest_transport"!==e&&"thunderforest_outdoors"!==e||(e="thunderforest");var n=(t.metadata||{})["maputnik:".concat(e,"_access_token")];return r.allowFallback&&!n&&(n=s[e]),n}function g(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e.sources[t];if(!n)return e;if(!n.hasOwnProperty("url"))return e;var i=y(t,e,r);if(!i)return e;var a=_(_({},e.sources),{},o()({},t,_(_({},n),{},{url:n.url.replace("{key}",i)}))),s=_(_({},e),{},{sources:a});return s}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e;if(Object.keys(e.sources).forEach((function(e){r=g(r,e,t)})),e.glyphs&&(e.glyphs.match(/\.tilehosting\.com/)||e.glyphs.match(/\.maptiler\.com/))){var n=y("openmaptiles",e,t);n&&(r=_(_({},r),{},{glyphs:e.glyphs.replace("{key}",n)}))}return r}function v(e){var t=_({},e.metadata);return delete t["maputnik:mapbox_access_token"],delete t["maputnik:openmaptiles_access_token"],_(_({},e),{},{metadata:t})}var E,O,M={ensureStyleValidity:f,emptyStyle:u,indexOfLayer:m,generateId:c,getAccessToken:y,replaceAccessTokens:b,stripAccessTokens:v};t.a=M,(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(E.register(u,"emptyStyle","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\style.js"),E.register(c,"generateId","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\style.js"),E.register(p,"ensureHasId","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\style.js"),E.register(d,"ensureHasNoInteractive","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\style.js"),E.register(h,"ensureHasNoRefs","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\style.js"),E.register(f,"ensureStyleValidity","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\style.js"),E.register(m,"indexOfLayer","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\style.js"),E.register(y,"getAccessToken","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\style.js"),E.register(g,"replaceSourceAccessToken","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\style.js"),E.register(b,"replaceAccessTokens","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\style.js"),E.register(v,"stripAccessTokens","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\style.js"),E.register(M,"default","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\style.js")),(O="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&O(e)}).call(this,r(14)(e))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return InputNumber}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},IDX=0,InputNumber=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(InputNumber,_React$Component);var _super=_createSuper(InputNumber);function InputNumber(e){var t;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,InputNumber),t=_super.call(this,e),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"resetValue",(function(){t.setState({editing:!1}),""!==t.state.value&&(t.isValid(t.state.value)||(t.isValid(t.props.value)?(t.changeValue(t.props.value),t.setState({dirtyValue:t.props.value})):(t.changeValue(void 0),t.setState({dirtyValue:void 0}))))})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"onChangeRange",(function(e){var r=parseFloat(e.target.value,10),n=t.props.rangeStep,i=r;if(n){var o=r%n;t._keyboardEvent?i=r=r<t.state.dirtyValue?t.state.value-n:t.state.value+n:o<n/2?r-=o:r+=n-o}t._keyboardEvent=!1,r=Math.max(t.props.min,Math.min(t.props.max,r)),t.setState({value:r,dirtyValue:i}),t.props.onChange(r)})),t.state={uuid:IDX++,editing:!1,value:e.value,dirtyValue:e.value},t}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(InputNumber,[{key:"changeValue",value:function(e){var t=""===e||void 0===e?void 0:parseFloat(e),r=this.props.value!==t;this.isValid(t)&&r?(this.props.onChange(t),this.setState({value:e})):!this.isValid(t)&&r&&this.setState({value:void 0}),this.setState({dirtyValue:""===e?void 0:e})}},{key:"isValid",value:function(e){if(void 0===e)return!0;var t=parseFloat(e);return!isNaN(t)&&(!(!isNaN(this.props.min)&&t<this.props.min)&&!(!isNaN(this.props.max)&&t>this.props.max))}},{key:"render",value:function(){var e=this;if(this.props.hasOwnProperty("min")&&this.props.hasOwnProperty("max")&&void 0!==this.props.min&&void 0!==this.props.max&&this.props.allowRange){var t,r=this.state.editing?this.state.dirtyValue:this.state.value,n=void 0===this.props.default?"":this.props.default;return t=this.state.editingRange?this.state.value:r,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-number-container"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("input",{className:"maputnik-number-range",key:"range",type:"range",max:this.props.max,min:this.props.min,step:"any",spellCheck:"false",value:void 0===r?n:r,onChange:this.onChangeRange,onKeyDown:function(){e._keyboardEvent=!0},onPointerDown:function(){e.setState({editing:!0,editingRange:!0})},onPointerUp:function(){e.setState({editing:!1,editingRange:!1})},onBlur:function(){e.setState({editing:!1,editingRange:!1,dirtyValue:e.state.value})}}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("input",{key:"text",type:"text",spellCheck:"false",className:"maputnik-number",placeholder:this.props.default,value:void 0===t?"":t,onFocus:function(t){e.setState({editing:!0})},onChange:function(t){e.changeValue(t.target.value)},onBlur:function(t){e.setState({editing:!1}),e.resetValue()}}))}var i=this.state.editing?this.state.dirtyValue:this.state.value;return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("input",{"aria-label":this.props["aria-label"],spellCheck:"false",className:"maputnik-number",placeholder:this.props.default,value:void 0===i?"":i,onChange:function(t){return e.changeValue(t.target.value)},onFocus:function(){e.setState({editing:!0})},onBlur:this.resetValue,required:this.props.required})}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.editing||e.value===t.value?null:{value:e.value,dirtyValue:e.value}}}]),InputNumber}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(InputNumber,"propTypes",{value:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.number,default:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.number,min:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.number,max:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.number,onChange:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func,allowRange:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.bool,rangeStep:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.number,wdKey:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string,required:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.bool,"aria-label":prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(InputNumber,"defaultProps",{rangeStep:1}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(IDX,"IDX","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\InputNumber.jsx"),reactHotLoader.register(InputNumber,"InputNumber","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\InputNumber.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(e,t,r){"use strict";r.d(t,"e",(function(){return o})),r.d(t,"a",(function(){return a})),r.d(t,"f",(function(){return s})),r.d(t,"d",(function(){return l})),r.d(t,"b",(function(){return _})),r.d(t,"c",(function(){return u}));var n=r(13);function i(e,t,r,i,o,a,s){var l,_=e[t],u=e[t+1],c=e[r]-_,p=e[r+1]-u;if(0===c&&0===p)l=t;else{var d=((o-_)*c+(a-u)*p)/(c*c+p*p);if(d>1)l=r;else{if(d>0){for(var h=0;h<i;++h)s[h]=Object(n.e)(e[t+h],e[r+h],d);return void(s.length=i)}l=t}}for(h=0;h<i;++h)s[h]=e[l+h];s.length=i}function o(e,t,r,i,o){var a=e[t],s=e[t+1];for(t+=i;t<r;t+=i){var l=e[t],_=e[t+1],u=Object(n.i)(a,s,l,_);u>o&&(o=u),a=l,s=_}return o}function a(e,t,r,n,i){for(var a=0,s=r.length;a<s;++a){var l=r[a];i=o(e,t,l,n,i),t=l}return i}function s(e,t,r,n,i){for(var o=0,s=r.length;o<s;++o){var l=r[o];i=a(e,t,l,n,i),t=l[l.length-1]}return i}function l(e,t,r,o,a,s,l,_,u,c,p){if(t==r)return c;var d,h;if(0===a){if((h=Object(n.i)(l,_,e[t],e[t+1]))<c){for(d=0;d<o;++d)u[d]=e[t+d];return u.length=o,h}return c}for(var f=p||[NaN,NaN],m=t+o;m<r;)if(i(e,m-o,m,o,l,_,f),(h=Object(n.i)(l,_,f[0],f[1]))<c){for(c=h,d=0;d<o;++d)u[d]=f[d];u.length=o,m+=o}else m+=o*Math.max((Math.sqrt(h)-Math.sqrt(c))/a|0,1);if(s&&(i(e,r-o,t,o,l,_,f),(h=Object(n.i)(l,_,f[0],f[1]))<c)){for(c=h,d=0;d<o;++d)u[d]=f[d];u.length=o}return c}function _(e,t,r,n,i,o,a,s,_,u,c){for(var p=c||[NaN,NaN],d=0,h=r.length;d<h;++d){var f=r[d];u=l(e,t,f,n,i,o,a,s,_,u,p),t=f}return u}function u(e,t,r,n,i,o,a,s,l,u,c){for(var p=c||[NaN,NaN],d=0,h=r.length;d<h;++d){var f=r[d];u=_(e,t,f,n,i,o,a,s,l,u,p),t=f[f.length-1]}return u}},function(e,t,r){"use strict";var n,i=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},o=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),a=[];function s(e){for(var t=-1,r=0;r<a.length;r++)if(a[r].identifier===e){t=r;break}return t}function l(e,t){for(var r={},n=[],i=0;i<e.length;i++){var o=e[i],l=t.base?o[0]+t.base:o[0],_=r[l]||0,u="".concat(l," ").concat(_);r[l]=_+1;var c=s(u),p={css:o[1],media:o[2],sourceMap:o[3]};-1!==c?(a[c].references++,a[c].updater(p)):a.push({identifier:u,updater:m(p,t),references:1}),n.push(u)}return n}function _(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var i=r.nc;i&&(n.nonce=i)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var u,c=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function p(e,t,r,n){var i=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=c(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function d(e,t,r){var n=r.css,i=r.media,o=r.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var h=null,f=0;function m(e,t){var r,n,i;if(t.singleton){var o=f++;r=h||(h=_(t)),n=p.bind(null,r,o,!1),i=p.bind(null,r,o,!0)}else r=_(t),n=d.bind(null,r,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var r=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<r.length;n++){var i=s(r[n]);a[i].references--}for(var o=l(e,t),_=0;_<r.length;_++){var u=s(r[_]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}r=o}}}},function(e,t,r){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=e(t);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(n)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);n&&i[l[0]]||(r&&(l[2]?l[2]="".concat(r," and ").concat(l[2]):l[2]=r),t.push(l))}},t}},function(e,t,r){"use strict";function n(e,t,r,n){for(var i=0,o=r.length;i<o;++i)e[t++]=r[i];return t}function i(e,t,r,n){for(var i=0,o=r.length;i<o;++i)for(var a=r[i],s=0;s<n;++s)e[t++]=a[s];return t}function o(e,t,r,n,o){for(var a=o||[],s=0,l=0,_=r.length;l<_;++l){var u=i(e,t,r[l],n);a[s++]=u,t=u}return a.length=s,a}function a(e,t,r,n,i){for(var a=i||[],s=0,l=0,_=r.length;l<_;++l){var u=o(e,t,r[l],n,a[s]);a[s++]=u,t=u[u.length-1]}return a.length=s,a}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return a}))},function(e,t,r){"use strict";r.d(t,"b",(function(){return d}));var n,i=r(155),o=r(18),a=r(32),s=r(74),l=r(20),_=r(21),u=r(16),c=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),p=function(e){function t(t){var r=this,n=Object(_.a)({},t);delete n.source,(r=e.call(this,n)||this).on,r.once,r.un,r.mapPrecomposeKey_=null,r.mapRenderKey_=null,r.sourceChangeKey_=null,r.renderer_=null,r.rendered=!1,t.render&&(r.render=t.render),t.map&&r.setMap(t.map),r.addChangeListener(a.a.SOURCE,r.handleSourcePropertyChange_);var i=t.source?t.source:null;return r.setSource(i),r}return c(t,e),t.prototype.getLayersArray=function(e){var t=e||[];return t.push(this),t},t.prototype.getLayerStatesArray=function(e){var t=e||[];return t.push(this.getLayerState()),t},t.prototype.getSource=function(){return this.get(a.a.SOURCE)||null},t.prototype.getRenderSource=function(){return this.getSource()},t.prototype.getSourceState=function(){var e=this.getSource();return e?e.getState():"undefined"},t.prototype.handleSourceChange_=function(){this.changed()},t.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Object(u.c)(this.sourceChangeKey_),this.sourceChangeKey_=null);var e=this.getSource();e&&(this.sourceChangeKey_=Object(u.a)(e,o.a.CHANGE,this.handleSourceChange_,this)),this.changed()},t.prototype.getFeatures=function(e){return this.renderer_?this.renderer_.getFeatures(e):new Promise((function(e){return e([])}))},t.prototype.getData=function(e){return this.renderer_&&this.rendered?this.renderer_.getData(e):null},t.prototype.render=function(e,t){var r=this.getRenderer();if(r.prepareFrame(e))return this.rendered=!0,r.renderFrame(e,t)},t.prototype.unrender=function(){this.rendered=!1},t.prototype.setMapInternal=function(e){e||this.unrender(),this.set(a.a.MAP,e)},t.prototype.getMapInternal=function(){return this.get(a.a.MAP)},t.prototype.setMap=function(e){this.mapPrecomposeKey_&&(Object(u.c)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Object(u.c)(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=Object(u.a)(e,s.a.PRECOMPOSE,(function(e){var t=e.frameState.layerStatesArray,r=this.getLayerState(!1);Object(l.a)(!t.some((function(e){return e.layer===r.layer})),67),t.push(r)}),this),this.mapRenderKey_=Object(u.a)(this,o.a.CHANGE,e.render,e),this.changed())},t.prototype.setSource=function(e){this.set(a.a.SOURCE,e)},t.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},t.prototype.hasRenderer=function(){return!!this.renderer_},t.prototype.createRenderer=function(){return null},t.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),e.prototype.disposeInternal.call(this)},t}(i.a);function d(e,t){if(!e.visible)return!1;var r=t.resolution;if(r<e.minResolution||r>=e.maxResolution)return!1;var n=t.zoom;return n>e.minZoom&&n<=e.maxZoom}t.a=p},function(e,t,r){"use strict";(function(e){var n;r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return s})),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var i,o;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function a(e){return""===e?"[empty_string]":"'".concat(e,"'")}function s(e){return!(e.metadata&&"baseMap layer"===e.metadata["azmaps:type"])}(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(a,"formatLayerId","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\util\\format.js"),i.register(s,"isLayerSelectable","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\util\\format.js")),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)}).call(this,r(14)(e))},function(e,t,r){"use strict";(function(e){var n;r.d(t,"a",(function(){return a})),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var i,o;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function a(e){if(e.hasOwnProperty("default"))return e.default;return{color:"#000000",string:"",boolean:!1,number:0,array:[]}[e.type]||""}(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&i.register(a,"findDefaultFromSpec","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\util\\spec-helper.js"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)}).call(this,r(14)(e))},function(e,t){var r=Array.isArray;e.exports=r},function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return p})),r.d(t,"c",(function(){return h}));var n=r(20),i=r(13),o=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,a=/^([a-z]*)$|^hsla?\(.*\)$/i;function s(e){return"string"==typeof e?e:h(e)}function l(e){var t=document.createElement("div");if(t.style.color=e,""!==t.style.color){document.body.appendChild(t);var r=getComputedStyle(t).color;return document.body.removeChild(t),r}return""}var _,u,c=(_={},u=0,function(e){var t;if(_.hasOwnProperty(e))t=_[e];else{if(u>=1024){var r=0;for(var i in _)0==(3&r++)&&(delete _[i],--u)}t=function(e){var t,r,i,s,_;if(a.exec(e)&&(e=l(e)),o.exec(e)){var u=e.length-1,c=void 0;c=u<=4?1:2;var p=4===u||8===u;t=parseInt(e.substr(1+0*c,c),16),r=parseInt(e.substr(1+1*c,c),16),i=parseInt(e.substr(1+2*c,c),16),s=p?parseInt(e.substr(1+3*c,c),16):255,1==c&&(t=(t<<4)+t,r=(r<<4)+r,i=(i<<4)+i,p&&(s=(s<<4)+s)),_=[t,r,i,s/255]}else 0==e.indexOf("rgba(")?d(_=e.slice(5,-1).split(",").map(Number)):0==e.indexOf("rgb(")?((_=e.slice(4,-1).split(",").map(Number)).push(1),d(_)):Object(n.a)(!1,14);return _}(e),_[e]=t,++u}return t});function p(e){return Array.isArray(e)?e:c(e)}function d(e){return e[0]=Object(i.b)(e[0]+.5|0,0,255),e[1]=Object(i.b)(e[1]+.5|0,0,255),e[2]=Object(i.b)(e[2]+.5|0,0,255),e[3]=Object(i.b)(e[3],0,1),e}function h(e){var t=e[0];t!=(0|t)&&(t=t+.5|0);var r=e[1];r!=(0|r)&&(r=r+.5|0);var n=e[2];return n!=(0|n)&&(n=n+.5|0),"rgba("+t+","+r+","+n+","+(void 0===e[3]?1:Math.round(100*e[3])/100)+")"}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,r){"use strict";var n,i=r(114),o=r(47),a=r(30),s=r(21),l=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),_=function(e){function t(t){var r=e.call(this)||this;return r.eventTarget_=t,r.pendingRemovals_=null,r.dispatching_=null,r.listeners_=null,r}return l(t,e),t.prototype.addEventListener=function(e,t){if(e&&t){var r=this.listeners_||(this.listeners_={}),n=r[e]||(r[e]=[]);-1===n.indexOf(t)&&n.push(t)}},t.prototype.dispatchEvent=function(e){var t="string"==typeof e,r=t?e:e.type,n=this.listeners_&&this.listeners_[r];if(n){var i=t?new o.a(e):e;i.target||(i.target=this.eventTarget_||this);var s,l=this.dispatching_||(this.dispatching_={}),_=this.pendingRemovals_||(this.pendingRemovals_={});r in l||(l[r]=0,_[r]=0),++l[r];for(var u=0,c=n.length;u<c;++u)if(!1===(s="handleEvent"in n[u]?n[u].handleEvent(i):n[u].call(this,i))||i.propagationStopped){s=!1;break}if(0==--l[r]){var p=_[r];for(delete _[r];p--;)this.removeEventListener(r,a.c);delete l[r]}return s}},t.prototype.disposeInternal=function(){this.listeners_&&Object(s.b)(this.listeners_)},t.prototype.getListeners=function(e){return this.listeners_&&this.listeners_[e]||void 0},t.prototype.hasListener=function(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)},t.prototype.removeEventListener=function(e,t){var r=this.listeners_&&this.listeners_[e];if(r){var n=r.indexOf(t);-1!==n&&(this.pendingRemovals_&&e in this.pendingRemovals_?(r[n]=a.c,++this.pendingRemovals_[e]):(r.splice(n,1),0===r.length&&delete this.listeners_[e]))}},t}(i.a);t.a=_},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"e",(function(){return a})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return _}));var n=r(13);function i(e,t,r,i,o,a,s){var l=(r-t)/i;if(l<3){for(;t<r;t+=i)a[s++]=e[t],a[s++]=e[t+1];return s}var _=new Array(l);_[0]=1,_[l-1]=1;for(var u=[t,r-i],c=0;u.length>0;){for(var p=u.pop(),d=u.pop(),h=0,f=e[d],m=e[d+1],y=e[p],g=e[p+1],b=d+i;b<p;b+=i){var v=e[b],E=e[b+1],O=Object(n.j)(v,E,f,m,y,g);O>h&&(c=b,h=O)}h>o&&(_[(c-t)/i]=1,d+i<c&&u.push(d,c),c+i<p&&u.push(c,p))}for(b=0;b<l;++b)_[b]&&(a[s++]=e[t+b*i],a[s++]=e[t+b*i+1]);return s}function o(e,t,r,n,o,a,s,l){for(var _=0,u=r.length;_<u;++_){var c=r[_];s=i(e,t,c,n,o,a,s),l.push(s),t=c}return s}function a(e,t){return t*Math.round(e/t)}function s(e,t,r,n,i,o,s){if(t==r)return s;var l,_,u=a(e[t],i),c=a(e[t+1],i);t+=n,o[s++]=u,o[s++]=c;do{if(l=a(e[t],i),_=a(e[t+1],i),(t+=n)==r)return o[s++]=l,o[s++]=_,s}while(l==u&&_==c);for(;t<r;){var p=a(e[t],i),d=a(e[t+1],i);if(t+=n,p!=l||d!=_){var h=l-u,f=_-c,m=p-u,y=d-c;h*y==f*m&&(h<0&&m<h||h==m||h>0&&m>h)&&(f<0&&y<f||f==y||f>0&&y>f)?(l=p,_=d):(o[s++]=l,o[s++]=_,u=l,c=_,l=p,_=d)}}return o[s++]=l,o[s++]=_,s}function l(e,t,r,n,i,o,a,l){for(var _=0,u=r.length;_<u;++_){var c=r[_];a=s(e,t,c,n,i,o,a),l.push(a),t=c}return a}function _(e,t,r,n,i,o,a,s){for(var _=0,u=r.length;_<u;++_){var c=r[_],p=[];a=l(e,t,c,n,i,o,a,p),s.push(p),t=c[c.length-1]}return a}},function(e,t,r){"use strict";r.d(t,"b",(function(){return O}));var n,i=r(27),o=r(54),a=r(60),s=r(5),l=r(63),_=r(71),u=r(43),c=r(115),p=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),d=function(e){function t(t,r){var n=e.call(this)||this;return n.maxDelta_=-1,n.maxDeltaRevision_=-1,void 0===r||Array.isArray(t[0])?n.setCoordinates(t,r):n.setFlatCoordinates(r,t),n}return p(t,e),t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout)},t.prototype.closestPointXY=function(e,t,r,n){return n<Object(s.e)(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(a.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(a.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,r,n))},t.prototype.getArea=function(){return Object(c.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getCoordinates=function(){return Object(u.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getSimplifiedGeometryInternal=function(e){var r=[];return r.length=Object(_.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,r,0),new t(r,i.a.XY)},t.prototype.getType=function(){return"LinearRing"},t.prototype.intersectsExtent=function(e){return!1},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(l.b)(this.flatCoordinates,0,e,this.stride),this.changed()},t}(o.a),h=r(93),f=r(23),m=r(106),y=r(86),g=r(75),b=r(73),v=(r(13),r(127),function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),E=function(e){function t(t,r,n){var i=e.call(this)||this;return i.ends_=[],i.flatInteriorPointRevision_=-1,i.flatInteriorPoint_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,void 0!==r&&n?(i.setFlatCoordinates(r,t),i.ends_=n):i.setCoordinates(t,r),i}return v(t,e),t.prototype.appendLinearRing=function(e){this.flatCoordinates?Object(f.c)(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,t,r,n){return n<Object(s.e)(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(a.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(a.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,r,n))},t.prototype.containsXY=function(e,t){return Object(b.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)},t.prototype.getArea=function(){return Object(c.b)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},t.prototype.getCoordinates=function(e){var t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),Object(g.d)(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,Object(u.b)(t,0,this.ends_,this.stride)},t.prototype.getEnds=function(){return this.ends_},t.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var e=Object(s.w)(this.getExtent());this.flatInteriorPoint_=Object(m.a)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},t.prototype.getInteriorPoint=function(){return new h.a(this.getFlatInteriorPoint(),i.a.XYM)},t.prototype.getLinearRingCount=function(){return this.ends_.length},t.prototype.getLinearRing=function(e){return e<0||this.ends_.length<=e?null:new d(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)},t.prototype.getLinearRings=function(){for(var e=this.layout,t=this.flatCoordinates,r=this.ends_,n=[],i=0,o=0,a=r.length;o<a;++o){var s=r[o],l=new d(t.slice(i,s),e);n.push(l),i=s}return n},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;Object(g.b)(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Object(g.d)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(e){var r=[],n=[];return r.length=Object(_.c)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),r,0,n),new t(r,i.a.XY,n)},t.prototype.getType=function(){return"Polygon"},t.prototype.intersectsExtent=function(e){return Object(y.d)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var r=Object(l.c)(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()},t}(o.a);t.a=E;function O(e){var t=e[0],r=e[1],n=e[2],o=e[3],a=[t,r,t,o,n,o,n,r,t,r];return new E(a,i.a.XY,[a.length])}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return s}));var n=r(5);function i(e,t,r,i,a){return!Object(n.s)(a,(function(n){return!o(e,t,r,i,n[0],n[1])}))}function o(e,t,r,n,i,o){for(var a=0,s=e[r-n],l=e[r-n+1];t<r;t+=n){var _=e[t],u=e[t+1];l<=o?u>o&&(_-s)*(o-l)-(i-s)*(u-l)>0&&a++:u<=o&&(_-s)*(o-l)-(i-s)*(u-l)<0&&a--,s=_,l=u}return 0!==a}function a(e,t,r,n,i,a){if(0===r.length)return!1;if(!o(e,t,r[0],n,i,a))return!1;for(var s=1,l=r.length;s<l;++s)if(o(e,r[s-1],r[s],n,i,a))return!1;return!0}function s(e,t,r,n,i,o){if(0===r.length)return!1;for(var s=0,l=r.length;s<l;++s){var _=r[s];if(a(e,t,_,n,i,o))return!0;t=_[_.length-1]}return!1}},function(e,t,r){"use strict";t.a={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},function(e,t,r){"use strict";function n(e,t,r,n){for(;t<r-n;){for(var i=0;i<n;++i){var o=e[t+i];e[t+i]=e[r-n+i],e[r-n+i]=o}t+=n,r-=n}}function i(e,t,r,n){for(var i=0,o=e[r-n],a=e[r-n+1];t<r;t+=n){var s=e[t],l=e[t+1];i+=(s-o)*(l+a),o=s,a=l}return 0===i?void 0:i>0}function o(e,t,r,n,o){for(var a=void 0!==o&&o,s=0,l=r.length;s<l;++s){var _=r[s],u=i(e,t,_,n);if(0===s){if(a&&u||!a&&!u)return!1}else if(a&&!u||!a&&u)return!1;t=_}return!0}function a(e,t,r,n,i){for(var a=0,s=r.length;a<s;++a){var l=r[a];if(!o(e,t,l,n,i))return!1;l.length&&(t=l[l.length-1])}return!0}function s(e,t,r,o,a){for(var s=void 0!==a&&a,l=0,_=r.length;l<_;++l){var u=r[l],c=i(e,t,u,o);(0===l?s&&c||!s&&!c:s&&!c||!s&&c)&&n(e,t,u,o),t=u}return t}function l(e,t,r,n,i){for(var o=0,a=r.length;o<a;++o)t=s(e,t,r[o],n,i);return t}function _(e,t){for(var r=[],n=0,o=0,a=0,s=t.length;a<s;++a){var l=t[a];if(i(e,n,l,2)){if(0===r.length)continue;r[r.length-1].push(t[o])}else r.push(t.slice(o,a+1));o=a+1,n=l}return r}r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return s})),r.d(t,"e",(function(){return l})),r.d(t,"a",(function(){return _}))},function(e,t,r){"use strict";t.a={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReactCSS=t.loop=t.handleActive=t.handleHover=t.hover=void 0;var n=_(r(389)),i=_(r(461)),o=_(r(481)),a=_(r(482)),s=_(r(483)),l=_(r(484));function _(e){return e&&e.__esModule?e:{default:e}}t.hover=a.default,t.handleHover=a.default,t.handleActive=s.default,t.loop=l.default;var u=t.ReactCSS=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];var s=(0,n.default)(r),l=(0,i.default)(e,s);return(0,o.default)(l)};t.default=u},function(e,t,r){var n=r(218),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();e.exports=o},function(e,t,r){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=r(336)},function(e,t,r){"use strict";t.a={PROPERTYCHANGE:"propertychange"}},function(e,t,r){e.exports=function(){"use strict";var e,t,r;function n(n,i){if(e)if(t){var o="var sharedChunk = {}; ("+e+")(sharedChunk); ("+t+")(sharedChunk);",a={};e(a),r=i(a),"undefined"!=typeof window&&(r.workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"})))}else t=i;else e=i}return n(0,(function(e){function t(e,t){return e(t={exports:{}},t.exports),t.exports}var r=n;function n(e,t,r,n){this.cx=3*e,this.bx=3*(r-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(n-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=n,this.p2x=r,this.p2y=n}n.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},n.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},n.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},n.prototype.solveCurveX=function(e,t){var r,n,i,o,a;for(void 0===t&&(t=1e-6),i=e,a=0;a<8;a++){if(o=this.sampleCurveX(i)-e,Math.abs(o)<t)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=o/s}if((i=e)<(r=0))return r;if(i>(n=1))return n;for(;r<n;){if(o=this.sampleCurveX(i),Math.abs(o-e)<t)return i;e>o?r=i:n=i,i=.5*(n-r)+r}return i},n.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var i=o;function o(e,t){this.x=e,this.y=t}o.prototype={clone:function(){return new o(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,r=e.y-this.y;return t*t+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),r=Math.sin(e),n=r*this.x+t*this.y;return this.x=t*this.x-r*this.y,this.y=n,this},_rotateAround:function(e,t){var r=Math.cos(e),n=Math.sin(e),i=t.y+n*(this.x-t.x)+r*(this.y-t.y);return this.x=t.x+r*(this.x-t.x)-n*(this.y-t.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},o.convert=function(e){return e instanceof o?e:Array.isArray(e)?new o(e[0],e[1]):e};var a="undefined"!=typeof self?self:{},s=Math.pow(2,53)-1;function l(e,t,n,i){var o=new r(e,t,n,i);return function(e){return o.solve(e)}}var _=l(.25,.1,.25,1);function u(e,t,r){return Math.min(r,Math.max(t,e))}function c(e,t,r){var n=r-t,i=((e-t)%n+n)%n+t;return i===t?r:i}function p(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];for(var n=0,i=t;n<i.length;n+=1){var o=i[n];for(var a in o)e[a]=o[a]}return e}var d=1;function h(){return d++}function f(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function m(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function y(e,t){e.forEach((function(e){t[e]&&(t[e]=t[e].bind(t))}))}function g(e,t){return-1!==e.indexOf(t,e.length-t.length)}function b(e,t,r){var n={};for(var i in e)n[i]=t.call(r||this,e[i],i,e);return n}function v(e,t,r){var n={};for(var i in e)t.call(r||this,e[i],i,e)&&(n[i]=e[i]);return n}function E(e){return Array.isArray(e)?e.map(E):"object"==typeof e&&e?b(e,E):e}var O={};function M(e){O[e]||("undefined"!=typeof console&&console.warn(e),O[e]=!0)}function P(e,t,r){return(r.y-e.y)*(t.x-e.x)>(t.y-e.y)*(r.x-e.x)}function x(e){for(var t=0,r=0,n=e.length,i=n-1,o=void 0,a=void 0;r<n;i=r++)t+=((a=e[i]).x-(o=e[r]).x)*(o.y+a.y);return t}function w(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function C(e){var t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(e,r,n,i){var o=n||i;return t[r]=!o||o.toLowerCase(),""})),t["max-age"]){var r=parseInt(t["max-age"],10);isNaN(r)?delete t["max-age"]:t["max-age"]=r}return t}var D=null;function T(e){if(null==D){var t=e.navigator?e.navigator.userAgent:null;D=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return D}function k(e){try{var t=a[e];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch(e){return!1}}var A,I,L,R,S=a.performance&&a.performance.now?a.performance.now.bind(a.performance):Date.now.bind(Date),B=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame,U=a.cancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelAnimationFrame||a.msCancelAnimationFrame,W={now:S,frame:function(e){var t=B(e);return{cancel:function(){return U(t)}}},getImageData:function(e,t){void 0===t&&(t=0);var r=a.document.createElement("canvas"),n=r.getContext("2d");if(!n)throw new Error("failed to create canvas 2d context");return r.width=e.width,r.height=e.height,n.drawImage(e,0,0,e.width,e.height),n.getImageData(-t,-t,e.width+2*t,e.height+2*t)},resolveURL:function(e){return A||(A=a.document.createElement("a")),A.href=e,A.href},hardwareConcurrency:a.navigator&&a.navigator.hardwareConcurrency||4,get devicePixelRatio(){return a.devicePixelRatio},get prefersReducedMotion(){return!!a.matchMedia&&(null==I&&(I=a.matchMedia("(prefers-reduced-motion: reduce)")),I.matches)}},K={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},j={supported:!1,testSupport:function(e){!z&&R&&(F?q(e):L=e)}},z=!1,F=!1;function q(e){var t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,R),e.isContextLost())return;j.supported=!0}catch(e){}e.deleteTexture(t),z=!0}a.document&&((R=a.document.createElement("img")).onload=function(){L&&q(L),L=null,F=!0},R.onerror=function(){z=!0,L=null},R.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var N="01",H=function(e,t){this._transformRequestFn=e,this._customAccessToken=t,this._createSkuToken()};function G(e){return 0===e.indexOf("mapbox:")}H.prototype._createSkuToken=function(){var e=function(){for(var e="",t=0;t<10;t++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",N,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=e.token,this._skuTokenExpiresAt=e.tokenExpiresAt},H.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},H.prototype.transformRequest=function(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}},H.prototype.normalizeStyleURL=function(e,t){if(!G(e))return e;var r=$(e);return r.path="/styles/v1"+r.path,this._makeAPIURL(r,this._customAccessToken||t)},H.prototype.normalizeGlyphsURL=function(e,t){if(!G(e))return e;var r=$(e);return r.path="/fonts/v1"+r.path,this._makeAPIURL(r,this._customAccessToken||t)},H.prototype.normalizeSourceURL=function(e,t){if(!G(e))return e;var r=$(e);return r.path="/v4/"+r.authority+".json",r.params.push("secure"),this._makeAPIURL(r,this._customAccessToken||t)},H.prototype.normalizeSpriteURL=function(e,t,r,n){var i=$(e);return G(e)?(i.path="/styles/v1"+i.path+"/sprite"+t+r,this._makeAPIURL(i,this._customAccessToken||n)):(i.path+=""+t+r,Y(i))},H.prototype.normalizeTileURL=function(e,t){if(this._isSkuTokenExpired()&&this._createSkuToken(),e&&!G(e))return e;var r=$(e);r.path=r.path.replace(/(\.(png|jpg)\d*)(?=$)/,(W.devicePixelRatio>=2||512===t?"@2x":"")+(j.supported?".webp":"$1")),r.path=r.path.replace(/^.+\/v4\//,"/"),r.path="/v4"+r.path;var n=this._customAccessToken||function(e){for(var t=0,r=e;t<r.length;t+=1){var n=r[t].match(/^access_token=(.*)$/);if(n)return n[1]}return null}(r.params)||K.ACCESS_TOKEN;return K.REQUIRE_ACCESS_TOKEN&&n&&this._skuToken&&r.params.push("sku="+this._skuToken),this._makeAPIURL(r,n)},H.prototype.canonicalizeTileURL=function(e,t){var r=$(e);if(!r.path.match(/(^\/v4\/)/)||!r.path.match(/\.[\w]+$/))return e;var n="mapbox://tiles/";n+=r.path.replace("/v4/","");var i=r.params;return t&&(i=i.filter((function(e){return!e.match(/^access_token=/)}))),i.length&&(n+="?"+i.join("&")),n},H.prototype.canonicalizeTileset=function(e,t){for(var r=!!t&&G(t),n=[],i=0,o=e.tiles||[];i<o.length;i+=1){var a=o[i];Z(a)?n.push(this.canonicalizeTileURL(a,r)):n.push(a)}return n},H.prototype._makeAPIURL=function(e,t){var r="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",n=$(K.API_URL);if(e.protocol=n.protocol,e.authority=n.authority,"http"===e.protocol){var i=e.params.indexOf("secure");i>=0&&e.params.splice(i,1)}if("/"!==n.path&&(e.path=""+n.path+e.path),!K.REQUIRE_ACCESS_TOKEN)return Y(e);if(!(t=t||K.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+r);if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+r);return e.params=e.params.filter((function(e){return-1===e.indexOf("access_token")})),e.params.push("access_token="+t),Y(e)};var V=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Z(e){return V.test(e)}var X=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function $(e){var t=e.match(X);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function Y(e){var t=e.params.length?"?"+e.params.join("&"):"";return e.protocol+"://"+e.authority+e.path+t}function J(e){if(!e)return null;var t=e.split(".");if(!t||3!==t.length)return null;try{return JSON.parse(decodeURIComponent(a.atob(t[1]).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(e){return null}}var Q=function(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};Q.prototype.getStorageKey=function(e){var t,r=J(K.ACCESS_TOKEN);return t=r&&r.u?a.btoa(encodeURIComponent(r.u).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(Number("0x"+t))}))):K.ACCESS_TOKEN||"",e?"mapbox.eventData."+e+":"+t:"mapbox.eventData:"+t},Q.prototype.fetchEventData=function(){var e=k("localStorage"),t=this.getStorageKey(),r=this.getStorageKey("uuid");if(e)try{var n=a.localStorage.getItem(t);n&&(this.eventData=JSON.parse(n));var i=a.localStorage.getItem(r);i&&(this.anonId=i)}catch(e){M("Unable to read from LocalStorage")}},Q.prototype.saveEventData=function(){var e=k("localStorage"),t=this.getStorageKey(),r=this.getStorageKey("uuid");if(e)try{a.localStorage.setItem(r,this.anonId),Object.keys(this.eventData).length>=1&&a.localStorage.setItem(t,JSON.stringify(this.eventData))}catch(e){M("Unable to write to LocalStorage")}},Q.prototype.processRequests=function(e){},Q.prototype.postEvent=function(e,t,r,n){var i=this;if(K.EVENTS_URL){var o=$(K.EVENTS_URL);o.params.push("access_token="+(n||K.ACCESS_TOKEN||""));var a={event:this.type,created:new Date(e).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.13.2",skuId:N,userId:this.anonId},s=t?p(a,t):a,l={url:Y(o),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=Ee(l,(function(e){i.pendingRequest=null,r(e),i.saveEventData(),i.processRequests(n)}))}},Q.prototype.queueRequest=function(e,t){this.queue.push(e),this.processRequests(t)};var ee,te,re=function(e){function t(){e.call(this,"map.load"),this.success={},this.skuToken=""}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.postMapLoadEvent=function(e,t,r,n){this.skuToken=r,(K.EVENTS_URL&&n||K.ACCESS_TOKEN&&Array.isArray(e)&&e.some((function(e){return G(e)||Z(e)})))&&this.queueRequest({id:t,timestamp:Date.now()},n)},t.prototype.processRequests=function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){var r=this.queue.shift(),n=r.id,i=r.timestamp;n&&this.success[n]||(this.anonId||this.fetchEventData(),m(this.anonId)||(this.anonId=f()),this.postEvent(i,{skuToken:this.skuToken},(function(e){e||n&&(t.success[n]=!0)}),e))}},t}(Q),ne=new(function(e){function t(t){e.call(this,"appUserTurnstile"),this._customAccessToken=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.postTurnstileEvent=function(e,t){K.EVENTS_URL&&K.ACCESS_TOKEN&&Array.isArray(e)&&e.some((function(e){return G(e)||Z(e)}))&&this.queueRequest(Date.now(),t)},t.prototype.processRequests=function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var r=J(K.ACCESS_TOKEN),n=r?r.u:K.ACCESS_TOKEN,i=n!==this.eventData.tokenU;m(this.anonId)||(this.anonId=f(),i=!0);var o=this.queue.shift();if(this.eventData.lastSuccess){var a=new Date(this.eventData.lastSuccess),s=new Date(o),l=(o-this.eventData.lastSuccess)/864e5;i=i||l>=1||l<-1||a.getDate()!==s.getDate()}else i=!0;if(!i)return this.processRequests();this.postEvent(o,{"enabled.telemetry":!1},(function(e){e||(t.eventData.lastSuccess=o,t.eventData.tokenU=n)}),e)}},t}(Q)),ie=ne.postTurnstileEvent.bind(ne),oe=new re,ae=oe.postMapLoadEvent.bind(oe),se=500,le=50;function _e(){a.caches&&!ee&&(ee=a.caches.open("mapbox-tiles"))}function ue(e){var t=e.indexOf("?");return t<0?e:e.slice(0,t)}var ce,pe=1/0;function de(){return null==ce&&(ce=a.OffscreenCanvas&&new a.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof a.createImageBitmap),ce}var he={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(he);var fe,me,ye=function(e){function t(t,r,n){401===r&&Z(n)&&(t+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),e.call(this,t),this.status=r,this.url=n,this.name=this.constructor.name,this.message=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},t}(Error),ge=w()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===a.location.protocol?a.parent:a).location.href},be=function(e,t){if(!(/^file:/.test(r=e.url)||/^file:/.test(ge())&&!/^\w+:/.test(r))){if(a.fetch&&a.Request&&a.AbortController&&a.Request.prototype.hasOwnProperty("signal"))return function(e,t){var r,n=new a.AbortController,i=new a.Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:ge(),signal:n.signal}),o=!1,s=!1,l=(r=i.url).indexOf("sku=")>0&&Z(r);"json"===e.type&&i.headers.set("Accept","application/json");var _=function(r,n,o){if(!s){if(r&&"SecurityError"!==r.message&&M(r),n&&o)return u(n);var _=Date.now();a.fetch(i).then((function(r){if(r.ok){var n=l?r.clone():null;return u(r,n,_)}return t(new ye(r.statusText,r.status,e.url))})).catch((function(e){20!==e.code&&t(new Error(e.message))}))}},u=function(r,n,l){("arrayBuffer"===e.type?r.arrayBuffer():"json"===e.type?r.json():r.text()).then((function(e){s||(n&&l&&function(e,t,r){if(_e(),ee){var n={status:t.status,statusText:t.statusText,headers:new a.Headers};t.headers.forEach((function(e,t){return n.headers.set(t,e)}));var i=C(t.headers.get("Cache-Control")||"");i["no-store"]||(i["max-age"]&&n.headers.set("Expires",new Date(r+1e3*i["max-age"]).toUTCString()),new Date(n.headers.get("Expires")).getTime()-r<42e4||function(e,t){if(void 0===te)try{new Response(new ReadableStream),te=!0}catch(e){te=!1}te?t(e.body):e.blob().then(t)}(t,(function(t){var r=new a.Response(t,n);_e(),ee&&ee.then((function(t){return t.put(ue(e.url),r)})).catch((function(e){return M(e.message)}))})))}}(i,n,l),o=!0,t(null,e,r.headers.get("Cache-Control"),r.headers.get("Expires")))})).catch((function(e){s||t(new Error(e.message))}))};return l?function(e,t){if(_e(),!ee)return t(null);var r=ue(e.url);ee.then((function(e){e.match(r).then((function(n){var i=function(e){if(!e)return!1;var t=new Date(e.headers.get("Expires")||0),r=C(e.headers.get("Cache-Control")||"");return t>Date.now()&&!r["no-cache"]}(n);e.delete(r),i&&e.put(r,n.clone()),t(null,n,i)})).catch(t)})).catch(t)}(i,_):_(null,null),{cancel:function(){s=!0,o||n.abort()}}}(e,t);if(w()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t,void 0,!0)}var r;return function(e,t){var r=new a.XMLHttpRequest;for(var n in r.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(r.responseType="arraybuffer"),e.headers)r.setRequestHeader(n,e.headers[n]);return"json"===e.type&&(r.responseType="text",r.setRequestHeader("Accept","application/json")),r.withCredentials="include"===e.credentials,r.onerror=function(){t(new Error(r.statusText))},r.onload=function(){if((r.status>=200&&r.status<300||0===r.status)&&null!==r.response){var n=r.response;if("json"===e.type)try{n=JSON.parse(r.response)}catch(e){return t(e)}t(null,n,r.getResponseHeader("Cache-Control"),r.getResponseHeader("Expires"))}else t(new ye(r.statusText,r.status,e.url))},r.send(e.body),{cancel:function(){return r.abort()}}}(e,t)},ve=function(e,t){return be(p(e,{type:"arrayBuffer"}),t)},Ee=function(e,t){return be(p(e,{method:"POST"}),t)},Oe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";fe=[],me=0;var Me=function(e,t){if(j.supported&&(e.headers||(e.headers={}),e.headers.accept="image/webp,*/*"),me>=K.MAX_PARALLEL_IMAGE_REQUESTS){var r={requestParameters:e,callback:t,cancelled:!1,cancel:function(){this.cancelled=!0}};return fe.push(r),r}me++;var n=!1,i=function(){if(!n)for(n=!0,me--;fe.length&&me<K.MAX_PARALLEL_IMAGE_REQUESTS;){var e=fe.shift();e.cancelled||(e.cancel=Me(e.requestParameters,e.callback).cancel)}},o=ve(e,(function(e,r,n,o){i(),e?t(e):r&&(de()?function(e,t){var r=new a.Blob([new Uint8Array(e)],{type:"image/png"});a.createImageBitmap(r).then((function(e){t(null,e)})).catch((function(e){t(new Error("Could not load image because of "+e.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))}))}(r,t):function(e,t,r,n){var i=new a.Image,o=a.URL;i.onload=function(){t(null,i),o.revokeObjectURL(i.src),i.onload=null,a.requestAnimationFrame((function(){i.src=Oe}))},i.onerror=function(){return t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var s=new a.Blob([new Uint8Array(e)],{type:"image/png"});i.cacheControl=r,i.expires=n,i.src=e.byteLength?o.createObjectURL(s):Oe}(r,t,n,o))}));return{cancel:function(){o.cancel(),i()}}};function Pe(e,t,r){r[e]&&-1!==r[e].indexOf(t)||(r[e]=r[e]||[],r[e].push(t))}function xe(e,t,r){if(r&&r[e]){var n=r[e].indexOf(t);-1!==n&&r[e].splice(n,1)}}var we=function(e,t){void 0===t&&(t={}),p(this,t),this.type=e},Ce=function(e){function t(t,r){void 0===r&&(r={}),e.call(this,"error",p({error:t},r))}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(we),De=function(){};De.prototype.on=function(e,t){return this._listeners=this._listeners||{},Pe(e,t,this._listeners),this},De.prototype.off=function(e,t){return xe(e,t,this._listeners),xe(e,t,this._oneTimeListeners),this},De.prototype.once=function(e,t){return this._oneTimeListeners=this._oneTimeListeners||{},Pe(e,t,this._oneTimeListeners),this},De.prototype.fire=function(e,t){"string"==typeof e&&(e=new we(e,t||{}));var r=e.type;if(this.listens(r)){e.target=this;for(var n=0,i=this._listeners&&this._listeners[r]?this._listeners[r].slice():[];n<i.length;n+=1)i[n].call(this,e);for(var o=0,a=this._oneTimeListeners&&this._oneTimeListeners[r]?this._oneTimeListeners[r].slice():[];o<a.length;o+=1){var s=a[o];xe(r,s,this._oneTimeListeners),s.call(this,e)}var l=this._eventedParent;l&&(p(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),l.fire(e))}else e instanceof Ce&&console.error(e.error);return this},De.prototype.listens=function(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)},De.prototype.setEventedParent=function(e,t){return this._eventedParent=e,this._eventedParentData=t,this};var Te={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},ke=function(e,t,r,n){this.message=(e?e+": ":"")+r,n&&(this.identifier=n),null!=t&&t.__line__&&(this.line=t.__line__)};function Ae(e){var t=e.value;return t?[new ke(e.key,t,"constants have been deprecated as of v8")]:[]}function Ie(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];for(var n=0,i=t;n<i.length;n+=1){var o=i[n];for(var a in o)e[a]=o[a]}return e}function Le(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function Re(e){if(Array.isArray(e))return e.map(Re);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){var t={};for(var r in e)t[r]=Re(e[r]);return t}return Le(e)}var Se=function(e){function t(t,r){e.call(this,r),this.message=r,this.key=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Error),Be=function(e,t){void 0===t&&(t=[]),this.parent=e,this.bindings={};for(var r=0,n=t;r<n.length;r+=1){var i=n[r];this.bindings[i[0]]=i[1]}};Be.prototype.concat=function(e){return new Be(this,e)},Be.prototype.get=function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")},Be.prototype.has=function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)};var Ue={kind:"null"},We={kind:"number"},Ke={kind:"string"},je={kind:"boolean"},ze={kind:"color"},Fe={kind:"object"},qe={kind:"value"},Ne={kind:"collator"},He={kind:"formatted"},Ge={kind:"resolvedImage"};function Ve(e,t){return{kind:"array",itemType:e,N:t}}function Ze(e){if("array"===e.kind){var t=Ze(e.itemType);return"number"==typeof e.N?"array<"+t+", "+e.N+">":"value"===e.itemType.kind?"array":"array<"+t+">"}return e.kind}var Xe=[Ue,We,Ke,je,ze,He,Fe,Ve(qe),Ge];function $e(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!$e(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(var r=0,n=Xe;r<n.length;r+=1)if(!$e(n[r],t))return null}return"Expected "+Ze(e)+" but found "+Ze(t)+" instead."}function Ye(e,t){return t.some((function(t){return t.kind===e.kind}))}function Je(e,t){return t.some((function(t){return"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e}))}var Qe=t((function(e,t){var r={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(e){return(e=Math.round(e))<0?0:e>255?255:e}function i(e){return n("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function o(e){return(t="%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))<0?0:t>1?1:t;var t}function a(e,t,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?e+(t-e)*r*6:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}try{t.parseCSSColor=function(e){var t,s=e.replace(/ /g,"").toLowerCase();if(s in r)return r[s].slice();if("#"===s[0])return 4===s.length?(t=parseInt(s.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===s.length&&(t=parseInt(s.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var l=s.indexOf("("),_=s.indexOf(")");if(-1!==l&&_+1===s.length){var u=s.substr(0,l),c=s.substr(l+1,_-(l+1)).split(","),p=1;switch(u){case"rgba":if(4!==c.length)return null;p=o(c.pop());case"rgb":return 3!==c.length?null:[i(c[0]),i(c[1]),i(c[2]),p];case"hsla":if(4!==c.length)return null;p=o(c.pop());case"hsl":if(3!==c.length)return null;var d=(parseFloat(c[0])%360+360)%360/360,h=o(c[1]),f=o(c[2]),m=f<=.5?f*(h+1):f+h-f*h,y=2*f-m;return[n(255*a(y,m,d+1/3)),n(255*a(y,m,d)),n(255*a(y,m,d-1/3)),p];default:return null}}return null}}catch(e){}})).parseCSSColor,et=function(e,t,r,n){void 0===n&&(n=1),this.r=e,this.g=t,this.b=r,this.a=n};et.parse=function(e){if(e){if(e instanceof et)return e;if("string"==typeof e){var t=Qe(e);if(t)return new et(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}}},et.prototype.toString=function(){var e=this.toArray(),t=e[1],r=e[2],n=e[3];return"rgba("+Math.round(e[0])+","+Math.round(t)+","+Math.round(r)+","+n+")"},et.prototype.toArray=function(){var e=this.a;return 0===e?[0,0,0,0]:[255*this.r/e,255*this.g/e,255*this.b/e,e]},et.black=new et(0,0,0,1),et.white=new et(1,1,1,1),et.transparent=new et(0,0,0,0),et.red=new et(1,0,0,1);var tt=function(e,t,r){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};tt.prototype.compare=function(e,t){return this.collator.compare(e,t)},tt.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var rt=function(e,t,r,n,i){this.text=e,this.image=t,this.scale=r,this.fontStack=n,this.textColor=i},nt=function(e){this.sections=e};nt.fromString=function(e){return new nt([new rt(e,null,null,null,null)])},nt.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some((function(e){return 0!==e.text.length||e.image&&0!==e.image.name.length}))},nt.factory=function(e){return e instanceof nt?e:nt.fromString(e)},nt.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map((function(e){return e.text})).join("")},nt.prototype.serialize=function(){for(var e=["format"],t=0,r=this.sections;t<r.length;t+=1){var n=r[t];if(n.image)e.push(["image",n.image.name]);else{e.push(n.text);var i={};n.fontStack&&(i["text-font"]=["literal",n.fontStack.split(",")]),n.scale&&(i["font-scale"]=n.scale),n.textColor&&(i["text-color"]=["rgba"].concat(n.textColor.toArray())),e.push(i)}}return e};var it=function(e){this.name=e.name,this.available=e.available};function ot(e,t,r,n){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof r&&r>=0&&r<=255?void 0===n||"number"==typeof n&&n>=0&&n<=1?null:"Invalid rgba value ["+[e,t,r,n].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof n?[e,t,r,n]:[e,t,r]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function at(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof et)return!0;if(e instanceof tt)return!0;if(e instanceof nt)return!0;if(e instanceof it)return!0;if(Array.isArray(e)){for(var t=0,r=e;t<r.length;t+=1)if(!at(r[t]))return!1;return!0}if("object"==typeof e){for(var n in e)if(!at(e[n]))return!1;return!0}return!1}function st(e){if(null===e)return Ue;if("string"==typeof e)return Ke;if("boolean"==typeof e)return je;if("number"==typeof e)return We;if(e instanceof et)return ze;if(e instanceof tt)return Ne;if(e instanceof nt)return He;if(e instanceof it)return Ge;if(Array.isArray(e)){for(var t,r=e.length,n=0,i=e;n<i.length;n+=1){var o=st(i[n]);if(t){if(t===o)continue;t=qe;break}t=o}return Ve(t||qe,r)}return Fe}function lt(e){var t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof et||e instanceof nt||e instanceof it?e.toString():JSON.stringify(e)}it.prototype.toString=function(){return this.name},it.fromString=function(e){return e?new it({name:e,available:!1}):null},it.prototype.serialize=function(){return["image",this.name]};var _t=function(e,t){this.type=e,this.value=t};_t.parse=function(e,t){if(2!==e.length)return t.error("'literal' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(!at(e[1]))return t.error("invalid value");var r=e[1],n=st(r),i=t.expectedType;return"array"!==n.kind||0!==n.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(n=i),new _t(n,r)},_t.prototype.evaluate=function(){return this.value},_t.prototype.eachChild=function(){},_t.prototype.outputDefined=function(){return!0},_t.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof et?["rgba"].concat(this.value.toArray()):this.value instanceof nt?this.value.serialize():this.value};var ut=function(e){this.name="ExpressionEvaluationError",this.message=e};ut.prototype.toJSON=function(){return this.message};var ct={string:Ke,number:We,boolean:je,object:Fe},pt=function(e,t){this.type=e,this.args=t};pt.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r,n=1,i=e[0];if("array"===i){var o,a;if(e.length>2){var s=e[1];if("string"!=typeof s||!(s in ct)||"object"===s)return t.error('The item type argument of "array" must be one of string, number, boolean',1);o=ct[s],n++}else o=qe;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);a=e[2],n++}r=Ve(o,a)}else r=ct[i];for(var l=[];n<e.length;n++){var _=t.parse(e[n],n,qe);if(!_)return null;l.push(_)}return new pt(r,l)},pt.prototype.evaluate=function(e){for(var t=0;t<this.args.length;t++){var r=this.args[t].evaluate(e);if(!$e(this.type,st(r)))return r;if(t===this.args.length-1)throw new ut("Expected value to be of type "+Ze(this.type)+", but found "+Ze(st(r))+" instead.")}return null},pt.prototype.eachChild=function(e){this.args.forEach(e)},pt.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},pt.prototype.serialize=function(){var e=this.type,t=[e.kind];if("array"===e.kind){var r=e.itemType;if("string"===r.kind||"number"===r.kind||"boolean"===r.kind){t.push(r.kind);var n=e.N;("number"==typeof n||this.args.length>1)&&t.push(n)}}return t.concat(this.args.map((function(e){return e.serialize()})))};var dt=function(e){this.type=He,this.sections=e};dt.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r=e[1];if(!Array.isArray(r)&&"object"==typeof r)return t.error("First argument must be an image or text section.");for(var n=[],i=!1,o=1;o<=e.length-1;++o){var a=e[o];if(i&&"object"==typeof a&&!Array.isArray(a)){i=!1;var s=null;if(a["font-scale"]&&!(s=t.parse(a["font-scale"],1,We)))return null;var l=null;if(a["text-font"]&&!(l=t.parse(a["text-font"],1,Ve(Ke))))return null;var _=null;if(a["text-color"]&&!(_=t.parse(a["text-color"],1,ze)))return null;var u=n[n.length-1];u.scale=s,u.font=l,u.textColor=_}else{var c=t.parse(e[o],1,qe);if(!c)return null;var p=c.type.kind;if("string"!==p&&"value"!==p&&"null"!==p&&"resolvedImage"!==p)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,n.push({content:c,scale:null,font:null,textColor:null})}}return new dt(n)},dt.prototype.evaluate=function(e){return new nt(this.sections.map((function(t){var r=t.content.evaluate(e);return st(r)===Ge?new rt("",r,null,null,null):new rt(lt(r),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))},dt.prototype.eachChild=function(e){for(var t=0,r=this.sections;t<r.length;t+=1){var n=r[t];e(n.content),n.scale&&e(n.scale),n.font&&e(n.font),n.textColor&&e(n.textColor)}},dt.prototype.outputDefined=function(){return!1},dt.prototype.serialize=function(){for(var e=["format"],t=0,r=this.sections;t<r.length;t+=1){var n=r[t];e.push(n.content.serialize());var i={};n.scale&&(i["font-scale"]=n.scale.serialize()),n.font&&(i["text-font"]=n.font.serialize()),n.textColor&&(i["text-color"]=n.textColor.serialize()),e.push(i)}return e};var ht=function(e){this.type=Ge,this.input=e};ht.parse=function(e,t){if(2!==e.length)return t.error("Expected two arguments.");var r=t.parse(e[1],1,Ke);return r?new ht(r):t.error("No image name provided.")},ht.prototype.evaluate=function(e){var t=this.input.evaluate(e),r=it.fromString(t);return r&&e.availableImages&&(r.available=e.availableImages.indexOf(t)>-1),r},ht.prototype.eachChild=function(e){e(this.input)},ht.prototype.outputDefined=function(){return!1},ht.prototype.serialize=function(){return["image",this.input.serialize()]};var ft={"to-boolean":je,"to-color":ze,"to-number":We,"to-string":Ke},mt=function(e,t){this.type=e,this.args=t};mt.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r=e[0];if(("to-boolean"===r||"to-string"===r)&&2!==e.length)return t.error("Expected one argument.");for(var n=ft[r],i=[],o=1;o<e.length;o++){var a=t.parse(e[o],o,qe);if(!a)return null;i.push(a)}return new mt(n,i)},mt.prototype.evaluate=function(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){for(var t,r,n=0,i=this.args;n<i.length;n+=1){if(r=null,(t=i[n].evaluate(e))instanceof et)return t;if("string"==typeof t){var o=e.parseColor(t);if(o)return o}else if(Array.isArray(t)&&!(r=t.length<3||t.length>4?"Invalid rbga value "+JSON.stringify(t)+": expected an array containing either three or four numeric values.":ot(t[0],t[1],t[2],t[3])))return new et(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new ut(r||"Could not parse color from value '"+("string"==typeof t?t:String(JSON.stringify(t)))+"'")}if("number"===this.type.kind){for(var a=null,s=0,l=this.args;s<l.length;s+=1){if(null===(a=l[s].evaluate(e)))return 0;var _=Number(a);if(!isNaN(_))return _}throw new ut("Could not convert "+JSON.stringify(a)+" to number.")}return"formatted"===this.type.kind?nt.fromString(lt(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?it.fromString(lt(this.args[0].evaluate(e))):lt(this.args[0].evaluate(e))},mt.prototype.eachChild=function(e){this.args.forEach(e)},mt.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},mt.prototype.serialize=function(){if("formatted"===this.type.kind)return new dt([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new ht(this.args[0]).serialize();var e=["to-"+this.type.kind];return this.eachChild((function(t){e.push(t.serialize())})),e};var yt=["Unknown","Point","LineString","Polygon"],gt=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};gt.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},gt.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?yt[this.feature.type]:this.feature.type:null},gt.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},gt.prototype.canonicalID=function(){return this.canonical},gt.prototype.properties=function(){return this.feature&&this.feature.properties||{}},gt.prototype.parseColor=function(e){var t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=et.parse(e)),t};var bt=function(e,t,r,n){this.name=e,this.type=t,this._evaluate=r,this.args=n};bt.prototype.evaluate=function(e){return this._evaluate(e,this.args)},bt.prototype.eachChild=function(e){this.args.forEach(e)},bt.prototype.outputDefined=function(){return!1},bt.prototype.serialize=function(){return[this.name].concat(this.args.map((function(e){return e.serialize()})))},bt.parse=function(e,t){var r,n=e[0],i=bt.definitions[n];if(!i)return t.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0);for(var o=Array.isArray(i)?i[0]:i.type,a=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=a.filter((function(t){var r=t[0];return!Array.isArray(r)||r.length===e.length-1})),l=null,_=0,u=s;_<u.length;_+=1){var c=u[_],p=c[0],d=c[1];l=new zt(t.registry,t.path,null,t.scope);for(var h=[],f=!1,m=1;m<e.length;m++){var y=e[m],g=Array.isArray(p)?p[m-1]:p.type,b=l.parse(y,1+h.length,g);if(!b){f=!0;break}h.push(b)}if(!f)if(Array.isArray(p)&&p.length!==h.length)l.error("Expected "+p.length+" arguments, but found "+h.length+" instead.");else{for(var v=0;v<h.length;v++){var E=Array.isArray(p)?p[v]:p.type,O=h[v];l.concat(v+1).checkSubtype(E,O.type)}if(0===l.errors.length)return new bt(n,o,d,h)}}if(1===s.length)(r=t.errors).push.apply(r,l.errors);else{for(var M=(s.length?s:a).map((function(e){var t;return t=e[0],Array.isArray(t)?"("+t.map(Ze).join(", ")+")":"("+Ze(t.type)+"...)"})).join(" | "),P=[],x=1;x<e.length;x++){var w=t.parse(e[x],1+P.length);if(!w)return null;P.push(Ze(w.type))}t.error("Expected arguments of type "+M+", but found ("+P.join(", ")+") instead.")}return null},bt.register=function(e,t){for(var r in bt.definitions=t,t)e[r]=bt};var vt=function(e,t,r){this.type=Ne,this.locale=r,this.caseSensitive=e,this.diacriticSensitive=t};function Et(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function Ot(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function Mt(e,t){var r=(180+e[0])/360,n=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,i=Math.pow(2,t.z);return[Math.round(r*i*8192),Math.round(n*i*8192)]}function Pt(e,t,r){return t[1]>e[1]!=r[1]>e[1]&&e[0]<(r[0]-t[0])*(e[1]-t[1])/(r[1]-t[1])+t[0]}function xt(e,t){for(var r,n,i,o,a,s,l,_=!1,u=0,c=t.length;u<c;u++)for(var p=t[u],d=0,h=p.length;d<h-1;d++){if((o=(r=e)[0]-(n=p[d])[0])*(l=r[1]-(i=p[d+1])[1])-(s=r[0]-i[0])*(a=r[1]-n[1])==0&&o*s<=0&&a*l<=0)return!1;Pt(e,p[d],p[d+1])&&(_=!_)}return _}function wt(e,t){for(var r=0;r<t.length;r++)if(xt(e,t[r]))return!0;return!1}function Ct(e,t,r,n){var i=n[0]-r[0],o=n[1]-r[1],a=(e[0]-r[0])*o-i*(e[1]-r[1]),s=(t[0]-r[0])*o-i*(t[1]-r[1]);return a>0&&s<0||a<0&&s>0}function Dt(e,t,r){for(var n=0,i=r;n<i.length;n+=1)for(var o=i[n],a=0;a<o.length-1;++a)if(0!=(c=[(u=o[a+1])[0]-(_=o[a])[0],u[1]-_[1]])[0]*(p=[(l=t)[0]-(s=e)[0],l[1]-s[1]])[1]-c[1]*p[0]&&Ct(s,l,_,u)&&Ct(_,u,s,l))return!0;var s,l,_,u,c,p;return!1}function Tt(e,t){for(var r=0;r<e.length;++r)if(!xt(e[r],t))return!1;for(var n=0;n<e.length-1;++n)if(Dt(e[n],e[n+1],t))return!1;return!0}function kt(e,t){for(var r=0;r<t.length;r++)if(Tt(e,t[r]))return!0;return!1}function At(e,t,r){for(var n=[],i=0;i<e.length;i++){for(var o=[],a=0;a<e[i].length;a++){var s=Mt(e[i][a],r);Et(t,s),o.push(s)}n.push(o)}return n}function It(e,t,r){for(var n=[],i=0;i<e.length;i++){var o=At(e[i],t,r);n.push(o)}return n}function Lt(e,t,r,n){if(e[0]<r[0]||e[0]>r[2]){var i=.5*n,o=e[0]-r[0]>i?-n:r[0]-e[0]>i?n:0;0===o&&(o=e[0]-r[2]>i?-n:r[2]-e[0]>i?n:0),e[0]+=o}Et(t,e)}function Rt(e,t,r,n){for(var i=8192*Math.pow(2,n.z),o=[8192*n.x,8192*n.y],a=[],s=0,l=e;s<l.length;s+=1)for(var _=0,u=l[s];_<u.length;_+=1){var c=u[_],p=[c.x+o[0],c.y+o[1]];Lt(p,t,r,i),a.push(p)}return a}function St(e,t,r,n){for(var i,o=8192*Math.pow(2,n.z),a=[8192*n.x,8192*n.y],s=[],l=0,_=e;l<_.length;l+=1){for(var u=[],c=0,p=_[l];c<p.length;c+=1){var d=p[c],h=[d.x+a[0],d.y+a[1]];Et(t,h),u.push(h)}s.push(u)}if(t[2]-t[0]<=o/2){(i=t)[0]=i[1]=1/0,i[2]=i[3]=-1/0;for(var f=0,m=s;f<m.length;f+=1)for(var y=0,g=m[f];y<g.length;y+=1)Lt(g[y],t,r,o)}return s}vt.parse=function(e,t){if(2!==e.length)return t.error("Expected one argument.");var r=e[1];if("object"!=typeof r||Array.isArray(r))return t.error("Collator options argument must be an object.");var n=t.parse(void 0!==r["case-sensitive"]&&r["case-sensitive"],1,je);if(!n)return null;var i=t.parse(void 0!==r["diacritic-sensitive"]&&r["diacritic-sensitive"],1,je);if(!i)return null;var o=null;return r.locale&&!(o=t.parse(r.locale,1,Ke))?null:new vt(n,i,o)},vt.prototype.evaluate=function(e){return new tt(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)},vt.prototype.eachChild=function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)},vt.prototype.outputDefined=function(){return!1},vt.prototype.serialize=function(){var e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]};var Bt=function(e,t){this.type=je,this.geojson=e,this.geometries=t};function Ut(e){if(e instanceof bt){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof Bt)return!1;var t=!0;return e.eachChild((function(e){t&&!Ut(e)&&(t=!1)})),t}function Wt(e){if(e instanceof bt&&"feature-state"===e.name)return!1;var t=!0;return e.eachChild((function(e){t&&!Wt(e)&&(t=!1)})),t}function Kt(e,t){if(e instanceof bt&&t.indexOf(e.name)>=0)return!1;var r=!0;return e.eachChild((function(e){r&&!Kt(e,t)&&(r=!1)})),r}Bt.parse=function(e,t){if(2!==e.length)return t.error("'within' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(at(e[1])){var r=e[1];if("FeatureCollection"===r.type)for(var n=0;n<r.features.length;++n){var i=r.features[n].geometry.type;if("Polygon"===i||"MultiPolygon"===i)return new Bt(r,r.features[n].geometry)}else if("Feature"===r.type){var o=r.geometry.type;if("Polygon"===o||"MultiPolygon"===o)return new Bt(r,r.geometry)}else if("Polygon"===r.type||"MultiPolygon"===r.type)return new Bt(r,r)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Bt.prototype.evaluate=function(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){var r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){var o=At(t.coordinates,n,i),a=Rt(e.geometry(),r,n,i);if(!Ot(r,n))return!1;for(var s=0,l=a;s<l.length;s+=1)if(!xt(l[s],o))return!1}if("MultiPolygon"===t.type){var _=It(t.coordinates,n,i),u=Rt(e.geometry(),r,n,i);if(!Ot(r,n))return!1;for(var c=0,p=u;c<p.length;c+=1)if(!wt(p[c],_))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){var r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){var o=At(t.coordinates,n,i),a=St(e.geometry(),r,n,i);if(!Ot(r,n))return!1;for(var s=0,l=a;s<l.length;s+=1)if(!Tt(l[s],o))return!1}if("MultiPolygon"===t.type){var _=It(t.coordinates,n,i),u=St(e.geometry(),r,n,i);if(!Ot(r,n))return!1;for(var c=0,p=u;c<p.length;c+=1)if(!kt(p[c],_))return!1}return!0}(e,this.geometries)}return!1},Bt.prototype.eachChild=function(){},Bt.prototype.outputDefined=function(){return!0},Bt.prototype.serialize=function(){return["within",this.geojson]};var jt=function(e,t){this.type=t.type,this.name=e,this.boundExpression=t};jt.parse=function(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");var r=e[1];return t.scope.has(r)?new jt(r,t.scope.get(r)):t.error('Unknown variable "'+r+'". Make sure "'+r+'" has been bound in an enclosing "let" expression before using it.',1)},jt.prototype.evaluate=function(e){return this.boundExpression.evaluate(e)},jt.prototype.eachChild=function(){},jt.prototype.outputDefined=function(){return!1},jt.prototype.serialize=function(){return["var",this.name]};var zt=function(e,t,r,n,i){void 0===t&&(t=[]),void 0===n&&(n=new Be),void 0===i&&(i=[]),this.registry=e,this.path=t,this.key=t.map((function(e){return"["+e+"]"})).join(""),this.scope=n,this.errors=i,this.expectedType=r};function Ft(e,t){for(var r,n=e.length-1,i=0,o=n,a=0;i<=o;)if((r=e[a=Math.floor((i+o)/2)])<=t){if(a===n||t<e[a+1])return a;i=a+1}else{if(!(r>t))throw new ut("Input is not a number.");o=a-1}return 0}zt.prototype.parse=function(e,t,r,n,i){return void 0===i&&(i={}),t?this.concat(t,r,n)._parse(e,i):this._parse(e,i)},zt.prototype._parse=function(e,t){function r(e,t,r){return"assert"===r?new pt(t,[e]):"coerce"===r?new mt(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var n=e[0];if("string"!=typeof n)return this.error("Expression name must be a string, but found "+typeof n+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var i=this.registry[n];if(i){var o=i.parse(e,this);if(!o)return null;if(this.expectedType){var a=this.expectedType,s=o.type;if("string"!==a.kind&&"number"!==a.kind&&"boolean"!==a.kind&&"object"!==a.kind&&"array"!==a.kind||"value"!==s.kind)if("color"!==a.kind&&"formatted"!==a.kind&&"resolvedImage"!==a.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(a,s))return null}else o=r(o,a,t.typeAnnotation||"coerce");else o=r(o,a,t.typeAnnotation||"assert")}if(!(o instanceof _t)&&"resolvedImage"!==o.type.kind&&function e(t){if(t instanceof jt)return e(t.boundExpression);if(t instanceof bt&&"error"===t.name)return!1;if(t instanceof vt)return!1;if(t instanceof Bt)return!1;var r=t instanceof mt||t instanceof pt,n=!0;return t.eachChild((function(t){n=r?n&&e(t):n&&t instanceof _t})),!!n&&Ut(t)&&Kt(t,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(o)){var l=new gt;try{o=new _t(o.type,o.evaluate(l))}catch(e){return this.error(e.message),null}}return o}return this.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof e+" instead.")},zt.prototype.concat=function(e,t,r){var n="number"==typeof e?this.path.concat(e):this.path,i=r?this.scope.concat(r):this.scope;return new zt(this.registry,n,t||null,i,this.errors)},zt.prototype.error=function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];var n=""+this.key+t.map((function(e){return"["+e+"]"})).join("");this.errors.push(new Se(n,e))},zt.prototype.checkSubtype=function(e,t){var r=$e(e,t);return r&&this.error(r),r};var qt=function(e,t,r){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(var n=0,i=r;n<i.length;n+=1){var o=i[n],a=o[1];this.labels.push(o[0]),this.outputs.push(a)}};function Nt(e,t,r){return e*(1-r)+t*r}qt.parse=function(e,t){if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");var r=t.parse(e[1],1,We);if(!r)return null;var n=[],i=null;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);for(var o=1;o<e.length;o+=2){var a=1===o?-1/0:e[o],s=e[o+1],l=o,_=o+1;if("number"!=typeof a)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',l);if(n.length&&n[n.length-1][0]>=a)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',l);var u=t.parse(s,_,i);if(!u)return null;i=i||u.type,n.push([a,u])}return new qt(i,r,n)},qt.prototype.evaluate=function(e){var t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);var n=this.input.evaluate(e);if(n<=t[0])return r[0].evaluate(e);var i=t.length;return n>=t[i-1]?r[i-1].evaluate(e):r[Ft(t,n)].evaluate(e)},qt.prototype.eachChild=function(e){e(this.input);for(var t=0,r=this.outputs;t<r.length;t+=1)e(r[t])},qt.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))},qt.prototype.serialize=function(){for(var e=["step",this.input.serialize()],t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e};var Ht=Object.freeze({__proto__:null,number:Nt,color:function(e,t,r){return new et(Nt(e.r,t.r,r),Nt(e.g,t.g,r),Nt(e.b,t.b,r),Nt(e.a,t.a,r))},array:function(e,t,r){return e.map((function(e,n){return Nt(e,t[n],r)}))}}),Gt=6/29*3*(6/29),Vt=Math.PI/180,Zt=180/Math.PI;function Xt(e){return e>.008856451679035631?Math.pow(e,1/3):e/Gt+4/29}function $t(e){return e>6/29?e*e*e:Gt*(e-4/29)}function Yt(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Jt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Qt(e){var t=Jt(e.r),r=Jt(e.g),n=Jt(e.b),i=Xt((.4124564*t+.3575761*r+.1804375*n)/.95047),o=Xt((.2126729*t+.7151522*r+.072175*n)/1);return{l:116*o-16,a:500*(i-o),b:200*(o-Xt((.0193339*t+.119192*r+.9503041*n)/1.08883)),alpha:e.a}}function er(e){var t=(e.l+16)/116,r=isNaN(e.a)?t:t+e.a/500,n=isNaN(e.b)?t:t-e.b/200;return t=1*$t(t),r=.95047*$t(r),n=1.08883*$t(n),new et(Yt(3.2404542*r-1.5371385*t-.4985314*n),Yt(-.969266*r+1.8760108*t+.041556*n),Yt(.0556434*r-.2040259*t+1.0572252*n),e.alpha)}function tr(e,t,r){var n=t-e;return e+r*(n>180||n<-180?n-360*Math.round(n/360):n)}var rr={forward:Qt,reverse:er,interpolate:function(e,t,r){return{l:Nt(e.l,t.l,r),a:Nt(e.a,t.a,r),b:Nt(e.b,t.b,r),alpha:Nt(e.alpha,t.alpha,r)}}},nr={forward:function(e){var t=Qt(e),r=t.l,n=t.a,i=t.b,o=Math.atan2(i,n)*Zt;return{h:o<0?o+360:o,c:Math.sqrt(n*n+i*i),l:r,alpha:e.a}},reverse:function(e){var t=e.h*Vt,r=e.c;return er({l:e.l,a:Math.cos(t)*r,b:Math.sin(t)*r,alpha:e.alpha})},interpolate:function(e,t,r){return{h:tr(e.h,t.h,r),c:Nt(e.c,t.c,r),l:Nt(e.l,t.l,r),alpha:Nt(e.alpha,t.alpha,r)}}},ir=Object.freeze({__proto__:null,lab:rr,hcl:nr}),or=function(e,t,r,n,i){this.type=e,this.operator=t,this.interpolation=r,this.input=n,this.labels=[],this.outputs=[];for(var o=0,a=i;o<a.length;o+=1){var s=a[o],l=s[1];this.labels.push(s[0]),this.outputs.push(l)}};function ar(e,t,r,n){var i=n-r,o=e-r;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}or.interpolationFactor=function(e,t,n,i){var o=0;if("exponential"===e.name)o=ar(t,e.base,n,i);else if("linear"===e.name)o=ar(t,1,n,i);else if("cubic-bezier"===e.name){var a=e.controlPoints;o=new r(a[0],a[1],a[2],a[3]).solve(ar(t,1,n,i))}return o},or.parse=function(e,t){var r=e[0],n=e[1],i=e[2],o=e.slice(3);if(!Array.isArray(n)||0===n.length)return t.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){var a=n[1];if("number"!=typeof a)return t.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:a}}else{if("cubic-bezier"!==n[0])return t.error("Unknown interpolation type "+String(n[0]),1,0);var s=n.slice(1);if(4!==s.length||s.some((function(e){return"number"!=typeof e||e<0||e>1})))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:s}}if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(i=t.parse(i,2,We)))return null;var l=[],_=null;"interpolate-hcl"===r||"interpolate-lab"===r?_=ze:t.expectedType&&"value"!==t.expectedType.kind&&(_=t.expectedType);for(var u=0;u<o.length;u+=2){var c=o[u],p=o[u+1],d=u+3,h=u+4;if("number"!=typeof c)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',d);if(l.length&&l[l.length-1][0]>=c)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',d);var f=t.parse(p,h,_);if(!f)return null;_=_||f.type,l.push([c,f])}return"number"===_.kind||"color"===_.kind||"array"===_.kind&&"number"===_.itemType.kind&&"number"==typeof _.N?new or(_,r,n,i,l):t.error("Type "+Ze(_)+" is not interpolatable.")},or.prototype.evaluate=function(e){var t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);var n=this.input.evaluate(e);if(n<=t[0])return r[0].evaluate(e);var i=t.length;if(n>=t[i-1])return r[i-1].evaluate(e);var o=Ft(t,n),a=or.interpolationFactor(this.interpolation,n,t[o],t[o+1]),s=r[o].evaluate(e),l=r[o+1].evaluate(e);return"interpolate"===this.operator?Ht[this.type.kind.toLowerCase()](s,l,a):"interpolate-hcl"===this.operator?nr.reverse(nr.interpolate(nr.forward(s),nr.forward(l),a)):rr.reverse(rr.interpolate(rr.forward(s),rr.forward(l),a))},or.prototype.eachChild=function(e){e(this.input);for(var t=0,r=this.outputs;t<r.length;t+=1)e(r[t])},or.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))},or.prototype.serialize=function(){var e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var t=[this.operator,e,this.input.serialize()],r=0;r<this.labels.length;r++)t.push(this.labels[r],this.outputs[r].serialize());return t};var sr=function(e,t){this.type=e,this.args=t};sr.parse=function(e,t){if(e.length<2)return t.error("Expectected at least one argument.");var r=null,n=t.expectedType;n&&"value"!==n.kind&&(r=n);for(var i=[],o=0,a=e.slice(1);o<a.length;o+=1){var s=t.parse(a[o],1+i.length,r,void 0,{typeAnnotation:"omit"});if(!s)return null;r=r||s.type,i.push(s)}var l=n&&i.some((function(e){return $e(n,e.type)}));return new sr(l?qe:r,i)},sr.prototype.evaluate=function(e){for(var t,r=null,n=0,i=0,o=this.args;i<o.length&&(n++,(r=o[i].evaluate(e))&&r instanceof it&&!r.available&&(t||(t=r.name),r=null,n===this.args.length&&(r=t)),null===r);i+=1);return r},sr.prototype.eachChild=function(e){this.args.forEach(e)},sr.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},sr.prototype.serialize=function(){var e=["coalesce"];return this.eachChild((function(t){e.push(t.serialize())})),e};var lr=function(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t};lr.prototype.evaluate=function(e){return this.result.evaluate(e)},lr.prototype.eachChild=function(e){for(var t=0,r=this.bindings;t<r.length;t+=1)e(r[t][1]);e(this.result)},lr.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found "+(e.length-1)+" instead.");for(var r=[],n=1;n<e.length-1;n+=2){var i=e[n];if("string"!=typeof i)return t.error("Expected string, but found "+typeof i+" instead.",n);if(/[^a-zA-Z0-9_]/.test(i))return t.error("Variable names must contain only alphanumeric characters or '_'.",n);var o=t.parse(e[n+1],n+1);if(!o)return null;r.push([i,o])}var a=t.parse(e[e.length-1],e.length-1,t.expectedType,r);return a?new lr(r,a):null},lr.prototype.outputDefined=function(){return this.result.outputDefined()},lr.prototype.serialize=function(){for(var e=["let"],t=0,r=this.bindings;t<r.length;t+=1){var n=r[t];e.push(n[0],n[1].serialize())}return e.push(this.result.serialize()),e};var _r=function(e,t,r){this.type=e,this.index=t,this.input=r};_r.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,We),n=t.parse(e[2],2,Ve(t.expectedType||qe));return r&&n?new _r(n.type.itemType,r,n):null},_r.prototype.evaluate=function(e){var t=this.index.evaluate(e),r=this.input.evaluate(e);if(t<0)throw new ut("Array index out of bounds: "+t+" < 0.");if(t>=r.length)throw new ut("Array index out of bounds: "+t+" > "+(r.length-1)+".");if(t!==Math.floor(t))throw new ut("Array index must be an integer, but found "+t+" instead.");return r[t]},_r.prototype.eachChild=function(e){e(this.index),e(this.input)},_r.prototype.outputDefined=function(){return!1},_r.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var ur=function(e,t){this.type=je,this.needle=e,this.haystack=t};ur.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,qe),n=t.parse(e[2],2,qe);return r&&n?Ye(r.type,[je,Ke,We,Ue,qe])?new ur(r,n):t.error("Expected first argument to be of type boolean, string, number or null, but found "+Ze(r.type)+" instead"):null},ur.prototype.evaluate=function(e){var t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(!r)return!1;if(!Je(t,["boolean","string","number","null"]))throw new ut("Expected first argument to be of type boolean, string, number or null, but found "+Ze(st(t))+" instead.");if(!Je(r,["string","array"]))throw new ut("Expected second argument to be of type array or string, but found "+Ze(st(r))+" instead.");return r.indexOf(t)>=0},ur.prototype.eachChild=function(e){e(this.needle),e(this.haystack)},ur.prototype.outputDefined=function(){return!0},ur.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var cr=function(e,t,r){this.type=We,this.needle=e,this.haystack=t,this.fromIndex=r};cr.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,qe),n=t.parse(e[2],2,qe);if(!r||!n)return null;if(!Ye(r.type,[je,Ke,We,Ue,qe]))return t.error("Expected first argument to be of type boolean, string, number or null, but found "+Ze(r.type)+" instead");if(4===e.length){var i=t.parse(e[3],3,We);return i?new cr(r,n,i):null}return new cr(r,n)},cr.prototype.evaluate=function(e){var t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(!Je(t,["boolean","string","number","null"]))throw new ut("Expected first argument to be of type boolean, string, number or null, but found "+Ze(st(t))+" instead.");if(!Je(r,["string","array"]))throw new ut("Expected second argument to be of type array or string, but found "+Ze(st(r))+" instead.");if(this.fromIndex){var n=this.fromIndex.evaluate(e);return r.indexOf(t,n)}return r.indexOf(t)},cr.prototype.eachChild=function(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)},cr.prototype.outputDefined=function(){return!1},cr.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var pr=function(e,t,r,n,i,o){this.inputType=e,this.type=t,this.input=r,this.cases=n,this.outputs=i,this.otherwise=o};pr.parse=function(e,t){if(e.length<5)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if(e.length%2!=1)return t.error("Expected an even number of arguments.");var r,n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);for(var i={},o=[],a=2;a<e.length-1;a+=2){var s=e[a],l=e[a+1];Array.isArray(s)||(s=[s]);var _=t.concat(a);if(0===s.length)return _.error("Expected at least one branch label.");for(var u=0,c=s;u<c.length;u+=1){var p=c[u];if("number"!=typeof p&&"string"!=typeof p)return _.error("Branch labels must be numbers or strings.");if("number"==typeof p&&Math.abs(p)>Number.MAX_SAFE_INTEGER)return _.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof p&&Math.floor(p)!==p)return _.error("Numeric branch labels must be integer values.");if(r){if(_.checkSubtype(r,st(p)))return null}else r=st(p);if(void 0!==i[String(p)])return _.error("Branch labels must be unique.");i[String(p)]=o.length}var d=t.parse(l,a,n);if(!d)return null;n=n||d.type,o.push(d)}var h=t.parse(e[1],1,qe);if(!h)return null;var f=t.parse(e[e.length-1],e.length-1,n);return f?"value"!==h.type.kind&&t.concat(1).checkSubtype(r,h.type)?null:new pr(r,n,h,i,o,f):null},pr.prototype.evaluate=function(e){var t=this.input.evaluate(e);return(st(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)},pr.prototype.eachChild=function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)},pr.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))&&this.otherwise.outputDefined()},pr.prototype.serialize=function(){for(var e=this,t=["match",this.input.serialize()],r=[],n={},i=0,o=Object.keys(this.cases).sort();i<o.length;i+=1){var a=o[i];void 0===(c=n[this.cases[a]])?(n[this.cases[a]]=r.length,r.push([this.cases[a],[a]])):r[c][1].push(a)}for(var s=function(t){return"number"===e.inputType.kind?Number(t):t},l=0,_=r;l<_.length;l+=1){var u=_[l],c=u[0],p=u[1];t.push(1===p.length?s(p[0]):p.map(s)),t.push(this.outputs[outputIndex$1].serialize())}return t.push(this.otherwise.serialize()),t};var dr=function(e,t,r){this.type=e,this.branches=t,this.otherwise=r};dr.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found only "+(e.length-1)+".");if(e.length%2!=0)return t.error("Expected an odd number of arguments.");var r;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(var n=[],i=1;i<e.length-1;i+=2){var o=t.parse(e[i],i,je);if(!o)return null;var a=t.parse(e[i+1],i+1,r);if(!a)return null;n.push([o,a]),r=r||a.type}var s=t.parse(e[e.length-1],e.length-1,r);return s?new dr(r,n,s):null},dr.prototype.evaluate=function(e){for(var t=0,r=this.branches;t<r.length;t+=1){var n=r[t],i=n[1];if(n[0].evaluate(e))return i.evaluate(e)}return this.otherwise.evaluate(e)},dr.prototype.eachChild=function(e){for(var t=0,r=this.branches;t<r.length;t+=1){var n=r[t],i=n[1];e(n[0]),e(i)}e(this.otherwise)},dr.prototype.outputDefined=function(){return this.branches.every((function(e){return e[1].outputDefined()}))&&this.otherwise.outputDefined()},dr.prototype.serialize=function(){var e=["case"];return this.eachChild((function(t){e.push(t.serialize())})),e};var hr=function(e,t,r,n){this.type=e,this.input=t,this.beginIndex=r,this.endIndex=n};function fr(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function mr(e,t,r,n){return 0===n.compare(t,r)}function yr(e,t,r){var n="=="!==e&&"!="!==e;return function(){function i(e,t,r){this.type=je,this.lhs=e,this.rhs=t,this.collator=r,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}return i.parse=function(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");var r=e[0],o=t.parse(e[1],1,qe);if(!o)return null;if(!fr(r,o.type))return t.concat(1).error('"'+r+"\" comparisons are not supported for type '"+Ze(o.type)+"'.");var a=t.parse(e[2],2,qe);if(!a)return null;if(!fr(r,a.type))return t.concat(2).error('"'+r+"\" comparisons are not supported for type '"+Ze(a.type)+"'.");if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error("Cannot compare types '"+Ze(o.type)+"' and '"+Ze(a.type)+"'.");n&&("value"===o.type.kind&&"value"!==a.type.kind?o=new pt(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new pt(o.type,[a])));var s=null;if(4===e.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(!(s=t.parse(e[3],3,Ne)))return null}return new i(o,a,s)},i.prototype.evaluate=function(i){var o=this.lhs.evaluate(i),a=this.rhs.evaluate(i);if(n&&this.hasUntypedArgument){var s=st(o),l=st(a);if(s.kind!==l.kind||"string"!==s.kind&&"number"!==s.kind)throw new ut('Expected arguments for "'+e+'" to be (string, string) or (number, number), but found ('+s.kind+", "+l.kind+") instead.")}if(this.collator&&!n&&this.hasUntypedArgument){var _=st(o),u=st(a);if("string"!==_.kind||"string"!==u.kind)return t(i,o,a)}return this.collator?r(i,o,a,this.collator.evaluate(i)):t(i,o,a)},i.prototype.eachChild=function(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)},i.prototype.outputDefined=function(){return!0},i.prototype.serialize=function(){var t=[e];return this.eachChild((function(e){t.push(e.serialize())})),t},i}()}hr.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,qe),n=t.parse(e[2],2,We);if(!r||!n)return null;if(!Ye(r.type,[Ve(qe),Ke,qe]))return t.error("Expected first argument to be of type array or string, but found "+Ze(r.type)+" instead");if(4===e.length){var i=t.parse(e[3],3,We);return i?new hr(r.type,r,n,i):null}return new hr(r.type,r,n)},hr.prototype.evaluate=function(e){var t=this.input.evaluate(e),r=this.beginIndex.evaluate(e);if(!Je(t,["string","array"]))throw new ut("Expected first argument to be of type array or string, but found "+Ze(st(t))+" instead.");if(this.endIndex){var n=this.endIndex.evaluate(e);return t.slice(r,n)}return t.slice(r)},hr.prototype.eachChild=function(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)},hr.prototype.outputDefined=function(){return!1},hr.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var gr=yr("==",(function(e,t,r){return t===r}),mr),br=yr("!=",(function(e,t,r){return t!==r}),(function(e,t,r,n){return!mr(0,t,r,n)})),vr=yr("<",(function(e,t,r){return t<r}),(function(e,t,r,n){return n.compare(t,r)<0})),Er=yr(">",(function(e,t,r){return t>r}),(function(e,t,r,n){return n.compare(t,r)>0})),Or=yr("<=",(function(e,t,r){return t<=r}),(function(e,t,r,n){return n.compare(t,r)<=0})),Mr=yr(">=",(function(e,t,r){return t>=r}),(function(e,t,r,n){return n.compare(t,r)>=0})),Pr=function(e,t,r,n,i){this.type=Ke,this.number=e,this.locale=t,this.currency=r,this.minFractionDigits=n,this.maxFractionDigits=i};Pr.parse=function(e,t){if(3!==e.length)return t.error("Expected two arguments.");var r=t.parse(e[1],1,We);if(!r)return null;var n=e[2];if("object"!=typeof n||Array.isArray(n))return t.error("NumberFormat options argument must be an object.");var i=null;if(n.locale&&!(i=t.parse(n.locale,1,Ke)))return null;var o=null;if(n.currency&&!(o=t.parse(n.currency,1,Ke)))return null;var a=null;if(n["min-fraction-digits"]&&!(a=t.parse(n["min-fraction-digits"],1,We)))return null;var s=null;return n["max-fraction-digits"]&&!(s=t.parse(n["max-fraction-digits"],1,We))?null:new Pr(r,i,o,a,s)},Pr.prototype.evaluate=function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))},Pr.prototype.eachChild=function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)},Pr.prototype.outputDefined=function(){return!1},Pr.prototype.serialize=function(){var e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]};var xr=function(e){this.type=We,this.input=e};xr.parse=function(e,t){if(2!==e.length)return t.error("Expected 1 argument, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1);return r?"array"!==r.type.kind&&"string"!==r.type.kind&&"value"!==r.type.kind?t.error("Expected argument of type string or array, but found "+Ze(r.type)+" instead."):new xr(r):null},xr.prototype.evaluate=function(e){var t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new ut("Expected value to be of type string or array, but found "+Ze(st(t))+" instead.")},xr.prototype.eachChild=function(e){e(this.input)},xr.prototype.outputDefined=function(){return!1},xr.prototype.serialize=function(){var e=["length"];return this.eachChild((function(t){e.push(t.serialize())})),e};var wr={"==":gr,"!=":br,">":Er,"<":vr,">=":Mr,"<=":Or,array:pt,at:_r,boolean:pt,case:dr,coalesce:sr,collator:vt,format:dt,image:ht,in:ur,"index-of":cr,interpolate:or,"interpolate-hcl":or,"interpolate-lab":or,length:xr,let:lr,literal:_t,match:pr,number:pt,"number-format":Pr,object:pt,slice:hr,step:qt,string:pt,"to-boolean":mt,"to-color":mt,"to-number":mt,"to-string":mt,var:jt,within:Bt};function Cr(e,t){var r=t[0],n=t[1],i=t[2],o=t[3];r=r.evaluate(e),n=n.evaluate(e),i=i.evaluate(e);var a=o?o.evaluate(e):1,s=ot(r,n,i,a);if(s)throw new ut(s);return new et(r/255*a,n/255*a,i/255*a,a)}function Dr(e,t){return e in t}function Tr(e,t){var r=t[e];return void 0===r?null:r}function kr(e){return{type:e}}function Ar(e){return{result:"success",value:e}}function Ir(e){return{result:"error",value:e}}function Lr(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function Rr(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function Sr(e){return!!e.expression&&e.expression.interpolated}function Br(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function Ur(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function Wr(e){return e}function Kr(e,t,r){return void 0!==e?e:void 0!==t?t:void 0!==r?r:void 0}function jr(e,t,r,n,i){return Kr(typeof r===i?n[r]:void 0,e.default,t.default)}function zr(e,t,r){if("number"!==Br(r))return Kr(e.default,t.default);var n=e.stops.length;if(1===n)return e.stops[0][1];if(r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[n-1][0])return e.stops[n-1][1];var i=Ft(e.stops.map((function(e){return e[0]})),r);return e.stops[i][1]}function Fr(e,t,r){var n=void 0!==e.base?e.base:1;if("number"!==Br(r))return Kr(e.default,t.default);var i=e.stops.length;if(1===i)return e.stops[0][1];if(r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[i-1][0])return e.stops[i-1][1];var o=Ft(e.stops.map((function(e){return e[0]})),r),a=function(e,t,r,n){var i=n-r,o=e-r;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}(r,n,e.stops[o][0],e.stops[o+1][0]),s=e.stops[o][1],l=e.stops[o+1][1],_=Ht[t.type]||Wr;if(e.colorSpace&&"rgb"!==e.colorSpace){var u=ir[e.colorSpace];_=function(e,t){return u.reverse(u.interpolate(u.forward(e),u.forward(t),a))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=s.evaluate.apply(void 0,e),n=l.evaluate.apply(void 0,e);if(void 0!==r&&void 0!==n)return _(r,n,a)}}:_(s,l,a)}function qr(e,t,r){return"color"===t.type?r=et.parse(r):"formatted"===t.type?r=nt.fromString(r.toString()):"resolvedImage"===t.type?r=it.fromString(r.toString()):Br(r)===t.type||"enum"===t.type&&t.values[r]||(r=void 0),Kr(r,e.default,t.default)}bt.register(wr,{error:[{kind:"error"},[Ke],function(e,t){throw new ut(t[0].evaluate(e))}],typeof:[Ke,[qe],function(e,t){return Ze(st(t[0].evaluate(e)))}],"to-rgba":[Ve(We,4),[ze],function(e,t){return t[0].evaluate(e).toArray()}],rgb:[ze,[We,We,We],Cr],rgba:[ze,[We,We,We,We],Cr],has:{type:je,overloads:[[[Ke],function(e,t){return Dr(t[0].evaluate(e),e.properties())}],[[Ke,Fe],function(e,t){var r=t[1];return Dr(t[0].evaluate(e),r.evaluate(e))}]]},get:{type:qe,overloads:[[[Ke],function(e,t){return Tr(t[0].evaluate(e),e.properties())}],[[Ke,Fe],function(e,t){var r=t[1];return Tr(t[0].evaluate(e),r.evaluate(e))}]]},"feature-state":[qe,[Ke],function(e,t){return Tr(t[0].evaluate(e),e.featureState||{})}],properties:[Fe,[],function(e){return e.properties()}],"geometry-type":[Ke,[],function(e){return e.geometryType()}],id:[qe,[],function(e){return e.id()}],zoom:[We,[],function(e){return e.globals.zoom}],"heatmap-density":[We,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[We,[],function(e){return e.globals.lineProgress||0}],accumulated:[qe,[],function(e){return void 0===e.globals.accumulated?null:e.globals.accumulated}],"+":[We,kr(We),function(e,t){for(var r=0,n=0,i=t;n<i.length;n+=1)r+=i[n].evaluate(e);return r}],"*":[We,kr(We),function(e,t){for(var r=1,n=0,i=t;n<i.length;n+=1)r*=i[n].evaluate(e);return r}],"-":{type:We,overloads:[[[We,We],function(e,t){var r=t[1];return t[0].evaluate(e)-r.evaluate(e)}],[[We],function(e,t){return-t[0].evaluate(e)}]]},"/":[We,[We,We],function(e,t){var r=t[1];return t[0].evaluate(e)/r.evaluate(e)}],"%":[We,[We,We],function(e,t){var r=t[1];return t[0].evaluate(e)%r.evaluate(e)}],ln2:[We,[],function(){return Math.LN2}],pi:[We,[],function(){return Math.PI}],e:[We,[],function(){return Math.E}],"^":[We,[We,We],function(e,t){var r=t[1];return Math.pow(t[0].evaluate(e),r.evaluate(e))}],sqrt:[We,[We],function(e,t){return Math.sqrt(t[0].evaluate(e))}],log10:[We,[We],function(e,t){return Math.log(t[0].evaluate(e))/Math.LN10}],ln:[We,[We],function(e,t){return Math.log(t[0].evaluate(e))}],log2:[We,[We],function(e,t){return Math.log(t[0].evaluate(e))/Math.LN2}],sin:[We,[We],function(e,t){return Math.sin(t[0].evaluate(e))}],cos:[We,[We],function(e,t){return Math.cos(t[0].evaluate(e))}],tan:[We,[We],function(e,t){return Math.tan(t[0].evaluate(e))}],asin:[We,[We],function(e,t){return Math.asin(t[0].evaluate(e))}],acos:[We,[We],function(e,t){return Math.acos(t[0].evaluate(e))}],atan:[We,[We],function(e,t){return Math.atan(t[0].evaluate(e))}],min:[We,kr(We),function(e,t){return Math.min.apply(Math,t.map((function(t){return t.evaluate(e)})))}],max:[We,kr(We),function(e,t){return Math.max.apply(Math,t.map((function(t){return t.evaluate(e)})))}],abs:[We,[We],function(e,t){return Math.abs(t[0].evaluate(e))}],round:[We,[We],function(e,t){var r=t[0].evaluate(e);return r<0?-Math.round(-r):Math.round(r)}],floor:[We,[We],function(e,t){return Math.floor(t[0].evaluate(e))}],ceil:[We,[We],function(e,t){return Math.ceil(t[0].evaluate(e))}],"filter-==":[je,[Ke,qe],function(e,t){var r=t[0],n=t[1];return e.properties()[r.value]===n.value}],"filter-id-==":[je,[qe],function(e,t){var r=t[0];return e.id()===r.value}],"filter-type-==":[je,[Ke],function(e,t){var r=t[0];return e.geometryType()===r.value}],"filter-<":[je,[Ke,qe],function(e,t){var r=t[0],n=t[1],i=e.properties()[r.value],o=n.value;return typeof i==typeof o&&i<o}],"filter-id-<":[je,[qe],function(e,t){var r=t[0],n=e.id(),i=r.value;return typeof n==typeof i&&n<i}],"filter->":[je,[Ke,qe],function(e,t){var r=t[0],n=t[1],i=e.properties()[r.value],o=n.value;return typeof i==typeof o&&i>o}],"filter-id->":[je,[qe],function(e,t){var r=t[0],n=e.id(),i=r.value;return typeof n==typeof i&&n>i}],"filter-<=":[je,[Ke,qe],function(e,t){var r=t[0],n=t[1],i=e.properties()[r.value],o=n.value;return typeof i==typeof o&&i<=o}],"filter-id-<=":[je,[qe],function(e,t){var r=t[0],n=e.id(),i=r.value;return typeof n==typeof i&&n<=i}],"filter->=":[je,[Ke,qe],function(e,t){var r=t[0],n=t[1],i=e.properties()[r.value],o=n.value;return typeof i==typeof o&&i>=o}],"filter-id->=":[je,[qe],function(e,t){var r=t[0],n=e.id(),i=r.value;return typeof n==typeof i&&n>=i}],"filter-has":[je,[qe],function(e,t){return t[0].value in e.properties()}],"filter-has-id":[je,[],function(e){return null!==e.id()&&void 0!==e.id()}],"filter-type-in":[je,[Ve(Ke)],function(e,t){return t[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[je,[Ve(qe)],function(e,t){return t[0].value.indexOf(e.id())>=0}],"filter-in-small":[je,[Ke,Ve(qe)],function(e,t){var r=t[0];return t[1].value.indexOf(e.properties()[r.value])>=0}],"filter-in-large":[je,[Ke,Ve(qe)],function(e,t){var r=t[0],n=t[1];return function(e,t,r,n){for(;r<=n;){var i=r+n>>1;if(t[i]===e)return!0;t[i]>e?n=i-1:r=i+1}return!1}(e.properties()[r.value],n.value,0,n.value.length-1)}],all:{type:je,overloads:[[[je,je],function(e,t){var r=t[1];return t[0].evaluate(e)&&r.evaluate(e)}],[kr(je),function(e,t){for(var r=0,n=t;r<n.length;r+=1)if(!n[r].evaluate(e))return!1;return!0}]]},any:{type:je,overloads:[[[je,je],function(e,t){var r=t[1];return t[0].evaluate(e)||r.evaluate(e)}],[kr(je),function(e,t){for(var r=0,n=t;r<n.length;r+=1)if(n[r].evaluate(e))return!0;return!1}]]},"!":[je,[je],function(e,t){return!t[0].evaluate(e)}],"is-supported-script":[je,[Ke],function(e,t){var r=e.globals&&e.globals.isSupportedScript;return!r||r(t[0].evaluate(e))}],upcase:[Ke,[Ke],function(e,t){return t[0].evaluate(e).toUpperCase()}],downcase:[Ke,[Ke],function(e,t){return t[0].evaluate(e).toLowerCase()}],concat:[Ke,kr(qe),function(e,t){return t.map((function(t){return lt(t.evaluate(e))})).join("")}],"resolved-locale":[Ke,[Ne],function(e,t){return t[0].evaluate(e).resolvedLocale()}]});var Nr=function(e,t){this.expression=e,this._warningHistory={},this._evaluator=new gt,this._defaultValue=t?function(e){return"color"===e.type&&Ur(e.default)?new et(0,0,0,0):"color"===e.type?et.parse(e.default)||null:void 0===e.default?null:e.default}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null};function Hr(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in wr}function Gr(e,t){var r=new zt(wr,[],t?function(e){var t={color:ze,string:Ke,number:We,enum:Ke,boolean:je,formatted:He,resolvedImage:Ge};return"array"===e.type?Ve(t[e.value]||qe,e.length):t[e.type]}(t):void 0),n=r.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return n?Ar(new Nr(n,t)):Ir(r.errors)}Nr.prototype.evaluateWithoutErrorHandling=function(e,t,r,n,i,o){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=r,this._evaluator.canonical=n,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o,this.expression.evaluate(this._evaluator)},Nr.prototype.evaluate=function(e,t,r,n,i,o){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=r||null,this._evaluator.canonical=n,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o||null;try{var a=this.expression.evaluate(this._evaluator);if(null==a||"number"==typeof a&&a!=a)return this._defaultValue;if(this._enumValues&&!(a in this._enumValues))throw new ut("Expected value to be one of "+Object.keys(this._enumValues).map((function(e){return JSON.stringify(e)})).join(", ")+", but found "+JSON.stringify(a)+" instead.");return a}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}};var Vr=function(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!Wt(t.expression)};Vr.prototype.evaluateWithoutErrorHandling=function(e,t,r,n,i,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,n,i,o)},Vr.prototype.evaluate=function(e,t,r,n,i,o){return this._styleExpression.evaluate(e,t,r,n,i,o)};var Zr=function(e,t,r,n){this.kind=e,this.zoomStops=r,this._styleExpression=t,this.isStateDependent="camera"!==e&&!Wt(t.expression),this.interpolationType=n};function Xr(e,t){if("error"===(e=Gr(e,t)).result)return e;var r=e.value.expression,n=Ut(r);if(!n&&!Lr(t))return Ir([new Se("","data expressions not supported")]);var i=Kt(r,["zoom"]);if(!i&&!Rr(t))return Ir([new Se("","zoom expressions not supported")]);var o=function e(t){var r=null;if(t instanceof lr)r=e(t.result);else if(t instanceof sr)for(var n=0,i=t.args;n<i.length&&!(r=e(i[n]));n+=1);else(t instanceof qt||t instanceof or)&&t.input instanceof bt&&"zoom"===t.input.name&&(r=t);return r instanceof Se||t.eachChild((function(t){var n=e(t);n instanceof Se?r=n:!r&&n?r=new Se("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):r&&n&&r!==n&&(r=new Se("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),r}(r);return o||i?o instanceof Se?Ir([o]):o instanceof or&&!Sr(t)?Ir([new Se("",'"interpolate" expressions cannot be used with this property')]):Ar(o?new Zr(n?"camera":"composite",e.value,o.labels,o instanceof or?o.interpolation:void 0):new Vr(n?"constant":"source",e.value)):Ir([new Se("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Zr.prototype.evaluateWithoutErrorHandling=function(e,t,r,n,i,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,n,i,o)},Zr.prototype.evaluate=function(e,t,r,n,i,o){return this._styleExpression.evaluate(e,t,r,n,i,o)},Zr.prototype.interpolationFactor=function(e,t,r){return this.interpolationType?or.interpolationFactor(this.interpolationType,e,t,r):0};var $r=function(e,t){this._parameters=e,this._specification=t,Ie(this,function e(t,r){var n,i,o,a="color"===r.type,s=t.stops&&"object"==typeof t.stops[0][0],l=s||!(s||void 0!==t.property),_=t.type||(Sr(r)?"exponential":"interval");if(a&&((t=Ie({},t)).stops&&(t.stops=t.stops.map((function(e){return[e[0],et.parse(e[1])]}))),t.default=et.parse(t.default?t.default:r.default)),t.colorSpace&&"rgb"!==t.colorSpace&&!ir[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);if("exponential"===_)n=Fr;else if("interval"===_)n=zr;else if("categorical"===_){n=jr,i=Object.create(null);for(var u=0,c=t.stops;u<c.length;u+=1){var p=c[u];i[p[0]]=p[1]}o=typeof t.stops[0][0]}else{if("identity"!==_)throw new Error('Unknown function type "'+_+'"');n=qr}if(s){for(var d={},h=[],f=0;f<t.stops.length;f++){var m=t.stops[f],y=m[0].zoom;void 0===d[y]&&(d[y]={zoom:y,type:t.type,property:t.property,default:t.default,stops:[]},h.push(y)),d[y].stops.push([m[0].value,m[1]])}for(var g=[],b=0,v=h;b<v.length;b+=1){var E=v[b];g.push([d[E].zoom,e(d[E],r)])}var O={name:"linear"};return{kind:"composite",interpolationType:O,interpolationFactor:or.interpolationFactor.bind(void 0,O),zoomStops:g.map((function(e){return e[0]})),evaluate:function(e,n){var i=e.zoom;return Fr({stops:g,base:t.base},r,i).evaluate(i,n)}}}if(l){var M="exponential"===_?{name:"exponential",base:void 0!==t.base?t.base:1}:null;return{kind:"camera",interpolationType:M,interpolationFactor:or.interpolationFactor.bind(void 0,M),zoomStops:t.stops.map((function(e){return e[0]})),evaluate:function(e){return n(t,r,e.zoom,i,o)}}}return{kind:"source",evaluate:function(e,a){var s=a&&a.properties?a.properties[t.property]:void 0;return void 0===s?Kr(t.default,r.default):n(t,r,s,i,o)}}}(this._parameters,this._specification))};function Yr(e){var t=e.key,r=e.value,n=e.valueSpec||{},i=e.objectElementValidators||{},o=e.style,a=e.styleSpec,s=[],l=Br(r);if("object"!==l)return[new ke(t,r,"object expected, "+l+" found")];for(var _ in r){var u=_.split(".")[0],c=n[u]||n["*"],p=void 0;if(i[u])p=i[u];else if(n[u])p=Mn;else if(i["*"])p=i["*"];else{if(!n["*"]){s.push(new ke(t,r[_],'unknown property "'+_+'"'));continue}p=Mn}s=s.concat(p({key:(t?t+".":t)+_,value:r[_],valueSpec:c,style:o,styleSpec:a,object:r,objectKey:_},r))}for(var d in n)i[d]||n[d].required&&void 0===n[d].default&&void 0===r[d]&&s.push(new ke(t,r,'missing required property "'+d+'"'));return s}function Jr(e){var t=e.value,r=e.valueSpec,n=e.style,i=e.styleSpec,o=e.key,a=e.arrayElementValidator||Mn;if("array"!==Br(t))return[new ke(o,t,"array expected, "+Br(t)+" found")];if(r.length&&t.length!==r.length)return[new ke(o,t,"array length "+r.length+" expected, length "+t.length+" found")];if(r["min-length"]&&t.length<r["min-length"])return[new ke(o,t,"array length at least "+r["min-length"]+" expected, length "+t.length+" found")];var s={type:r.value,values:r.values};i.$version<7&&(s.function=r.function),"object"===Br(r.value)&&(s=r.value);for(var l=[],_=0;_<t.length;_++)l=l.concat(a({array:t,arrayIndex:_,value:t[_],valueSpec:s,style:n,styleSpec:i,key:o+"["+_+"]"}));return l}function Qr(e){var t=e.key,r=e.value,n=e.valueSpec,i=Br(r);return"number"===i&&r!=r&&(i="NaN"),"number"!==i?[new ke(t,r,"number expected, "+i+" found")]:"minimum"in n&&r<n.minimum?[new ke(t,r,r+" is less than the minimum value "+n.minimum)]:"maximum"in n&&r>n.maximum?[new ke(t,r,r+" is greater than the maximum value "+n.maximum)]:[]}function en(e){var t,r,n,i=e.valueSpec,o=Le(e.value.type),a={},s="categorical"!==o&&void 0===e.value.property,l=!s,_="array"===Br(e.value.stops)&&"array"===Br(e.value.stops[0])&&"object"===Br(e.value.stops[0][0]),u=Yr({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===o)return[new ke(e.key,e.value,'identity function may not have a "stops" property')];var t=[],r=e.value;return t=t.concat(Jr({key:e.key,value:r,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:c})),"array"===Br(r)&&0===r.length&&t.push(new ke(e.key,r,"array must have at least one stop")),t},default:function(e){return Mn({key:e.key,value:e.value,valueSpec:i,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===o&&s&&u.push(new ke(e.key,e.value,'missing required property "property"')),"identity"===o||e.value.stops||u.push(new ke(e.key,e.value,'missing required property "stops"')),"exponential"===o&&e.valueSpec.expression&&!Sr(e.valueSpec)&&u.push(new ke(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(l&&!Lr(e.valueSpec)?u.push(new ke(e.key,e.value,"property functions not supported")):s&&!Rr(e.valueSpec)&&u.push(new ke(e.key,e.value,"zoom functions not supported"))),"categorical"!==o&&!_||void 0!==e.value.property||u.push(new ke(e.key,e.value,'"property" property is required')),u;function c(e){var t=[],o=e.value,s=e.key;if("array"!==Br(o))return[new ke(s,o,"array expected, "+Br(o)+" found")];if(2!==o.length)return[new ke(s,o,"array length 2 expected, length "+o.length+" found")];if(_){if("object"!==Br(o[0]))return[new ke(s,o,"object expected, "+Br(o[0])+" found")];if(void 0===o[0].zoom)return[new ke(s,o,"object stop key must have zoom")];if(void 0===o[0].value)return[new ke(s,o,"object stop key must have value")];if(n&&n>Le(o[0].zoom))return[new ke(s,o[0].zoom,"stop zoom values must appear in ascending order")];Le(o[0].zoom)!==n&&(n=Le(o[0].zoom),r=void 0,a={}),t=t.concat(Yr({key:s+"[0]",value:o[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:Qr,value:p}}))}else t=t.concat(p({key:s+"[0]",value:o[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},o));return Hr(Re(o[1]))?t.concat([new ke(s+"[1]",o[1],"expressions are not allowed in function stops.")]):t.concat(Mn({key:s+"[1]",value:o[1],valueSpec:i,style:e.style,styleSpec:e.styleSpec}))}function p(e,n){var s=Br(e.value),l=Le(e.value),_=null!==e.value?e.value:n;if(t){if(s!==t)return[new ke(e.key,_,s+" stop domain type must match previous stop domain type "+t)]}else t=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new ke(e.key,_,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==o){var u="number expected, "+s+" found";return Lr(i)&&void 0===o&&(u+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new ke(e.key,_,u)]}return"categorical"!==o||"number"!==s||isFinite(l)&&Math.floor(l)===l?"categorical"!==o&&"number"===s&&void 0!==r&&l<r?[new ke(e.key,_,"stop domain values must appear in ascending order")]:(r=l,"categorical"===o&&l in a?[new ke(e.key,_,"stop domain values must be unique")]:(a[l]=!0,[])):[new ke(e.key,_,"integer expected, found "+l)]}}function tn(e){var t=("property"===e.expressionContext?Xr:Gr)(Re(e.value),e.valueSpec);if("error"===t.result)return t.value.map((function(t){return new ke(""+e.key+t.key,e.value,t.message)}));var r=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!r.outputDefined())return[new ke(e.key,e.value,'Invalid data expression for "'+e.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===e.expressionContext&&"layout"===e.propertyType&&!Wt(r))return[new ke(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!Wt(r))return[new ke(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!Kt(r,["zoom","feature-state"]))return[new ke(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!Ut(r))return[new ke(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function rn(e){var t=e.key,r=e.value,n=e.valueSpec,i=[];return Array.isArray(n.values)?-1===n.values.indexOf(Le(r))&&i.push(new ke(t,r,"expected one of ["+n.values.join(", ")+"], "+JSON.stringify(r)+" found")):-1===Object.keys(n.values).indexOf(Le(r))&&i.push(new ke(t,r,"expected one of ["+Object.keys(n.values).join(", ")+"], "+JSON.stringify(r)+" found")),i}function nn(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(var t=0,r=e.slice(1);t<r.length;t+=1){var n=r[t];if(!nn(n)&&"boolean"!=typeof n)return!1}return!0;default:return!0}}$r.deserialize=function(e){return new $r(e._parameters,e._specification)},$r.serialize=function(e){return{_parameters:e._parameters,_specification:e._specification}};var on={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function an(e){if(null==e)return{filter:function(){return!0},needGeometry:!1};nn(e)||(e=ln(e));var t=Gr(e,on);if("error"===t.result)throw new Error(t.value.map((function(e){return e.key+": "+e.message})).join(", "));return{filter:function(e,r,n){return t.value.evaluate(e,r,{},n)},needGeometry:function e(t){if(!Array.isArray(t))return!1;if("within"===t[0])return!0;for(var r=1;r<t.length;r++)if(e(t[r]))return!0;return!1}(e)}}function sn(e,t){return e<t?-1:e>t?1:0}function ln(e){if(!e)return!0;var t,r=e[0];return e.length<=1?"any"!==r:"=="===r?_n(e[1],e[2],"=="):"!="===r?pn(_n(e[1],e[2],"==")):"<"===r||">"===r||"<="===r||">="===r?_n(e[1],e[2],r):"any"===r?(t=e.slice(1),["any"].concat(t.map(ln))):"all"===r?["all"].concat(e.slice(1).map(ln)):"none"===r?["all"].concat(e.slice(1).map(ln).map(pn)):"in"===r?un(e[1],e.slice(2)):"!in"===r?pn(un(e[1],e.slice(2))):"has"===r?cn(e[1]):"!has"===r?pn(cn(e[1])):"within"!==r||e}function _n(e,t,r){switch(e){case"$type":return["filter-type-"+r,t];case"$id":return["filter-id-"+r,t];default:return["filter-"+r,e,t]}}function un(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((function(e){return typeof e!=typeof t[0]}))?["filter-in-large",e,["literal",t.sort(sn)]]:["filter-in-small",e,["literal",t]]}}function cn(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function pn(e){return["!",e]}function dn(e){return nn(Re(e.value))?tn(Ie({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function e(t){var r=t.value,n=t.key;if("array"!==Br(r))return[new ke(n,r,"array expected, "+Br(r)+" found")];var i,o=t.styleSpec,a=[];if(r.length<1)return[new ke(n,r,"filter array must have at least 1 element")];switch(a=a.concat(rn({key:n+"[0]",value:r[0],valueSpec:o.filter_operator,style:t.style,styleSpec:t.styleSpec})),Le(r[0])){case"<":case"<=":case">":case">=":r.length>=2&&"$type"===Le(r[1])&&a.push(new ke(n,r,'"$type" cannot be use with operator "'+r[0]+'"'));case"==":case"!=":3!==r.length&&a.push(new ke(n,r,'filter array for operator "'+r[0]+'" must have 3 elements'));case"in":case"!in":r.length>=2&&"string"!==(i=Br(r[1]))&&a.push(new ke(n+"[1]",r[1],"string expected, "+i+" found"));for(var s=2;s<r.length;s++)i=Br(r[s]),"$type"===Le(r[1])?a=a.concat(rn({key:n+"["+s+"]",value:r[s],valueSpec:o.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&a.push(new ke(n+"["+s+"]",r[s],"string, number, or boolean expected, "+i+" found"));break;case"any":case"all":case"none":for(var l=1;l<r.length;l++)a=a.concat(e({key:n+"["+l+"]",value:r[l],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":i=Br(r[1]),2!==r.length?a.push(new ke(n,r,'filter array for "'+r[0]+'" operator must have 2 elements')):"string"!==i&&a.push(new ke(n+"[1]",r[1],"string expected, "+i+" found"));break;case"within":i=Br(r[1]),2!==r.length?a.push(new ke(n,r,'filter array for "'+r[0]+'" operator must have 2 elements')):"object"!==i&&a.push(new ke(n+"[1]",r[1],"object expected, "+i+" found"))}return a}(e)}function hn(e,t){var r=e.key,n=e.style,i=e.styleSpec,o=e.value,a=e.objectKey,s=i[t+"_"+e.layerType];if(!s)return[];var l=a.match(/^(.*)-transition$/);if("paint"===t&&l&&s[l[1]]&&s[l[1]].transition)return Mn({key:r,value:o,valueSpec:i.transition,style:n,styleSpec:i});var _,u=e.valueSpec||s[a];if(!u)return[new ke(r,o,'unknown property "'+a+'"')];if("string"===Br(o)&&Lr(u)&&!u.tokens&&(_=/^{([^}]+)}$/.exec(o)))return[new ke(r,o,'"'+a+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(_[1])+" }`.")];var c=[];return"symbol"===e.layerType&&("text-field"===a&&n&&!n.glyphs&&c.push(new ke(r,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&Ur(Re(o))&&"identity"===Le(o.type)&&c.push(new ke(r,o,'"text-font" does not support identity functions'))),c.concat(Mn({key:e.key,value:o,valueSpec:u,style:n,styleSpec:i,expressionContext:"property",propertyType:t,propertyKey:a}))}function fn(e){return hn(e,"paint")}function mn(e){return hn(e,"layout")}function yn(e){var t=[],r=e.value,n=e.key,i=e.style,o=e.styleSpec;r.type||r.ref||t.push(new ke(n,r,'either "type" or "ref" is required'));var a,s=Le(r.type),l=Le(r.ref);if(r.id)for(var _=Le(r.id),u=0;u<e.arrayIndex;u++){var c=i.layers[u];Le(c.id)===_&&t.push(new ke(n,r.id,'duplicate layer id "'+r.id+'", previously used at line '+c.id.__line__))}if("ref"in r)["type","source","source-layer","filter","layout"].forEach((function(e){e in r&&t.push(new ke(n,r[e],'"'+e+'" is prohibited for ref layers'))})),i.layers.forEach((function(e){Le(e.id)===l&&(a=e)})),a?a.ref?t.push(new ke(n,r.ref,"ref cannot reference another ref layer")):s=Le(a.type):t.push(new ke(n,r.ref,'ref layer "'+l+'" not found'));else if("background"!==s)if(r.source){var p=i.sources&&i.sources[r.source],d=p&&Le(p.type);p?"vector"===d&&"raster"===s?t.push(new ke(n,r.source,'layer "'+r.id+'" requires a raster source')):"raster"===d&&"raster"!==s?t.push(new ke(n,r.source,'layer "'+r.id+'" requires a vector source')):"vector"!==d||r["source-layer"]?"raster-dem"===d&&"hillshade"!==s?t.push(new ke(n,r.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!r.paint||!r.paint["line-gradient"]||"geojson"===d&&p.lineMetrics||t.push(new ke(n,r,'layer "'+r.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):t.push(new ke(n,r,'layer "'+r.id+'" must specify a "source-layer"')):t.push(new ke(n,r.source,'source "'+r.source+'" not found'))}else t.push(new ke(n,r,'missing required property "source"'));return t=t.concat(Yr({key:n,value:r,valueSpec:o.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Mn({key:n+".type",value:r.type,valueSpec:o.layer.type,style:e.style,styleSpec:e.styleSpec,object:r,objectKey:"type"})},filter:dn,layout:function(e){return Yr({layer:r,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return mn(Ie({layerType:s},e))}}})},paint:function(e){return Yr({layer:r,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return fn(Ie({layerType:s},e))}}})}}}))}function gn(e){var t=e.value,r=e.key,n=Br(t);return"string"!==n?[new ke(r,t,"string expected, "+n+" found")]:[]}var bn={promoteId:function(e){var t=e.key,r=e.value;if("string"===Br(r))return gn({key:t,value:r});var n=[];for(var i in r)n.push.apply(n,gn({key:t+"."+i,value:r[i]}));return n}};function vn(e){var t=e.value,r=e.key,n=e.styleSpec,i=e.style;if(!t.type)return[new ke(r,t,'"type" is required')];var o,a=Le(t.type);switch(a){case"vector":case"raster":case"raster-dem":return Yr({key:r,value:t,valueSpec:n["source_"+a.replace("-","_")],style:e.style,styleSpec:n,objectElementValidators:bn});case"geojson":if(o=Yr({key:r,value:t,valueSpec:n.source_geojson,style:i,styleSpec:n,objectElementValidators:bn}),t.cluster)for(var s in t.clusterProperties){var l=t.clusterProperties[s],_=l[0],u="string"==typeof _?[_,["accumulated"],["get",s]]:_;o.push.apply(o,tn({key:r+"."+s+".map",value:l[1],expressionContext:"cluster-map"})),o.push.apply(o,tn({key:r+"."+s+".reduce",value:u,expressionContext:"cluster-reduce"}))}return o;case"video":return Yr({key:r,value:t,valueSpec:n.source_video,style:i,styleSpec:n});case"image":return Yr({key:r,value:t,valueSpec:n.source_image,style:i,styleSpec:n});case"canvas":return[new ke(r,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return rn({key:r+".type",value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:n})}}function En(e){var t=e.value,r=e.styleSpec,n=r.light,i=e.style,o=[],a=Br(t);if(void 0===t)return o;if("object"!==a)return o.concat([new ke("light",t,"object expected, "+a+" found")]);for(var s in t){var l=s.match(/^(.*)-transition$/);o=o.concat(l&&n[l[1]]&&n[l[1]].transition?Mn({key:s,value:t[s],valueSpec:r.transition,style:i,styleSpec:r}):n[s]?Mn({key:s,value:t[s],valueSpec:n[s],style:i,styleSpec:r}):[new ke(s,t[s],'unknown property "'+s+'"')])}return o}var On={"*":function(){return[]},array:Jr,boolean:function(e){var t=e.value,r=e.key,n=Br(t);return"boolean"!==n?[new ke(r,t,"boolean expected, "+n+" found")]:[]},number:Qr,color:function(e){var t=e.key,r=e.value,n=Br(r);return"string"!==n?[new ke(t,r,"color expected, "+n+" found")]:null===Qe(r)?[new ke(t,r,'color expected, "'+r+'" found')]:[]},constants:Ae,enum:rn,filter:dn,function:en,layer:yn,object:Yr,source:vn,light:En,string:gn,formatted:function(e){return 0===gn(e).length?[]:tn(e)},resolvedImage:function(e){return 0===gn(e).length?[]:tn(e)}};function Mn(e){var t=e.value,r=e.valueSpec,n=e.styleSpec;return r.expression&&Ur(Le(t))?en(e):r.expression&&Hr(Re(t))?tn(e):r.type&&On[r.type]?On[r.type](e):Yr(Ie({},e,{valueSpec:r.type?n[r.type]:r}))}function Pn(e){var t=e.value,r=e.key,n=gn(e);return n.length||(-1===t.indexOf("{fontstack}")&&n.push(new ke(r,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&n.push(new ke(r,t,'"glyphs" url must include a "{range}" token'))),n}function xn(e,t){void 0===t&&(t=Te);var r=[];return r=r.concat(Mn({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:Pn,"*":function(){return[]}}})),e.constants&&(r=r.concat(Ae({key:"constants",value:e.constants,style:e,styleSpec:t}))),wn(r)}function wn(e){return[].concat(e).sort((function(e,t){return e.line-t.line}))}function Cn(e){return function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return wn(e.apply(this,t))}}xn.source=Cn(vn),xn.light=Cn(En),xn.layer=Cn(yn),xn.filter=Cn(dn),xn.paintProperty=Cn(fn),xn.layoutProperty=Cn(mn);var Dn=xn,Tn=Dn.light,kn=Dn.paintProperty,An=Dn.layoutProperty;function In(e,t){var r=!1;if(t&&t.length)for(var n=0,i=t;n<i.length;n+=1)e.fire(new Ce(new Error(i[n].message))),r=!0;return r}var Ln=Rn;function Rn(e,t,r){var n=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var i=new Int32Array(this.arrayBuffer);e=i[0],this.d=(t=i[1])+2*(r=i[2]);for(var o=0;o<this.d*this.d;o++){var a=i[3+o],s=i[3+o+1];n.push(a===s?null:i.subarray(a,s))}var l=i[3+n.length+1];this.keys=i.subarray(i[3+n.length],l),this.bboxes=i.subarray(l),this.insert=this._insertReadonly}else{this.d=t+2*r;for(var _=0;_<this.d*this.d;_++)n.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=r,this.scale=t/e,this.uid=0;var u=r/t*e;this.min=-u,this.max=e+u}Rn.prototype.insert=function(e,t,r,n,i){this._forEachCell(t,r,n,i,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(i)},Rn.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Rn.prototype._insertCell=function(e,t,r,n,i,o){this.cells[i].push(o)},Rn.prototype.query=function(e,t,r,n,i){var o=this.min,a=this.max;if(e<=o&&t<=o&&a<=r&&a<=n&&!i)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(e,t,r,n,this._queryCell,s,{},i),s},Rn.prototype._queryCell=function(e,t,r,n,i,o,a,s){var l=this.cells[i];if(null!==l)for(var _=this.keys,u=this.bboxes,c=0;c<l.length;c++){var p=l[c];if(void 0===a[p]){var d=4*p;(s?s(u[d+0],u[d+1],u[d+2],u[d+3]):e<=u[d+2]&&t<=u[d+3]&&r>=u[d+0]&&n>=u[d+1])?(a[p]=!0,o.push(_[p])):a[p]=!1}}},Rn.prototype._forEachCell=function(e,t,r,n,i,o,a,s){for(var l=this._convertToCellCoord(e),_=this._convertToCellCoord(t),u=this._convertToCellCoord(r),c=this._convertToCellCoord(n),p=l;p<=u;p++)for(var d=_;d<=c;d++){var h=this.d*d+p;if((!s||s(this._convertFromCellCoord(p),this._convertFromCellCoord(d),this._convertFromCellCoord(p+1),this._convertFromCellCoord(d+1)))&&i.call(this,e,t,r,n,h,o,a,s))return}},Rn.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},Rn.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},Rn.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=3+this.cells.length+1+1,r=0,n=0;n<this.cells.length;n++)r+=this.cells[n].length;var i=new Int32Array(t+r+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var o=t,a=0;a<e.length;a++){var s=e[a];i[3+a]=o,i.set(s,o),o+=s.length}return i[3+e.length]=o,i.set(this.keys,o),i[3+e.length+1]=o+=this.keys.length,i.set(this.bboxes,o),o+=this.bboxes.length,i.buffer};var Sn=a.ImageData,Bn=a.ImageBitmap,Un={};function Wn(e,t,r){void 0===r&&(r={}),Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),Un[e]={klass:t,omit:r.omit||[],shallow:r.shallow||[]}}for(var Kn in Wn("Object",Object),Ln.serialize=function(e,t){var r=e.toArrayBuffer();return t&&t.push(r),{buffer:r}},Ln.deserialize=function(e){return new Ln(e.buffer)},Wn("Grid",Ln),Wn("Color",et),Wn("Error",Error),Wn("ResolvedImage",it),Wn("StylePropertyFunction",$r),Wn("StyleExpression",Nr,{omit:["_evaluator"]}),Wn("ZoomDependentExpression",Zr),Wn("ZoomConstantExpression",Vr),Wn("CompoundExpression",bt,{omit:["_evaluate"]}),wr)wr[Kn]._classRegistryKey||Wn("Expression_"+Kn,wr[Kn]);function jn(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function zn(e){return Bn&&e instanceof Bn}function Fn(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(jn(e)||zn(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e)){var r=e;return t&&t.push(r.buffer),r}if(e instanceof Sn)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){for(var n=[],i=0,o=e;i<o.length;i+=1)n.push(Fn(o[i],t));return n}if("object"==typeof e){var a=e.constructor,s=a._classRegistryKey;if(!s)throw new Error("can't serialize object of unregistered class");var l=a.serialize?a.serialize(e,t):{};if(!a.serialize){for(var _ in e)if(e.hasOwnProperty(_)&&!(Un[s].omit.indexOf(_)>=0)){var u=e[_];l[_]=Un[s].shallow.indexOf(_)>=0?u:Fn(u,t)}e instanceof Error&&(l.message=e.message)}if(l.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==s&&(l.$name=s),l}throw new Error("can't serialize object of type "+typeof e)}function qn(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||jn(e)||zn(e)||ArrayBuffer.isView(e)||e instanceof Sn)return e;if(Array.isArray(e))return e.map(qn);if("object"==typeof e){var t=e.$name||"Object",r=Un[t].klass;if(!r)throw new Error("can't deserialize unregistered class "+t);if(r.deserialize)return r.deserialize(e);for(var n=Object.create(r.prototype),i=0,o=Object.keys(e);i<o.length;i+=1){var a=o[i];if("$name"!==a){var s=e[a];n[a]=Un[t].shallow.indexOf(a)>=0?s:qn(s)}}return n}throw new Error("can't deserialize object of type "+typeof e)}var Nn=function(){this.first=!0};Nn.prototype.update=function(e,t){var r=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=r,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=r,!0):(this.lastFloorZoom>r?(this.lastIntegerZoom=r+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<r&&(this.lastIntegerZoom=r,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=r,!0))};var Hn={"Latin-1 Supplement":function(e){return e>=128&&e<=255},Arabic:function(e){return e>=1536&&e<=1791},"Arabic Supplement":function(e){return e>=1872&&e<=1919},"Arabic Extended-A":function(e){return e>=2208&&e<=2303},"Hangul Jamo":function(e){return e>=4352&&e<=4607},"Unified Canadian Aboriginal Syllabics":function(e){return e>=5120&&e<=5759},Khmer:function(e){return e>=6016&&e<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(e){return e>=6320&&e<=6399},"General Punctuation":function(e){return e>=8192&&e<=8303},"Letterlike Symbols":function(e){return e>=8448&&e<=8527},"Number Forms":function(e){return e>=8528&&e<=8591},"Miscellaneous Technical":function(e){return e>=8960&&e<=9215},"Control Pictures":function(e){return e>=9216&&e<=9279},"Optical Character Recognition":function(e){return e>=9280&&e<=9311},"Enclosed Alphanumerics":function(e){return e>=9312&&e<=9471},"Geometric Shapes":function(e){return e>=9632&&e<=9727},"Miscellaneous Symbols":function(e){return e>=9728&&e<=9983},"Miscellaneous Symbols and Arrows":function(e){return e>=11008&&e<=11263},"CJK Radicals Supplement":function(e){return e>=11904&&e<=12031},"Kangxi Radicals":function(e){return e>=12032&&e<=12255},"Ideographic Description Characters":function(e){return e>=12272&&e<=12287},"CJK Symbols and Punctuation":function(e){return e>=12288&&e<=12351},Hiragana:function(e){return e>=12352&&e<=12447},Katakana:function(e){return e>=12448&&e<=12543},Bopomofo:function(e){return e>=12544&&e<=12591},"Hangul Compatibility Jamo":function(e){return e>=12592&&e<=12687},Kanbun:function(e){return e>=12688&&e<=12703},"Bopomofo Extended":function(e){return e>=12704&&e<=12735},"CJK Strokes":function(e){return e>=12736&&e<=12783},"Katakana Phonetic Extensions":function(e){return e>=12784&&e<=12799},"Enclosed CJK Letters and Months":function(e){return e>=12800&&e<=13055},"CJK Compatibility":function(e){return e>=13056&&e<=13311},"CJK Unified Ideographs Extension A":function(e){return e>=13312&&e<=19903},"Yijing Hexagram Symbols":function(e){return e>=19904&&e<=19967},"CJK Unified Ideographs":function(e){return e>=19968&&e<=40959},"Yi Syllables":function(e){return e>=40960&&e<=42127},"Yi Radicals":function(e){return e>=42128&&e<=42191},"Hangul Jamo Extended-A":function(e){return e>=43360&&e<=43391},"Hangul Syllables":function(e){return e>=44032&&e<=55215},"Hangul Jamo Extended-B":function(e){return e>=55216&&e<=55295},"Private Use Area":function(e){return e>=57344&&e<=63743},"CJK Compatibility Ideographs":function(e){return e>=63744&&e<=64255},"Arabic Presentation Forms-A":function(e){return e>=64336&&e<=65023},"Vertical Forms":function(e){return e>=65040&&e<=65055},"CJK Compatibility Forms":function(e){return e>=65072&&e<=65103},"Small Form Variants":function(e){return e>=65104&&e<=65135},"Arabic Presentation Forms-B":function(e){return e>=65136&&e<=65279},"Halfwidth and Fullwidth Forms":function(e){return e>=65280&&e<=65519}};function Gn(e){for(var t=0,r=e;t<r.length;t+=1)if(Vn(r[t].charCodeAt(0)))return!0;return!1}function Vn(e){return!(746!==e&&747!==e&&(e<4352||!(Hn["Bopomofo Extended"](e)||Hn.Bopomofo(e)||Hn["CJK Compatibility Forms"](e)&&!(e>=65097&&e<=65103)||Hn["CJK Compatibility Ideographs"](e)||Hn["CJK Compatibility"](e)||Hn["CJK Radicals Supplement"](e)||Hn["CJK Strokes"](e)||!(!Hn["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||Hn["CJK Unified Ideographs Extension A"](e)||Hn["CJK Unified Ideographs"](e)||Hn["Enclosed CJK Letters and Months"](e)||Hn["Hangul Compatibility Jamo"](e)||Hn["Hangul Jamo Extended-A"](e)||Hn["Hangul Jamo Extended-B"](e)||Hn["Hangul Jamo"](e)||Hn["Hangul Syllables"](e)||Hn.Hiragana(e)||Hn["Ideographic Description Characters"](e)||Hn.Kanbun(e)||Hn["Kangxi Radicals"](e)||Hn["Katakana Phonetic Extensions"](e)||Hn.Katakana(e)&&12540!==e||!(!Hn["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!Hn["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||Hn["Unified Canadian Aboriginal Syllabics"](e)||Hn["Unified Canadian Aboriginal Syllabics Extended"](e)||Hn["Vertical Forms"](e)||Hn["Yijing Hexagram Symbols"](e)||Hn["Yi Syllables"](e)||Hn["Yi Radicals"](e))))}function Zn(e){return!(Vn(e)||function(e){return!!(Hn["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||Hn["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||Hn["Letterlike Symbols"](e)||Hn["Number Forms"](e)||Hn["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||Hn["Control Pictures"](e)&&9251!==e||Hn["Optical Character Recognition"](e)||Hn["Enclosed Alphanumerics"](e)||Hn["Geometric Shapes"](e)||Hn["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||Hn["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||Hn["CJK Symbols and Punctuation"](e)||Hn.Katakana(e)||Hn["Private Use Area"](e)||Hn["CJK Compatibility Forms"](e)||Hn["Small Form Variants"](e)||Hn["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function Xn(e){return e>=1424&&e<=2303||Hn["Arabic Presentation Forms-A"](e)||Hn["Arabic Presentation Forms-B"](e)}function $n(e,t){return!(!t&&Xn(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||Hn.Khmer(e))}function Yn(e){for(var t=0,r=e;t<r.length;t+=1)if(Xn(r[t].charCodeAt(0)))return!0;return!1}var Jn=null,Qn="unavailable",ei=null,ti=function(e){e&&"string"==typeof e&&e.indexOf("NetworkError")>-1&&(Qn="error"),Jn&&Jn(e)};function ri(){ni.fire(new we("pluginStateChange",{pluginStatus:Qn,pluginURL:ei}))}var ni=new De,ii=function(){return Qn},oi=function(){if("deferred"!==Qn||!ei)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Qn="loading",ri(),ei&&ve({url:ei},(function(e){e?ti(e):(Qn="loaded",ri())}))},ai={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return"loaded"===Qn||null!=ai.applyArabicShaping},isLoading:function(){return"loading"===Qn},setState:function(e){Qn=e.pluginStatus,ei=e.pluginURL},isParsed:function(){return null!=ai.applyArabicShaping&&null!=ai.processBidirectionalText&&null!=ai.processStyledBidirectionalText},getPluginURL:function(){return ei}},si=function(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.zoomHistory=t.zoomHistory,this.transition=t.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Nn,this.transition={})};si.prototype.isSupportedScript=function(e){return function(e,t){for(var r=0,n=e;r<n.length;r+=1)if(!$n(n[r].charCodeAt(0),t))return!1;return!0}(e,ai.isLoaded())},si.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},si.prototype.getCrossfadeParameters=function(){var e=this.zoom,t=e-Math.floor(e),r=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*r}:{fromScale:.5,toScale:1,t:1-(1-r)*t}};var li=function(e,t){this.property=e,this.value=t,this.expression=function(e,t){if(Ur(e))return new $r(e,t);if(Hr(e)){var r=Xr(e,t);if("error"===r.result)throw new Error(r.value.map((function(e){return e.key+": "+e.message})).join(", "));return r.value}var n=e;return"string"==typeof e&&"color"===t.type&&(n=et.parse(e)),{kind:"constant",evaluate:function(){return n}}}(void 0===t?e.specification.default:t,e.specification)};li.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},li.prototype.possiblyEvaluate=function(e,t,r){return this.property.possiblyEvaluate(this,e,t,r)};var _i=function(e){this.property=e,this.value=new li(e,void 0)};_i.prototype.transitioned=function(e,t){return new ci(this.property,this.value,t,p({},e.transition,this.transition),e.now)},_i.prototype.untransitioned=function(){return new ci(this.property,this.value,null,{},0)};var ui=function(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)};ui.prototype.getValue=function(e){return E(this._values[e].value.value)},ui.prototype.setValue=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new _i(this._values[e].property)),this._values[e].value=new li(this._values[e].property,null===t?void 0:E(t))},ui.prototype.getTransition=function(e){return E(this._values[e].transition)},ui.prototype.setTransition=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new _i(this._values[e].property)),this._values[e].transition=E(t)||void 0},ui.prototype.serialize=function(){for(var e={},t=0,r=Object.keys(this._values);t<r.length;t+=1){var n=r[t],i=this.getValue(n);void 0!==i&&(e[n]=i);var o=this.getTransition(n);void 0!==o&&(e[n+"-transition"]=o)}return e},ui.prototype.transitioned=function(e,t){for(var r=new pi(this._properties),n=0,i=Object.keys(this._values);n<i.length;n+=1){var o=i[n];r._values[o]=this._values[o].transitioned(e,t._values[o])}return r},ui.prototype.untransitioned=function(){for(var e=new pi(this._properties),t=0,r=Object.keys(this._values);t<r.length;t+=1){var n=r[t];e._values[n]=this._values[n].untransitioned()}return e};var ci=function(e,t,r,n,i){this.property=e,this.value=t,this.begin=i+n.delay||0,this.end=this.begin+n.duration||0,e.specification.transition&&(n.delay||n.duration)&&(this.prior=r)};ci.prototype.possiblyEvaluate=function(e,t,r){var n=e.now||0,i=this.value.possiblyEvaluate(e,t,r),o=this.prior;if(o){if(n>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(n<this.begin)return o.possiblyEvaluate(e,t,r);var a=(n-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(e,t,r),i,function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,r=t*e;return 4*(e<.5?r:3*(e-t)+r-.75)}(a))}return i};var pi=function(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)};pi.prototype.possiblyEvaluate=function(e,t,r){for(var n=new fi(this._properties),i=0,o=Object.keys(this._values);i<o.length;i+=1){var a=o[i];n._values[a]=this._values[a].possiblyEvaluate(e,t,r)}return n},pi.prototype.hasTransition=function(){for(var e=0,t=Object.keys(this._values);e<t.length;e+=1)if(this._values[t[e]].prior)return!0;return!1};var di=function(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)};di.prototype.getValue=function(e){return E(this._values[e].value)},di.prototype.setValue=function(e,t){this._values[e]=new li(this._values[e].property,null===t?void 0:E(t))},di.prototype.serialize=function(){for(var e={},t=0,r=Object.keys(this._values);t<r.length;t+=1){var n=r[t],i=this.getValue(n);void 0!==i&&(e[n]=i)}return e},di.prototype.possiblyEvaluate=function(e,t,r){for(var n=new fi(this._properties),i=0,o=Object.keys(this._values);i<o.length;i+=1){var a=o[i];n._values[a]=this._values[a].possiblyEvaluate(e,t,r)}return n};var hi=function(e,t,r){this.property=e,this.value=t,this.parameters=r};hi.prototype.isConstant=function(){return"constant"===this.value.kind},hi.prototype.constantOr=function(e){return"constant"===this.value.kind?this.value.value:e},hi.prototype.evaluate=function(e,t,r,n){return this.property.evaluate(this.value,this.parameters,e,t,r,n)};var fi=function(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)};fi.prototype.get=function(e){return this._values[e]};var mi=function(e){this.specification=e};mi.prototype.possiblyEvaluate=function(e,t){return e.expression.evaluate(t)},mi.prototype.interpolate=function(e,t,r){var n=Ht[this.specification.type];return n?n(e,t,r):e};var yi=function(e,t){this.specification=e,this.overrides=t};yi.prototype.possiblyEvaluate=function(e,t,r,n){return new hi(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},r,n)}:e.expression,t)},yi.prototype.interpolate=function(e,t,r){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new hi(this,{kind:"constant",value:void 0},e.parameters);var n=Ht[this.specification.type];return n?new hi(this,{kind:"constant",value:n(e.value.value,t.value.value,r)},e.parameters):e},yi.prototype.evaluate=function(e,t,r,n,i,o){return"constant"===e.kind?e.value:e.evaluate(t,r,n,i,o)};var gi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.possiblyEvaluate=function(e,t,r,n){if(void 0===e.value)return new hi(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){var i=e.expression.evaluate(t,null,{},r,n),o="resolvedImage"===e.property.specification.type&&"string"!=typeof i?i.name:i,a=this._calculate(o,o,o,t);return new hi(this,{kind:"constant",value:a},t)}if("camera"===e.expression.kind){var s=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new hi(this,{kind:"constant",value:s},t)}return new hi(this,e.expression,t)},t.prototype.evaluate=function(e,t,r,n,i,o){if("source"===e.kind){var a=e.evaluate(t,r,n,i,o);return this._calculate(a,a,a,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},r,n),e.evaluate({zoom:Math.floor(t.zoom)},r,n),e.evaluate({zoom:Math.floor(t.zoom)+1},r,n),t):e.value},t.prototype._calculate=function(e,t,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:r,to:t}},t.prototype.interpolate=function(e){return e},t}(yi),bi=function(e){this.specification=e};bi.prototype.possiblyEvaluate=function(e,t,r,n){if(void 0!==e.value){if("constant"===e.expression.kind){var i=e.expression.evaluate(t,null,{},r,n);return this._calculate(i,i,i,t)}return this._calculate(e.expression.evaluate(new si(Math.floor(t.zoom-1),t)),e.expression.evaluate(new si(Math.floor(t.zoom),t)),e.expression.evaluate(new si(Math.floor(t.zoom+1),t)),t)}},bi.prototype._calculate=function(e,t,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:r,to:t}},bi.prototype.interpolate=function(e){return e};var vi=function(e){this.specification=e};vi.prototype.possiblyEvaluate=function(e,t,r,n){return!!e.expression.evaluate(t,null,{},r,n)},vi.prototype.interpolate=function(){return!1};var Ei=function(e){for(var t in this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],e){var r=e[t];r.specification.overridable&&this.overridableProperties.push(t);var n=this.defaultPropertyValues[t]=new li(r,void 0),i=this.defaultTransitionablePropertyValues[t]=new _i(r);this.defaultTransitioningPropertyValues[t]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[t]=n.possiblyEvaluate({})}};Wn("DataDrivenProperty",yi),Wn("DataConstantProperty",mi),Wn("CrossFadedDataDrivenProperty",gi),Wn("CrossFadedProperty",bi),Wn("ColorRampProperty",vi);var Oi=function(e){function t(t,r){if(e.call(this),this.id=t.id,this.type=t.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==t.type&&(this.metadata=(t=t).metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,"background"!==t.type&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),r.layout&&(this._unevaluatedLayout=new di(r.layout)),r.paint)){for(var n in this._transitionablePaint=new ui(r.paint),t.paint)this.setPaintProperty(n,t.paint[n],{validate:!1});for(var i in t.layout)this.setLayoutProperty(i,t.layout[i],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new fi(r.paint)}}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},t.prototype.getLayoutProperty=function(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)},t.prototype.setLayoutProperty=function(e,t,r){void 0===r&&(r={}),null!=t&&this._validate(An,"layers."+this.id+".layout."+e,e,t,r)||("visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t)},t.prototype.getPaintProperty=function(e){return g(e,"-transition")?this._transitionablePaint.getTransition(e.slice(0,-"-transition".length)):this._transitionablePaint.getValue(e)},t.prototype.setPaintProperty=function(e,t,r){if(void 0===r&&(r={}),null!=t&&this._validate(kn,"layers."+this.id+".paint."+e,e,t,r))return!1;if(g(e,"-transition"))return this._transitionablePaint.setTransition(e.slice(0,-"-transition".length),t||void 0),!1;var n=this._transitionablePaint._values[e],i="cross-faded-data-driven"===n.property.specification["property-type"],o=n.value.isDataDriven(),a=n.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);var s=this._transitionablePaint._values[e].value;return s.isDataDriven()||o||i||this._handleOverridablePaintPropertyUpdate(e,a,s)},t.prototype._handleSpecialPaintPropertyUpdate=function(e){},t.prototype._handleOverridablePaintPropertyUpdate=function(e,t,r){return!1},t.prototype.isHidden=function(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility},t.prototype.updateTransitions=function(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)},t.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},t.prototype.recalculate=function(e,t){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)},t.prototype.serialize=function(){var e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),v(e,(function(e,t){return!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length)}))},t.prototype._validate=function(e,t,r,n,i){return void 0===i&&(i={}),(!i||!1!==i.validate)&&In(this,e.call(Dn,{key:t,layerType:this.type,objectKey:r,value:n,styleSpec:Te,style:{glyphs:!0,sprite:!0}}))},t.prototype.is3D=function(){return!1},t.prototype.isTileClipped=function(){return!1},t.prototype.hasOffscreenPass=function(){return!1},t.prototype.resize=function(){},t.prototype.isStateDependent=function(){for(var e in this.paint._values){var t=this.paint.get(e);if(t instanceof hi&&Lr(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1},t}(De),Mi={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Pi=function(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},xi=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function wi(e,t){void 0===t&&(t=1);var r=0,n=0;return{members:e.map((function(e){var i=Mi[e.type].BYTES_PER_ELEMENT,o=r=Ci(r,Math.max(t,i)),a=e.components||1;return n=Math.max(n,i),r+=i*a,{name:e.name,type:e.type,components:a,offset:o}})),size:Ci(r,Math.max(n,t)),alignment:t}}function Ci(e,t){return Math.ceil(e/t)*t}xi.serialize=function(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}},xi.deserialize=function(e){var t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t},xi.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},xi.prototype.clear=function(){this.length=0},xi.prototype.resize=function(e){this.reserve(e),this.length=e},xi.prototype.reserve=function(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}},xi.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Di=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var r=this.length;return this.resize(r+1),this.emplace(r,e,t)},t.prototype.emplace=function(e,t,r){var n=2*e;return this.int16[n+0]=t,this.int16[n+1]=r,e},t}(xi);Di.prototype.bytesPerElement=4,Wn("StructArrayLayout2i4",Di);var Ti=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,r,n)},t.prototype.emplace=function(e,t,r,n,i){var o=4*e;return this.int16[o+0]=t,this.int16[o+1]=r,this.int16[o+2]=n,this.int16[o+3]=i,e},t}(xi);Ti.prototype.bytesPerElement=8,Wn("StructArrayLayout4i8",Ti);var ki=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,r,n,i,o)},t.prototype.emplace=function(e,t,r,n,i,o,a){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=r,this.int16[s+2]=n,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,e},t}(xi);ki.prototype.bytesPerElement=12,Wn("StructArrayLayout2i4i12",ki);var Ai=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,r,n,i,o)},t.prototype.emplace=function(e,t,r,n,i,o,a){var s=4*e,l=8*e;return this.int16[s+0]=t,this.int16[s+1]=r,this.uint8[l+4]=n,this.uint8[l+5]=i,this.uint8[l+6]=o,this.uint8[l+7]=a,e},t}(xi);Ai.prototype.bytesPerElement=8,Wn("StructArrayLayout2i4ub8",Ai);var Ii=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var r=this.length;return this.resize(r+1),this.emplace(r,e,t)},t.prototype.emplace=function(e,t,r){var n=2*e;return this.float32[n+0]=t,this.float32[n+1]=r,e},t}(xi);Ii.prototype.bytesPerElement=8,Wn("StructArrayLayout2f8",Ii);var Li=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i,o,a,s,l,_){var u=this.length;return this.resize(u+1),this.emplace(u,e,t,r,n,i,o,a,s,l,_)},t.prototype.emplace=function(e,t,r,n,i,o,a,s,l,_,u){var c=10*e;return this.uint16[c+0]=t,this.uint16[c+1]=r,this.uint16[c+2]=n,this.uint16[c+3]=i,this.uint16[c+4]=o,this.uint16[c+5]=a,this.uint16[c+6]=s,this.uint16[c+7]=l,this.uint16[c+8]=_,this.uint16[c+9]=u,e},t}(xi);Li.prototype.bytesPerElement=20,Wn("StructArrayLayout10ui20",Li);var Ri=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i,o,a,s,l,_,u,c){var p=this.length;return this.resize(p+1),this.emplace(p,e,t,r,n,i,o,a,s,l,_,u,c)},t.prototype.emplace=function(e,t,r,n,i,o,a,s,l,_,u,c,p){var d=12*e;return this.int16[d+0]=t,this.int16[d+1]=r,this.int16[d+2]=n,this.int16[d+3]=i,this.uint16[d+4]=o,this.uint16[d+5]=a,this.uint16[d+6]=s,this.uint16[d+7]=l,this.int16[d+8]=_,this.int16[d+9]=u,this.int16[d+10]=c,this.int16[d+11]=p,e},t}(xi);Ri.prototype.bytesPerElement=24,Wn("StructArrayLayout4i4ui4i24",Ri);var Si=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)},t.prototype.emplace=function(e,t,r,n){var i=3*e;return this.float32[i+0]=t,this.float32[i+1]=r,this.float32[i+2]=n,e},t}(xi);Si.prototype.bytesPerElement=12,Wn("StructArrayLayout3f12",Si);var Bi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){return this.uint32[1*e+0]=t,e},t}(xi);Bi.prototype.bytesPerElement=4,Wn("StructArrayLayout1ul4",Bi);var Ui=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i,o,a,s,l){var _=this.length;return this.resize(_+1),this.emplace(_,e,t,r,n,i,o,a,s,l)},t.prototype.emplace=function(e,t,r,n,i,o,a,s,l,_){var u=10*e,c=5*e;return this.int16[u+0]=t,this.int16[u+1]=r,this.int16[u+2]=n,this.int16[u+3]=i,this.int16[u+4]=o,this.int16[u+5]=a,this.uint32[c+3]=s,this.uint16[u+8]=l,this.uint16[u+9]=_,e},t}(xi);Ui.prototype.bytesPerElement=20,Wn("StructArrayLayout6i1ul2ui20",Ui);var Wi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,r,n,i,o)},t.prototype.emplace=function(e,t,r,n,i,o,a){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=r,this.int16[s+2]=n,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,e},t}(xi);Wi.prototype.bytesPerElement=12,Wn("StructArrayLayout2i2i2i12",Wi);var Ki=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,r,n,i)},t.prototype.emplace=function(e,t,r,n,i,o){var a=4*e,s=8*e;return this.float32[a+0]=t,this.float32[a+1]=r,this.float32[a+2]=n,this.int16[s+6]=i,this.int16[s+7]=o,e},t}(xi);Ki.prototype.bytesPerElement=16,Wn("StructArrayLayout2f1f2i16",Ki);var ji=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,r,n)},t.prototype.emplace=function(e,t,r,n,i){var o=12*e,a=3*e;return this.uint8[o+0]=t,this.uint8[o+1]=r,this.float32[a+1]=n,this.float32[a+2]=i,e},t}(xi);ji.prototype.bytesPerElement=12,Wn("StructArrayLayout2ub2f12",ji);var zi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)},t.prototype.emplace=function(e,t,r,n){var i=3*e;return this.uint16[i+0]=t,this.uint16[i+1]=r,this.uint16[i+2]=n,e},t}(xi);zi.prototype.bytesPerElement=6,Wn("StructArrayLayout3ui6",zi);var Fi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i,o,a,s,l,_,u,c,p,d,h,f,m){var y=this.length;return this.resize(y+1),this.emplace(y,e,t,r,n,i,o,a,s,l,_,u,c,p,d,h,f,m)},t.prototype.emplace=function(e,t,r,n,i,o,a,s,l,_,u,c,p,d,h,f,m,y){var g=24*e,b=12*e,v=48*e;return this.int16[g+0]=t,this.int16[g+1]=r,this.uint16[g+2]=n,this.uint16[g+3]=i,this.uint32[b+2]=o,this.uint32[b+3]=a,this.uint32[b+4]=s,this.uint16[g+10]=l,this.uint16[g+11]=_,this.uint16[g+12]=u,this.float32[b+7]=c,this.float32[b+8]=p,this.uint8[v+36]=d,this.uint8[v+37]=h,this.uint8[v+38]=f,this.uint32[b+10]=m,this.int16[g+22]=y,e},t}(xi);Fi.prototype.bytesPerElement=48,Wn("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Fi);var qi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i,o,a,s,l,_,u,c,p,d,h,f,m,y,g,b,v,E,O,M,P,x,w,C){var D=this.length;return this.resize(D+1),this.emplace(D,e,t,r,n,i,o,a,s,l,_,u,c,p,d,h,f,m,y,g,b,v,E,O,M,P,x,w,C)},t.prototype.emplace=function(e,t,r,n,i,o,a,s,l,_,u,c,p,d,h,f,m,y,g,b,v,E,O,M,P,x,w,C,D){var T=34*e,k=17*e;return this.int16[T+0]=t,this.int16[T+1]=r,this.int16[T+2]=n,this.int16[T+3]=i,this.int16[T+4]=o,this.int16[T+5]=a,this.int16[T+6]=s,this.int16[T+7]=l,this.uint16[T+8]=_,this.uint16[T+9]=u,this.uint16[T+10]=c,this.uint16[T+11]=p,this.uint16[T+12]=d,this.uint16[T+13]=h,this.uint16[T+14]=f,this.uint16[T+15]=m,this.uint16[T+16]=y,this.uint16[T+17]=g,this.uint16[T+18]=b,this.uint16[T+19]=v,this.uint16[T+20]=E,this.uint16[T+21]=O,this.uint16[T+22]=M,this.uint32[k+12]=P,this.float32[k+13]=x,this.float32[k+14]=w,this.float32[k+15]=C,this.float32[k+16]=D,e},t}(xi);qi.prototype.bytesPerElement=68,Wn("StructArrayLayout8i15ui1ul4f68",qi);var Ni=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){return this.float32[1*e+0]=t,e},t}(xi);Ni.prototype.bytesPerElement=4,Wn("StructArrayLayout1f4",Ni);var Hi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)},t.prototype.emplace=function(e,t,r,n){var i=3*e;return this.int16[i+0]=t,this.int16[i+1]=r,this.int16[i+2]=n,e},t}(xi);Hi.prototype.bytesPerElement=6,Wn("StructArrayLayout3i6",Hi);var Gi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)},t.prototype.emplace=function(e,t,r,n){var i=4*e;return this.uint32[2*e+0]=t,this.uint16[i+2]=r,this.uint16[i+3]=n,e},t}(xi);Gi.prototype.bytesPerElement=8,Wn("StructArrayLayout1ul2ui8",Gi);var Vi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var r=this.length;return this.resize(r+1),this.emplace(r,e,t)},t.prototype.emplace=function(e,t,r){var n=2*e;return this.uint16[n+0]=t,this.uint16[n+1]=r,e},t}(xi);Vi.prototype.bytesPerElement=4,Wn("StructArrayLayout2ui4",Vi);var Zi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){return this.uint16[1*e+0]=t,e},t}(xi);Zi.prototype.bytesPerElement=2,Wn("StructArrayLayout1ui2",Zi);var Xi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,r,n)},t.prototype.emplace=function(e,t,r,n,i){var o=4*e;return this.float32[o+0]=t,this.float32[o+1]=r,this.float32[o+2]=n,this.float32[o+3]=i,e},t}(xi);Xi.prototype.bytesPerElement=16,Wn("StructArrayLayout4f16",Xi);var $i=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var r={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return r.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},r.x1.get=function(){return this._structArray.int16[this._pos2+2]},r.y1.get=function(){return this._structArray.int16[this._pos2+3]},r.x2.get=function(){return this._structArray.int16[this._pos2+4]},r.y2.get=function(){return this._structArray.int16[this._pos2+5]},r.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},r.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},r.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},r.anchorPoint.get=function(){return new i(this.anchorPointX,this.anchorPointY)},Object.defineProperties(t.prototype,r),t}(Pi);$i.prototype.size=20;var Yi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new $i(this,e)},t}(Ui);Wn("CollisionBoxArray",Yi);var Ji=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var r={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return r.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},r.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},r.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},r.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},r.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},r.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},r.segment.get=function(){return this._structArray.uint16[this._pos2+10]},r.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},r.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},r.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},r.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},r.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},r.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},r.placedOrientation.set=function(e){this._structArray.uint8[this._pos1+37]=e},r.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},r.hidden.set=function(e){this._structArray.uint8[this._pos1+38]=e},r.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},r.crossTileID.set=function(e){this._structArray.uint32[this._pos4+10]=e},r.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(t.prototype,r),t}(Pi);Ji.prototype.size=48;var Qi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new Ji(this,e)},t}(Fi);Wn("PlacedSymbolArray",Qi);var eo=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var r={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return r.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},r.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},r.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},r.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},r.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},r.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},r.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},r.key.get=function(){return this._structArray.uint16[this._pos2+8]},r.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},r.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},r.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},r.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},r.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},r.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},r.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},r.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},r.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},r.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},r.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},r.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},r.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},r.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},r.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},r.crossTileID.set=function(e){this._structArray.uint32[this._pos4+12]=e},r.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},r.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},r.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},r.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(t.prototype,r),t}(Pi);eo.prototype.size=68;var to=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new eo(this,e)},t}(qi);Wn("SymbolInstanceArray",to);var ro=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getoffsetX=function(e){return this.float32[1*e+0]},t}(Ni);Wn("GlyphOffsetArray",ro);var no=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getx=function(e){return this.int16[3*e+0]},t.prototype.gety=function(e){return this.int16[3*e+1]},t.prototype.gettileUnitDistanceFromAnchor=function(e){return this.int16[3*e+2]},t}(Hi);Wn("SymbolLineVertexArray",no);var io=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var r={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return r.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},r.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},r.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(t.prototype,r),t}(Pi);io.prototype.size=8;var oo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new io(this,e)},t}(Gi);Wn("FeatureIndexArray",oo);var ao=wi([{name:"a_pos",components:2,type:"Int16"}],4).members,so=function(e){void 0===e&&(e=[]),this.segments=e};function lo(e,t){return 256*(e=u(Math.floor(e),0,255))+u(Math.floor(t),0,255)}so.prototype.prepareSegment=function(e,t,r,n){var i=this.segments[this.segments.length-1];return e>so.MAX_VERTEX_ARRAY_LENGTH&&M("Max vertices per segment is "+so.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+e),(!i||i.vertexLength+e>so.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==n)&&(i={vertexOffset:t.length,primitiveOffset:r.length,vertexLength:0,primitiveLength:0},void 0!==n&&(i.sortKey=n),this.segments.push(i)),i},so.prototype.get=function(){return this.segments},so.prototype.destroy=function(){for(var e=0,t=this.segments;e<t.length;e+=1){var r=t[e];for(var n in r.vaos)r.vaos[n].destroy()}},so.simpleSegment=function(e,t,r,n){return new so([{vertexOffset:e,primitiveOffset:t,vertexLength:r,primitiveLength:n,vaos:{},sortKey:0}])},so.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Wn("SegmentVector",so);var _o=wi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),uo=t((function(e){e.exports=function(e,t){var r,n,i,o,a,s,l,_;for(n=e.length-(r=3&e.length),i=t,a=3432918353,s=461845907,_=0;_<n;)l=255&e.charCodeAt(_)|(255&e.charCodeAt(++_))<<8|(255&e.charCodeAt(++_))<<16|(255&e.charCodeAt(++_))<<24,++_,i=27492+(65535&(o=5*(65535&(i=(i^=l=(65535&(l=(l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(l=0,r){case 3:l^=(255&e.charCodeAt(_+2))<<16;case 2:l^=(255&e.charCodeAt(_+1))<<8;case 1:i^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(_)))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}})),co=t((function(e){e.exports=function(e,t){for(var r,n=e.length,i=t^n,o=0;n>=4;)r=1540483477*(65535&(r=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(r>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(r=1540483477*(65535&(r^=r>>>24))+((1540483477*(r>>>16)&65535)<<16)),n-=4,++o;switch(n){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}})),po=uo,ho=co;po.murmur3=uo,po.murmur2=ho;var fo=function(){this.ids=[],this.positions=[],this.indexed=!1};fo.prototype.add=function(e,t,r,n){this.ids.push(yo(e)),this.positions.push(t,r,n)},fo.prototype.getPositions=function(e){for(var t=yo(e),r=0,n=this.ids.length-1;r<n;){var i=r+n>>1;this.ids[i]>=t?n=i:r=i+1}for(var o=[];this.ids[r]===t;)o.push({index:this.positions[3*r],start:this.positions[3*r+1],end:this.positions[3*r+2]}),r++;return o},fo.serialize=function(e,t){var r=new Float64Array(e.ids),n=new Uint32Array(e.positions);return function e(t,r,n,i){for(;n<i;){for(var o=t[n+i>>1],a=n-1,s=i+1;;){do{a++}while(t[a]<o);do{s--}while(t[s]>o);if(a>=s)break;go(t,a,s),go(r,3*a,3*s),go(r,3*a+1,3*s+1),go(r,3*a+2,3*s+2)}s-n<i-s?(e(t,r,n,s),n=s+1):(e(t,r,s+1,i),i=s)}}(r,n,0,r.length-1),t&&t.push(r.buffer,n.buffer),{ids:r,positions:n}},fo.deserialize=function(e){var t=new fo;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t};var mo=Math.pow(2,53)-1;function yo(e){var t=+e;return!isNaN(t)&&t<=mo?t:po(String(e))}function go(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}Wn("FeaturePositionMap",fo);var bo=function(e,t){this.gl=e.gl,this.location=t},vo=function(e){function t(t,r){e.call(this,t,r),this.current=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))},t}(bo),Eo=function(e){function t(t,r){e.call(this,t,r),this.current=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))},t}(bo),Oo=function(e){function t(t,r){e.call(this,t,r),this.current=[0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]||(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))},t}(bo),Mo=function(e){function t(t,r){e.call(this,t,r),this.current=[0,0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]||(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))},t}(bo),Po=function(e){function t(t,r){e.call(this,t,r),this.current=[0,0,0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))},t}(bo),xo=function(e){function t(t,r){e.call(this,t,r),this.current=et.transparent}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))},t}(bo),wo=new Float32Array(16),Co=function(e){function t(t,r){e.call(this,t,r),this.current=wo}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){if(e[12]!==this.current[12]||e[0]!==this.current[0])return this.current=e,void this.gl.uniformMatrix4fv(this.location,!1,e);for(var t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}},t}(bo);function Do(e){return[lo(255*e.r,255*e.g),lo(255*e.b,255*e.a)]}var To=function(e,t,r){this.value=e,this.uniformNames=t.map((function(e){return"u_"+e})),this.type=r};To.prototype.setUniform=function(e,t,r){e.set(r.constantOr(this.value))},To.prototype.getBinding=function(e,t,r){return"color"===this.type?new xo(e,t):new Eo(e,t)};var ko=function(e,t){this.uniformNames=t.map((function(e){return"u_"+e})),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};ko.prototype.setConstantPatternPositions=function(e,t){this.pixelRatioFrom=t.pixelRatio,this.pixelRatioTo=e.pixelRatio,this.patternFrom=t.tlbr,this.patternTo=e.tlbr},ko.prototype.setUniform=function(e,t,r,n){var i="u_pattern_to"===n?this.patternTo:"u_pattern_from"===n?this.patternFrom:"u_pixel_ratio_to"===n?this.pixelRatioTo:"u_pixel_ratio_from"===n?this.pixelRatioFrom:null;i&&e.set(i)},ko.prototype.getBinding=function(e,t,r){return"u_pattern"===r.substr(0,9)?new Po(e,t):new Eo(e,t)};var Ao=function(e,t,r,n){this.expression=e,this.type=r,this.maxValue=0,this.paintVertexAttributes=t.map((function(e){return{name:"a_"+e,type:"Float32",components:"color"===r?2:1,offset:0}})),this.paintVertexArray=new n};Ao.prototype.populatePaintArray=function(e,t,r,n,i){var o=this.paintVertexArray.length,a=this.expression.evaluate(new si(0),t,{},n,[],i);this.paintVertexArray.resize(e),this._setPaintValue(o,e,a)},Ao.prototype.updatePaintArray=function(e,t,r,n){var i=this.expression.evaluate({zoom:0},r,n);this._setPaintValue(e,t,i)},Ao.prototype._setPaintValue=function(e,t,r){if("color"===this.type)for(var n=Do(r),i=e;i<t;i++)this.paintVertexArray.emplace(i,n[0],n[1]);else{for(var o=e;o<t;o++)this.paintVertexArray.emplace(o,r);this.maxValue=Math.max(this.maxValue,Math.abs(r))}},Ao.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ao.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Io=function(e,t,r,n,i,o){this.expression=e,this.uniformNames=t.map((function(e){return"u_"+e+"_t"})),this.type=r,this.useIntegerZoom=n,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=t.map((function(e){return{name:"a_"+e,type:"Float32",components:"color"===r?4:2,offset:0}})),this.paintVertexArray=new o};Io.prototype.populatePaintArray=function(e,t,r,n,i){var o=this.expression.evaluate(new si(this.zoom),t,{},n,[],i),a=this.expression.evaluate(new si(this.zoom+1),t,{},n,[],i),s=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(s,e,o,a)},Io.prototype.updatePaintArray=function(e,t,r,n){var i=this.expression.evaluate({zoom:this.zoom},r,n),o=this.expression.evaluate({zoom:this.zoom+1},r,n);this._setPaintValue(e,t,i,o)},Io.prototype._setPaintValue=function(e,t,r,n){if("color"===this.type)for(var i=Do(r),o=Do(n),a=e;a<t;a++)this.paintVertexArray.emplace(a,i[0],i[1],o[0],o[1]);else{for(var s=e;s<t;s++)this.paintVertexArray.emplace(s,r,n);this.maxValue=Math.max(this.maxValue,Math.abs(r),Math.abs(n))}},Io.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Io.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Io.prototype.setUniform=function(e,t){var r=this.useIntegerZoom?Math.floor(t.zoom):t.zoom,n=u(this.expression.interpolationFactor(r,this.zoom,this.zoom+1),0,1);e.set(n)},Io.prototype.getBinding=function(e,t,r){return new Eo(e,t)};var Lo=function(e,t,r,n,i,o){this.expression=e,this.type=t,this.useIntegerZoom=r,this.zoom=n,this.layerId=o,this.zoomInPaintVertexArray=new i,this.zoomOutPaintVertexArray=new i};Lo.prototype.populatePaintArray=function(e,t,r){var n=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(n,e,t.patterns&&t.patterns[this.layerId],r)},Lo.prototype.updatePaintArray=function(e,t,r,n,i){this._setPaintValues(e,t,r.patterns&&r.patterns[this.layerId],i)},Lo.prototype._setPaintValues=function(e,t,r,n){if(n&&r){var i=n[r.min],o=n[r.mid],a=n[r.max];if(i&&o&&a)for(var s=e;s<t;s++)this.zoomInPaintVertexArray.emplace(s,o.tl[0],o.tl[1],o.br[0],o.br[1],i.tl[0],i.tl[1],i.br[0],i.br[1],o.pixelRatio,i.pixelRatio),this.zoomOutPaintVertexArray.emplace(s,o.tl[0],o.tl[1],o.br[0],o.br[1],a.tl[0],a.tl[1],a.br[0],a.br[1],o.pixelRatio,a.pixelRatio)}},Lo.prototype.upload=function(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,_o.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,_o.members,this.expression.isStateDependent))},Lo.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Ro=function(e,t,r){this.binders={},this._buffers=[];var n=[];for(var i in e.paint._values)if(r(i)){var o=e.paint.get(i);if(o instanceof hi&&Lr(o.property.specification)){var a=Bo(i,e.type),s=o.value,l=o.property.specification.type,_=o.property.useIntegerZoom,u=o.property.specification["property-type"],c="cross-faded"===u||"cross-faded-data-driven"===u;if("constant"===s.kind)this.binders[i]=c?new ko(s.value,a):new To(s.value,a,l),n.push("/u_"+i);else if("source"===s.kind||c){var p=Uo(i,l,"source");this.binders[i]=c?new Lo(s,l,_,t,p,e.id):new Ao(s,a,l,p),n.push("/a_"+i)}else{var d=Uo(i,l,"composite");this.binders[i]=new Io(s,a,l,_,t,d),n.push("/z_"+i)}}}this.cacheKey=n.sort().join("")};Ro.prototype.getMaxValue=function(e){var t=this.binders[e];return t instanceof Ao||t instanceof Io?t.maxValue:0},Ro.prototype.populatePaintArrays=function(e,t,r,n,i){for(var o in this.binders){var a=this.binders[o];(a instanceof Ao||a instanceof Io||a instanceof Lo)&&a.populatePaintArray(e,t,r,n,i)}},Ro.prototype.setConstantPatternPositions=function(e,t){for(var r in this.binders){var n=this.binders[r];n instanceof ko&&n.setConstantPatternPositions(e,t)}},Ro.prototype.updatePaintArrays=function(e,t,r,n,i){var o=!1;for(var a in e)for(var s=0,l=t.getPositions(a);s<l.length;s+=1){var _=l[s],u=r.feature(_.index);for(var c in this.binders){var p=this.binders[c];if((p instanceof Ao||p instanceof Io||p instanceof Lo)&&!0===p.expression.isStateDependent){var d=n.paint.get(c);p.expression=d.value,p.updatePaintArray(_.start,_.end,u,e[a],i),o=!0}}}return o},Ro.prototype.defines=function(){var e=[];for(var t in this.binders){var r=this.binders[t];(r instanceof To||r instanceof ko)&&e.push.apply(e,r.uniformNames.map((function(e){return"#define HAS_UNIFORM_"+e})))}return e},Ro.prototype.getBinderAttributes=function(){var e=[];for(var t in this.binders){var r=this.binders[t];if(r instanceof Ao||r instanceof Io)for(var n=0;n<r.paintVertexAttributes.length;n++)e.push(r.paintVertexAttributes[n].name);else if(r instanceof Lo)for(var i=0;i<_o.members.length;i++)e.push(_o.members[i].name)}return e},Ro.prototype.getBinderUniforms=function(){var e=[];for(var t in this.binders){var r=this.binders[t];if(r instanceof To||r instanceof ko||r instanceof Io)for(var n=0,i=r.uniformNames;n<i.length;n+=1)e.push(i[n])}return e},Ro.prototype.getPaintVertexBuffers=function(){return this._buffers},Ro.prototype.getUniforms=function(e,t){var r=[];for(var n in this.binders){var i=this.binders[n];if(i instanceof To||i instanceof ko||i instanceof Io)for(var o=0,a=i.uniformNames;o<a.length;o+=1){var s=a[o];if(t[s]){var l=i.getBinding(e,t[s],s);r.push({name:s,property:n,binding:l})}}}return r},Ro.prototype.setUniforms=function(e,t,r,n){for(var i=0,o=t;i<o.length;i+=1){var a=o[i],s=a.name,l=a.property;this.binders[l].setUniform(a.binding,n,r.get(l),s)}},Ro.prototype.updatePaintBuffers=function(e){for(var t in this._buffers=[],this.binders){var r=this.binders[t];if(e&&r instanceof Lo){var n=2===e.fromScale?r.zoomInPaintVertexBuffer:r.zoomOutPaintVertexBuffer;n&&this._buffers.push(n)}else(r instanceof Ao||r instanceof Io)&&r.paintVertexBuffer&&this._buffers.push(r.paintVertexBuffer)}},Ro.prototype.upload=function(e){for(var t in this.binders){var r=this.binders[t];(r instanceof Ao||r instanceof Io||r instanceof Lo)&&r.upload(e)}this.updatePaintBuffers()},Ro.prototype.destroy=function(){for(var e in this.binders){var t=this.binders[e];(t instanceof Ao||t instanceof Io||t instanceof Lo)&&t.destroy()}};var So=function(e,t,r){void 0===r&&(r=function(){return!0}),this.programConfigurations={};for(var n=0,i=e;n<i.length;n+=1){var o=i[n];this.programConfigurations[o.id]=new Ro(o,t,r)}this.needsUpload=!1,this._featureMap=new fo,this._bufferOffset=0};function Bo(e,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[e]||[e.replace(t+"-","").replace(/-/g,"_")]}function Uo(e,t,r){var n={color:{source:Ii,composite:Xi},number:{source:Ni,composite:Ii}},i=function(e){return{"line-pattern":{source:Li,composite:Li},"fill-pattern":{source:Li,composite:Li},"fill-extrusion-pattern":{source:Li,composite:Li}}[e]}(e);return i&&i[r]||n[t][r]}So.prototype.populatePaintArrays=function(e,t,r,n,i,o){for(var a in this.programConfigurations)this.programConfigurations[a].populatePaintArrays(e,t,n,i,o);void 0!==t.id&&this._featureMap.add(t.id,r,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0},So.prototype.updatePaintArrays=function(e,t,r,n){for(var i=0,o=r;i<o.length;i+=1){var a=o[i];this.needsUpload=this.programConfigurations[a.id].updatePaintArrays(e,this._featureMap,t,a,n)||this.needsUpload}},So.prototype.get=function(e){return this.programConfigurations[e]},So.prototype.upload=function(e){if(this.needsUpload){for(var t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}},So.prototype.destroy=function(){for(var e in this.programConfigurations)this.programConfigurations[e].destroy()},Wn("ConstantBinder",To),Wn("CrossFadedConstantBinder",ko),Wn("SourceExpressionBinder",Ao),Wn("CrossFadedCompositeBinder",Lo),Wn("CompositeExpressionBinder",Io),Wn("ProgramConfiguration",Ro,{omit:["_buffers"]}),Wn("ProgramConfigurationSet",So);var Wo=Math.pow(2,14)-1,Ko=-Wo-1;function jo(e){for(var t=8192/e.extent,r=e.loadGeometry(),n=0;n<r.length;n++)for(var i=r[n],o=0;o<i.length;o++){var a=i[o],s=Math.round(a.x*t),l=Math.round(a.y*t);a.x=u(s,Ko,Wo),a.y=u(l,Ko,Wo),(s<a.x||s>a.x+1||l<a.y||l>a.y+1)&&M("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return r}function zo(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?jo(e):[]}}function Fo(e,t,r,n,i){e.emplaceBack(2*t+(n+1)/2,2*r+(i+1)/2)}var qo=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Di,this.indexArray=new zi,this.segments=new so,this.programConfigurations=new So(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};function No(e,t){for(var r=0;r<e.length;r++)if(Qo(t,e[r]))return!0;for(var n=0;n<t.length;n++)if(Qo(e,t[n]))return!0;return!!Zo(e,t)}function Ho(e,t,r){return!!Qo(e,t)||!!$o(t,e,r)}function Go(e,t){if(1===e.length)return Jo(t,e[0]);for(var r=0;r<t.length;r++)for(var n=t[r],i=0;i<n.length;i++)if(Qo(e,n[i]))return!0;for(var o=0;o<e.length;o++)if(Jo(t,e[o]))return!0;for(var a=0;a<t.length;a++)if(Zo(e,t[a]))return!0;return!1}function Vo(e,t,r){if(e.length>1){if(Zo(e,t))return!0;for(var n=0;n<t.length;n++)if($o(t[n],e,r))return!0}for(var i=0;i<e.length;i++)if($o(e[i],t,r))return!0;return!1}function Zo(e,t){if(0===e.length||0===t.length)return!1;for(var r=0;r<e.length-1;r++)for(var n=e[r],i=e[r+1],o=0;o<t.length-1;o++)if(Xo(n,i,t[o],t[o+1]))return!0;return!1}function Xo(e,t,r,n){return P(e,r,n)!==P(t,r,n)&&P(e,t,r)!==P(e,t,n)}function $o(e,t,r){var n=r*r;if(1===t.length)return e.distSqr(t[0])<n;for(var i=1;i<t.length;i++)if(Yo(e,t[i-1],t[i])<n)return!0;return!1}function Yo(e,t,r){var n=t.distSqr(r);if(0===n)return e.distSqr(t);var i=((e.x-t.x)*(r.x-t.x)+(e.y-t.y)*(r.y-t.y))/n;return e.distSqr(i<0?t:i>1?r:r.sub(t)._mult(i)._add(t))}function Jo(e,t){for(var r,n,i,o=!1,a=0;a<e.length;a++)for(var s=0,l=(r=e[a]).length-1;s<r.length;l=s++)(n=r[s]).y>t.y!=(i=r[l]).y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(o=!o);return o}function Qo(e,t){for(var r=!1,n=0,i=e.length-1;n<e.length;i=n++){var o=e[n],a=e[i];o.y>t.y!=a.y>t.y&&t.x<(a.x-o.x)*(t.y-o.y)/(a.y-o.y)+o.x&&(r=!r)}return r}function ea(e,t,r){var n=r[0],i=r[2];if(e.x<n.x&&t.x<n.x||e.x>i.x&&t.x>i.x||e.y<n.y&&t.y<n.y||e.y>i.y&&t.y>i.y)return!1;var o=P(e,t,r[0]);return o!==P(e,t,r[1])||o!==P(e,t,r[2])||o!==P(e,t,r[3])}function ta(e,t,r){var n=t.paint.get(e).value;return"constant"===n.kind?n.value:r.programConfigurations.get(t.id).getMaxValue(e)}function ra(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function na(e,t,r,n,o){if(!t[0]&&!t[1])return e;var a=i.convert(t)._mult(o);"viewport"===r&&a._rotate(-n);for(var s=[],l=0;l<e.length;l++)s.push(e[l].sub(a));return s}qo.prototype.populate=function(e,t,r){var n=this.layers[0],i=[],o=null;"circle"===n.type&&(o=n.layout.get("circle-sort-key"));for(var a=0,s=e;a<s.length;a+=1){var l=s[a],_=l.feature,u=l.id,c=l.index,p=l.sourceLayerIndex,d=this.layers[0]._featureFilter.needGeometry,h=zo(_,d);if(this.layers[0]._featureFilter.filter(new si(this.zoom),h,r)){var f=o?o.evaluate(h,{},r):void 0,m={id:u,properties:_.properties,type:_.type,sourceLayerIndex:p,index:c,geometry:d?h.geometry:jo(_),patterns:{},sortKey:f};i.push(m)}}o&&i.sort((function(e,t){return e.sortKey-t.sortKey}));for(var y=0,g=i;y<g.length;y+=1){var b=g[y],v=b.geometry,E=b.index,O=b.sourceLayerIndex,M=e[E].feature;this.addFeature(b,v,E,r),t.featureIndex.insert(M,v,E,O,this.index)}},qo.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},qo.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},qo.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},qo.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,ao),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},qo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},qo.prototype.addFeature=function(e,t,r,n){for(var i=0,o=t;i<o.length;i+=1)for(var a=0,s=o[i];a<s.length;a+=1){var l=s[a],_=l.x,u=l.y;if(!(_<0||_>=8192||u<0||u>=8192)){var c=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),p=c.vertexLength;Fo(this.layoutVertexArray,_,u,-1,-1),Fo(this.layoutVertexArray,_,u,1,-1),Fo(this.layoutVertexArray,_,u,1,1),Fo(this.layoutVertexArray,_,u,-1,1),this.indexArray.emplaceBack(p,p+1,p+2),this.indexArray.emplaceBack(p,p+3,p+2),c.vertexLength+=4,c.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,{},n)},Wn("CircleBucket",qo,{omit:["layers"]});var ia=new Ei({"circle-sort-key":new yi(Te.layout_circle["circle-sort-key"])}),oa={paint:new Ei({"circle-radius":new yi(Te.paint_circle["circle-radius"]),"circle-color":new yi(Te.paint_circle["circle-color"]),"circle-blur":new yi(Te.paint_circle["circle-blur"]),"circle-opacity":new yi(Te.paint_circle["circle-opacity"]),"circle-translate":new mi(Te.paint_circle["circle-translate"]),"circle-translate-anchor":new mi(Te.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new mi(Te.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new mi(Te.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new yi(Te.paint_circle["circle-stroke-width"]),"circle-stroke-color":new yi(Te.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new yi(Te.paint_circle["circle-stroke-opacity"])}),layout:ia},aa="undefined"!=typeof Float32Array?Float32Array:Array;function sa(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function la(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],_=t[6],u=t[7],c=t[8],p=t[9],d=t[10],h=t[11],f=t[12],m=t[13],y=t[14],g=t[15],b=r[0],v=r[1],E=r[2],O=r[3];return e[0]=b*n+v*s+E*c+O*f,e[1]=b*i+v*l+E*p+O*m,e[2]=b*o+v*_+E*d+O*y,e[3]=b*a+v*u+E*h+O*g,e[4]=(b=r[4])*n+(v=r[5])*s+(E=r[6])*c+(O=r[7])*f,e[5]=b*i+v*l+E*p+O*m,e[6]=b*o+v*_+E*d+O*y,e[7]=b*a+v*u+E*h+O*g,e[8]=(b=r[8])*n+(v=r[9])*s+(E=r[10])*c+(O=r[11])*f,e[9]=b*i+v*l+E*p+O*m,e[10]=b*o+v*_+E*d+O*y,e[11]=b*a+v*u+E*h+O*g,e[12]=(b=r[12])*n+(v=r[13])*s+(E=r[14])*c+(O=r[15])*f,e[13]=b*i+v*l+E*p+O*m,e[14]=b*o+v*_+E*d+O*y,e[15]=b*a+v*u+E*h+O*g,e}Math.hypot||(Math.hypot=function(){for(var e=arguments,t=0,r=arguments.length;r--;)t+=e[r]*e[r];return Math.sqrt(t)});var _a,ua=la;function ca(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*o+r[12]*a,e[1]=r[1]*n+r[5]*i+r[9]*o+r[13]*a,e[2]=r[2]*n+r[6]*i+r[10]*o+r[14]*a,e[3]=r[3]*n+r[7]*i+r[11]*o+r[15]*a,e}_a=new aa(3),aa!=Float32Array&&(_a[0]=0,_a[1]=0,_a[2]=0),function(){var e=new aa(4);aa!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0)}();var pa=(function(){var e=new aa(2);aa!=Float32Array&&(e[0]=0,e[1]=0)}(),function(e){function t(t){e.call(this,t,oa)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(e){return new qo(e)},t.prototype.queryRadius=function(e){var t=e;return ta("circle-radius",this,t)+ta("circle-stroke-width",this,t)+ra(this.paint.get("circle-translate"))},t.prototype.queryIntersectsFeature=function(e,t,r,n,i,o,a,s){for(var l=na(e,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,a),_=this.paint.get("circle-radius").evaluate(t,r)+this.paint.get("circle-stroke-width").evaluate(t,r),u="map"===this.paint.get("circle-pitch-alignment"),c=u?l:function(e,t){return e.map((function(e){return da(e,t)}))}(l,s),p=u?_*a:_,d=0,h=n;d<h.length;d+=1)for(var f=0,m=h[d];f<m.length;f+=1){var y=m[f],g=u?y:da(y,s),b=p,v=ca([],[y.x,y.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?b*=v[3]/o.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(b*=o.cameraToCenterDistance/v[3]),Ho(c,g,b))return!0}return!1},t}(Oi));function da(e,t){var r=ca([],[e.x,e.y,0,1],t);return new i(r[0]/r[3],r[1]/r[3])}var ha=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(qo);function fa(e,t,r,n){var i=t.width,o=t.height;if(n){if(n instanceof Uint8ClampedArray)n=new Uint8Array(n.buffer);else if(n.length!==i*o*r)throw new RangeError("mismatched image size")}else n=new Uint8Array(i*o*r);return e.width=i,e.height=o,e.data=n,e}function ma(e,t,r){var n=t.width,i=t.height;if(n!==e.width||i!==e.height){var o=fa({},{width:n,height:i},r);ya(e,o,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,n),height:Math.min(e.height,i)},r),e.width=n,e.height=i,e.data=o.data}}function ya(e,t,r,n,i,o){if(0===i.width||0===i.height)return t;if(i.width>e.width||i.height>e.height||r.x>e.width-i.width||r.y>e.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>t.width||i.height>t.height||n.x>t.width-i.width||n.y>t.height-i.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=e.data,s=t.data,l=0;l<i.height;l++)for(var _=((r.y+l)*e.width+r.x)*o,u=((n.y+l)*t.width+n.x)*o,c=0;c<i.width*o;c++)s[u+c]=a[_+c];return t}Wn("HeatmapBucket",ha,{omit:["layers"]});var ga=function(e,t){fa(this,e,1,t)};ga.prototype.resize=function(e){ma(this,e,1)},ga.prototype.clone=function(){return new ga({width:this.width,height:this.height},new Uint8Array(this.data))},ga.copy=function(e,t,r,n,i){ya(e,t,r,n,i,1)};var ba=function(e,t){fa(this,e,4,t)};ba.prototype.resize=function(e){ma(this,e,4)},ba.prototype.replace=function(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e},ba.prototype.clone=function(){return new ba({width:this.width,height:this.height},new Uint8Array(this.data))},ba.copy=function(e,t,r,n,i){ya(e,t,r,n,i,4)},Wn("AlphaImage",ga),Wn("RGBAImage",ba);var va={paint:new Ei({"heatmap-radius":new yi(Te.paint_heatmap["heatmap-radius"]),"heatmap-weight":new yi(Te.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new mi(Te.paint_heatmap["heatmap-intensity"]),"heatmap-color":new vi(Te.paint_heatmap["heatmap-color"]),"heatmap-opacity":new mi(Te.paint_heatmap["heatmap-opacity"])})};function Ea(e){var t={},r=e.resolution||256,n=e.clips?e.clips.length:1,i=e.image||new ba({width:r,height:n}),o=function(r,n,o){t[e.evaluationKey]=o;var a=e.expression.evaluate(t);i.data[r+n+0]=Math.floor(255*a.r/a.a),i.data[r+n+1]=Math.floor(255*a.g/a.a),i.data[r+n+2]=Math.floor(255*a.b/a.a),i.data[r+n+3]=Math.floor(255*a.a)};if(e.clips)for(var a=0,s=0;a<n;++a,s+=4*r)for(var l=0,_=0;l<r;l++,_+=4){var u=l/(r-1),c=e.clips[a];o(s,_,c.start*(1-u)+c.end*u)}else for(var p=0,d=0;p<r;p++,d+=4)o(0,d,p/(r-1));return i}var Oa=function(e){function t(t){e.call(this,t,va),this._updateColorRamp()}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(e){return new ha(e)},t.prototype._handleSpecialPaintPropertyUpdate=function(e){"heatmap-color"===e&&this._updateColorRamp()},t.prototype._updateColorRamp=function(){this.colorRamp=Ea({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},t.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},t}(Oi),Ma={paint:new Ei({"hillshade-illumination-direction":new mi(Te.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new mi(Te.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new mi(Te.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new mi(Te.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new mi(Te.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new mi(Te.paint_hillshade["hillshade-accent-color"])})},Pa=function(e){function t(t){e.call(this,t,Ma)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},t}(Oi),xa=wi([{name:"a_pos",components:2,type:"Int16"}],4).members,wa=Da,Ca=Da;function Da(e,t,r){r=r||2;var n,i,o,a,s,l,_,u=t&&t.length,c=u?t[0]*r:e.length,p=Ta(e,0,c,r,!0),d=[];if(!p||p.next===p.prev)return d;if(u&&(p=function(e,t,r,n){var i,o,a,s=[];for(i=0,o=t.length;i<o;i++)(a=Ta(e,t[i]*n,i<o-1?t[i+1]*n:e.length,n,!1))===a.next&&(a.steiner=!0),s.push(ja(a));for(s.sort(Ba),i=0;i<s.length;i++)Ua(s[i],r),r=ka(r,r.next);return r}(e,t,p,r)),e.length>80*r){n=o=e[0],i=a=e[1];for(var h=r;h<c;h+=r)(s=e[h])<n&&(n=s),(l=e[h+1])<i&&(i=l),s>o&&(o=s),l>a&&(a=l);_=0!==(_=Math.max(o-n,a-i))?1/_:0}return Aa(p,d,r,n,i,_),d}function Ta(e,t,r,n,i){var o,a;if(i===Qa(e,t,r,n)>0)for(o=t;o<r;o+=n)a=$a(o,e[o],e[o+1],a);else for(o=r-n;o>=t;o-=n)a=$a(o,e[o],e[o+1],a);return a&&Na(a,a.next)&&(Ya(a),a=a.next),a}function ka(e,t){if(!e)return e;t||(t=e);var r,n=e;do{if(r=!1,n.steiner||!Na(n,n.next)&&0!==qa(n.prev,n,n.next))n=n.next;else{if(Ya(n),(n=t=n.prev)===n.next)break;r=!0}}while(r||n!==t);return t}function Aa(e,t,r,n,i,o,a){if(e){!a&&o&&function(e,t,r,n){var i=e;do{null===i.z&&(i.z=Ka(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,r,n,i,o,a,s,l,_=1;do{for(r=e,e=null,o=null,a=0;r;){for(a++,n=r,s=0,t=0;t<_&&(s++,n=n.nextZ);t++);for(l=_;s>0||l>0&&n;)0!==s&&(0===l||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;r=n}o.nextZ=null,_*=2}while(a>1)}(i)}(e,n,i,o);for(var s,l,_=e;e.prev!==e.next;)if(s=e.prev,l=e.next,o?La(e,n,i,o):Ia(e))t.push(s.i/r),t.push(e.i/r),t.push(l.i/r),Ya(e),e=l.next,_=l.next;else if((e=l)===_){a?1===a?Aa(e=Ra(ka(e),t,r),t,r,n,i,o,2):2===a&&Sa(e,t,r,n,i,o):Aa(ka(e),t,r,n,i,o,1);break}}}function Ia(e){var t=e.prev,r=e,n=e.next;if(qa(t,r,n)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(za(t.x,t.y,r.x,r.y,n.x,n.y,i.x,i.y)&&qa(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function La(e,t,r,n){var i=e.prev,o=e,a=e.next;if(qa(i,o,a)>=0)return!1;for(var s=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,l=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,_=Ka(i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,t,r,n),u=Ka(s,l,t,r,n),c=e.prevZ,p=e.nextZ;c&&c.z>=_&&p&&p.z<=u;){if(c!==e.prev&&c!==e.next&&za(i.x,i.y,o.x,o.y,a.x,a.y,c.x,c.y)&&qa(c.prev,c,c.next)>=0)return!1;if(c=c.prevZ,p!==e.prev&&p!==e.next&&za(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&qa(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;c&&c.z>=_;){if(c!==e.prev&&c!==e.next&&za(i.x,i.y,o.x,o.y,a.x,a.y,c.x,c.y)&&qa(c.prev,c,c.next)>=0)return!1;c=c.prevZ}for(;p&&p.z<=u;){if(p!==e.prev&&p!==e.next&&za(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&qa(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function Ra(e,t,r){var n=e;do{var i=n.prev,o=n.next.next;!Na(i,o)&&Ha(i,n,n.next,o)&&Za(i,o)&&Za(o,i)&&(t.push(i.i/r),t.push(n.i/r),t.push(o.i/r),Ya(n),Ya(n.next),n=e=o),n=n.next}while(n!==e);return ka(n)}function Sa(e,t,r,n,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Fa(a,s)){var l=Xa(a,s);return a=ka(a,a.next),l=ka(l,l.next),Aa(a,t,r,n,i,o),void Aa(l,t,r,n,i,o)}s=s.next}a=a.next}while(a!==e)}function Ba(e,t){return e.x-t.x}function Ua(e,t){if(t=function(e,t){var r,n=t,i=e.x,o=e.y,a=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var s=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>a){if(a=s,s===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!r)return null;if(i===a)return r;var l,_=r,u=r.x,c=r.y,p=1/0;n=r;do{i>=n.x&&n.x>=u&&i!==n.x&&za(o<c?i:a,o,u,c,o<c?a:i,o,n.x,n.y)&&(l=Math.abs(o-n.y)/(i-n.x),Za(n,e)&&(l<p||l===p&&(n.x>r.x||n.x===r.x&&Wa(r,n)))&&(r=n,p=l)),n=n.next}while(n!==_);return r}(e,t)){var r=Xa(t,e);ka(t,t.next),ka(r,r.next)}}function Wa(e,t){return qa(e.prev,e,t.prev)<0&&qa(t.next,e,e.next)<0}function Ka(e,t,r,n,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function ja(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function za(e,t,r,n,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(n-s)-(r-a)*(t-s)>=0&&(r-a)*(o-s)-(i-a)*(n-s)>=0}function Fa(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&Ha(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(e,t)&&(Za(e,t)&&Za(t,e)&&function(e,t){var r=e,n=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==e);return n}(e,t)&&(qa(e.prev,e,t.prev)||qa(e,t.prev,t))||Na(e,t)&&qa(e.prev,e,e.next)>0&&qa(t.prev,t,t.next)>0)}function qa(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function Na(e,t){return e.x===t.x&&e.y===t.y}function Ha(e,t,r,n){var i=Va(qa(e,t,r)),o=Va(qa(e,t,n)),a=Va(qa(r,n,e)),s=Va(qa(r,n,t));return i!==o&&a!==s||!(0!==i||!Ga(e,r,t))||!(0!==o||!Ga(e,n,t))||!(0!==a||!Ga(r,e,n))||!(0!==s||!Ga(r,t,n))}function Ga(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function Va(e){return e>0?1:e<0?-1:0}function Za(e,t){return qa(e.prev,e,e.next)<0?qa(e,t,e.next)>=0&&qa(e,e.prev,t)>=0:qa(e,t,e.prev)<0||qa(e,e.next,t)<0}function Xa(e,t){var r=new Ja(e.i,e.x,e.y),n=new Ja(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function $a(e,t,r,n){var i=new Ja(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Ya(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Ja(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Qa(e,t,r,n){for(var i=0,o=t,a=r-n;o<r;o+=n)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}function es(e,t,r,n,i){!function e(t,r,n,i,o){for(;i>n;){if(i-n>600){var a=i-n+1,s=r-n+1,l=Math.log(a),_=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*_*(a-_)/a)*(s-a/2<0?-1:1);e(t,r,Math.max(n,Math.floor(r-s*_/a+u)),Math.min(i,Math.floor(r+(a-s)*_/a+u)),o)}var c=t[r],p=n,d=i;for(ts(t,n,r),o(t[i],c)>0&&ts(t,n,i);p<d;){for(ts(t,p,d),p++,d--;o(t[p],c)<0;)p++;for(;o(t[d],c)>0;)d--}0===o(t[n],c)?ts(t,n,d):ts(t,++d,i),d<=r&&(n=d+1),r<=d&&(i=d-1)}}(e,t,r||0,n||e.length-1,i||rs)}function ts(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function rs(e,t){return e<t?-1:e>t?1:0}function ns(e,t){var r=e.length;if(r<=1)return[e];for(var n,i,o=[],a=0;a<r;a++){var s=x(e[a]);0!==s&&(e[a].area=Math.abs(s),void 0===i&&(i=s<0),i===s<0?(n&&o.push(n),n=[e[a]]):n.push(e[a]))}if(n&&o.push(n),t>1)for(var l=0;l<o.length;l++)o[l].length<=t||(es(o[l],t,1,o[l].length-1,is),o[l]=o[l].slice(0,t));return o}function is(e,t){return t.area-e.area}function os(e,t,r){for(var n=r.patternDependencies,i=!1,o=0,a=t;o<a.length;o+=1){var s=a[o].paint.get(e+"-pattern");s.isConstant()||(i=!0);var l=s.constantOr(null);l&&(i=!0,n[l.to]=!0,n[l.from]=!0)}return i}function as(e,t,r,n,i){for(var o=i.patternDependencies,a=0,s=t;a<s.length;a+=1){var l=s[a],_=l.paint.get(e+"-pattern").value;if("constant"!==_.kind){var u=_.evaluate({zoom:n-1},r,{},i.availableImages),c=_.evaluate({zoom:n},r,{},i.availableImages),p=_.evaluate({zoom:n+1},r,{},i.availableImages);c=c&&c.name?c.name:c,p=p&&p.name?p.name:p,o[u=u&&u.name?u.name:u]=!0,o[c]=!0,o[p]=!0,r.patterns[l.id]={min:u,mid:c,max:p}}}return r}Da.deviation=function(e,t,r,n){var i=t&&t.length,o=Math.abs(Qa(e,0,i?t[0]*r:e.length,r));if(i)for(var a=0,s=t.length;a<s;a++)o-=Math.abs(Qa(e,t[a]*r,a<s-1?t[a+1]*r:e.length,r));var l=0;for(a=0;a<n.length;a+=3){var _=n[a]*r,u=n[a+1]*r,c=n[a+2]*r;l+=Math.abs((e[_]-e[c])*(e[u+1]-e[_+1])-(e[_]-e[u])*(e[c+1]-e[_+1]))}return 0===o&&0===l?0:Math.abs((l-o)/o)},Da.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)r.vertices.push(e[i][o][a]);i>0&&r.holes.push(n+=e[i-1].length)}return r},wa.default=Ca;var ss=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Di,this.indexArray=new zi,this.indexArray2=new Vi,this.programConfigurations=new So(e.layers,e.zoom),this.segments=new so,this.segments2=new so,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};ss.prototype.populate=function(e,t,r){this.hasPattern=os("fill",this.layers,t);for(var n=this.layers[0].layout.get("fill-sort-key"),i=[],o=0,a=e;o<a.length;o+=1){var s=a[o],l=s.feature,_=s.id,u=s.index,c=s.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,d=zo(l,p);if(this.layers[0]._featureFilter.filter(new si(this.zoom),d,r)){var h=n?n.evaluate(d,{},r,t.availableImages):void 0,f={id:_,properties:l.properties,type:l.type,sourceLayerIndex:c,index:u,geometry:p?d.geometry:jo(l),patterns:{},sortKey:h};i.push(f)}}n&&i.sort((function(e,t){return e.sortKey-t.sortKey}));for(var m=0,y=i;m<y.length;m+=1){var g=y[m],b=g.geometry,v=g.index,E=g.sourceLayerIndex;if(this.hasPattern){var O=as("fill",this.layers,g,this.zoom,t);this.patternFeatures.push(O)}else this.addFeature(g,b,v,r,{});t.featureIndex.insert(e[v].feature,b,v,E,this.index)}},ss.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},ss.prototype.addFeatures=function(e,t,r){for(var n=0,i=this.patternFeatures;n<i.length;n+=1){var o=i[n];this.addFeature(o,o.geometry,o.index,t,r)}},ss.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ss.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ss.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,xa),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0},ss.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},ss.prototype.addFeature=function(e,t,r,n,i){for(var o=0,a=ns(t,500);o<a.length;o+=1){for(var s=a[o],l=0,_=0,u=s;_<u.length;_+=1)l+=u[_].length;for(var c=this.segments.prepareSegment(l,this.layoutVertexArray,this.indexArray),p=c.vertexLength,d=[],h=[],f=0,m=s;f<m.length;f+=1){var y=m[f];if(0!==y.length){y!==s[0]&&h.push(d.length/2);var g=this.segments2.prepareSegment(y.length,this.layoutVertexArray,this.indexArray2),b=g.vertexLength;this.layoutVertexArray.emplaceBack(y[0].x,y[0].y),this.indexArray2.emplaceBack(b+y.length-1,b),d.push(y[0].x),d.push(y[0].y);for(var v=1;v<y.length;v++)this.layoutVertexArray.emplaceBack(y[v].x,y[v].y),this.indexArray2.emplaceBack(b+v-1,b+v),d.push(y[v].x),d.push(y[v].y);g.vertexLength+=y.length,g.primitiveLength+=y.length}}for(var E=wa(d,h),O=0;O<E.length;O+=3)this.indexArray.emplaceBack(p+E[O],p+E[O+1],p+E[O+2]);c.vertexLength+=l,c.primitiveLength+=E.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,i,n)},Wn("FillBucket",ss,{omit:["layers","patternFeatures"]});var ls=new Ei({"fill-sort-key":new yi(Te.layout_fill["fill-sort-key"])}),_s={paint:new Ei({"fill-antialias":new mi(Te.paint_fill["fill-antialias"]),"fill-opacity":new yi(Te.paint_fill["fill-opacity"]),"fill-color":new yi(Te.paint_fill["fill-color"]),"fill-outline-color":new yi(Te.paint_fill["fill-outline-color"]),"fill-translate":new mi(Te.paint_fill["fill-translate"]),"fill-translate-anchor":new mi(Te.paint_fill["fill-translate-anchor"]),"fill-pattern":new gi(Te.paint_fill["fill-pattern"])}),layout:ls},us=function(e){function t(t){e.call(this,t,_s)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.recalculate=function(t,r){e.prototype.recalculate.call(this,t,r);var n=this.paint._values["fill-outline-color"];"constant"===n.value.kind&&void 0===n.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},t.prototype.createBucket=function(e){return new ss(e)},t.prototype.queryRadius=function(){return ra(this.paint.get("fill-translate"))},t.prototype.queryIntersectsFeature=function(e,t,r,n,i,o,a){return Go(na(e,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,a),n)},t.prototype.isTileClipped=function(){return!0},t}(Oi),cs=wi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,ps=ds;function ds(e,t,r,n,i){this.properties={},this.extent=r,this.type=0,this._pbf=e,this._geometry=-1,this._keys=n,this._values=i,e.readFields(hs,this,t)}function hs(e,t,r){1==e?t.id=r.readVarint():2==e?function(e,t){for(var r=e.readVarint()+e.pos;e.pos<r;){var n=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[n]=i}}(r,t):3==e?t.type=r.readVarint():4==e&&(t._geometry=r.pos)}function fs(e){for(var t,r,n=0,i=0,o=e.length,a=o-1;i<o;a=i++)n+=((r=e[a]).x-(t=e[i]).x)*(t.y+r.y);return n}ds.types=["Unknown","Point","LineString","Polygon"],ds.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,r=e.readVarint()+e.pos,n=1,o=0,a=0,s=0,l=[];e.pos<r;){if(o<=0){var _=e.readVarint();n=7&_,o=_>>3}if(o--,1===n||2===n)a+=e.readSVarint(),s+=e.readSVarint(),1===n&&(t&&l.push(t),t=[]),t.push(new i(a,s));else{if(7!==n)throw new Error("unknown command "+n);t&&t.push(t[0].clone())}}return t&&l.push(t),l},ds.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,r=1,n=0,i=0,o=0,a=1/0,s=-1/0,l=1/0,_=-1/0;e.pos<t;){if(n<=0){var u=e.readVarint();r=7&u,n=u>>3}if(n--,1===r||2===r)(i+=e.readSVarint())<a&&(a=i),i>s&&(s=i),(o+=e.readSVarint())<l&&(l=o),o>_&&(_=o);else if(7!==r)throw new Error("unknown command "+r)}return[a,l,s,_]},ds.prototype.toGeoJSON=function(e,t,r){var n,i,o=this.extent*Math.pow(2,r),a=this.extent*e,s=this.extent*t,l=this.loadGeometry(),_=ds.types[this.type];function u(e){for(var t=0;t<e.length;t++){var r=e[t];e[t]=[360*(r.x+a)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(r.y+s)/o)*Math.PI/180))-90]}}switch(this.type){case 1:var c=[];for(n=0;n<l.length;n++)c[n]=l[n][0];u(l=c);break;case 2:for(n=0;n<l.length;n++)u(l[n]);break;case 3:for(l=function(e){var t=e.length;if(t<=1)return[e];for(var r,n,i=[],o=0;o<t;o++){var a=fs(e[o]);0!==a&&(void 0===n&&(n=a<0),n===a<0?(r&&i.push(r),r=[e[o]]):r.push(e[o]))}return r&&i.push(r),i}(l),n=0;n<l.length;n++)for(i=0;i<l[n].length;i++)u(l[n][i])}1===l.length?l=l[0]:_="Multi"+_;var p={type:"Feature",geometry:{type:_,coordinates:l},properties:this.properties};return"id"in this&&(p.id=this.id),p};var ms=ys;function ys(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(gs,this,t),this.length=this._features.length}function gs(e,t,r){15===e?t.version=r.readVarint():1===e?t.name=r.readString():5===e?t.extent=r.readVarint():2===e?t._features.push(r.pos):3===e?t._keys.push(r.readString()):4===e&&t._values.push(function(e){for(var t=null,r=e.readVarint()+e.pos;e.pos<r;){var n=e.readVarint()>>3;t=1===n?e.readString():2===n?e.readFloat():3===n?e.readDouble():4===n?e.readVarint64():5===n?e.readVarint():6===n?e.readSVarint():7===n?e.readBoolean():null}return t}(r))}function bs(e,t,r){if(3===e){var n=new ms(r,r.readVarint()+r.pos);n.length&&(t[n.name]=n)}}ys.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new ps(this._pbf,t,this.extent,this._keys,this._values)};var vs={VectorTile:function(e,t){this.layers=e.readFields(bs,{},t)},VectorTileFeature:ps,VectorTileLayer:ms},Es=vs.VectorTileFeature.types,Os=Math.pow(2,13);function Ms(e,t,r,n,i,o,a,s){e.emplaceBack(t,r,2*Math.floor(n*Os)+a,i*Os*2,o*Os*2,Math.round(s))}var Ps=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new ki,this.indexArray=new zi,this.programConfigurations=new So(e.layers,e.zoom),this.segments=new so,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};function xs(e,t){return e.x===t.x&&(e.x<0||e.x>8192)||e.y===t.y&&(e.y<0||e.y>8192)}Ps.prototype.populate=function(e,t,r){this.features=[],this.hasPattern=os("fill-extrusion",this.layers,t);for(var n=0,i=e;n<i.length;n+=1){var o=i[n],a=o.feature,s=o.id,l=o.index,_=o.sourceLayerIndex,u=this.layers[0]._featureFilter.needGeometry,c=zo(a,u);if(this.layers[0]._featureFilter.filter(new si(this.zoom),c,r)){var p={id:s,sourceLayerIndex:_,index:l,geometry:u?c.geometry:jo(a),properties:a.properties,type:a.type,patterns:{}};this.hasPattern?this.features.push(as("fill-extrusion",this.layers,p,this.zoom,t)):this.addFeature(p,p.geometry,l,r,{}),t.featureIndex.insert(a,p.geometry,l,_,this.index,!0)}}},Ps.prototype.addFeatures=function(e,t,r){for(var n=0,i=this.features;n<i.length;n+=1){var o=i[n];this.addFeature(o,o.geometry,o.index,t,r)}},Ps.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},Ps.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ps.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ps.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,cs),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Ps.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ps.prototype.addFeature=function(e,t,r,n,i){for(var o=0,a=ns(t,500);o<a.length;o+=1){for(var s=a[o],l=0,_=0,u=s;_<u.length;_+=1)l+=u[_].length;for(var c=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),p=0,d=s;p<d.length;p+=1){var h=d[p];if(0!==h.length&&!((I=h).every((function(e){return e.x<0}))||I.every((function(e){return e.x>8192}))||I.every((function(e){return e.y<0}))||I.every((function(e){return e.y>8192}))))for(var f=0,m=0;m<h.length;m++){var y=h[m];if(m>=1){var g=h[m-1];if(!xs(y,g)){c.vertexLength+4>so.MAX_VERTEX_ARRAY_LENGTH&&(c=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var b=y.sub(g)._perp()._unit(),v=g.dist(y);f+v>32768&&(f=0),Ms(this.layoutVertexArray,y.x,y.y,b.x,b.y,0,0,f),Ms(this.layoutVertexArray,y.x,y.y,b.x,b.y,0,1,f),Ms(this.layoutVertexArray,g.x,g.y,b.x,b.y,0,0,f+=v),Ms(this.layoutVertexArray,g.x,g.y,b.x,b.y,0,1,f);var E=c.vertexLength;this.indexArray.emplaceBack(E,E+2,E+1),this.indexArray.emplaceBack(E+1,E+2,E+3),c.vertexLength+=4,c.primitiveLength+=2}}}}if(c.vertexLength+l>so.MAX_VERTEX_ARRAY_LENGTH&&(c=this.segments.prepareSegment(l,this.layoutVertexArray,this.indexArray)),"Polygon"===Es[e.type]){for(var O=[],M=[],P=c.vertexLength,x=0,w=s;x<w.length;x+=1){var C=w[x];if(0!==C.length){C!==s[0]&&M.push(O.length/2);for(var D=0;D<C.length;D++){var T=C[D];Ms(this.layoutVertexArray,T.x,T.y,0,0,1,1,0),O.push(T.x),O.push(T.y)}}}for(var k=wa(O,M),A=0;A<k.length;A+=3)this.indexArray.emplaceBack(P+k[A],P+k[A+2],P+k[A+1]);c.primitiveLength+=k.length/3,c.vertexLength+=l}}var I;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,i,n)},Wn("FillExtrusionBucket",Ps,{omit:["layers","features"]});var ws={paint:new Ei({"fill-extrusion-opacity":new mi(Te["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new yi(Te["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new mi(Te["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new mi(Te["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new gi(Te["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new yi(Te["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new yi(Te["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new mi(Te["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Cs=function(e){function t(t){e.call(this,t,ws)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(e){return new Ps(e)},t.prototype.queryRadius=function(){return ra(this.paint.get("fill-extrusion-translate"))},t.prototype.is3D=function(){return!0},t.prototype.queryIntersectsFeature=function(e,t,r,n,o,a,s,l){var _=na(e,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),a.angle,s),u=this.paint.get("fill-extrusion-height").evaluate(t,r),c=this.paint.get("fill-extrusion-base").evaluate(t,r),p=function(e,t,r,n){for(var o=[],a=0,s=e;a<s.length;a+=1){var l=s[a],_=[l.x,l.y,0,1];ca(_,_,t),o.push(new i(_[0]/_[3],_[1]/_[3]))}return o}(_,l),d=function(e,t,r,n){for(var o=[],a=[],s=n[8]*t,l=n[9]*t,_=n[10]*t,u=n[11]*t,c=n[8]*r,p=n[9]*r,d=n[10]*r,h=n[11]*r,f=0,m=e;f<m.length;f+=1){for(var y=[],g=[],b=0,v=m[f];b<v.length;b+=1){var E=v[b],O=E.x,M=E.y,P=n[0]*O+n[4]*M+n[12],x=n[1]*O+n[5]*M+n[13],w=n[2]*O+n[6]*M+n[14],C=n[3]*O+n[7]*M+n[15],D=w+_,T=C+u,k=P+c,A=x+p,I=w+d,L=C+h,R=new i((P+s)/T,(x+l)/T);R.z=D/T,y.push(R);var S=new i(k/L,A/L);S.z=I/L,g.push(S)}o.push(y),a.push(g)}return[o,a]}(n,c,u,l);return function(e,t,r){var n=1/0;Go(r,t)&&(n=Ts(r,t[0]));for(var i=0;i<t.length;i++)for(var o=t[i],a=e[i],s=0;s<o.length-1;s++){var l=o[s],_=[l,o[s+1],a[s+1],a[s],l];No(r,_)&&(n=Math.min(n,Ts(r,_)))}return n!==1/0&&n}(d[0],d[1],p)},t}(Oi);function Ds(e,t){return e.x*t.x+e.y*t.y}function Ts(e,t){if(1===e.length){for(var r,n=0,i=t[n++];!r||i.equals(r);)if(!(r=t[n++]))return 1/0;for(;n<t.length;n++){var o=t[n],a=e[0],s=r.sub(i),l=o.sub(i),_=a.sub(i),u=Ds(s,s),c=Ds(s,l),p=Ds(l,l),d=Ds(_,s),h=Ds(_,l),f=u*p-c*c,m=(p*d-c*h)/f,y=(u*h-c*d)/f,g=i.z*(1-m-y)+r.z*m+o.z*y;if(isFinite(g))return g}return 1/0}for(var b=1/0,v=0,E=t;v<E.length;v+=1)b=Math.min(b,E[v].z);return b}var ks=wi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,As=wi([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,Is=vs.VectorTileFeature.types,Ls=Math.cos(Math.PI/180*37.5),Rs=Math.pow(2,14)/.5,Ss=function(e){var t=this;this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((function(e){t.gradients[e.id]={}})),this.layoutVertexArray=new Ai,this.layoutVertexArray2=new Ii,this.indexArray=new zi,this.programConfigurations=new So(e.layers,e.zoom),this.segments=new so,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};Ss.prototype.populate=function(e,t,r){this.hasPattern=os("line",this.layers,t);for(var n=this.layers[0].layout.get("line-sort-key"),i=[],o=0,a=e;o<a.length;o+=1){var s=a[o],l=s.feature,_=s.id,u=s.index,c=s.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,d=zo(l,p);if(this.layers[0]._featureFilter.filter(new si(this.zoom),d,r)){var h=n?n.evaluate(d,{},r):void 0,f={id:_,properties:l.properties,type:l.type,sourceLayerIndex:c,index:u,geometry:p?d.geometry:jo(l),patterns:{},sortKey:h};i.push(f)}}n&&i.sort((function(e,t){return e.sortKey-t.sortKey}));for(var m=0,y=i;m<y.length;m+=1){var g=y[m],b=g.geometry,v=g.index,E=g.sourceLayerIndex;if(this.hasPattern){var O=as("line",this.layers,g,this.zoom,t);this.patternFeatures.push(O)}else this.addFeature(g,b,v,r,{});t.featureIndex.insert(e[v].feature,b,v,E,this.index)}},Ss.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},Ss.prototype.addFeatures=function(e,t,r){for(var n=0,i=this.patternFeatures;n<i.length;n+=1){var o=i[n];this.addFeature(o,o.geometry,o.index,t,r)}},Ss.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ss.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ss.prototype.upload=function(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,As)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,ks),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Ss.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ss.prototype.lineFeatureClips=function(e){if(e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}},Ss.prototype.addFeature=function(e,t,r,n,i){var o=this.layers[0].layout,a=o.get("line-join").evaluate(e,{}),s=o.get("line-cap"),l=o.get("line-miter-limit"),_=o.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(var u=0,c=t;u<c.length;u+=1)this.addLine(c[u],e,a,s,l,_);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,i,n)},Ss.prototype.addLine=function(e,t,r,n,i,o){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var a=0;a<e.length-1;a++)this.totalDistance+=e[a].dist(e[a+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var s="Polygon"===Is[t.type],l=e.length;l>=2&&e[l-1].equals(e[l-2]);)l--;for(var _=0;_<l-1&&e[_].equals(e[_+1]);)_++;if(!(l<(s?3:2))){"bevel"===r&&(i=1.05);var u,c=this.overscaling<=16?122880/(512*this.overscaling):0,p=this.segments.prepareSegment(10*l,this.layoutVertexArray,this.indexArray),d=void 0,h=void 0,f=void 0,m=void 0;this.e1=this.e2=-1,s&&(m=e[_].sub(u=e[l-2])._unit()._perp());for(var y=_;y<l;y++)if(!(h=y===l-1?s?e[_+1]:void 0:e[y+1])||!e[y].equals(h)){m&&(f=m),u&&(d=u),u=e[y],m=h?h.sub(u)._unit()._perp():f;var g=(f=f||m).add(m);0===g.x&&0===g.y||g._unit();var b=f.x*m.x+f.y*m.y,v=g.x*m.x+g.y*m.y,E=0!==v?1/v:1/0,O=2*Math.sqrt(2-2*v),M=v<Ls&&d&&h,P=f.x*m.y-f.y*m.x>0;if(M&&y>_){var x=u.dist(d);if(x>2*c){var w=u.sub(u.sub(d)._mult(c/x)._round());this.updateDistance(d,w),this.addCurrentVertex(w,f,0,0,p),d=w}}var C=d&&h,D=C?r:s?"butt":n;if(C&&"round"===D&&(E<o?D="miter":E<=2&&(D="fakeround")),"miter"===D&&E>i&&(D="bevel"),"bevel"===D&&(E>2&&(D="flipbevel"),E<i&&(D="miter")),d&&this.updateDistance(d,u),"miter"===D)g._mult(E),this.addCurrentVertex(u,g,0,0,p);else if("flipbevel"===D){if(E>100)g=m.mult(-1);else{var T=E*f.add(m).mag()/f.sub(m).mag();g._perp()._mult(T*(P?-1:1))}this.addCurrentVertex(u,g,0,0,p),this.addCurrentVertex(u,g.mult(-1),0,0,p)}else if("bevel"===D||"fakeround"===D){var k=-Math.sqrt(E*E-1),A=P?k:0,I=P?0:k;if(d&&this.addCurrentVertex(u,f,A,I,p),"fakeround"===D)for(var L=Math.round(180*O/Math.PI/20),R=1;R<L;R++){var S=R/L;if(.5!==S){var B=S-.5;S+=S*B*(S-1)*((1.0904+b*(b*(3.55645-1.43519*b)-3.2452))*B*B+(.848013+b*(.215638*b-1.06021)))}var U=m.sub(f)._mult(S)._add(f)._unit()._mult(P?-1:1);this.addHalfVertex(u,U.x,U.y,!1,P,0,p)}h&&this.addCurrentVertex(u,m,-A,-I,p)}else if("butt"===D)this.addCurrentVertex(u,g,0,0,p);else if("square"===D){var W=d?1:-1;this.addCurrentVertex(u,g,W,W,p)}else"round"===D&&(d&&(this.addCurrentVertex(u,f,0,0,p),this.addCurrentVertex(u,f,1,1,p,!0)),h&&(this.addCurrentVertex(u,m,-1,-1,p,!0),this.addCurrentVertex(u,m,0,0,p)));if(M&&y<l-1){var K=u.dist(h);if(K>2*c){var j=u.add(h.sub(u)._mult(c/K)._round());this.updateDistance(u,j),this.addCurrentVertex(j,m,0,0,p),u=j}}}}},Ss.prototype.addCurrentVertex=function(e,t,r,n,i,o){void 0===o&&(o=!1);var a=t.y*n-t.x,s=-t.y-t.x*n;this.addHalfVertex(e,t.x+t.y*r,t.y-t.x*r,o,!1,r,i),this.addHalfVertex(e,a,s,o,!0,-n,i),this.distance>Rs/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(e,t,r,n,i,o))},Ss.prototype.addHalfVertex=function(e,t,r,n,i,o,a){var s=.5*(this.lineClips?this.scaledDistance*(Rs-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((e.x<<1)+(n?1:0),(e.y<<1)+(i?1:0),Math.round(63*t)+128,Math.round(63*r)+128,1+(0===o?0:o<0?-1:1)|(63&s)<<2,s>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var l=a.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,l),a.primitiveLength++),i?this.e2=l:this.e1=l},Ss.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Ss.prototype.updateDistance=function(e,t){this.distance+=e.dist(t),this.updateScaledDistance()},Wn("LineBucket",Ss,{omit:["layers","patternFeatures"]});var Bs=new Ei({"line-cap":new mi(Te.layout_line["line-cap"]),"line-join":new yi(Te.layout_line["line-join"]),"line-miter-limit":new mi(Te.layout_line["line-miter-limit"]),"line-round-limit":new mi(Te.layout_line["line-round-limit"]),"line-sort-key":new yi(Te.layout_line["line-sort-key"])}),Us={paint:new Ei({"line-opacity":new yi(Te.paint_line["line-opacity"]),"line-color":new yi(Te.paint_line["line-color"]),"line-translate":new mi(Te.paint_line["line-translate"]),"line-translate-anchor":new mi(Te.paint_line["line-translate-anchor"]),"line-width":new yi(Te.paint_line["line-width"]),"line-gap-width":new yi(Te.paint_line["line-gap-width"]),"line-offset":new yi(Te.paint_line["line-offset"]),"line-blur":new yi(Te.paint_line["line-blur"]),"line-dasharray":new bi(Te.paint_line["line-dasharray"]),"line-pattern":new gi(Te.paint_line["line-pattern"]),"line-gradient":new vi(Te.paint_line["line-gradient"])}),layout:Bs},Ws=new(function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.possiblyEvaluate=function(t,r){return r=new si(Math.floor(r.zoom),{now:r.now,fadeDuration:r.fadeDuration,zoomHistory:r.zoomHistory,transition:r.transition}),e.prototype.possiblyEvaluate.call(this,t,r)},t.prototype.evaluate=function(t,r,n,i){return r=p({},r,{zoom:Math.floor(r.zoom)}),e.prototype.evaluate.call(this,t,r,n,i)},t}(yi))(Us.paint.properties["line-width"].specification);Ws.useIntegerZoom=!0;var Ks=function(e){function t(t){e.call(this,t,Us),this.gradientVersion=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._handleSpecialPaintPropertyUpdate=function(e){"line-gradient"===e&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof qt,this.gradientVersion=(this.gradientVersion+1)%s)},t.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},t.prototype.recalculate=function(t,r){e.prototype.recalculate.call(this,t,r),this.paint._values["line-floorwidth"]=Ws.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)},t.prototype.createBucket=function(e){return new Ss(e)},t.prototype.queryRadius=function(e){var t=e,r=js(ta("line-width",this,t),ta("line-gap-width",this,t)),n=ta("line-offset",this,t);return r/2+Math.abs(n)+ra(this.paint.get("line-translate"))},t.prototype.queryIntersectsFeature=function(e,t,r,n,o,a,s){var l=na(e,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a.angle,s),_=s/2*js(this.paint.get("line-width").evaluate(t,r),this.paint.get("line-gap-width").evaluate(t,r)),u=this.paint.get("line-offset").evaluate(t,r);return u&&(n=function(e,t){for(var r=[],n=new i(0,0),o=0;o<e.length;o++){for(var a=e[o],s=[],l=0;l<a.length;l++){var _=a[l],u=a[l+1],c=0===l?n:_.sub(a[l-1])._unit()._perp(),p=l===a.length-1?n:u.sub(_)._unit()._perp(),d=c._add(p)._unit();d._mult(1/(d.x*p.x+d.y*p.y)),s.push(d._mult(t)._add(_))}r.push(s)}return r}(n,u*s)),function(e,t,r){for(var n=0;n<t.length;n++){var i=t[n];if(e.length>=3)for(var o=0;o<i.length;o++)if(Qo(e,i[o]))return!0;if(Vo(e,i,r))return!0}return!1}(l,n,_)},t.prototype.isTileClipped=function(){return!0},t}(Oi);function js(e,t){return t>0?t+2*e:e}var zs=wi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Fs=wi([{name:"a_projected_pos",components:3,type:"Float32"}],4),qs=(wi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),wi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),Ns=(wi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),wi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Hs=wi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Gs(e,t,r){return e.sections.forEach((function(e){e.text=function(e,t,r){var n=t.layout.get("text-transform").evaluate(r,{});return"uppercase"===n?e=e.toLocaleUpperCase():"lowercase"===n&&(e=e.toLocaleLowerCase()),ai.applyArabicShaping&&(e=ai.applyArabicShaping(e)),e}(e.text,t,r)})),e}wi([{name:"triangle",components:3,type:"Uint16"}]),wi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),wi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),wi([{type:"Float32",name:"offsetX"}]),wi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Vs={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"},Zs=function(e,t,r,n,i){var o,a,s=8*i-n-1,l=(1<<s)-1,_=l>>1,u=-7,c=r?i-1:0,p=r?-1:1,d=e[t+c];for(c+=p,o=d&(1<<-u)-1,d>>=-u,u+=s;u>0;o=256*o+e[t+c],c+=p,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=n;u>0;a=256*a+e[t+c],c+=p,u-=8);if(0===o)o=1-_;else{if(o===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),o-=_}return(d?-1:1)*a*Math.pow(2,o-n)},Xs=function(e,t,r,n,i,o){var a,s,l,_=8*o-i-1,u=(1<<_)-1,c=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,h=n?1:-1,f=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+c>=1?p/l:p*Math.pow(2,1-c))*l>=2&&(a++,l/=2),a+c>=u?(s=0,a=u):a+c>=1?(s=(t*l-1)*Math.pow(2,i),a+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;e[r+d]=255&s,d+=h,s/=256,i-=8);for(a=a<<i|s,_+=i;_>0;e[r+d]=255&a,d+=h,a/=256,_-=8);e[r+d-h]|=128*f},$s=Ys;function Ys(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}Ys.Varint=0,Ys.Fixed64=1,Ys.Bytes=2,Ys.Fixed32=5;var Js="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Qs(e){return e.type===Ys.Bytes?e.readVarint()+e.pos:e.pos+1}function el(e,t,r){return r?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function tl(e,t,r){var n=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));r.realloc(n);for(var i=r.pos-1;i>=e;i--)r.buf[i+n]=r.buf[i]}function rl(e,t){for(var r=0;r<e.length;r++)t.writeVarint(e[r])}function nl(e,t){for(var r=0;r<e.length;r++)t.writeSVarint(e[r])}function il(e,t){for(var r=0;r<e.length;r++)t.writeFloat(e[r])}function ol(e,t){for(var r=0;r<e.length;r++)t.writeDouble(e[r])}function al(e,t){for(var r=0;r<e.length;r++)t.writeBoolean(e[r])}function sl(e,t){for(var r=0;r<e.length;r++)t.writeFixed32(e[r])}function ll(e,t){for(var r=0;r<e.length;r++)t.writeSFixed32(e[r])}function _l(e,t){for(var r=0;r<e.length;r++)t.writeFixed64(e[r])}function ul(e,t){for(var r=0;r<e.length;r++)t.writeSFixed64(e[r])}function cl(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function pl(e,t,r){e[r]=t,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24}function dl(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function hl(e,t,r){1===e&&r.readMessage(fl,t)}function fl(e,t,r){if(3===e){var n=r.readMessage(ml,{}),i=n.width,o=n.height,a=n.left,s=n.top,l=n.advance;t.push({id:n.id,bitmap:new ga({width:i+6,height:o+6},n.bitmap),metrics:{width:i,height:o,left:a,top:s,advance:l}})}}function ml(e,t,r){1===e?t.id=r.readVarint():2===e?t.bitmap=r.readBytes():3===e?t.width=r.readVarint():4===e?t.height=r.readVarint():5===e?t.left=r.readSVarint():6===e?t.top=r.readSVarint():7===e&&(t.advance=r.readVarint())}function yl(e){for(var t=0,r=0,n=0,i=e;n<i.length;n+=1){var o=i[n];t+=o.w*o.h,r=Math.max(r,o.w)}e.sort((function(e,t){return t.h-e.h}));for(var a=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),r),h:1/0}],s=0,l=0,_=0,u=e;_<u.length;_+=1)for(var c=u[_],p=a.length-1;p>=0;p--){var d=a[p];if(!(c.w>d.w||c.h>d.h)){if(c.x=d.x,c.y=d.y,l=Math.max(l,c.y+c.h),s=Math.max(s,c.x+c.w),c.w===d.w&&c.h===d.h){var h=a.pop();p<a.length&&(a[p]=h)}else c.h===d.h?(d.x+=c.w,d.w-=c.w):c.w===d.w?(d.y+=c.h,d.h-=c.h):(a.push({x:d.x+c.w,y:d.y,w:d.w-c.w,h:c.h}),d.y+=c.h,d.h-=c.h);break}}return{w:s,h:l,fill:t/(s*l)||0}}Ys.prototype={destroy:function(){this.buf=null},readFields:function(e,t,r){for(r=r||this.length;this.pos<r;){var n=this.readVarint(),i=n>>3,o=this.pos;this.type=7&n,e(i,t,this),this.pos===o&&this.skip(n)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=cl(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=dl(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=cl(this.buf,this.pos)+4294967296*cl(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=cl(this.buf,this.pos)+4294967296*dl(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=Zs(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=Zs(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,r,n=this.buf;return t=127&(r=n[this.pos++]),r<128?t:(t|=(127&(r=n[this.pos++]))<<7,r<128?t:(t|=(127&(r=n[this.pos++]))<<14,r<128?t:(t|=(127&(r=n[this.pos++]))<<21,r<128?t:function(e,t,r){var n,i,o=r.buf;if(n=(112&(i=o[r.pos++]))>>4,i<128)return el(e,n,t);if(n|=(127&(i=o[r.pos++]))<<3,i<128)return el(e,n,t);if(n|=(127&(i=o[r.pos++]))<<10,i<128)return el(e,n,t);if(n|=(127&(i=o[r.pos++]))<<17,i<128)return el(e,n,t);if(n|=(127&(i=o[r.pos++]))<<24,i<128)return el(e,n,t);if(n|=(1&(i=o[r.pos++]))<<31,i<128)return el(e,n,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(r=n[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&Js?function(e,t,r){return Js.decode(e.subarray(t,r))}(this.buf,t,e):function(e,t,r){for(var n="",i=t;i<r;){var o,a,s,l=e[i],_=null,u=l>239?4:l>223?3:l>191?2:1;if(i+u>r)break;1===u?l<128&&(_=l):2===u?128==(192&(o=e[i+1]))&&(_=(31&l)<<6|63&o)<=127&&(_=null):3===u?(a=e[i+2],128==(192&(o=e[i+1]))&&128==(192&a)&&((_=(15&l)<<12|(63&o)<<6|63&a)<=2047||_>=55296&&_<=57343)&&(_=null)):4===u&&(a=e[i+2],s=e[i+3],128==(192&(o=e[i+1]))&&128==(192&a)&&128==(192&s)&&((_=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||_>=1114112)&&(_=null)),null===_?(_=65533,u=1):_>65535&&(_-=65536,n+=String.fromCharCode(_>>>10&1023|55296),_=56320|1023&_),n+=String.fromCharCode(_),i+=u}return n}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==Ys.Bytes)return e.push(this.readVarint(t));var r=Qs(this);for(e=e||[];this.pos<r;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==Ys.Bytes)return e.push(this.readSVarint());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==Ys.Bytes)return e.push(this.readBoolean());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==Ys.Bytes)return e.push(this.readFloat());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==Ys.Bytes)return e.push(this.readDouble());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==Ys.Bytes)return e.push(this.readFixed32());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==Ys.Bytes)return e.push(this.readSFixed32());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==Ys.Bytes)return e.push(this.readFixed64());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==Ys.Bytes)return e.push(this.readSFixed64());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===Ys.Varint)for(;this.buf[this.pos++]>127;);else if(t===Ys.Bytes)this.pos=this.readVarint()+this.pos;else if(t===Ys.Fixed32)this.pos+=4;else{if(t!==Ys.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var r=new Uint8Array(t);r.set(this.buf),this.buf=r,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),pl(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),pl(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),pl(this.buf,-1&e,this.pos),pl(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),pl(this.buf,-1&e,this.pos),pl(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var r,n;if(e>=0?(r=e%4294967296|0,n=e/4294967296|0):(n=~(-e/4294967296),4294967295^(r=~(-e%4294967296))?r=r+1|0:(r=0,n=n+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,r){r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,r.buf[r.pos]=127&(e>>>=7)}(r,0,t),function(e,t){var r=(7&e)<<4;t.buf[t.pos++]|=r|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(n,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,r){for(var n,i,o=0;o<t.length;o++){if((n=t.charCodeAt(o))>55295&&n<57344){if(!i){n>56319||o+1===t.length?(e[r++]=239,e[r++]=191,e[r++]=189):i=n;continue}if(n<56320){e[r++]=239,e[r++]=191,e[r++]=189,i=n;continue}n=i-55296<<10|n-56320|65536,i=null}else i&&(e[r++]=239,e[r++]=191,e[r++]=189,i=null);n<128?e[r++]=n:(n<2048?e[r++]=n>>6|192:(n<65536?e[r++]=n>>12|224:(e[r++]=n>>18|240,e[r++]=n>>12&63|128),e[r++]=n>>6&63|128),e[r++]=63&n|128)}return r}(this.buf,e,this.pos);var r=this.pos-t;r>=128&&tl(t,r,this),this.pos=t-1,this.writeVarint(r),this.pos+=r},writeFloat:function(e){this.realloc(4),Xs(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),Xs(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var r=0;r<t;r++)this.buf[this.pos++]=e[r]},writeRawMessage:function(e,t){this.pos++;var r=this.pos;e(t,this);var n=this.pos-r;n>=128&&tl(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n},writeMessage:function(e,t,r){this.writeTag(e,Ys.Bytes),this.writeRawMessage(t,r)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,rl,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,nl,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,al,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,il,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,ol,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,sl,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,ll,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,_l,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,ul,t)},writeBytesField:function(e,t){this.writeTag(e,Ys.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,Ys.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,Ys.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,Ys.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,Ys.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,Ys.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,Ys.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,Ys.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,Ys.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,Ys.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};var gl=function(e,t){var r=t.pixelRatio,n=t.version,i=t.stretchX,o=t.stretchY,a=t.content;this.paddedRect=e,this.pixelRatio=r,this.stretchX=i,this.stretchY=o,this.content=a,this.version=n},bl={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};bl.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},bl.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},bl.tlbr.get=function(){return this.tl.concat(this.br)},bl.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(gl.prototype,bl);var vl=function(e,t){var r={},n={};this.haveRenderCallbacks=[];var i=[];this.addImages(e,r,i),this.addImages(t,n,i);var o=yl(i),a=new ba({width:o.w||1,height:o.h||1});for(var s in e){var l=e[s],_=r[s].paddedRect;ba.copy(l.data,a,{x:0,y:0},{x:_.x+1,y:_.y+1},l.data)}for(var u in t){var c=t[u],p=n[u].paddedRect,d=p.x+1,h=p.y+1,f=c.data.width,m=c.data.height;ba.copy(c.data,a,{x:0,y:0},{x:d,y:h},c.data),ba.copy(c.data,a,{x:0,y:m-1},{x:d,y:h-1},{width:f,height:1}),ba.copy(c.data,a,{x:0,y:0},{x:d,y:h+m},{width:f,height:1}),ba.copy(c.data,a,{x:f-1,y:0},{x:d-1,y:h},{width:1,height:m}),ba.copy(c.data,a,{x:0,y:0},{x:d+f,y:h},{width:1,height:m})}this.image=a,this.iconPositions=r,this.patternPositions=n};vl.prototype.addImages=function(e,t,r){for(var n in e){var i=e[n],o={x:0,y:0,w:i.data.width+2,h:i.data.height+2};r.push(o),t[n]=new gl(o,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(n)}},vl.prototype.patchUpdatedImages=function(e,t){for(var r in e.dispatchRenderCallbacks(this.haveRenderCallbacks),e.updatedImages)this.patchUpdatedImage(this.iconPositions[r],e.getImage(r),t),this.patchUpdatedImage(this.patternPositions[r],e.getImage(r),t)},vl.prototype.patchUpdatedImage=function(e,t,r){if(e&&t&&e.version!==t.version){e.version=t.version;var n=e.tl;r.update(t.data,void 0,{x:n[0],y:n[1]})}},Wn("ImagePosition",gl),Wn("ImageAtlas",vl);var El={horizontal:1,vertical:2,horizontalOnly:3},Ol=function(){this.scale=1,this.fontStack="",this.imageName=null};Ol.forText=function(e,t){var r=new Ol;return r.scale=e||1,r.fontStack=t,r},Ol.forImage=function(e){var t=new Ol;return t.imageName=e,t};var Ml=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function Pl(e,t,r,n,i,o,a,s,l,_,u,c,p,d,h,f){var m,y=Ml.fromFeature(e,i);c===El.vertical&&y.verticalizePunctuation();var g=ai.processBidirectionalText,b=ai.processStyledBidirectionalText;if(g&&1===y.sections.length){m=[];for(var v=0,E=g(y.toString(),Al(y,_,o,t,n,d,h));v<E.length;v+=1){var O=E[v],M=new Ml;M.text=O,M.sections=y.sections;for(var P=0;P<O.length;P++)M.sectionIndex.push(0);m.push(M)}}else if(b){m=[];for(var x=0,w=b(y.text,y.sectionIndex,Al(y,_,o,t,n,d,h));x<w.length;x+=1){var C=w[x],D=new Ml;D.text=C[0],D.sectionIndex=C[1],D.sections=y.sections,m.push(D)}}else m=function(e,t){for(var r=[],n=e.text,i=0,o=0,a=t;o<a.length;o+=1){var s=a[o];r.push(e.substring(i,s)),i=s}return i<n.length&&r.push(e.substring(i,n.length)),r}(y,Al(y,_,o,t,n,d,h));var T=[],k={positionedLines:T,text:y.toString(),top:u[1],bottom:u[1],left:u[0],right:u[0],writingMode:c,iconsInText:!1,verticalizable:!1};return function(e,t,r,n,i,o,a,s,l,_,u,c){for(var p=0,d=-17,h=0,f=0,m="right"===s?1:"left"===s?0:.5,y=0,g=0,b=i;g<b.length;g+=1){var v=b[g];v.trim();var E=v.getMaxScale(),O=24*(E-1),M={positionedGlyphs:[],lineOffset:0};e.positionedLines[y]=M;var P=M.positionedGlyphs,x=0;if(v.length()){for(var w=0;w<v.length();w++){var C=v.getSection(w),D=v.getSectionIndex(w),T=v.getCharCode(w),k=0,A=null,I=null,L=null,R=24,S=!(l===El.horizontal||!u&&!Vn(T)||u&&(xl[T]||(N=T,Hn.Arabic(N)||Hn["Arabic Supplement"](N)||Hn["Arabic Extended-A"](N)||Hn["Arabic Presentation Forms-A"](N)||Hn["Arabic Presentation Forms-B"](N))));if(C.imageName){var B=n[C.imageName];if(!B)continue;L=C.imageName,e.iconsInText=e.iconsInText||!0,I=B.paddedRect;var U=B.displaySize;C.scale=24*C.scale/c,k=O+(24-U[1]*C.scale),R=(A={width:U[0],height:U[1],left:1,top:-3,advance:S?U[1]:U[0]}).advance;var W=S?U[0]*C.scale-24*E:U[1]*C.scale-24*E;W>0&&W>x&&(x=W)}else{var K=r[C.fontStack],j=K&&K[T];if(j&&j.rect)I=j.rect,A=j.metrics;else{var z=t[C.fontStack],F=z&&z[T];if(!F)continue;A=F.metrics}k=24*(E-C.scale)}S?(e.verticalizable=!0,P.push({glyph:T,imageName:L,x:p,y:d+k,vertical:S,scale:C.scale,fontStack:C.fontStack,sectionIndex:D,metrics:A,rect:I}),p+=R*C.scale+_):(P.push({glyph:T,imageName:L,x:p,y:d+k,vertical:S,scale:C.scale,fontStack:C.fontStack,sectionIndex:D,metrics:A,rect:I}),p+=A.advance*C.scale+_)}0!==P.length&&(h=Math.max(p-_,h),Ll(P,0,P.length-1,m,x)),p=0;var q=o*E+x;M.lineOffset=Math.max(x,O),d+=q,f=Math.max(q,f),++y}else d+=o,++y}var N,H=d- -17,G=Il(a),V=G.horizontalAlign,Z=G.verticalAlign;(function(e,t,r,n,i,o,a,s,l){var _,u=(t-r)*i;_=o!==a?-s*n- -17:(-n*l+.5)*a;for(var c=0,p=e;c<p.length;c+=1)for(var d=0,h=p[c].positionedGlyphs;d<h.length;d+=1){var f=h[d];f.x+=u,f.y+=_}})(e.positionedLines,m,V,Z,h,f,o,H,i.length),e.top+=-Z*H,e.bottom=e.top+H,e.left+=-V*h,e.right=e.left+h}(k,t,r,n,m,a,s,l,c,_,p,f),!function(e){for(var t=0,r=e;t<r.length;t+=1)if(0!==r[t].positionedGlyphs.length)return!1;return!0}(T)&&k}Ml.fromFeature=function(e,t){for(var r=new Ml,n=0;n<e.sections.length;n++){var i=e.sections[n];i.image?r.addImageSection(i):r.addTextSection(i,t)}return r},Ml.prototype.length=function(){return this.text.length},Ml.prototype.getSection=function(e){return this.sections[this.sectionIndex[e]]},Ml.prototype.getSectionIndex=function(e){return this.sectionIndex[e]},Ml.prototype.getCharCode=function(e){return this.text.charCodeAt(e)},Ml.prototype.verticalizePunctuation=function(){this.text=function(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r+1)||null,i=e.charCodeAt(r-1)||null;t+=n&&Zn(n)&&!Vs[e[r+1]]||i&&Zn(i)&&!Vs[e[r-1]]||!Vs[e[r]]?e[r]:Vs[e[r]]}return t}(this.text)},Ml.prototype.trim=function(){for(var e=0,t=0;t<this.text.length&&xl[this.text.charCodeAt(t)];t++)e++;for(var r=this.text.length,n=this.text.length-1;n>=0&&n>=e&&xl[this.text.charCodeAt(n)];n--)r--;this.text=this.text.substring(e,r),this.sectionIndex=this.sectionIndex.slice(e,r)},Ml.prototype.substring=function(e,t){var r=new Ml;return r.text=this.text.substring(e,t),r.sectionIndex=this.sectionIndex.slice(e,t),r.sections=this.sections,r},Ml.prototype.toString=function(){return this.text},Ml.prototype.getMaxScale=function(){var e=this;return this.sectionIndex.reduce((function(t,r){return Math.max(t,e.sections[r].scale)}),0)},Ml.prototype.addTextSection=function(e,t){this.text+=e.text,this.sections.push(Ol.forText(e.scale,e.fontStack||t));for(var r=this.sections.length-1,n=0;n<e.text.length;++n)this.sectionIndex.push(r)},Ml.prototype.addImageSection=function(e){var t=e.image?e.image.name:"";if(0!==t.length){var r=this.getNextImageSectionCharCode();r?(this.text+=String.fromCharCode(r),this.sections.push(Ol.forImage(t)),this.sectionIndex.push(this.sections.length-1)):M("Reached maximum number of images 6401")}else M("Can't add FormattedSection with an empty image.")},Ml.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var xl={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},wl={};function Cl(e,t,r,n,i,o){if(t.imageName){var a=n[t.imageName];return a?a.displaySize[0]*t.scale*24/o+i:0}var s=r[t.fontStack],l=s&&s[e];return l?l.metrics.advance*t.scale+i:0}function Dl(e,t,r,n){var i=Math.pow(e-t,2);return n?e<t?i/2:2*i:i+Math.abs(r)*r}function Tl(e,t,r){var n=0;return 10===e&&(n-=1e4),r&&(n+=150),40!==e&&65288!==e||(n+=50),41!==t&&65289!==t||(n+=50),n}function kl(e,t,r,n,i,o){for(var a=null,s=Dl(t,r,i,o),l=0,_=n;l<_.length;l+=1){var u=_[l],c=Dl(t-u.x,r,i,o)+u.badness;c<=s&&(a=u,s=c)}return{index:e,x:t,priorBreak:a,badness:s}}function Al(e,t,r,n,i,o,a){if("point"!==o)return[];if(!e)return[];for(var s,l=[],_=function(e,t,r,n,i,o){for(var a=0,s=0;s<e.length();s++){var l=e.getSection(s);a+=Cl(e.getCharCode(s),l,n,i,t,o)}return a/Math.max(1,Math.ceil(a/r))}(e,t,r,n,i,a),u=e.text.indexOf("​")>=0,c=0,p=0;p<e.length();p++){var d=e.getSection(p),h=e.getCharCode(p);if(xl[h]||(c+=Cl(h,d,n,i,t,a)),p<e.length()-1){var f=!((s=h)<11904||!(Hn["Bopomofo Extended"](s)||Hn.Bopomofo(s)||Hn["CJK Compatibility Forms"](s)||Hn["CJK Compatibility Ideographs"](s)||Hn["CJK Compatibility"](s)||Hn["CJK Radicals Supplement"](s)||Hn["CJK Strokes"](s)||Hn["CJK Symbols and Punctuation"](s)||Hn["CJK Unified Ideographs Extension A"](s)||Hn["CJK Unified Ideographs"](s)||Hn["Enclosed CJK Letters and Months"](s)||Hn["Halfwidth and Fullwidth Forms"](s)||Hn.Hiragana(s)||Hn["Ideographic Description Characters"](s)||Hn["Kangxi Radicals"](s)||Hn["Katakana Phonetic Extensions"](s)||Hn.Katakana(s)||Hn["Vertical Forms"](s)||Hn["Yi Radicals"](s)||Hn["Yi Syllables"](s)));(wl[h]||f||d.imageName)&&l.push(kl(p+1,c,_,l,Tl(h,e.getCharCode(p+1),f&&u),!1))}}return function e(t){return t?e(t.priorBreak).concat(t.index):[]}(kl(e.length(),c,_,l,0,!0))}function Il(e){var t=.5,r=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":r=1;break;case"top":case"top-right":case"top-left":r=0}return{horizontalAlign:t,verticalAlign:r}}function Ll(e,t,r,n,i){if(n||i)for(var o=e[r],a=(e[r].x+o.metrics.advance*o.scale)*n,s=t;s<=r;s++)e[s].x-=a,e[s].y+=i}function Rl(e,t,r,n,i,o){var a,s=e.image;if(s.content){var l=s.content,_=s.pixelRatio||1;a=[l[0]/_,l[1]/_,s.displaySize[0]-l[2]/_,s.displaySize[1]-l[3]/_]}var u,c,p,d,h=t.left*o,f=t.right*o;"width"===r||"both"===r?(d=i[0]+h-n[3],c=i[0]+f+n[1]):c=(d=i[0]+(h+f-s.displaySize[0])/2)+s.displaySize[0];var m=t.top*o,y=t.bottom*o;return"height"===r||"both"===r?(u=i[1]+m-n[0],p=i[1]+y+n[2]):p=(u=i[1]+(m+y-s.displaySize[1])/2)+s.displaySize[1],{image:s,top:u,right:c,bottom:p,left:d,collisionPadding:a}}wl[10]=!0,wl[32]=!0,wl[38]=!0,wl[40]=!0,wl[41]=!0,wl[43]=!0,wl[45]=!0,wl[47]=!0,wl[173]=!0,wl[183]=!0,wl[8203]=!0,wl[8208]=!0,wl[8211]=!0,wl[8231]=!0;var Sl=function(e){function t(t,r,n,i){e.call(this,t,r),this.angle=n,void 0!==i&&(this.segment=i)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.clone=function(){return new t(this.x,this.y,this.angle,this.segment)},t}(i);function Bl(e,t){var r=t.expression;if("constant"===r.kind)return{kind:"constant",layoutSize:r.evaluate(new si(e+1))};if("source"===r.kind)return{kind:"source"};for(var n=r.zoomStops,i=r.interpolationType,o=0;o<n.length&&n[o]<=e;)o++;for(var a=o=Math.max(0,o-1);a<n.length&&n[a]<e+1;)a++;a=Math.min(n.length-1,a);var s=n[o],l=n[a];return"composite"===r.kind?{kind:"composite",minZoom:s,maxZoom:l,interpolationType:i}:{kind:"camera",minZoom:s,maxZoom:l,minSize:r.evaluate(new si(s)),maxSize:r.evaluate(new si(l)),interpolationType:i}}function Ul(e,t,r){var n=t.uSize,i=r.lowerSize;return"source"===e.kind?i/128:"composite"===e.kind?Nt(i/128,r.upperSize/128,t.uSizeT):n}function Wl(e,t){var r=0,n=0;if("constant"===e.kind)n=e.layoutSize;else if("source"!==e.kind){var i=e.interpolationType,o=i?u(or.interpolationFactor(i,t,e.minZoom,e.maxZoom),0,1):0;"camera"===e.kind?n=Nt(e.minSize,e.maxSize,o):r=o}return{uSizeT:r,uSize:n}}Wn("Anchor",Sl);var Kl=Object.freeze({__proto__:null,getSizeData:Bl,evaluateSizeForFeature:Ul,evaluateSizeForZoom:Wl,SIZE_PACK_FACTOR:128});function jl(e,t,r,n,i){if(void 0===t.segment)return!0;for(var o=t,a=t.segment+1,s=0;s>-r/2;){if(--a<0)return!1;s-=e[a].dist(o),o=e[a]}s+=e[a].dist(e[a+1]),a++;for(var l=[],_=0;s<r/2;){var u=e[a],c=e[a+1];if(!c)return!1;var p=e[a-1].angleTo(u)-u.angleTo(c);for(p=Math.abs((p+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:p}),_+=p;s-l[0].distance>n;)_-=l.shift().angleDelta;if(_>i)return!1;a++,s+=u.dist(c)}return!0}function zl(e){for(var t=0,r=0;r<e.length-1;r++)t+=e[r].dist(e[r+1]);return t}function Fl(e,t,r){return e?.6*t*r:0}function ql(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function Nl(e,t,r,n,i,o){for(var a=Fl(r,i,o),s=ql(r,n)*o,l=0,_=zl(e)/2,u=0;u<e.length-1;u++){var c=e[u],p=e[u+1],d=c.dist(p);if(l+d>_){var h=(_-l)/d,f=Nt(c.x,p.x,h),m=Nt(c.y,p.y,h),y=new Sl(f,m,p.angleTo(c),u);return y._round(),!a||jl(e,y,s,a,t)?y:void 0}l+=d}}function Hl(e,t,r,n,i,o,a,s,l){var _=Fl(n,o,a),u=ql(n,i),c=u*a,p=0===e[0].x||e[0].x===l||0===e[0].y||e[0].y===l;return t-c<t/4&&(t=c+t/4),function e(t,r,n,i,o,a,s,l,_){for(var u=a/2,c=zl(t),p=0,d=r-n,h=[],f=0;f<t.length-1;f++){for(var m=t[f],y=t[f+1],g=m.dist(y),b=y.angleTo(m);d+n<p+g;){var v=((d+=n)-p)/g,E=Nt(m.x,y.x,v),O=Nt(m.y,y.y,v);if(E>=0&&E<_&&O>=0&&O<_&&d-u>=0&&d+u<=c){var M=new Sl(E,O,b,f);M._round(),i&&!jl(t,M,a,i,o)||h.push(M)}}p+=g}return l||h.length||s||(h=e(t,p/2,n,i,o,a,s,!0,_)),h}(e,p?t/2*s%t:(u/2+2*o)*a*s%t,t,_,r,c,p,!1,l)}function Gl(e,t,r,n,o){for(var a=[],s=0;s<e.length;s++)for(var l=e[s],_=void 0,u=0;u<l.length-1;u++){var c=l[u],p=l[u+1];c.x<t&&p.x<t||(c.x<t?c=new i(t,c.y+(t-c.x)/(p.x-c.x)*(p.y-c.y))._round():p.x<t&&(p=new i(t,c.y+(t-c.x)/(p.x-c.x)*(p.y-c.y))._round()),c.y<r&&p.y<r||(c.y<r?c=new i(c.x+(r-c.y)/(p.y-c.y)*(p.x-c.x),r)._round():p.y<r&&(p=new i(c.x+(r-c.y)/(p.y-c.y)*(p.x-c.x),r)._round()),c.x>=n&&p.x>=n||(c.x>=n?c=new i(n,c.y+(n-c.x)/(p.x-c.x)*(p.y-c.y))._round():p.x>=n&&(p=new i(n,c.y+(n-c.x)/(p.x-c.x)*(p.y-c.y))._round()),c.y>=o&&p.y>=o||(c.y>=o?c=new i(c.x+(o-c.y)/(p.y-c.y)*(p.x-c.x),o)._round():p.y>=o&&(p=new i(c.x+(o-c.y)/(p.y-c.y)*(p.x-c.x),o)._round()),_&&c.equals(_[_.length-1])||a.push(_=[c]),_.push(p)))))}return a}function Vl(e,t,r,n){var o=[],a=e.image,s=a.pixelRatio,l=a.paddedRect.w-2,_=a.paddedRect.h-2,u=e.right-e.left,c=e.bottom-e.top,p=a.stretchX||[[0,l]],d=a.stretchY||[[0,_]],h=function(e,t){return e+t[1]-t[0]},f=p.reduce(h,0),m=d.reduce(h,0),y=l-f,g=_-m,b=0,v=f,E=0,O=m,M=0,P=y,x=0,w=g;if(a.content&&n){var C=a.content;b=Zl(p,0,C[0]),E=Zl(d,0,C[1]),v=Zl(p,C[0],C[2]),O=Zl(d,C[1],C[3]),M=C[0]-b,x=C[1]-E,P=C[2]-C[0]-v,w=C[3]-C[1]-O}var D=function(n,o,l,_){var p=$l(n.stretch-b,v,u,e.left),d=Yl(n.fixed-M,P,n.stretch,f),h=$l(o.stretch-E,O,c,e.top),y=Yl(o.fixed-x,w,o.stretch,m),g=$l(l.stretch-b,v,u,e.left),C=Yl(l.fixed-M,P,l.stretch,f),D=$l(_.stretch-E,O,c,e.top),T=Yl(_.fixed-x,w,_.stretch,m),k=new i(p,h),A=new i(g,h),I=new i(g,D),L=new i(p,D),R=new i(d/s,y/s),S=new i(C/s,T/s),B=t*Math.PI/180;if(B){var U=Math.sin(B),W=Math.cos(B),K=[W,-U,U,W];k._matMult(K),A._matMult(K),L._matMult(K),I._matMult(K)}var j=n.stretch+n.fixed,z=o.stretch+o.fixed;return{tl:k,tr:A,bl:L,br:I,tex:{x:a.paddedRect.x+1+j,y:a.paddedRect.y+1+z,w:l.stretch+l.fixed-j,h:_.stretch+_.fixed-z},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:R,pixelOffsetBR:S,minFontScaleX:P/s/u,minFontScaleY:w/s/c,isSDF:r}};if(n&&(a.stretchX||a.stretchY))for(var T=Xl(p,y,f),k=Xl(d,g,m),A=0;A<T.length-1;A++)for(var I=T[A],L=T[A+1],R=0;R<k.length-1;R++)o.push(D(I,k[R],L,k[R+1]));else o.push(D({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:l+1},{fixed:0,stretch:_+1}));return o}function Zl(e,t,r){for(var n=0,i=0,o=e;i<o.length;i+=1){var a=o[i];n+=Math.max(t,Math.min(r,a[1]))-Math.max(t,Math.min(r,a[0]))}return n}function Xl(e,t,r){for(var n=[{fixed:-1,stretch:0}],i=0,o=e;i<o.length;i+=1){var a=o[i],s=a[0],l=a[1],_=n[n.length-1];n.push({fixed:s-_.stretch,stretch:_.stretch}),n.push({fixed:s-_.stretch,stretch:_.stretch+(l-s)})}return n.push({fixed:t+1,stretch:r}),n}function $l(e,t,r,n){return e/t*r+n}function Yl(e,t,r,n){return e-t*r/n}var Jl=function(e,t,r,n,o,a,s,l,_,u){if(this.boxStartIndex=e.length,_){var c=a.top,p=a.bottom,d=a.collisionPadding;d&&(c-=d[1],p+=d[3]);var h=p-c;h>0&&(h=Math.max(10,h),this.circleDiameter=h)}else{var f=a.top*s-l,m=a.bottom*s+l,y=a.left*s-l,g=a.right*s+l,b=a.collisionPadding;if(b&&(y-=b[0]*s,f-=b[1]*s,g+=b[2]*s,m+=b[3]*s),u){var v=new i(y,f),E=new i(g,f),O=new i(y,m),M=new i(g,m),P=u*Math.PI/180;v._rotate(P),E._rotate(P),O._rotate(P),M._rotate(P),y=Math.min(v.x,E.x,O.x,M.x),g=Math.max(v.x,E.x,O.x,M.x),f=Math.min(v.y,E.y,O.y,M.y),m=Math.max(v.y,E.y,O.y,M.y)}e.emplaceBack(t.x,t.y,y,f,g,m,r,n,o)}this.boxEndIndex=e.length},Ql=function(e,t){if(void 0===e&&(e=[]),void 0===t&&(t=e_),this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(var r=(this.length>>1)-1;r>=0;r--)this._down(r)};function e_(e,t){return e<t?-1:e>t?1:0}function t_(e,t,r){void 0===t&&(t=1),void 0===r&&(r=!1);for(var n=1/0,o=1/0,a=-1/0,s=-1/0,l=e[0],_=0;_<l.length;_++){var u=l[_];(!_||u.x<n)&&(n=u.x),(!_||u.y<o)&&(o=u.y),(!_||u.x>a)&&(a=u.x),(!_||u.y>s)&&(s=u.y)}var c=Math.min(a-n,s-o),p=c/2,d=new Ql([],r_);if(0===c)return new i(n,o);for(var h=n;h<a;h+=c)for(var f=o;f<s;f+=c)d.push(new n_(h+p,f+p,p,e));for(var m=function(e){for(var t=0,r=0,n=0,i=e[0],o=0,a=i.length,s=a-1;o<a;s=o++){var l=i[o],_=i[s],u=l.x*_.y-_.x*l.y;r+=(l.x+_.x)*u,n+=(l.y+_.y)*u,t+=3*u}return new n_(r/t,n/t,0,e)}(e),y=d.length;d.length;){var g=d.pop();(g.d>m.d||!m.d)&&(m=g,r&&console.log("found best %d after %d probes",Math.round(1e4*g.d)/1e4,y)),g.max-m.d<=t||(d.push(new n_(g.p.x-(p=g.h/2),g.p.y-p,p,e)),d.push(new n_(g.p.x+p,g.p.y-p,p,e)),d.push(new n_(g.p.x-p,g.p.y+p,p,e)),d.push(new n_(g.p.x+p,g.p.y+p,p,e)),y+=4)}return r&&(console.log("num probes: "+y),console.log("best distance: "+m.d)),m.p}function r_(e,t){return t.max-e.max}function n_(e,t,r,n){this.p=new i(e,t),this.h=r,this.d=function(e,t){for(var r=!1,n=1/0,i=0;i<t.length;i++)for(var o=t[i],a=0,s=o.length,l=s-1;a<s;l=a++){var _=o[a],u=o[l];_.y>e.y!=u.y>e.y&&e.x<(u.x-_.x)*(e.y-_.y)/(u.y-_.y)+_.x&&(r=!r),n=Math.min(n,Yo(e,_,u))}return(r?1:-1)*Math.sqrt(n)}(this.p,n),this.max=this.d+this.h*Math.SQRT2}Ql.prototype.push=function(e){this.data.push(e),this.length++,this._up(this.length-1)},Ql.prototype.pop=function(){if(0!==this.length){var e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}},Ql.prototype.peek=function(){return this.data[0]},Ql.prototype._up=function(e){for(var t=this.data,r=this.compare,n=t[e];e>0;){var i=e-1>>1,o=t[i];if(r(n,o)>=0)break;t[e]=o,e=i}t[e]=n},Ql.prototype._down=function(e){for(var t=this.data,r=this.compare,n=this.length>>1,i=t[e];e<n;){var o=1+(e<<1),a=t[o],s=o+1;if(s<this.length&&r(t[s],a)<0&&(o=s,a=t[s]),r(a,i)>=0)break;t[e]=a,e=o}t[e]=i};var i_=Number.POSITIVE_INFINITY;function o_(e,t){return t[1]!==i_?function(e,t,r){var n=0,i=0;switch(t=Math.abs(t),r=Math.abs(r),e){case"top-right":case"top-left":case"top":i=r-7;break;case"bottom-right":case"bottom-left":case"bottom":i=7-r}switch(e){case"top-right":case"bottom-right":case"right":n=-t;break;case"top-left":case"bottom-left":case"left":n=t}return[n,i]}(e,t[0],t[1]):function(e,t){var r=0,n=0;t<0&&(t=0);var i=t/Math.sqrt(2);switch(e){case"top-right":case"top-left":n=i-7;break;case"bottom-right":case"bottom-left":n=7-i;break;case"bottom":n=7-t;break;case"top":n=t-7}switch(e){case"top-right":case"bottom-right":r=-i;break;case"top-left":case"bottom-left":r=i;break;case"left":r=t;break;case"right":r=-t}return[r,n]}(e,t[0])}function a_(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function s_(e,t,r,n,o,a,s,l,_,u,c,p,d,h,f){var m=function(e,t,r,n,o,a,s,l){for(var _=n.layout.get("text-rotate").evaluate(a,{})*Math.PI/180,u=[],c=0,p=t.positionedLines;c<p.length;c+=1)for(var d=p[c],h=0,f=d.positionedGlyphs;h<f.length;h+=1){var m=f[h];if(m.rect){var y=m.rect||{},g=4,b=!0,v=1,E=0,O=(o||l)&&m.vertical,M=m.metrics.advance*m.scale/2;if(l&&t.verticalizable&&(E=d.lineOffset/2-(m.imageName?-(24-m.metrics.width*m.scale)/2:24*(m.scale-1))),m.imageName){var P=s[m.imageName];b=P.sdf,g=1/(v=P.pixelRatio)}var x=o?[m.x+M,m.y]:[0,0],w=o?[0,0]:[m.x+M+r[0],m.y+r[1]-E],C=[0,0];O&&(C=w,w=[0,0]);var D=(m.metrics.left-g)*m.scale-M+w[0],T=(-m.metrics.top-g)*m.scale+w[1],k=D+y.w*m.scale/v,A=T+y.h*m.scale/v,I=new i(D,T),L=new i(k,T),R=new i(D,A),S=new i(k,A);if(O){var B=new i(-M,M- -17),U=-Math.PI/2,W=12-M,K=new i(22-W,-(m.imageName?W:0)),j=new(Function.prototype.bind.apply(i,[null].concat(C)));I._rotateAround(U,B)._add(K)._add(j),L._rotateAround(U,B)._add(K)._add(j),R._rotateAround(U,B)._add(K)._add(j),S._rotateAround(U,B)._add(K)._add(j)}if(_){var z=Math.sin(_),F=Math.cos(_),q=[F,-z,z,F];I._matMult(q),L._matMult(q),R._matMult(q),S._matMult(q)}var N=new i(0,0),H=new i(0,0);u.push({tl:I,tr:L,bl:R,br:S,tex:y,writingMode:t.writingMode,glyphOffset:x,sectionIndex:m.sectionIndex,isSDF:b,pixelOffsetTL:N,pixelOffsetBR:H,minFontScaleX:0,minFontScaleY:0})}}return u}(0,r,l,o,a,s,n,e.allowVerticalPlacement),y=e.textSizeData,g=null;"source"===y.kind?(g=[128*o.layout.get("text-size").evaluate(s,{})])[0]>32640&&M(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===y.kind&&((g=[128*h.compositeTextSizes[0].evaluate(s,{},f),128*h.compositeTextSizes[1].evaluate(s,{},f)])[0]>32640||g[1]>32640)&&M(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),e.addSymbols(e.text,m,g,l,a,s,u,t,_.lineStartIndex,_.lineLength,d,f);for(var b=0,v=c;b<v.length;b+=1)p[v[b]]=e.text.placedSymbolArray.length-1;return 4*m.length}function l_(e){for(var t in e)return e[t];return null}function __(e,t,r,n){var i=e.compareText;if(t in i){for(var o=i[t],a=o.length-1;a>=0;a--)if(n.dist(o[a])<r)return!0}else i[t]=[];return i[t].push(n),!1}var u_=vs.VectorTileFeature.types,c_=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function p_(e,t,r,n,i,o,a,s,l,_,u,c,p){var d=s?Math.min(32640,Math.round(s[0])):0,h=s?Math.min(32640,Math.round(s[1])):0;e.emplaceBack(t,r,Math.round(32*n),Math.round(32*i),o,a,(d<<1)+(l?1:0),h,16*_,16*u,256*c,256*p)}function d_(e,t,r){e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r)}function h_(e){for(var t=0,r=e.sections;t<r.length;t+=1)if(Yn(r[t].text))return!0;return!1}var f_=function(e){this.layoutVertexArray=new Ri,this.indexArray=new zi,this.programConfigurations=e,this.segments=new so,this.dynamicLayoutVertexArray=new Si,this.opacityVertexArray=new Bi,this.placedSymbolArray=new Qi};f_.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},f_.prototype.upload=function(e,t,r,n){this.isEmpty()||(r&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,zs.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,Fs.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,c_,!0),this.opacityVertexBuffer.itemSize=1),(r||n)&&this.programConfigurations.upload(e))},f_.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Wn("SymbolBuffers",f_);var m_=function(e,t,r){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new r,this.segments=new so,this.collisionVertexArray=new ji};m_.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,qs.members,!0)},m_.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Wn("CollisionBuffers",m_);var y_=function(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=sa([]),this.placementViewportMatrix=sa([]);var t=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Bl(this.zoom,t["text-size"]),this.iconSizeData=Bl(this.zoom,t["icon-size"]);var r=this.layers[0].layout,n=r.get("symbol-sort-key"),i=r.get("symbol-z-order");this.canOverlap=r.get("text-allow-overlap")||r.get("icon-allow-overlap")||r.get("text-ignore-placement")||r.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==i&&void 0!==n.constantOr(1),this.sortFeaturesByY=("viewport-y"===i||"auto"===i&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===r.get("symbol-placement")&&(this.writingModes=r.get("text-writing-mode").map((function(e){return El[e]}))),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id})),this.sourceID=e.sourceID};y_.prototype.createArrays=function(){this.text=new f_(new So(this.layers,this.zoom,(function(e){return/^text/.test(e)}))),this.icon=new f_(new So(this.layers,this.zoom,(function(e){return/^icon/.test(e)}))),this.glyphOffsetArray=new ro,this.lineVertexArray=new no,this.symbolInstances=new to},y_.prototype.calculateGlyphDependencies=function(e,t,r,n,i){for(var o=0;o<e.length;o++)if(t[e.charCodeAt(o)]=!0,(r||n)&&i){var a=Vs[e.charAt(o)];a&&(t[a.charCodeAt(0)]=!0)}},y_.prototype.populate=function(e,t,r){var n=this.layers[0],i=n.layout,o=i.get("text-font"),a=i.get("text-field"),s=i.get("icon-image"),l=("constant"!==a.value.kind||a.value.value instanceof nt&&!a.value.value.isEmpty()||a.value.value.toString().length>0)&&("constant"!==o.value.kind||o.value.value.length>0),_="constant"!==s.value.kind||!!s.value.value||Object.keys(s.parameters).length>0,u=i.get("symbol-sort-key");if(this.features=[],l||_){for(var c=t.iconDependencies,p=t.glyphDependencies,d=t.availableImages,h=new si(this.zoom),f=0,m=e;f<m.length;f+=1){var y=m[f],g=y.feature,b=y.id,v=y.index,E=y.sourceLayerIndex,O=n._featureFilter.needGeometry,M=zo(g,O);if(n._featureFilter.filter(h,M,r)){O||(M.geometry=jo(g));var P=void 0;if(l){var x=n.getValueAndResolveTokens("text-field",M,r,d),w=nt.factory(x);h_(w)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===ii()||this.hasRTLText&&ai.isParsed())&&(P=Gs(w,n,M))}var C=void 0;if(_){var D=n.getValueAndResolveTokens("icon-image",M,r,d);C=D instanceof it?D:it.fromString(D)}if(P||C){var T=this.sortFeaturesByKey?u.evaluate(M,{},r):void 0;if(this.features.push({id:b,text:P,icon:C,index:v,sourceLayerIndex:E,geometry:M.geometry,properties:g.properties,type:u_[g.type],sortKey:T}),C&&(c[C.name]=!0),P){var k=o.evaluate(M,{},r).join(","),A="map"===i.get("text-rotation-alignment")&&"point"!==i.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(El.vertical)>=0;for(var I=0,L=P.sections;I<L.length;I+=1){var R=L[I];if(R.image)c[R.image.name]=!0;else{var S=Gn(P.toString()),B=R.fontStack||k,U=p[B]=p[B]||{};this.calculateGlyphDependencies(R.text,U,A,this.allowVerticalPlacement,S)}}}}}}"line"===i.get("symbol-placement")&&(this.features=function(e){var t={},r={},n=[],i=0;function o(t){n.push(e[t]),i++}function a(e,t,i){var o=r[e];return delete r[e],r[t]=o,n[o].geometry[0].pop(),n[o].geometry[0]=n[o].geometry[0].concat(i[0]),o}function s(e,r,i){var o=t[r];return delete t[r],t[e]=o,n[o].geometry[0].shift(),n[o].geometry[0]=i[0].concat(n[o].geometry[0]),o}function l(e,t,r){var n=r?t[0][t[0].length-1]:t[0][0];return e+":"+n.x+":"+n.y}for(var _=0;_<e.length;_++){var u=e[_],c=u.geometry,p=u.text?u.text.toString():null;if(p){var d=l(p,c),h=l(p,c,!0);if(d in r&&h in t&&r[d]!==t[h]){var f=s(d,h,c),m=a(d,h,n[f].geometry);delete t[d],delete r[h],r[l(p,n[m].geometry,!0)]=m,n[f].geometry=null}else d in r?a(d,h,c):h in t?s(d,h,c):(o(_),t[d]=i-1,r[h]=i-1)}else o(_)}return n.filter((function(e){return e.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(e,t){return e.sortKey-t.sortKey}))}},y_.prototype.update=function(e,t,r){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,r),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,r))},y_.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},y_.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},y_.prototype.upload=function(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},y_.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},y_.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},y_.prototype.addToLineVertexArray=function(e,t){var r=this.lineVertexArray.length;if(void 0!==e.segment){for(var n=e.dist(t[e.segment+1]),i=e.dist(t[e.segment]),o={},a=e.segment+1;a<t.length;a++)o[a]={x:t[a].x,y:t[a].y,tileUnitDistanceFromAnchor:n},a<t.length-1&&(n+=t[a+1].dist(t[a]));for(var s=e.segment||0;s>=0;s--)o[s]={x:t[s].x,y:t[s].y,tileUnitDistanceFromAnchor:i},s>0&&(i+=t[s-1].dist(t[s]));for(var l=0;l<t.length;l++){var _=o[l];this.lineVertexArray.emplaceBack(_.x,_.y,_.tileUnitDistanceFromAnchor)}}return{lineStartIndex:r,lineLength:this.lineVertexArray.length-r}},y_.prototype.addSymbols=function(e,t,r,n,i,o,a,s,l,_,u,c){for(var p=e.indexArray,d=e.layoutVertexArray,h=e.segments.prepareSegment(4*t.length,d,p,this.canOverlap?o.sortKey:void 0),f=this.glyphOffsetArray.length,m=h.vertexLength,y=this.allowVerticalPlacement&&a===El.vertical?Math.PI/2:0,g=o.text&&o.text.sections,b=0;b<t.length;b++){var v=t[b],E=v.tl,O=v.tr,M=v.bl,P=v.br,x=v.tex,w=v.pixelOffsetTL,C=v.pixelOffsetBR,D=v.minFontScaleX,T=v.minFontScaleY,k=v.glyphOffset,A=v.isSDF,I=v.sectionIndex,L=h.vertexLength,R=k[1];p_(d,s.x,s.y,E.x,R+E.y,x.x,x.y,r,A,w.x,w.y,D,T),p_(d,s.x,s.y,O.x,R+O.y,x.x+x.w,x.y,r,A,C.x,w.y,D,T),p_(d,s.x,s.y,M.x,R+M.y,x.x,x.y+x.h,r,A,w.x,C.y,D,T),p_(d,s.x,s.y,P.x,R+P.y,x.x+x.w,x.y+x.h,r,A,C.x,C.y,D,T),d_(e.dynamicLayoutVertexArray,s,y),p.emplaceBack(L,L+1,L+2),p.emplaceBack(L+1,L+2,L+3),h.vertexLength+=4,h.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(k[0]),b!==t.length-1&&I===t[b+1].sectionIndex||e.programConfigurations.populatePaintArrays(d.length,o,o.index,{},c,g&&g[I])}e.placedSymbolArray.emplaceBack(s.x,s.y,f,this.glyphOffsetArray.length-f,m,l,_,s.segment,r?r[0]:0,r?r[1]:0,n[0],n[1],a,0,!1,0,u)},y_.prototype._addCollisionDebugVertex=function(e,t,r,n,i,o){return t.emplaceBack(0,0),e.emplaceBack(r.x,r.y,n,i,Math.round(o.x),Math.round(o.y))},y_.prototype.addCollisionDebugVertices=function(e,t,r,n,o,a,s){var l=o.segments.prepareSegment(4,o.layoutVertexArray,o.indexArray),_=l.vertexLength,u=o.layoutVertexArray,c=o.collisionVertexArray,p=s.anchorX,d=s.anchorY;this._addCollisionDebugVertex(u,c,a,p,d,new i(e,t)),this._addCollisionDebugVertex(u,c,a,p,d,new i(r,t)),this._addCollisionDebugVertex(u,c,a,p,d,new i(r,n)),this._addCollisionDebugVertex(u,c,a,p,d,new i(e,n)),l.vertexLength+=4;var h=o.indexArray;h.emplaceBack(_,_+1),h.emplaceBack(_+1,_+2),h.emplaceBack(_+2,_+3),h.emplaceBack(_+3,_),l.primitiveLength+=4},y_.prototype.addDebugCollisionBoxes=function(e,t,r,n){for(var i=e;i<t;i++){var o=this.collisionBoxArray.get(i);this.addCollisionDebugVertices(o.x1,o.y1,o.x2,o.y2,n?this.textCollisionBox:this.iconCollisionBox,o.anchorPoint,r)}},y_.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new m_(Wi,Ns.members,Vi),this.iconCollisionBox=new m_(Wi,Ns.members,Vi);for(var e=0;e<this.symbolInstances.length;e++){var t=this.symbolInstances.get(e);this.addDebugCollisionBoxes(t.textBoxStartIndex,t.textBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.verticalTextBoxStartIndex,t.verticalTextBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.iconBoxStartIndex,t.iconBoxEndIndex,t,!1),this.addDebugCollisionBoxes(t.verticalIconBoxStartIndex,t.verticalIconBoxEndIndex,t,!1)}},y_.prototype._deserializeCollisionBoxesForSymbol=function(e,t,r,n,i,o,a,s,l){for(var _={},u=t;u<r;u++){var c=e.get(u);_.textBox={x1:c.x1,y1:c.y1,x2:c.x2,y2:c.y2,anchorPointX:c.anchorPointX,anchorPointY:c.anchorPointY},_.textFeatureIndex=c.featureIndex;break}for(var p=n;p<i;p++){var d=e.get(p);_.verticalTextBox={x1:d.x1,y1:d.y1,x2:d.x2,y2:d.y2,anchorPointX:d.anchorPointX,anchorPointY:d.anchorPointY},_.verticalTextFeatureIndex=d.featureIndex;break}for(var h=o;h<a;h++){var f=e.get(h);_.iconBox={x1:f.x1,y1:f.y1,x2:f.x2,y2:f.y2,anchorPointX:f.anchorPointX,anchorPointY:f.anchorPointY},_.iconFeatureIndex=f.featureIndex;break}for(var m=s;m<l;m++){var y=e.get(m);_.verticalIconBox={x1:y.x1,y1:y.y1,x2:y.x2,y2:y.y2,anchorPointX:y.anchorPointX,anchorPointY:y.anchorPointY},_.verticalIconFeatureIndex=y.featureIndex;break}return _},y_.prototype.deserializeCollisionBoxes=function(e){this.collisionArrays=[];for(var t=0;t<this.symbolInstances.length;t++){var r=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,r.textBoxStartIndex,r.textBoxEndIndex,r.verticalTextBoxStartIndex,r.verticalTextBoxEndIndex,r.iconBoxStartIndex,r.iconBoxEndIndex,r.verticalIconBoxStartIndex,r.verticalIconBoxEndIndex))}},y_.prototype.hasTextData=function(){return this.text.segments.get().length>0},y_.prototype.hasIconData=function(){return this.icon.segments.get().length>0},y_.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},y_.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},y_.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},y_.prototype.addIndicesForPlacedSymbol=function(e,t){for(var r=e.placedSymbolArray.get(t),n=r.vertexStartIndex+4*r.numGlyphs,i=r.vertexStartIndex;i<n;i+=4)e.indexArray.emplaceBack(i,i+1,i+2),e.indexArray.emplaceBack(i+1,i+2,i+3)},y_.prototype.getSortedSymbolIndexes=function(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var t=Math.sin(e),r=Math.cos(e),n=[],i=[],o=[],a=0;a<this.symbolInstances.length;++a){o.push(a);var s=this.symbolInstances.get(a);n.push(0|Math.round(t*s.anchorX+r*s.anchorY)),i.push(s.featureIndex)}return o.sort((function(e,t){return n[e]-n[t]||i[t]-i[e]})),o},y_.prototype.addToSortKeyRanges=function(e,t){var r=this.sortKeyRanges[this.sortKeyRanges.length-1];r&&r.sortKey===t?r.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})},y_.prototype.sortFeatures=function(e){var t=this;if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var r=0,n=this.symbolInstanceIndexes;r<n.length;r+=1){var i=this.symbolInstances.get(n[r]);this.featureSortOrder.push(i.featureIndex),[i.rightJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.leftJustifiedTextSymbolIndex].forEach((function(e,r,n){e>=0&&n.indexOf(e)===r&&t.addIndicesForPlacedSymbol(t.text,e)})),i.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,i.verticalPlacedTextSymbolIndex),i.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.placedIconSymbolIndex),i.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Wn("SymbolBucket",y_,{omit:["layers","collisionBoxArray","features","compareText"]}),y_.MAX_GLYPHS=65535,y_.addDynamicAttributes=d_;var g_=new Ei({"symbol-placement":new mi(Te.layout_symbol["symbol-placement"]),"symbol-spacing":new mi(Te.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new mi(Te.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new yi(Te.layout_symbol["symbol-sort-key"]),"symbol-z-order":new mi(Te.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new mi(Te.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new mi(Te.layout_symbol["icon-ignore-placement"]),"icon-optional":new mi(Te.layout_symbol["icon-optional"]),"icon-rotation-alignment":new mi(Te.layout_symbol["icon-rotation-alignment"]),"icon-size":new yi(Te.layout_symbol["icon-size"]),"icon-text-fit":new mi(Te.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new mi(Te.layout_symbol["icon-text-fit-padding"]),"icon-image":new yi(Te.layout_symbol["icon-image"]),"icon-rotate":new yi(Te.layout_symbol["icon-rotate"]),"icon-padding":new mi(Te.layout_symbol["icon-padding"]),"icon-keep-upright":new mi(Te.layout_symbol["icon-keep-upright"]),"icon-offset":new yi(Te.layout_symbol["icon-offset"]),"icon-anchor":new yi(Te.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new mi(Te.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new mi(Te.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new mi(Te.layout_symbol["text-rotation-alignment"]),"text-field":new yi(Te.layout_symbol["text-field"]),"text-font":new yi(Te.layout_symbol["text-font"]),"text-size":new yi(Te.layout_symbol["text-size"]),"text-max-width":new yi(Te.layout_symbol["text-max-width"]),"text-line-height":new mi(Te.layout_symbol["text-line-height"]),"text-letter-spacing":new yi(Te.layout_symbol["text-letter-spacing"]),"text-justify":new yi(Te.layout_symbol["text-justify"]),"text-radial-offset":new yi(Te.layout_symbol["text-radial-offset"]),"text-variable-anchor":new mi(Te.layout_symbol["text-variable-anchor"]),"text-anchor":new yi(Te.layout_symbol["text-anchor"]),"text-max-angle":new mi(Te.layout_symbol["text-max-angle"]),"text-writing-mode":new mi(Te.layout_symbol["text-writing-mode"]),"text-rotate":new yi(Te.layout_symbol["text-rotate"]),"text-padding":new mi(Te.layout_symbol["text-padding"]),"text-keep-upright":new mi(Te.layout_symbol["text-keep-upright"]),"text-transform":new yi(Te.layout_symbol["text-transform"]),"text-offset":new yi(Te.layout_symbol["text-offset"]),"text-allow-overlap":new mi(Te.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new mi(Te.layout_symbol["text-ignore-placement"]),"text-optional":new mi(Te.layout_symbol["text-optional"])}),b_={paint:new Ei({"icon-opacity":new yi(Te.paint_symbol["icon-opacity"]),"icon-color":new yi(Te.paint_symbol["icon-color"]),"icon-halo-color":new yi(Te.paint_symbol["icon-halo-color"]),"icon-halo-width":new yi(Te.paint_symbol["icon-halo-width"]),"icon-halo-blur":new yi(Te.paint_symbol["icon-halo-blur"]),"icon-translate":new mi(Te.paint_symbol["icon-translate"]),"icon-translate-anchor":new mi(Te.paint_symbol["icon-translate-anchor"]),"text-opacity":new yi(Te.paint_symbol["text-opacity"]),"text-color":new yi(Te.paint_symbol["text-color"],{runtimeType:ze,getOverride:function(e){return e.textColor},hasOverride:function(e){return!!e.textColor}}),"text-halo-color":new yi(Te.paint_symbol["text-halo-color"]),"text-halo-width":new yi(Te.paint_symbol["text-halo-width"]),"text-halo-blur":new yi(Te.paint_symbol["text-halo-blur"]),"text-translate":new mi(Te.paint_symbol["text-translate"]),"text-translate-anchor":new mi(Te.paint_symbol["text-translate-anchor"])}),layout:g_},v_=function(e){this.type=e.property.overrides?e.property.overrides.runtimeType:Ue,this.defaultValue=e};v_.prototype.evaluate=function(e){if(e.formattedSection){var t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default},v_.prototype.eachChild=function(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)},v_.prototype.outputDefined=function(){return!1},v_.prototype.serialize=function(){return null},Wn("FormatSectionOverride",v_,{omit:["defaultValue"]});var E_=function(e){function t(t){e.call(this,t,b_)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.recalculate=function(t,r){if(e.prototype.recalculate.call(this,t,r),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var n=this.layout.get("text-writing-mode");if(n){for(var i=[],o=0,a=n;o<a.length;o+=1){var s=a[o];i.indexOf(s)<0&&i.push(s)}this.layout._values["text-writing-mode"]=i}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},t.prototype.getValueAndResolveTokens=function(e,t,r,n){var i=this.layout.get(e).evaluate(t,{},r,n),o=this._unevaluatedLayout._values[e];return o.isDataDriven()||Hr(o.value)||!i?i:function(e,t){return t.replace(/{([^{}]+)}/g,(function(t,r){return r in e?String(e[r]):""}))}(t.properties,i)},t.prototype.createBucket=function(e){return new y_(e)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype._setPaintOverrides=function(){for(var e=0,r=b_.paint.overridableProperties;e<r.length;e+=1){var n=r[e];if(t.hasPaintOverride(this.layout,n)){var i,o=this.paint.get(n),a=new v_(o),s=new Nr(a,o.property.specification);i="constant"===o.value.kind||"source"===o.value.kind?new Vr("source",s):new Zr("composite",s,o.value.zoomStops,o.value._interpolationType),this.paint._values[n]=new hi(o.property,i,o.parameters)}}},t.prototype._handleOverridablePaintPropertyUpdate=function(e,r,n){return!(!this.layout||r.isDataDriven()||n.isDataDriven())&&t.hasPaintOverride(this.layout,e)},t.hasPaintOverride=function(e,t){var r=e.get("text-field"),n=b_.paint.properties[t],i=!1,o=function(e){for(var t=0,r=e;t<r.length;t+=1)if(n.overrides&&n.overrides.hasOverride(r[t]))return void(i=!0)};if("constant"===r.value.kind&&r.value.value instanceof nt)o(r.value.value.sections);else if("source"===r.value.kind){var a=function(e){i||(e instanceof _t&&st(e.value)===He?o(e.value.sections):e instanceof dt?o(e.sections):e.eachChild(a))},s=r.value;s._styleExpression&&a(s._styleExpression.expression)}return i},t}(Oi),O_={paint:new Ei({"background-color":new mi(Te.paint_background["background-color"]),"background-pattern":new bi(Te.paint_background["background-pattern"]),"background-opacity":new mi(Te.paint_background["background-opacity"])})},M_=function(e){function t(t){e.call(this,t,O_)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Oi),P_={paint:new Ei({"raster-opacity":new mi(Te.paint_raster["raster-opacity"]),"raster-hue-rotate":new mi(Te.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new mi(Te.paint_raster["raster-brightness-min"]),"raster-brightness-max":new mi(Te.paint_raster["raster-brightness-max"]),"raster-saturation":new mi(Te.paint_raster["raster-saturation"]),"raster-contrast":new mi(Te.paint_raster["raster-contrast"]),"raster-resampling":new mi(Te.paint_raster["raster-resampling"]),"raster-fade-duration":new mi(Te.paint_raster["raster-fade-duration"])})},x_=function(e){function t(t){e.call(this,t,P_)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Oi),w_=function(e){function t(t){e.call(this,t,{}),this.implementation=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},t.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},t.prototype.recalculate=function(){},t.prototype.updateTransitions=function(){},t.prototype.hasTransition=function(){},t.prototype.serialize=function(){},t.prototype.onAdd=function(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)},t.prototype.onRemove=function(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)},t}(Oi),C_={circle:pa,heatmap:Oa,hillshade:Pa,fill:us,"fill-extrusion":Cs,line:Ks,symbol:E_,background:M_,raster:x_},D_=a.HTMLImageElement,T_=a.HTMLCanvasElement,k_=a.HTMLVideoElement,A_=a.ImageData,I_=a.ImageBitmap,L_=function(e,t,r,n){this.context=e,this.format=r,this.texture=e.gl.createTexture(),this.update(t,n)};L_.prototype.update=function(e,t,r){var n=e.width,i=e.height,o=!(this.size&&this.size[0]===n&&this.size[1]===i||r),a=this.context,s=a.gl;if(this.useMipmap=Boolean(t&&t.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!t||!1!==t.premultiply)),o)this.size=[n,i],e instanceof D_||e instanceof T_||e instanceof k_||e instanceof A_||I_&&e instanceof I_?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,e):s.texImage2D(s.TEXTURE_2D,0,this.format,n,i,0,this.format,s.UNSIGNED_BYTE,e.data);else{var l=r||{x:0,y:0},_=l.x,u=l.y;e instanceof D_||e instanceof T_||e instanceof k_||e instanceof A_||I_&&e instanceof I_?s.texSubImage2D(s.TEXTURE_2D,0,_,u,s.RGBA,s.UNSIGNED_BYTE,e):s.texSubImage2D(s.TEXTURE_2D,0,_,u,n,i,s.RGBA,s.UNSIGNED_BYTE,e.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D)},L_.prototype.bind=function(e,t,r){var n=this.context.gl;n.bindTexture(n.TEXTURE_2D,this.texture),r!==n.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(r=n.LINEAR),e!==this.filter&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,r||e),this.filter=e),t!==this.wrap&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,t),this.wrap=t)},L_.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},L_.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var R_=function(e){var t=this;this._callback=e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){t._triggered=!1,t._callback()})};R_.prototype.trigger=function(){var e=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){e._triggered=!1,e._callback()}),0))},R_.prototype.remove=function(){delete this._channel,this._callback=function(){}};var S_=function(e,t,r){this.target=e,this.parent=t,this.mapId=r,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},y(["receive","process"],this),this.invoker=new R_(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=w()?e:a};function B_(e,t,r){var n=2*Math.PI*6378137/256/Math.pow(2,r);return[e*n-2*Math.PI*6378137/2,t*n-2*Math.PI*6378137/2]}S_.prototype.send=function(e,t,r,n,i){var o=this;void 0===i&&(i=!1);var a=Math.round(1e18*Math.random()).toString(36).substring(0,10);r&&(this.callbacks[a]=r);var s=T(this.globalScope)?void 0:[];return this.target.postMessage({id:a,type:e,hasCallback:!!r,targetMapId:n,mustQueue:i,sourceMapId:this.mapId,data:Fn(t,s)},s),{cancel:function(){r&&delete o.callbacks[a],o.target.postMessage({id:a,type:"<cancel>",targetMapId:n,sourceMapId:o.mapId})}}},S_.prototype.receive=function(e){var t=e.data,r=t.id;if(r&&(!t.targetMapId||this.mapId===t.targetMapId))if("<cancel>"===t.type){delete this.tasks[r];var n=this.cancelCallbacks[r];delete this.cancelCallbacks[r],n&&n()}else w()||t.mustQueue?(this.tasks[r]=t,this.taskQueue.push(r),this.invoker.trigger()):this.processTask(r,t)},S_.prototype.process=function(){if(this.taskQueue.length){var e=this.taskQueue.shift(),t=this.tasks[e];delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),t&&this.processTask(e,t)}},S_.prototype.processTask=function(e,t){var r=this;if("<response>"===t.type){var n=this.callbacks[e];delete this.callbacks[e],n&&(t.error?n(qn(t.error)):n(null,qn(t.data)))}else{var i=!1,o=T(this.globalScope)?void 0:[],a=t.hasCallback?function(t,n){i=!0,delete r.cancelCallbacks[e],r.target.postMessage({id:e,type:"<response>",sourceMapId:r.mapId,error:t?Fn(t):null,data:Fn(n,o)},o)}:function(e){i=!0},s=null,l=qn(t.data);if(this.parent[t.type])s=this.parent[t.type](t.sourceMapId,l,a);else if(this.parent.getWorkerSource){var _=t.type.split(".");s=this.parent.getWorkerSource(t.sourceMapId,_[0],l.source)[_[1]](l,a)}else a(new Error("Could not find function "+t.type));!i&&s&&s.cancel&&(this.cancelCallbacks[e]=s.cancel)}},S_.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var U_=function(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))};U_.prototype.setNorthEast=function(e){return this._ne=e instanceof W_?new W_(e.lng,e.lat):W_.convert(e),this},U_.prototype.setSouthWest=function(e){return this._sw=e instanceof W_?new W_(e.lng,e.lat):W_.convert(e),this},U_.prototype.extend=function(e){var t,r,n=this._sw,i=this._ne;if(e instanceof W_)t=e,r=e;else{if(!(e instanceof U_))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(U_.convert(e)):this.extend(W_.convert(e)):this;if(r=e._ne,!(t=e._sw)||!r)return this}return n||i?(n.lng=Math.min(t.lng,n.lng),n.lat=Math.min(t.lat,n.lat),i.lng=Math.max(r.lng,i.lng),i.lat=Math.max(r.lat,i.lat)):(this._sw=new W_(t.lng,t.lat),this._ne=new W_(r.lng,r.lat)),this},U_.prototype.getCenter=function(){return new W_((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},U_.prototype.getSouthWest=function(){return this._sw},U_.prototype.getNorthEast=function(){return this._ne},U_.prototype.getNorthWest=function(){return new W_(this.getWest(),this.getNorth())},U_.prototype.getSouthEast=function(){return new W_(this.getEast(),this.getSouth())},U_.prototype.getWest=function(){return this._sw.lng},U_.prototype.getSouth=function(){return this._sw.lat},U_.prototype.getEast=function(){return this._ne.lng},U_.prototype.getNorth=function(){return this._ne.lat},U_.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},U_.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},U_.prototype.isEmpty=function(){return!(this._sw&&this._ne)},U_.prototype.contains=function(e){var t=W_.convert(e),r=t.lng,n=t.lat,i=this._sw.lng<=r&&r<=this._ne.lng;return this._sw.lng>this._ne.lng&&(i=this._sw.lng>=r&&r>=this._ne.lng),this._sw.lat<=n&&n<=this._ne.lat&&i},U_.convert=function(e){return!e||e instanceof U_?e:new U_(e)};var W_=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid LngLat object: ("+e+", "+t+")");if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};W_.prototype.wrap=function(){return new W_(c(this.lng,-180,180),this.lat)},W_.prototype.toArray=function(){return[this.lng,this.lat]},W_.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},W_.prototype.distanceTo=function(e){var t=Math.PI/180,r=this.lat*t,n=e.lat*t,i=Math.sin(r)*Math.sin(n)+Math.cos(r)*Math.cos(n)*Math.cos((e.lng-this.lng)*t);return 6371008.8*Math.acos(Math.min(i,1))},W_.prototype.toBounds=function(e){void 0===e&&(e=0);var t=360*e/40075017,r=t/Math.cos(Math.PI/180*this.lat);return new U_(new W_(this.lng-r,this.lat-t),new W_(this.lng+r,this.lat+t))},W_.convert=function(e){if(e instanceof W_)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new W_(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new W_(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var K_=2*Math.PI*6371008.8;function j_(e){return K_*Math.cos(e*Math.PI/180)}function z_(e){return(180+e)/360}function F_(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function q_(e,t){return e/j_(t)}function N_(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}var H_=function(e,t,r){void 0===r&&(r=0),this.x=+e,this.y=+t,this.z=+r};H_.fromLngLat=function(e,t){void 0===t&&(t=0);var r=W_.convert(e);return new H_(z_(r.lng),F_(r.lat),q_(t,r.lat))},H_.prototype.toLngLat=function(){return new W_(360*this.x-180,N_(this.y))},H_.prototype.toAltitude=function(){return this.z*j_(N_(this.y))},H_.prototype.meterInMercatorCoordinateUnits=function(){return 1/K_*(e=N_(this.y),1/Math.cos(e*Math.PI/180));var e};var G_=function(e,t,r){this.z=e,this.x=t,this.y=r,this.key=X_(0,e,e,t,r)};G_.prototype.equals=function(e){return this.z===e.z&&this.x===e.x&&this.y===e.y},G_.prototype.url=function(e,t){var r,n,i,o,a,s=(n=this.y,i=this.z,o=B_(256*(r=this.x),256*(n=Math.pow(2,i)-n-1),i),a=B_(256*(r+1),256*(n+1),i),o[0]+","+o[1]+","+a[0]+","+a[1]),l=function(e,t,r){for(var n,i="",o=e;o>0;o--)i+=(t&(n=1<<o-1)?1:0)+(r&n?2:0);return i}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",l).replace("{bbox-epsg-3857}",s)},G_.prototype.getTilePoint=function(e){var t=Math.pow(2,this.z);return new i(8192*(e.x*t-this.x),8192*(e.y*t-this.y))},G_.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var V_=function(e,t){this.wrap=e,this.canonical=t,this.key=X_(e,t.z,t.z,t.x,t.y)},Z_=function(e,t,r,n,i){this.overscaledZ=e,this.wrap=t,this.canonical=new G_(r,+n,+i),this.key=X_(t,e,r,n,i)};function X_(e,t,r,n,i){(e*=2)<0&&(e=-1*e-1);var o=1<<r;return(o*o*e+o*i+n).toString(36)+r.toString(36)+t.toString(36)}Z_.prototype.equals=function(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)},Z_.prototype.scaledTo=function(e){var t=this.canonical.z-e;return e>this.canonical.z?new Z_(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Z_(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)},Z_.prototype.calculateScaledKey=function(e,t){var r=this.canonical.z-e;return e>this.canonical.z?X_(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y):X_(this.wrap*+t,e,e,this.canonical.x>>r,this.canonical.y>>r)},Z_.prototype.isChildOf=function(e){if(e.wrap!==this.wrap)return!1;var t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t},Z_.prototype.children=function(e){if(this.overscaledZ>=e)return[new Z_(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var t=this.canonical.z+1,r=2*this.canonical.x,n=2*this.canonical.y;return[new Z_(t,this.wrap,t,r,n),new Z_(t,this.wrap,t,r+1,n),new Z_(t,this.wrap,t,r,n+1),new Z_(t,this.wrap,t,r+1,n+1)]},Z_.prototype.isLessThan=function(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))},Z_.prototype.wrapped=function(){return new Z_(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Z_.prototype.unwrapTo=function(e){return new Z_(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)},Z_.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Z_.prototype.toUnwrapped=function(){return new V_(this.wrap,this.canonical)},Z_.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Z_.prototype.getTilePoint=function(e){return this.canonical.getTilePoint(new H_(e.x-this.wrap,e.y))},Wn("CanonicalTileID",G_),Wn("OverscaledTileID",Z_,{omit:["posMatrix"]});var $_=function(e,t,r){if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(r&&"mapbox"!==r&&"terrarium"!==r)return M('"'+r+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=t.height;var n=this.dim=t.height-2;this.data=new Uint32Array(t.data.buffer),this.encoding=r||"mapbox";for(var i=0;i<n;i++)this.data[this._idx(-1,i)]=this.data[this._idx(0,i)],this.data[this._idx(n,i)]=this.data[this._idx(n-1,i)],this.data[this._idx(i,-1)]=this.data[this._idx(i,0)],this.data[this._idx(i,n)]=this.data[this._idx(i,n-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(n,-1)]=this.data[this._idx(n-1,0)],this.data[this._idx(-1,n)]=this.data[this._idx(0,n-1)],this.data[this._idx(n,n)]=this.data[this._idx(n-1,n-1)]};$_.prototype.get=function(e,t){var r=new Uint8Array(this.data.buffer),n=4*this._idx(e,t);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(r[n],r[n+1],r[n+2])},$_.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},$_.prototype._idx=function(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)},$_.prototype._unpackMapbox=function(e,t,r){return(256*e*256+256*t+r)/10-1e4},$_.prototype._unpackTerrarium=function(e,t,r){return 256*e+t+r/256-32768},$_.prototype.getPixels=function(){return new ba({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},$_.prototype.backfillBorder=function(e,t,r){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");var n=t*this.dim,i=t*this.dim+this.dim,o=r*this.dim,a=r*this.dim+this.dim;switch(t){case-1:n=i-1;break;case 1:i=n+1}switch(r){case-1:o=a-1;break;case 1:a=o+1}for(var s=-t*this.dim,l=-r*this.dim,_=o;_<a;_++)for(var u=n;u<i;u++)this.data[this._idx(u,_)]=e.data[this._idx(u+s,_+l)]},Wn("DEMData",$_);var Y_=function(e){this._stringToNumber={},this._numberToString=[];for(var t=0;t<e.length;t++){var r=e[t];this._stringToNumber[r]=t,this._numberToString[t]=r}};Y_.prototype.encode=function(e){return this._stringToNumber[e]},Y_.prototype.decode=function(e){return this._numberToString[e]};var J_=function(e,t,r,n,i){this.type="Feature",this._vectorTileFeature=e,e._z=t,e._x=r,e._y=n,this.properties=e.properties,this.id=i},Q_={geometry:{configurable:!0}};Q_.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Q_.geometry.set=function(e){this._geometry=e},J_.prototype.toJSON=function(){var e={geometry:this.geometry};for(var t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&(e[t]=this[t]);return e},Object.defineProperties(J_.prototype,Q_);var eu=function(){this.state={},this.stateChanges={},this.deletedStates={}};eu.prototype.updateState=function(e,t,r){var n=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][n]=this.stateChanges[e][n]||{},p(this.stateChanges[e][n],r),null===this.deletedStates[e])for(var i in this.deletedStates[e]={},this.state[e])i!==n&&(this.deletedStates[e][i]=null);else if(this.deletedStates[e]&&null===this.deletedStates[e][n])for(var o in this.deletedStates[e][n]={},this.state[e][n])r[o]||(this.deletedStates[e][n][o]=null);else for(var a in r)this.deletedStates[e]&&this.deletedStates[e][n]&&null===this.deletedStates[e][n][a]&&delete this.deletedStates[e][n][a]},eu.prototype.removeFeatureState=function(e,t,r){if(null!==this.deletedStates[e]){var n=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},r&&void 0!==t)null!==this.deletedStates[e][n]&&(this.deletedStates[e][n]=this.deletedStates[e][n]||{},this.deletedStates[e][n][r]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][n])for(r in this.deletedStates[e][n]={},this.stateChanges[e][n])this.deletedStates[e][n][r]=null;else this.deletedStates[e][n]=null;else this.deletedStates[e]=null}},eu.prototype.getState=function(e,t){var r=String(t),n=p({},(this.state[e]||{})[r],(this.stateChanges[e]||{})[r]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){var i=this.deletedStates[e][t];if(null===i)return{};for(var o in i)delete n[o]}return n},eu.prototype.initializeTileState=function(e,t){e.setFeatureState(this.state,t)},eu.prototype.coalesceChanges=function(e,t){var r={};for(var n in this.stateChanges){this.state[n]=this.state[n]||{};var i={};for(var o in this.stateChanges[n])this.state[n][o]||(this.state[n][o]={}),p(this.state[n][o],this.stateChanges[n][o]),i[o]=this.state[n][o];r[n]=i}for(var a in this.deletedStates){this.state[a]=this.state[a]||{};var s={};if(null===this.deletedStates[a])for(var l in this.state[a])s[l]={},this.state[a][l]={};else for(var _ in this.deletedStates[a]){if(null===this.deletedStates[a][_])this.state[a][_]={};else for(var u=0,c=Object.keys(this.deletedStates[a][_]);u<c.length;u+=1)delete this.state[a][_][c[u]];s[_]=this.state[a][_]}r[a]=r[a]||{},p(r[a],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(r).length)for(var d in e)e[d].setFeatureState(r,t)};var tu=function(e,t){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new Ln(8192,16,0),this.grid3D=new Ln(8192,16,0),this.featureIndexArray=new oo,this.promoteId=t};function ru(e,t,r,n,i){return b(e,(function(e,o){var a=t instanceof fi?t.get(o):null;return a&&a.evaluate?a.evaluate(r,n,i):a}))}function nu(e){for(var t=1/0,r=1/0,n=-1/0,i=-1/0,o=0,a=e;o<a.length;o+=1){var s=a[o];t=Math.min(t,s.x),r=Math.min(r,s.y),n=Math.max(n,s.x),i=Math.max(i,s.y)}return{minX:t,minY:r,maxX:n,maxY:i}}function iu(e,t){return t-e}tu.prototype.insert=function(e,t,r,n,i,o){var a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(r,n,i);for(var s=o?this.grid3D:this.grid,l=0;l<t.length;l++){for(var _=t[l],u=[1/0,1/0,-1/0,-1/0],c=0;c<_.length;c++){var p=_[c];u[0]=Math.min(u[0],p.x),u[1]=Math.min(u[1],p.y),u[2]=Math.max(u[2],p.x),u[3]=Math.max(u[3],p.y)}u[0]<8192&&u[1]<8192&&u[2]>=0&&u[3]>=0&&s.insert(a,u[0],u[1],u[2],u[3])}},tu.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new vs.VectorTile(new $s(this.rawTileData)).layers,this.sourceLayerCoder=new Y_(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},tu.prototype.query=function(e,t,r,n){var o=this;this.loadVTLayers();for(var a=e.params||{},s=8192/e.tileSize/e.scale,l=an(a.filter),_=e.queryGeometry,u=e.queryPadding*s,c=nu(_),p=this.grid.query(c.minX-u,c.minY-u,c.maxX+u,c.maxY+u),d=nu(e.cameraQueryGeometry),h=0,f=this.grid3D.query(d.minX-u,d.minY-u,d.maxX+u,d.maxY+u,(function(t,r,n,o){return function(e,t,r,n,o){for(var a=0,s=e;a<s.length;a+=1){var l=s[a];if(t<=l.x&&r<=l.y&&n>=l.x&&o>=l.y)return!0}var _=[new i(t,r),new i(t,o),new i(n,o),new i(n,r)];if(e.length>2)for(var u=0,c=_;u<c.length;u+=1)if(Qo(e,c[u]))return!0;for(var p=0;p<e.length-1;p++)if(ea(e[p],e[p+1],_))return!0;return!1}(e.cameraQueryGeometry,t-u,r-u,n+u,o+u)}));h<f.length;h+=1)p.push(f[h]);p.sort(iu);for(var m,y={},g=function(i){var u=p[i];if(u!==m){m=u;var c=o.featureIndexArray.get(u),d=null;o.loadMatchingFeature(y,c.bucketIndex,c.sourceLayerIndex,c.featureIndex,l,a.layers,a.availableImages,t,r,n,(function(t,r,n){return d||(d=jo(t)),r.queryIntersectsFeature(_,t,n,d,o.z,e.transform,s,e.pixelPosMatrix)}))}},b=0;b<p.length;b++)g(b);return y},tu.prototype.loadMatchingFeature=function(e,t,r,n,i,o,a,s,l,_,u){var c=this.bucketLayerIDs[t];if(!o||function(e,t){for(var r=0;r<e.length;r++)if(t.indexOf(e[r])>=0)return!0;return!1}(o,c)){var d=this.sourceLayerCoder.decode(r),h=this.vtLayers[d].feature(n);if(i.needGeometry){var f=zo(h,!0);if(!i.filter(new si(this.tileID.overscaledZ),f,this.tileID.canonical))return}else if(!i.filter(new si(this.tileID.overscaledZ),h))return;for(var m=this.getId(h,d),y=0;y<c.length;y++){var g=c[y];if(!(o&&o.indexOf(g)<0)){var b=s[g];if(b){var v={};void 0!==m&&_&&(v=_.getState(b.sourceLayer||"_geojsonTileLayer",m));var E=p({},l[g]);E.paint=ru(E.paint,b.paint,h,v,a),E.layout=ru(E.layout,b.layout,h,v,a);var O=!u||u(h,b,v);if(O){var M=new J_(h,this.z,this.x,this.y,m);M.layer=E;var P=e[g];void 0===P&&(P=e[g]=[]),P.push({featureIndex:n,feature:M,intersectionZ:O})}}}}}},tu.prototype.lookupSymbolFeatures=function(e,t,r,n,i,o,a,s){var l={};this.loadVTLayers();for(var _=an(i),u=0,c=e;u<c.length;u+=1)this.loadMatchingFeature(l,r,n,c[u],_,o,a,s,t);return l},tu.prototype.hasLayer=function(e){for(var t=0,r=this.bucketLayerIDs;t<r.length;t+=1)for(var n=0,i=r[t];n<i.length;n+=1)if(e===i[n])return!0;return!1},tu.prototype.getId=function(e,t){var r=e.id;return this.promoteId&&"boolean"==typeof(r=e.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[t]])&&(r=Number(r)),r},Wn("FeatureIndex",tu,{omit:["rawTileData","sourceLayerCoder"]});var ou=function(e,t){this.tileID=e,this.uid=h(),this.uses=0,this.tileSize=t,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};ou.prototype.registerFadeDuration=function(e){var t=e+this.timeAdded;t<W.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)},ou.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},ou.prototype.loadVectorData=function(e,t,r){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){for(var n in e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){var r={};if(!t)return r;for(var n=function(){var e=o[i],n=e.layerIds.map((function(e){return t.getLayer(e)})).filter(Boolean);if(0!==n.length){e.layers=n,e.stateDependentLayerIds&&(e.stateDependentLayers=e.stateDependentLayerIds.map((function(e){return n.filter((function(t){return t.id===e}))[0]})));for(var a=0,s=n;a<s.length;a+=1)r[s[a].id]=e}},i=0,o=e;i<o.length;i+=1)n();return r}(e.buckets,t.style),this.hasSymbolBuckets=!1,this.buckets){var i=this.buckets[n];if(i instanceof y_){if(this.hasSymbolBuckets=!0,!r)break;i.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var o in this.buckets){var a=this.buckets[o];if(a instanceof y_&&a.hasRTLText){this.hasRTLText=!0,ai.isLoading()||ai.isLoaded()||"deferred"!==ii()||oi();break}}for(var s in this.queryPadding=0,this.buckets){var l=this.buckets[s];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(s).queryRadius(l))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new Yi},ou.prototype.unloadVectorData=function(){for(var e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},ou.prototype.getBucket=function(e){return this.buckets[e.id]},ou.prototype.upload=function(e){for(var t in this.buckets){var r=this.buckets[t];r.uploadPending()&&r.upload(e)}var n=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new L_(e,this.imageAtlas.image,n.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new L_(e,this.glyphAtlasImage,n.ALPHA),this.glyphAtlasImage=null)},ou.prototype.prepare=function(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)},ou.prototype.queryRenderedFeatures=function(e,t,r,n,i,o,a,s,l,_){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:n,cameraQueryGeometry:i,scale:o,tileSize:this.tileSize,pixelPosMatrix:_,transform:s,params:a,queryPadding:this.queryPadding*l},e,t,r):{}},ou.prototype.querySourceFeatures=function(e,t){var r=this.latestFeatureIndex;if(r&&r.rawTileData){var n=r.loadVTLayers(),i=t?t.sourceLayer:"",o=n._geojsonTileLayer||n[i];if(o)for(var a=an(t&&t.filter),s=this.tileID.canonical,l=s.z,_=s.x,u=s.y,c={z:l,x:_,y:u},p=0;p<o.length;p++){var d=o.feature(p);if(a.needGeometry){var h=zo(d,!0);if(!a.filter(new si(this.tileID.overscaledZ),h,this.tileID.canonical))continue}else if(!a.filter(new si(this.tileID.overscaledZ),d))continue;var f=r.getId(d,i),m=new J_(d,l,_,u,f);m.tile=c,e.push(m)}}},ou.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},ou.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},ou.prototype.setExpiryData=function(e){var t=this.expirationTime;if(e.cacheControl){var r=C(e.cacheControl);r["max-age"]&&(this.expirationTime=Date.now()+1e3*r["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var n=Date.now(),i=!1;if(this.expirationTime>n)i=!1;else if(t)if(this.expirationTime<t)i=!0;else{var o=this.expirationTime-t;o?this.expirationTime=n+Math.max(o,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},ou.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},ou.prototype.setFeatureState=function(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(e).length){var r=this.latestFeatureIndex.loadVTLayers();for(var n in this.buckets)if(t.style.hasLayer(n)){var i=this.buckets[n],o=i.layers[0].sourceLayer||"_geojsonTileLayer",a=r[o],s=e[o];if(a&&s&&0!==Object.keys(s).length){i.update(s,a,this.imageAtlas&&this.imageAtlas.patternPositions||{});var l=t&&t.style&&t.style.getLayer(n);l&&(this.queryPadding=Math.max(this.queryPadding,l.queryRadius(i)))}}}},ou.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},ou.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<W.now()},ou.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},ou.prototype.setHoldDuration=function(e){this.symbolFadeHoldUntil=W.now()+e},ou.prototype.setDependencies=function(e,t){for(var r={},n=0,i=t;n<i.length;n+=1)r[i[n]]=!0;this.dependencies[e]=r},ou.prototype.hasDependency=function(e,t){for(var r=0,n=e;r<n.length;r+=1){var i=this.dependencies[n[r]];if(i)for(var o=0,a=t;o<a.length;o+=1)if(i[a[o]])return!0}return!1};var au=a.performance,su=function(e){this._marks={start:[e.url,"start"].join("#"),end:[e.url,"end"].join("#"),measure:e.url.toString()},au.mark(this._marks.start)};su.prototype.finish=function(){au.mark(this._marks.end);var e=au.getEntriesByName(this._marks.measure);return 0===e.length&&(au.measure(this._marks.measure,this._marks.start,this._marks.end),e=au.getEntriesByName(this._marks.measure),au.clearMarks(this._marks.start),au.clearMarks(this._marks.end),au.clearMeasures(this._marks.measure)),e},e.Actor=S_,e.AlphaImage=ga,e.CanonicalTileID=G_,e.CollisionBoxArray=Yi,e.Color=et,e.DEMData=$_,e.DataConstantProperty=mi,e.DictionaryCoder=Y_,e.EXTENT=8192,e.ErrorEvent=Ce,e.EvaluationParameters=si,e.Event=we,e.Evented=De,e.FeatureIndex=tu,e.FillBucket=ss,e.FillExtrusionBucket=Ps,e.ImageAtlas=vl,e.ImagePosition=gl,e.LineBucket=Ss,e.LngLat=W_,e.LngLatBounds=U_,e.MercatorCoordinate=H_,e.ONE_EM=24,e.OverscaledTileID=Z_,e.Point=i,e.Point$1=i,e.Properties=Ei,e.Protobuf=$s,e.RGBAImage=ba,e.RequestManager=H,e.RequestPerformance=su,e.ResourceType=he,e.SegmentVector=so,e.SourceFeatureState=eu,e.StructArrayLayout1ui2=Zi,e.StructArrayLayout2f1f2i16=Ki,e.StructArrayLayout2i4=Di,e.StructArrayLayout3ui6=zi,e.StructArrayLayout4i8=Ti,e.SymbolBucket=y_,e.Texture=L_,e.Tile=ou,e.Transitionable=ui,e.Uniform1f=Eo,e.Uniform1i=vo,e.Uniform2f=Oo,e.Uniform3f=Mo,e.Uniform4f=Po,e.UniformColor=xo,e.UniformMatrix4f=Co,e.UnwrappedTileID=V_,e.ValidationError=ke,e.WritingMode=El,e.ZoomHistory=Nn,e.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e},e.addDynamicAttributes=d_,e.asyncAll=function(e,t,r){if(!e.length)return r(null,[]);var n=e.length,i=new Array(e.length),o=null;e.forEach((function(e,a){t(e,(function(e,t){e&&(o=e),i[a]=t,0==--n&&r(o,i)}))}))},e.bezier=l,e.bindAll=y,e.browser=W,e.cacheEntryPossiblyAdded=function(e){++pe>le&&(e.getActor().send("enforceCacheSizeLimit",se),pe=0)},e.clamp=u,e.clearTileCache=function(e){var t=a.caches.delete("mapbox-tiles");e&&t.catch(e).then((function(){return e()}))},e.clipLine=Gl,e.clone=function(e){var t=new aa(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$1=E,e.clone$2=function(e){var t=new aa(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.collisionCircleLayout=Hs,e.config=K,e.create=function(){var e=new aa(16);return aa!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.create$1=function(){var e=new aa(9);return aa!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e},e.create$2=function(){var e=new aa(4);return aa!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e},e.createCommonjsModule=t,e.createExpression=Gr,e.createLayout=wi,e.createStyleLayer=function(e){return"custom"===e.type?new w_(e):new C_[e.type](e)},e.cross=function(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[0],s=r[1],l=r[2];return e[0]=i*l-o*s,e[1]=o*a-n*l,e[2]=n*s-i*a,e},e.deepEqual=function e(t,r){if(Array.isArray(t)){if(!Array.isArray(r)||t.length!==r.length)return!1;for(var n=0;n<t.length;n++)if(!e(t[n],r[n]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==r){if("object"!=typeof r)return!1;if(Object.keys(t).length!==Object.keys(r).length)return!1;for(var i in t)if(!e(t[i],r[i]))return!1;return!0}return t===r},e.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},e.dot$1=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},e.ease=_,e.emitValidationErrors=In,e.endsWith=g,e.enforceCacheSizeLimit=function(e){_e(),ee&&ee.then((function(t){t.keys().then((function(r){for(var n=0;n<r.length-e;n++)t.delete(r[n])}))}))},e.evaluateSizeForFeature=Ul,e.evaluateSizeForZoom=Wl,e.evaluateVariableOffset=o_,e.evented=ni,e.extend=p,e.featureFilter=an,e.filterObject=v,e.fromRotation=function(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.getAnchorAlignment=Il,e.getAnchorJustification=a_,e.getArrayBuffer=ve,e.getImage=Me,e.getJSON=function(e,t){return be(p(e,{type:"json"}),t)},e.getRTLTextPluginStatus=ii,e.getReferrer=ge,e.getVideo=function(e,t){var r,n,i=a.document.createElement("video");i.muted=!0,i.onloadstart=function(){t(null,i)};for(var o=0;o<e.length;o++){var s=a.document.createElement("source");r=e[o],n=void 0,(n=a.document.createElement("a")).href=r,(n.protocol!==a.document.location.protocol||n.host!==a.document.location.host)&&(i.crossOrigin="Anonymous"),s.src=e[o],i.appendChild(s)}return{cancel:function(){}}},e.identity=sa,e.invert=function(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],_=t[7],u=t[8],c=t[9],p=t[10],d=t[11],h=t[12],f=t[13],m=t[14],y=t[15],g=r*s-n*a,b=r*l-i*a,v=r*_-o*a,E=n*l-i*s,O=n*_-o*s,M=i*_-o*l,P=u*f-c*h,x=u*m-p*h,w=u*y-d*h,C=c*m-p*f,D=c*y-d*f,T=p*y-d*m,k=g*T-b*D+v*C+E*w-O*x+M*P;return k?(e[0]=(s*T-l*D+_*C)*(k=1/k),e[1]=(i*D-n*T-o*C)*k,e[2]=(f*M-m*O+y*E)*k,e[3]=(p*O-c*M-d*E)*k,e[4]=(l*w-a*T-_*x)*k,e[5]=(r*T-i*w+o*x)*k,e[6]=(m*v-h*M-y*b)*k,e[7]=(u*M-p*v+d*b)*k,e[8]=(a*D-s*w+_*P)*k,e[9]=(n*w-r*D-o*P)*k,e[10]=(h*O-f*v+y*g)*k,e[11]=(c*v-u*O-d*g)*k,e[12]=(s*x-a*C-l*P)*k,e[13]=(r*C-n*x+i*P)*k,e[14]=(f*b-h*E-m*g)*k,e[15]=(u*E-c*b+p*g)*k,e):null},e.isChar=Hn,e.isMapboxURL=G,e.keysDifference=function(e,t){var r=[];for(var n in e)n in t||r.push(n);return r},e.makeRequest=be,e.mapObject=b,e.mercatorXfromLng=z_,e.mercatorYfromLat=F_,e.mercatorZfromAltitude=q_,e.mul=ua,e.multiply=la,e.mvt=vs,e.nextPowerOfTwo=function(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},e.normalize=function(e,t){var r=t[0],n=t[1],i=t[2],o=r*r+n*n+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e},e.number=Nt,e.offscreenCanvasSupported=de,e.ortho=function(e,t,r,n,i,o,a){var s=1/(t-r),l=1/(n-i),_=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*_,e[11]=0,e[12]=(t+r)*s,e[13]=(i+n)*l,e[14]=(a+o)*_,e[15]=1,e},e.parseGlyphPBF=function(e){return new $s(e).readFields(hl,[])},e.pbf=$s,e.performSymbolLayout=function(e,t,r,n,i,o,a){e.createArrays(),e.tilePixelRatio=8192/(512*e.overscaling),e.compareText={},e.iconsNeedLinear=!1;var s=e.layers[0].layout,l=e.layers[0]._unevaluatedLayout._values,_={};if("composite"===e.textSizeData.kind){var u=e.textSizeData,c=u.maxZoom;_.compositeTextSizes=[l["text-size"].possiblyEvaluate(new si(u.minZoom),a),l["text-size"].possiblyEvaluate(new si(c),a)]}if("composite"===e.iconSizeData.kind){var p=e.iconSizeData,d=p.maxZoom;_.compositeIconSizes=[l["icon-size"].possiblyEvaluate(new si(p.minZoom),a),l["icon-size"].possiblyEvaluate(new si(d),a)]}_.layoutTextSize=l["text-size"].possiblyEvaluate(new si(e.zoom+1),a),_.layoutIconSize=l["icon-size"].possiblyEvaluate(new si(e.zoom+1),a),_.textMaxSize=l["text-size"].possiblyEvaluate(new si(18));for(var h=24*s.get("text-line-height"),f="map"===s.get("text-rotation-alignment")&&"point"!==s.get("symbol-placement"),m=s.get("text-keep-upright"),y=s.get("text-size"),g=function(){var o=v[b],l=s.get("text-font").evaluate(o,{},a).join(","),u=y.evaluate(o,{},a),c=_.layoutTextSize.evaluate(o,{},a),p=_.layoutIconSize.evaluate(o,{},a),d={horizontal:{},vertical:void 0},g=o.text,E=[0,0];if(g){var O=g.toString(),P=24*s.get("text-letter-spacing").evaluate(o,{},a),x=function(e){for(var t=0,r=e;t<r.length;t+=1)if(n=r[t].charCodeAt(0),Hn.Arabic(n)||Hn["Arabic Supplement"](n)||Hn["Arabic Extended-A"](n)||Hn["Arabic Presentation Forms-A"](n)||Hn["Arabic Presentation Forms-B"](n))return!1;var n;return!0}(O)?P:0,w=s.get("text-anchor").evaluate(o,{},a),C=s.get("text-variable-anchor");if(!C){var D=s.get("text-radial-offset").evaluate(o,{},a);E=D?o_(w,[24*D,i_]):s.get("text-offset").evaluate(o,{},a).map((function(e){return 24*e}))}var T=f?"center":s.get("text-justify").evaluate(o,{},a),k=s.get("symbol-placement"),A="point"===k?24*s.get("text-max-width").evaluate(o,{},a):0,I=function(){e.allowVerticalPlacement&&Gn(O)&&(d.vertical=Pl(g,t,r,i,l,A,h,w,"left",x,E,El.vertical,!0,k,c,u))};if(!f&&C){for(var L="auto"===T?C.map((function(e){return a_(e)})):[T],R=!1,S=0;S<L.length;S++){var B=L[S];if(!d.horizontal[B])if(R)d.horizontal[B]=d.horizontal[0];else{var U=Pl(g,t,r,i,l,A,h,"center",B,x,E,El.horizontal,!1,k,c,u);U&&(d.horizontal[B]=U,R=1===U.positionedLines.length)}}I()}else{"auto"===T&&(T=a_(w));var W=Pl(g,t,r,i,l,A,h,w,T,x,E,El.horizontal,!1,k,c,u);W&&(d.horizontal[T]=W),I(),Gn(O)&&f&&m&&(d.vertical=Pl(g,t,r,i,l,A,h,w,T,x,E,El.vertical,!1,k,c,u))}}var K=void 0,j=!1;if(o.icon&&o.icon.name){var z=n[o.icon.name];z&&(K=function(e,t,r){var n=Il(r),i=t[0]-e.displaySize[0]*n.horizontalAlign,o=t[1]-e.displaySize[1]*n.verticalAlign;return{image:e,top:o,bottom:o+e.displaySize[1],left:i,right:i+e.displaySize[0]}}(i[o.icon.name],s.get("icon-offset").evaluate(o,{},a),s.get("icon-anchor").evaluate(o,{},a)),j=z.sdf,void 0===e.sdfIcons?e.sdfIcons=z.sdf:e.sdfIcons!==z.sdf&&M("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(z.pixelRatio!==e.pixelRatio||0!==s.get("icon-rotate").constantOr(1))&&(e.iconsNeedLinear=!0))}var F=l_(d.horizontal)||d.vertical;e.iconsInText=!!F&&F.iconsInText,(F||K)&&function(e,t,r,n,i,o,a,s,l,_,u){var c=o.textMaxSize.evaluate(t,{});void 0===c&&(c=a);var p,d=e.layers[0].layout,h=d.get("icon-offset").evaluate(t,{},u),f=l_(r.horizontal),m=a/24,y=e.tilePixelRatio*m,g=e.tilePixelRatio*c/24,b=e.tilePixelRatio*s,v=e.tilePixelRatio*d.get("symbol-spacing"),E=d.get("text-padding")*e.tilePixelRatio,O=d.get("icon-padding")*e.tilePixelRatio,P=d.get("text-max-angle")/180*Math.PI,x="map"===d.get("text-rotation-alignment")&&"point"!==d.get("symbol-placement"),w="map"===d.get("icon-rotation-alignment")&&"point"!==d.get("symbol-placement"),C=d.get("symbol-placement"),D=v/2,T=d.get("icon-text-fit");n&&"none"!==T&&(e.allowVerticalPlacement&&r.vertical&&(p=Rl(n,r.vertical,T,d.get("icon-text-fit-padding"),h,m)),f&&(n=Rl(n,f,T,d.get("icon-text-fit-padding"),h,m)));var k=function(s,c){c.x<0||c.x>=8192||c.y<0||c.y>=8192||function(e,t,r,n,i,o,a,s,l,_,u,c,p,d,h,f,m,y,g,b,v,E,O,P,x){var w,C,D,T,k,A=e.addToLineVertexArray(t,r),I=0,L=0,R=0,S=0,B=-1,U=-1,W={},K=po(""),j=0,z=0;if(void 0===s._unevaluatedLayout.getValue("text-radial-offset")?(j=(w=s.layout.get("text-offset").evaluate(v,{},P).map((function(e){return 24*e})))[0],z=w[1]):(j=24*s.layout.get("text-radial-offset").evaluate(v,{},P),z=i_),e.allowVerticalPlacement&&n.vertical){var F=s.layout.get("text-rotate").evaluate(v,{},P)+90;T=new Jl(l,t,_,u,c,n.vertical,p,d,h,F),a&&(k=new Jl(l,t,_,u,c,a,m,y,h,F))}if(i){var q=s.layout.get("icon-rotate").evaluate(v,{}),N="none"!==s.layout.get("icon-text-fit"),H=Vl(i,q,O,N),G=a?Vl(a,q,O,N):void 0;D=new Jl(l,t,_,u,c,i,m,y,!1,q),I=4*H.length;var V=e.iconSizeData,Z=null;"source"===V.kind?(Z=[128*s.layout.get("icon-size").evaluate(v,{})])[0]>32640&&M(e.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===V.kind&&((Z=[128*E.compositeIconSizes[0].evaluate(v,{},P),128*E.compositeIconSizes[1].evaluate(v,{},P)])[0]>32640||Z[1]>32640)&&M(e.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),e.addSymbols(e.icon,H,Z,b,g,v,!1,t,A.lineStartIndex,A.lineLength,-1,P),B=e.icon.placedSymbolArray.length-1,G&&(L=4*G.length,e.addSymbols(e.icon,G,Z,b,g,v,El.vertical,t,A.lineStartIndex,A.lineLength,-1,P),U=e.icon.placedSymbolArray.length-1)}for(var X in n.horizontal){var $=n.horizontal[X];if(!C){K=po($.text);var Y=s.layout.get("text-rotate").evaluate(v,{},P);C=new Jl(l,t,_,u,c,$,p,d,h,Y)}var J=1===$.positionedLines.length;if(R+=s_(e,t,$,o,s,h,v,f,A,n.vertical?El.horizontal:El.horizontalOnly,J?Object.keys(n.horizontal):[X],W,B,E,P),J)break}n.vertical&&(S+=s_(e,t,n.vertical,o,s,h,v,f,A,El.vertical,["vertical"],W,U,E,P));var Q=C?C.boxStartIndex:e.collisionBoxArray.length,ee=C?C.boxEndIndex:e.collisionBoxArray.length,te=T?T.boxStartIndex:e.collisionBoxArray.length,re=T?T.boxEndIndex:e.collisionBoxArray.length,ne=D?D.boxStartIndex:e.collisionBoxArray.length,ie=D?D.boxEndIndex:e.collisionBoxArray.length,oe=k?k.boxStartIndex:e.collisionBoxArray.length,ae=k?k.boxEndIndex:e.collisionBoxArray.length,se=-1,le=function(e,t){return e&&e.circleDiameter?Math.max(e.circleDiameter,t):t};se=le(C,se),se=le(T,se),se=le(D,se);var _e=(se=le(k,se))>-1?1:0;_e&&(se*=x/24),e.glyphOffsetArray.length>=y_.MAX_GLYPHS&&M("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==v.sortKey&&e.addToSortKeyRanges(e.symbolInstances.length,v.sortKey),e.symbolInstances.emplaceBack(t.x,t.y,W.right>=0?W.right:-1,W.center>=0?W.center:-1,W.left>=0?W.left:-1,W.vertical||-1,B,U,K,Q,ee,te,re,ne,ie,oe,ae,_,R,S,I,L,_e,0,p,j,z,se)}(e,c,s,r,n,i,p,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,y,E,x,l,b,O,w,h,t,o,_,u,a)};if("line"===C)for(var A=0,I=Gl(t.geometry,0,0,8192,8192);A<I.length;A+=1)for(var L=I[A],R=0,S=Hl(L,v,P,r.vertical||f,n,24,g,e.overscaling,8192);R<S.length;R+=1){var B=S[R];f&&__(e,f.text,D,B)||k(L,B)}else if("line-center"===C)for(var U=0,W=t.geometry;U<W.length;U+=1){var K=W[U];if(K.length>1){var j=Nl(K,P,r.vertical||f,n,24,g);j&&k(K,j)}}else if("Polygon"===t.type)for(var z=0,F=ns(t.geometry,0);z<F.length;z+=1){var q=F[z],N=t_(q,16);k(q[0],new Sl(N.x,N.y,0))}else if("LineString"===t.type)for(var H=0,G=t.geometry;H<G.length;H+=1){var V=G[H];k(V,new Sl(V[0].x,V[0].y,0))}else if("Point"===t.type)for(var Z=0,X=t.geometry;Z<X.length;Z+=1)for(var $=0,Y=X[Z];$<Y.length;$+=1){var J=Y[$];k([J],new Sl(J.x,J.y,0))}}(e,o,d,K,n,_,c,p,E,j,a)},b=0,v=e.features;b<v.length;b+=1)g();o&&e.generateCollisionDebugBuffers()},e.perspective=function(e,t,r,n,i){var o,a=1/Math.tan(t/2);return e[0]=a/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(e[10]=(i+n)*(o=1/(n-i)),e[14]=2*i*n*o):(e[10]=-1,e[14]=-2*n),e},e.pick=function(e,t){for(var r={},n=0;n<t.length;n++){var i=t[n];i in e&&(r[i]=e[i])}return r},e.plugin=ai,e.polygonIntersectsPolygon=No,e.postMapLoadEvent=ae,e.postTurnstileEvent=ie,e.potpack=yl,e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.register=Wn,e.registerForPluginStateChange=function(e){return e({pluginStatus:Qn,pluginURL:ei}),ni.on("pluginStateChange",e),e},e.renderColorRamp=Ea,e.rotate=function(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(r),l=Math.cos(r);return e[0]=n*l+o*s,e[1]=i*l+a*s,e[2]=n*-s+o*l,e[3]=i*-s+a*l,e},e.rotateX=function(e,t,r){var n=Math.sin(r),i=Math.cos(r),o=t[4],a=t[5],s=t[6],l=t[7],_=t[8],u=t[9],c=t[10],p=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+_*n,e[5]=a*i+u*n,e[6]=s*i+c*n,e[7]=l*i+p*n,e[8]=_*i-o*n,e[9]=u*i-a*n,e[10]=c*i-s*n,e[11]=p*i-l*n,e},e.rotateZ=function(e,t,r){var n=Math.sin(r),i=Math.cos(r),o=t[0],a=t[1],s=t[2],l=t[3],_=t[4],u=t[5],c=t[6],p=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+_*n,e[1]=a*i+u*n,e[2]=s*i+c*n,e[3]=l*i+p*n,e[4]=_*i-o*n,e[5]=u*i-a*n,e[6]=c*i-s*n,e[7]=p*i-l*n,e},e.scale=function(e,t,r){var n=r[0],i=r[1],o=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.scale$1=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e},e.scale$2=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e},e.setCacheLimits=function(e,t){se=e,le=t},e.setRTLTextPlugin=function(e,t,r){if(void 0===r&&(r=!1),"deferred"===Qn||"loading"===Qn||"loaded"===Qn)throw new Error("setRTLTextPlugin cannot be called multiple times.");ei=W.resolveURL(e),Qn="deferred",Jn=t,ri(),r||oi()},e.sphericalToCartesian=function(e){var t=e[0],r=e[1],n=e[2];return r+=90,r*=Math.PI/180,n*=Math.PI/180,{x:t*Math.cos(r)*Math.sin(n),y:t*Math.sin(r)*Math.sin(n),z:t*Math.cos(n)}},e.sqrLen=function(e){var t=e[0],r=e[1];return t*t+r*r},e.styleSpec=Te,e.sub=function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e},e.symbolSize=Kl,e.transformMat3=function(e,t,r){var n=t[0],i=t[1],o=t[2];return e[0]=n*r[0]+i*r[3]+o*r[6],e[1]=n*r[1]+i*r[4]+o*r[7],e[2]=n*r[2]+i*r[5]+o*r[8],e},e.transformMat4=ca,e.translate=function(e,t,r){var n,i,o,a,s,l,_,u,c,p,d,h,f=r[0],m=r[1],y=r[2];return t===e?(e[12]=t[0]*f+t[4]*m+t[8]*y+t[12],e[13]=t[1]*f+t[5]*m+t[9]*y+t[13],e[14]=t[2]*f+t[6]*m+t[10]*y+t[14],e[15]=t[3]*f+t[7]*m+t[11]*y+t[15]):(i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],_=t[6],u=t[7],c=t[8],p=t[9],d=t[10],h=t[11],e[0]=n=t[0],e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e[6]=_,e[7]=u,e[8]=c,e[9]=p,e[10]=d,e[11]=h,e[12]=n*f+s*m+c*y+t[12],e[13]=i*f+l*m+p*y+t[13],e[14]=o*f+_*m+d*y+t[14],e[15]=a*f+u*m+h*y+t[15]),e},e.triggerPluginCompletionEvent=ti,e.uniqueId=h,e.validateCustomStyleLayer=function(e){var t=[],r=e.id;return void 0===r&&t.push({message:"layers."+r+': missing required property "id"'}),void 0===e.render&&t.push({message:"layers."+r+': missing required method "render"'}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:"layers."+r+': property "renderingMode" must be either "2d" or "3d"'}),t},e.validateLight=Tn,e.validateStyle=Dn,e.values=function(e){var t=[];for(var r in e)t.push(e[r]);return t},e.vectorTile=vs,e.version="1.13.2",e.warnOnce=M,e.webpSupported=j,e.window=a,e.wrap=c})),n(0,(function(e){function t(e){var r=typeof e;if("number"===r||"boolean"===r||"string"===r||null==e)return JSON.stringify(e);if(Array.isArray(e)){for(var n="[",i=0,o=e;i<o.length;i+=1)n+=t(o[i])+",";return n+"]"}for(var a=Object.keys(e).sort(),s="{",l=0;l<a.length;l++)s+=JSON.stringify(a[l])+":"+t(e[a[l]])+",";return s+"}"}function r(r){for(var n="",i=0,o=e.refProperties;i<o.length;i+=1)n+="/"+t(r[o[i]]);return n}var n=function(e){this.keyCache={},e&&this.replace(e)};n.prototype.replace=function(e){this._layerConfigs={},this._layers={},this.update(e,[])},n.prototype.update=function(t,n){for(var i=this,o=0,a=t;o<a.length;o+=1){var s=a[o];this._layerConfigs[s.id]=s;var l=this._layers[s.id]=e.createStyleLayer(s);l._featureFilter=e.featureFilter(l.filter),this.keyCache[s.id]&&delete this.keyCache[s.id]}for(var _=0,u=n;_<u.length;_+=1){var c=u[_];delete this.keyCache[c],delete this._layerConfigs[c],delete this._layers[c]}this.familiesBySource={};for(var p=0,d=function(e,t){for(var n={},i=0;i<e.length;i++){var o=t&&t[e[i].id]||r(e[i]);t&&(t[e[i].id]=o);var a=n[o];a||(a=n[o]=[]),a.push(e[i])}var s=[];for(var l in n)s.push(n[l]);return s}(e.values(this._layerConfigs),this.keyCache);p<d.length;p+=1){var h=d[p].map((function(e){return i._layers[e.id]})),f=h[0];if("none"!==f.visibility){var m=f.source||"",y=this.familiesBySource[m];y||(y=this.familiesBySource[m]={});var g=f.sourceLayer||"_geojsonTileLayer",b=y[g];b||(b=y[g]=[]),b.push(h)}}};var i=function(t){var r={},n=[];for(var i in t){var o=t[i],a=r[i]={};for(var s in o){var l=o[+s];if(l&&0!==l.bitmap.width&&0!==l.bitmap.height){var _={x:0,y:0,w:l.bitmap.width+2,h:l.bitmap.height+2};n.push(_),a[s]={rect:_,metrics:l.metrics}}}}var u=e.potpack(n),c=new e.AlphaImage({width:u.w||1,height:u.h||1});for(var p in t){var d=t[p];for(var h in d){var f=d[+h];if(f&&0!==f.bitmap.width&&0!==f.bitmap.height){var m=r[p][h].rect;e.AlphaImage.copy(f.bitmap,c,{x:0,y:0},{x:m.x+1,y:m.y+1},f.bitmap)}}}this.image=c,this.positions=r};e.register("GlyphAtlas",i);var o=function(t){this.tileID=new e.OverscaledTileID(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId};function a(t,r,n){for(var i=new e.EvaluationParameters(r),o=0,a=t;o<a.length;o+=1)a[o].recalculate(i,n)}function s(t,r){var n=e.getArrayBuffer(t.request,(function(t,n,i,o){t?r(t):n&&r(null,{vectorTile:new e.vectorTile.VectorTile(new e.pbf(n)),rawData:n,cacheControl:i,expires:o})}));return function(){n.cancel(),r()}}o.prototype.parse=function(t,r,n,o,s){var l=this;this.status="parsing",this.data=t,this.collisionBoxArray=new e.CollisionBoxArray;var _=new e.DictionaryCoder(Object.keys(t.layers).sort()),u=new e.FeatureIndex(this.tileID,this.promoteId);u.bucketLayerIDs=[];var c,p,d,h,f={},m={featureIndex:u,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:n},y=r.familiesBySource[this.source];for(var g in y){var b=t.layers[g];if(b){1===b.version&&e.warnOnce('Vector tile source "'+this.source+'" layer "'+g+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var v=_.encode(g),E=[],O=0;O<b.length;O++){var M=b.feature(O),P=u.getId(M,g);E.push({feature:M,id:P,index:O,sourceLayerIndex:v})}for(var x=0,w=y[g];x<w.length;x+=1){var C=w[x],D=C[0];D.minzoom&&this.zoom<Math.floor(D.minzoom)||D.maxzoom&&this.zoom>=D.maxzoom||"none"!==D.visibility&&(a(C,this.zoom,n),(f[D.id]=D.createBucket({index:u.bucketLayerIDs.length,layers:C,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:v,sourceID:this.source})).populate(E,m,this.tileID.canonical),u.bucketLayerIDs.push(C.map((function(e){return e.id}))))}}}var T=e.mapObject(m.glyphDependencies,(function(e){return Object.keys(e).map(Number)}));Object.keys(T).length?o.send("getGlyphs",{uid:this.uid,stacks:T},(function(e,t){c||(c=e,p=t,I.call(l))})):p={};var k=Object.keys(m.iconDependencies);k.length?o.send("getImages",{icons:k,source:this.source,tileID:this.tileID,type:"icons"},(function(e,t){c||(c=e,d=t,I.call(l))})):d={};var A=Object.keys(m.patternDependencies);function I(){if(c)return s(c);if(p&&d&&h){var t=new i(p),r=new e.ImageAtlas(d,h);for(var o in f){var l=f[o];l instanceof e.SymbolBucket?(a(l.layers,this.zoom,n),e.performSymbolLayout(l,p,t.positions,d,r.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):l.hasPattern&&(l instanceof e.LineBucket||l instanceof e.FillBucket||l instanceof e.FillExtrusionBucket)&&(a(l.layers,this.zoom,n),l.addFeatures(m,this.tileID.canonical,r.patternPositions))}this.status="done",s(null,{buckets:e.values(f).filter((function(e){return!e.isEmpty()})),featureIndex:u,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,imageAtlas:r,glyphMap:this.returnDependencies?p:null,iconMap:this.returnDependencies?d:null,glyphPositions:this.returnDependencies?t.positions:null})}}A.length?o.send("getImages",{icons:A,source:this.source,tileID:this.tileID,type:"patterns"},(function(e,t){c||(c=e,h=t,I.call(l))})):h={},I.call(this)};var l=function(e,t,r,n){this.actor=e,this.layerIndex=t,this.availableImages=r,this.loadVectorData=n||s,this.loading={},this.loaded={}};l.prototype.loadTile=function(t,r){var n=this,i=t.uid;this.loading||(this.loading={});var a=!!(t&&t.request&&t.request.collectResourceTiming)&&new e.RequestPerformance(t.request),s=this.loading[i]=new o(t);s.abort=this.loadVectorData(t,(function(t,o){if(delete n.loading[i],t||!o)return s.status="done",n.loaded[i]=s,r(t);var l=o.rawData,_={};o.expires&&(_.expires=o.expires),o.cacheControl&&(_.cacheControl=o.cacheControl);var u={};if(a){var c=a.finish();c&&(u.resourceTiming=JSON.parse(JSON.stringify(c)))}s.vectorTile=o.vectorTile,s.parse(o.vectorTile,n.layerIndex,n.availableImages,n.actor,(function(t,n){if(t||!n)return r(t);r(null,e.extend({rawTileData:l.slice(0)},n,_,u))})),n.loaded=n.loaded||{},n.loaded[i]=s}))},l.prototype.reloadTile=function(e,t){var r=this,n=this.loaded,i=e.uid,o=this;if(n&&n[i]){var a=n[i];a.showCollisionBoxes=e.showCollisionBoxes;var s=function(e,n){var i=a.reloadCallback;i&&(delete a.reloadCallback,a.parse(a.vectorTile,o.layerIndex,r.availableImages,o.actor,i)),t(e,n)};"parsing"===a.status?a.reloadCallback=s:"done"===a.status&&(a.vectorTile?a.parse(a.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s())}},l.prototype.abortTile=function(e,t){var r=this.loading,n=e.uid;r&&r[n]&&r[n].abort&&(r[n].abort(),delete r[n]),t()},l.prototype.removeTile=function(e,t){var r=this.loaded,n=e.uid;r&&r[n]&&delete r[n],t()};var _=e.window.ImageBitmap,u=function(){this.loaded={}};function c(e,t){if(0!==e.length){p(e[0],t);for(var r=1;r<e.length;r++)p(e[r],!t)}}function p(e,t){for(var r=0,n=0,i=e.length,o=i-1;n<i;o=n++)r+=(e[n][0]-e[o][0])*(e[o][1]+e[n][1]);r>=0!=!!t&&e.reverse()}u.prototype.loadTile=function(t,r){var n=t.uid,i=t.encoding,o=t.rawImageData,a=_&&o instanceof _?this.getImageData(o):o,s=new e.DEMData(n,a,i);this.loaded=this.loaded||{},this.loaded[n]=s,r(null,s)},u.prototype.getImageData=function(t){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(t.width,t.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=t.width,this.offscreenCanvas.height=t.height,this.offscreenCanvasContext.drawImage(t,0,0,t.width,t.height);var r=this.offscreenCanvasContext.getImageData(-1,-1,t.width+2,t.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new e.RGBAImage({width:r.width,height:r.height},r.data)},u.prototype.removeTile=function(e){var t=this.loaded,r=e.uid;t&&t[r]&&delete t[r]};var d=e.vectorTile.VectorTileFeature.prototype.toGeoJSON,h=function(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))};h.prototype.loadGeometry=function(){if(1===this._feature.type){for(var t=[],r=0,n=this._feature.geometry;r<n.length;r+=1){var i=n[r];t.push([new e.Point$1(i[0],i[1])])}return t}for(var o=[],a=0,s=this._feature.geometry;a<s.length;a+=1){for(var l=[],_=0,u=s[a];_<u.length;_+=1){var c=u[_];l.push(new e.Point$1(c[0],c[1]))}o.push(l)}return o},h.prototype.toGeoJSON=function(e,t,r){return d.call(this,e,t,r)};var f=function(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=t.length,this._features=t};f.prototype.feature=function(e){return new h(this._features[e])};var m=e.vectorTile.VectorTileFeature,y=g;function g(e,t){this.options=t||{},this.features=e,this.length=e.length}function b(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}g.prototype.feature=function(e){return new b(this.features[e],this.options.extent)},b.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var r=0;r<t.length;r++){for(var n=t[r],i=[],o=0;o<n.length;o++)i.push(new e.Point$1(n[o][0],n[o][1]));this.geometry.push(i)}return this.geometry},b.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,r=-1/0,n=1/0,i=-1/0,o=0;o<e.length;o++)for(var a=e[o],s=0;s<a.length;s++){var l=a[s];t=Math.min(t,l.x),r=Math.max(r,l.x),n=Math.min(n,l.y),i=Math.max(i,l.y)}return[t,n,r,i]},b.prototype.toGeoJSON=m.prototype.toGeoJSON;var v=O,E=y;function O(t){var r=new e.pbf;return function(e,t){for(var r in e.layers)t.writeMessage(3,M,e.layers[r])}(t,r),r.finish()}function M(e,t){var r;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var n={keys:[],values:[],keycache:{},valuecache:{}};for(r=0;r<e.length;r++)n.feature=e.feature(r),t.writeMessage(2,P,n);var i=n.keys;for(r=0;r<i.length;r++)t.writeStringField(3,i[r]);var o=n.values;for(r=0;r<o.length;r++)t.writeMessage(4,T,o[r])}function P(e,t){var r=e.feature;void 0!==r.id&&t.writeVarintField(1,r.id),t.writeMessage(2,x,e),t.writeVarintField(3,r.type),t.writeMessage(4,D,r)}function x(e,t){var r=e.feature,n=e.keys,i=e.values,o=e.keycache,a=e.valuecache;for(var s in r.properties){var l=o[s];void 0===l&&(n.push(s),o[s]=l=n.length-1),t.writeVarint(l);var _=r.properties[s],u=typeof _;"string"!==u&&"boolean"!==u&&"number"!==u&&(_=JSON.stringify(_));var c=u+":"+_,p=a[c];void 0===p&&(i.push(_),a[c]=p=i.length-1),t.writeVarint(p)}}function w(e,t){return(t<<3)+(7&e)}function C(e){return e<<1^e>>31}function D(e,t){for(var r=e.loadGeometry(),n=e.type,i=0,o=0,a=r.length,s=0;s<a;s++){var l=r[s],_=1;1===n&&(_=l.length),t.writeVarint(w(1,_));for(var u=3===n?l.length-1:l.length,c=0;c<u;c++){1===c&&1!==n&&t.writeVarint(w(2,u-1));var p=l[c].x-i,d=l[c].y-o;t.writeVarint(C(p)),t.writeVarint(C(d)),i+=p,o+=d}3===n&&t.writeVarint(w(7,1))}}function T(e,t){var r=typeof e;"string"===r?t.writeStringField(1,e):"boolean"===r?t.writeBooleanField(7,e):"number"===r&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}function k(e,t,r,n){A(e,r,n),A(t,2*r,2*n),A(t,2*r+1,2*n+1)}function A(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function I(e,t,r,n){var i=e-r,o=t-n;return i*i+o*o}v.fromVectorTileJs=O,v.fromGeojsonVt=function(e,t){t=t||{};var r={};for(var n in e)r[n]=new y(e[n].features,t),r[n].name=n,r[n].version=t.version,r[n].extent=t.extent;return O({layers:r})},v.GeoJSONWrapper=E;var L=function(e){return e[0]},R=function(e){return e[1]},S=function(e,t,r,n,i){void 0===t&&(t=L),void 0===r&&(r=R),void 0===n&&(n=64),void 0===i&&(i=Float64Array),this.nodeSize=n,this.points=e;for(var o=e.length<65536?Uint16Array:Uint32Array,a=this.ids=new o(e.length),s=this.coords=new i(2*e.length),l=0;l<e.length;l++)a[l]=l,s[2*l]=t(e[l]),s[2*l+1]=r(e[l]);!function e(t,r,n,i,o,a){if(!(o-i<=n)){var s=i+o>>1;!function e(t,r,n,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,l=n-i+1,_=Math.log(s),u=.5*Math.exp(2*_/3),c=.5*Math.sqrt(_*u*(s-u)/s)*(l-s/2<0?-1:1);e(t,r,n,Math.max(i,Math.floor(n-l*u/s+c)),Math.min(o,Math.floor(n+(s-l)*u/s+c)),a)}var p=r[2*n+a],d=i,h=o;for(k(t,r,i,n),r[2*o+a]>p&&k(t,r,i,o);d<h;){for(k(t,r,d,h),d++,h--;r[2*d+a]<p;)d++;for(;r[2*h+a]>p;)h--}r[2*i+a]===p?k(t,r,i,h):k(t,r,++h,o),h<=n&&(i=h+1),n<=h&&(o=h-1)}}(t,r,s,i,o,a%2),e(t,r,n,i,s-1,a+1),e(t,r,n,s+1,o,a+1)}}(a,s,n,0,a.length-1,0)};S.prototype.range=function(e,t,r,n){return function(e,t,r,n,i,o,a){for(var s,l,_=[0,e.length-1,0],u=[];_.length;){var c=_.pop(),p=_.pop(),d=_.pop();if(p-d<=a)for(var h=d;h<=p;h++)l=t[2*h+1],(s=t[2*h])>=r&&s<=i&&l>=n&&l<=o&&u.push(e[h]);else{var f=Math.floor((d+p)/2);l=t[2*f+1],(s=t[2*f])>=r&&s<=i&&l>=n&&l<=o&&u.push(e[f]);var m=(c+1)%2;(0===c?r<=s:n<=l)&&(_.push(d),_.push(f-1),_.push(m)),(0===c?i>=s:o>=l)&&(_.push(f+1),_.push(p),_.push(m))}}return u}(this.ids,this.coords,e,t,r,n,this.nodeSize)},S.prototype.within=function(e,t,r){return function(e,t,r,n,i,o){for(var a=[0,e.length-1,0],s=[],l=i*i;a.length;){var _=a.pop(),u=a.pop(),c=a.pop();if(u-c<=o)for(var p=c;p<=u;p++)I(t[2*p],t[2*p+1],r,n)<=l&&s.push(e[p]);else{var d=Math.floor((c+u)/2),h=t[2*d],f=t[2*d+1];I(h,f,r,n)<=l&&s.push(e[d]);var m=(_+1)%2;(0===_?r-i<=h:n-i<=f)&&(a.push(c),a.push(d-1),a.push(m)),(0===_?r+i>=h:n+i>=f)&&(a.push(d+1),a.push(u),a.push(m))}}return s}(this.ids,this.coords,e,t,r,this.nodeSize)};var B={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},U=function(e){this.options=N(Object.create(B),e),this.trees=new Array(this.options.maxZoom+1)};function W(e,t,r,n,i){return{x:e,y:t,zoom:1/0,id:r,parentId:-1,numPoints:n,properties:i}}function K(e,t){var r=e.geometry.coordinates,n=r[1];return{x:F(r[0]),y:q(n),zoom:1/0,index:t,parentId:-1}}function j(e){return{type:"Feature",id:e.id,properties:z(e),geometry:{type:"Point",coordinates:[(n=e.x,360*(n-.5)),(t=e.y,r=(180-360*t)*Math.PI/180,360*Math.atan(Math.exp(r))/Math.PI-90)]}};var t,r,n}function z(e){var t=e.numPoints,r=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return N(N({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:r})}function F(e){return e/360+.5}function q(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function N(e,t){for(var r in t)e[r]=t[r];return e}function H(e){return e.x}function G(e){return e.y}function V(e,t,r,n,i,o){var a=i-r,s=o-n;if(0!==a||0!==s){var l=((e-r)*a+(t-n)*s)/(a*a+s*s);l>1?(r=i,n=o):l>0&&(r+=a*l,n+=s*l)}return(a=e-r)*a+(s=t-n)*s}function Z(e,t,r,n){var i={id:void 0===e?null:e,type:t,geometry:r,tags:n,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,r=e.type;if("Point"===r||"MultiPoint"===r||"LineString"===r)X(e,t);else if("Polygon"===r||"MultiLineString"===r)for(var n=0;n<t.length;n++)X(e,t[n]);else if("MultiPolygon"===r)for(n=0;n<t.length;n++)for(var i=0;i<t[n].length;i++)X(e,t[n][i])}(i),i}function X(e,t){for(var r=0;r<t.length;r+=3)e.minX=Math.min(e.minX,t[r]),e.minY=Math.min(e.minY,t[r+1]),e.maxX=Math.max(e.maxX,t[r]),e.maxY=Math.max(e.maxY,t[r+1])}function $(e,t,r,n){if(t.geometry){var i=t.geometry.coordinates,o=t.geometry.type,a=Math.pow(r.tolerance/((1<<r.maxZoom)*r.extent),2),s=[],l=t.id;if(r.promoteId?l=t.properties[r.promoteId]:r.generateId&&(l=n||0),"Point"===o)Y(i,s);else if("MultiPoint"===o)for(var _=0;_<i.length;_++)Y(i[_],s);else if("LineString"===o)J(i,s,a,!1);else if("MultiLineString"===o){if(r.lineMetrics){for(_=0;_<i.length;_++)J(i[_],s=[],a,!1),e.push(Z(l,"LineString",s,t.properties));return}Q(i,s,a,!1)}else if("Polygon"===o)Q(i,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(_=0;_<t.geometry.geometries.length;_++)$(e,{id:l,geometry:t.geometry.geometries[_],properties:t.properties},r,n);return}throw new Error("Input data is not a valid GeoJSON object.")}for(_=0;_<i.length;_++){var u=[];Q(i[_],u,a,!0),s.push(u)}}e.push(Z(l,o,s,t.properties))}}function Y(e,t){t.push(ee(e[0])),t.push(te(e[1])),t.push(0)}function J(e,t,r,n){for(var i,o,a=0,s=0;s<e.length;s++){var l=ee(e[s][0]),_=te(e[s][1]);t.push(l),t.push(_),t.push(0),s>0&&(a+=n?(i*_-l*o)/2:Math.sqrt(Math.pow(l-i,2)+Math.pow(_-o,2))),i=l,o=_}var u=t.length-3;t[2]=1,function e(t,r,n,i){for(var o,a=i,s=n-r>>1,l=n-r,_=t[r],u=t[r+1],c=t[n],p=t[n+1],d=r+3;d<n;d+=3){var h=V(t[d],t[d+1],_,u,c,p);if(h>a)o=d,a=h;else if(h===a){var f=Math.abs(d-s);f<l&&(o=d,l=f)}}a>i&&(o-r>3&&e(t,r,o,i),t[o+2]=a,n-o>3&&e(t,o,n,i))}(t,0,u,r),t[u+2]=1,t.size=Math.abs(a),t.start=0,t.end=t.size}function Q(e,t,r,n){for(var i=0;i<e.length;i++){var o=[];J(e[i],o,r,n),t.push(o)}}function ee(e){return e/360+.5}function te(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function re(e,t,r,n,i,o,a,s){if(n/=t,o>=(r/=t)&&a<n)return e;if(a<r||o>=n)return null;for(var l=[],_=0;_<e.length;_++){var u=e[_],c=u.geometry,p=u.type,d=0===i?u.minX:u.minY,h=0===i?u.maxX:u.maxY;if(d>=r&&h<n)l.push(u);else if(!(h<r||d>=n)){var f=[];if("Point"===p||"MultiPoint"===p)ne(c,f,r,n,i);else if("LineString"===p)ie(c,f,r,n,i,!1,s.lineMetrics);else if("MultiLineString"===p)ae(c,f,r,n,i,!1);else if("Polygon"===p)ae(c,f,r,n,i,!0);else if("MultiPolygon"===p)for(var m=0;m<c.length;m++){var y=[];ae(c[m],y,r,n,i,!0),y.length&&f.push(y)}if(f.length){if(s.lineMetrics&&"LineString"===p){for(m=0;m<f.length;m++)l.push(Z(u.id,p,f[m],u.tags));continue}"LineString"!==p&&"MultiLineString"!==p||(1===f.length?(p="LineString",f=f[0]):p="MultiLineString"),"Point"!==p&&"MultiPoint"!==p||(p=3===f.length?"Point":"MultiPoint"),l.push(Z(u.id,p,f,u.tags))}}}return l.length?l:null}function ne(e,t,r,n,i){for(var o=0;o<e.length;o+=3){var a=e[o+i];a>=r&&a<=n&&(t.push(e[o]),t.push(e[o+1]),t.push(e[o+2]))}}function ie(e,t,r,n,i,o,a){for(var s,l,_=oe(e),u=0===i?le:_e,c=e.start,p=0;p<e.length-3;p+=3){var d=e[p],h=e[p+1],f=e[p+2],m=e[p+3],y=e[p+4],g=0===i?d:h,b=0===i?m:y,v=!1;a&&(s=Math.sqrt(Math.pow(d-m,2)+Math.pow(h-y,2))),g<r?b>r&&(l=u(_,d,h,m,y,r),a&&(_.start=c+s*l)):g>n?b<n&&(l=u(_,d,h,m,y,n),a&&(_.start=c+s*l)):se(_,d,h,f),b<r&&g>=r&&(l=u(_,d,h,m,y,r),v=!0),b>n&&g<=n&&(l=u(_,d,h,m,y,n),v=!0),!o&&v&&(a&&(_.end=c+s*l),t.push(_),_=oe(e)),a&&(c+=s)}var E=e.length-3;d=e[E],h=e[E+1],f=e[E+2],(g=0===i?d:h)>=r&&g<=n&&se(_,d,h,f),E=_.length-3,o&&E>=3&&(_[E]!==_[0]||_[E+1]!==_[1])&&se(_,_[0],_[1],_[2]),_.length&&t.push(_)}function oe(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function ae(e,t,r,n,i,o){for(var a=0;a<e.length;a++)ie(e[a],t,r,n,i,o,!1)}function se(e,t,r,n){e.push(t),e.push(r),e.push(n)}function le(e,t,r,n,i,o){var a=(o-t)/(n-t);return e.push(o),e.push(r+(i-r)*a),e.push(1),a}function _e(e,t,r,n,i,o){var a=(o-r)/(i-r);return e.push(t+(n-t)*a),e.push(o),e.push(1),a}function ue(e,t){for(var r=[],n=0;n<e.length;n++){var i,o=e[n],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)i=ce(o.geometry,t);else if("MultiLineString"===a||"Polygon"===a){i=[];for(var s=0;s<o.geometry.length;s++)i.push(ce(o.geometry[s],t))}else if("MultiPolygon"===a)for(i=[],s=0;s<o.geometry.length;s++){for(var l=[],_=0;_<o.geometry[s].length;_++)l.push(ce(o.geometry[s][_],t));i.push(l)}r.push(Z(o.id,a,i,o.tags))}return r}function ce(e,t){var r=[];r.size=e.size,void 0!==e.start&&(r.start=e.start,r.end=e.end);for(var n=0;n<e.length;n+=3)r.push(e[n]+t,e[n+1],e[n+2]);return r}function pe(e,t){if(e.transformed)return e;var r,n,i,o=1<<e.z,a=e.x,s=e.y;for(r=0;r<e.features.length;r++){var l=e.features[r],_=l.geometry,u=l.type;if(l.geometry=[],1===u)for(n=0;n<_.length;n+=2)l.geometry.push(de(_[n],_[n+1],t,o,a,s));else for(n=0;n<_.length;n++){var c=[];for(i=0;i<_[n].length;i+=2)c.push(de(_[n][i],_[n][i+1],t,o,a,s));l.geometry.push(c)}}return e.transformed=!0,e}function de(e,t,r,n,i,o){return[Math.round(r*(e*n-i)),Math.round(r*(t*n-o))]}function he(e,t,r,n,i){for(var o=t===i.maxZoom?0:i.tolerance/((1<<t)*i.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:r,y:n,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){a.numFeatures++,fe(a,e[s],o,i);var l=e[s].minX,_=e[s].minY,u=e[s].maxX,c=e[s].maxY;l<a.minX&&(a.minX=l),_<a.minY&&(a.minY=_),u>a.maxX&&(a.maxX=u),c>a.maxY&&(a.maxY=c)}return a}function fe(e,t,r,n){var i=t.geometry,o=t.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<i.length;s+=3)a.push(i[s]),a.push(i[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===o)me(a,i,e,r,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<i.length;s++)me(a,i[s],e,r,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var l=0;l<i.length;l++){var _=i[l];for(s=0;s<_.length;s++)me(a,_[s],e,r,!0,0===s)}if(a.length){var u=t.tags||null;if("LineString"===o&&n.lineMetrics){for(var c in u={},t.tags)u[c]=t.tags[c];u.mapbox_clip_start=i.start/i.size,u.mapbox_clip_end=i.end/i.size}var p={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:u};null!==t.id&&(p.id=t.id),e.features.push(p)}}function me(e,t,r,n,i,o){var a=n*n;if(n>0&&t.size<(i?a:n))r.numPoints+=t.length/3;else{for(var s=[],l=0;l<t.length;l+=3)(0===n||t[l+2]>a)&&(r.numSimplified++,s.push(t[l]),s.push(t[l+1])),r.numPoints++;i&&function(e,t){for(var r=0,n=0,i=e.length,o=i-2;n<i;o=n,n+=2)r+=(e[n]-e[o])*(e[n+1]+e[o+1]);if(r>0===t)for(n=0,i=e.length;n<i/2;n+=2){var a=e[n],s=e[n+1];e[n]=e[i-2-n],e[n+1]=e[i-1-n],e[i-2-n]=a,e[i-1-n]=s}}(s,o),e.push(s)}}function ye(e,t){var r=(t=this.options=function(e,t){for(var r in t)e[r]=t[r];return e}(Object.create(this.options),t)).debug;if(r&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var n=function(e,t){var r=[];if("FeatureCollection"===e.type)for(var n=0;n<e.features.length;n++)$(r,e.features[n],t,n);else $(r,"Feature"===e.type?e:{geometry:e},t);return r}(e,t);this.tiles={},this.tileCoords=[],r&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(n=function(e,t){var r=t.buffer/t.extent,n=e,i=re(e,1,-1-r,r,0,-1,2,t),o=re(e,1,1-r,2+r,0,-1,2,t);return(i||o)&&(n=re(e,1,-r,1+r,0,-1,2,t)||[],i&&(n=ue(i,1).concat(n)),o&&(n=n.concat(ue(o,-1)))),n}(n,t)).length&&this.splitTile(n,0,0,0),r&&(n.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function ge(e,t,r){return 32*((1<<e)*r+t)+e}function be(e,t){var r=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);var n=this._geoJSONIndex.getTile(r.z,r.x,r.y);if(!n)return t(null,null);var i=new f(n.features),o=v(i);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),t(null,{vectorTile:i,rawData:o.buffer})}U.prototype.load=function(e){var t=this.options,r=t.log,n=t.minZoom,i=t.maxZoom,o=t.nodeSize;r&&console.time("total time");var a="prepare "+e.length+" points";r&&console.time(a),this.points=e;for(var s=[],l=0;l<e.length;l++)e[l].geometry&&s.push(K(e[l],l));this.trees[i+1]=new S(s,H,G,o,Float32Array),r&&console.timeEnd(a);for(var _=i;_>=n;_--){var u=+Date.now();s=this._cluster(s,_),this.trees[_]=new S(s,H,G,o,Float32Array),r&&console.log("z%d: %d clusters in %dms",_,s.length,+Date.now()-u)}return r&&console.timeEnd("total time"),this},U.prototype.getClusters=function(e,t){var r=((e[0]+180)%360+360)%360-180,n=Math.max(-90,Math.min(90,e[1])),i=180===e[2]?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,i=180;else if(r>i){var a=this.getClusters([r,n,180,o],t),s=this.getClusters([-180,n,i,o],t);return a.concat(s)}for(var l=this.trees[this._limitZoom(t)],_=[],u=0,c=l.range(F(r),q(o),F(i),q(n));u<c.length;u+=1){var p=l.points[c[u]];_.push(p.numPoints?j(p):this.points[p.index])}return _},U.prototype.getChildren=function(e){var t=this._getOriginId(e),r=this._getOriginZoom(e),n="No cluster with the specified id.",i=this.trees[r];if(!i)throw new Error(n);var o=i.points[t];if(!o)throw new Error(n);for(var a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),s=[],l=0,_=i.within(o.x,o.y,a);l<_.length;l+=1){var u=i.points[_[l]];u.parentId===e&&s.push(u.numPoints?j(u):this.points[u.index])}if(0===s.length)throw new Error(n);return s},U.prototype.getLeaves=function(e,t,r){var n=[];return this._appendLeaves(n,e,t=t||10,r=r||0,0),n},U.prototype.getTile=function(e,t,r){var n=this.trees[this._limitZoom(e)],i=Math.pow(2,e),o=this.options,a=o.radius/o.extent,s=(r-a)/i,l=(r+1+a)/i,_={features:[]};return this._addTileFeatures(n.range((t-a)/i,s,(t+1+a)/i,l),n.points,t,r,i,_),0===t&&this._addTileFeatures(n.range(1-a/i,s,1,l),n.points,i,r,i,_),t===i-1&&this._addTileFeatures(n.range(0,s,a/i,l),n.points,-1,r,i,_),_.features.length?_:null},U.prototype.getClusterExpansionZoom=function(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var r=this.getChildren(e);if(t++,1!==r.length)break;e=r[0].properties.cluster_id}return t},U.prototype._appendLeaves=function(e,t,r,n,i){for(var o=0,a=this.getChildren(t);o<a.length;o+=1){var s=a[o],l=s.properties;if(l&&l.cluster?i+l.point_count<=n?i+=l.point_count:i=this._appendLeaves(e,l.cluster_id,r,n,i):i<n?i++:e.push(s),e.length===r)break}return i},U.prototype._addTileFeatures=function(e,t,r,n,i,o){for(var a=0,s=e;a<s.length;a+=1){var l=t[s[a]],_=l.numPoints,u={type:1,geometry:[[Math.round(this.options.extent*(l.x*i-r)),Math.round(this.options.extent*(l.y*i-n))]],tags:_?z(l):this.points[l.index].properties},c=void 0;_?c=l.id:this.options.generateId?c=l.index:this.points[l.index].id&&(c=this.points[l.index].id),void 0!==c&&(u.id=c),o.features.push(u)}},U.prototype._limitZoom=function(e){return Math.max(this.options.minZoom,Math.min(+e,this.options.maxZoom+1))},U.prototype._cluster=function(e,t){for(var r=[],n=this.options,i=n.reduce,o=n.minPoints,a=n.radius/(n.extent*Math.pow(2,t)),s=0;s<e.length;s++){var l=e[s];if(!(l.zoom<=t)){l.zoom=t;for(var _=this.trees[t+1],u=_.within(l.x,l.y,a),c=l.numPoints||1,p=c,d=0,h=u;d<h.length;d+=1){var f=_.points[h[d]];f.zoom>t&&(p+=f.numPoints||1)}if(p>=o){for(var m=l.x*c,y=l.y*c,g=i&&c>1?this._map(l,!0):null,b=(s<<5)+(t+1)+this.points.length,v=0,E=u;v<E.length;v+=1){var O=_.points[E[v]];if(!(O.zoom<=t)){O.zoom=t;var M=O.numPoints||1;m+=O.x*M,y+=O.y*M,O.parentId=b,i&&(g||(g=this._map(l,!0)),i(g,this._map(O)))}}l.parentId=b,r.push(W(m/p,y/p,b,p,g))}else if(r.push(l),p>1)for(var P=0,x=u;P<x.length;P+=1){var w=_.points[x[P]];w.zoom<=t||(w.zoom=t,r.push(w))}}}return r},U.prototype._getOriginId=function(e){return e-this.points.length>>5},U.prototype._getOriginZoom=function(e){return(e-this.points.length)%32},U.prototype._map=function(e,t){if(e.numPoints)return t?N({},e.properties):e.properties;var r=this.points[e.index].properties,n=this.options.map(r);return t&&n===r?N({},n):n},ye.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ye.prototype.splitTile=function(e,t,r,n,i,o,a){for(var s=[e,t,r,n],l=this.options,_=l.debug;s.length;){n=s.pop(),r=s.pop(),t=s.pop(),e=s.pop();var u=1<<t,c=ge(t,r,n),p=this.tiles[c];if(!p&&(_>1&&console.time("creation"),p=this.tiles[c]=he(e,t,r,n,l),this.tileCoords.push({z:t,x:r,y:n}),_)){_>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,r,n,p.numFeatures,p.numPoints,p.numSimplified),console.timeEnd("creation"));var d="z"+t;this.stats[d]=(this.stats[d]||0)+1,this.total++}if(p.source=e,i){if(t===l.maxZoom||t===i)continue;var h=1<<i-t;if(r!==Math.floor(o/h)||n!==Math.floor(a/h))continue}else if(t===l.indexMaxZoom||p.numPoints<=l.indexMaxPoints)continue;if(p.source=null,0!==e.length){_>1&&console.time("clipping");var f,m,y,g,b,v,E=.5*l.buffer/l.extent,O=.5-E,M=.5+E,P=1+E;f=m=y=g=null,b=re(e,u,r-E,r+M,0,p.minX,p.maxX,l),v=re(e,u,r+O,r+P,0,p.minX,p.maxX,l),e=null,b&&(f=re(b,u,n-E,n+M,1,p.minY,p.maxY,l),m=re(b,u,n+O,n+P,1,p.minY,p.maxY,l),b=null),v&&(y=re(v,u,n-E,n+M,1,p.minY,p.maxY,l),g=re(v,u,n+O,n+P,1,p.minY,p.maxY,l),v=null),_>1&&console.timeEnd("clipping"),s.push(f||[],t+1,2*r,2*n),s.push(m||[],t+1,2*r,2*n+1),s.push(y||[],t+1,2*r+1,2*n),s.push(g||[],t+1,2*r+1,2*n+1)}}},ye.prototype.getTile=function(e,t,r){var n=this.options,i=n.extent,o=n.debug;if(e<0||e>24)return null;var a=1<<e,s=ge(e,t=(t%a+a)%a,r);if(this.tiles[s])return pe(this.tiles[s],i);o>1&&console.log("drilling down to z%d-%d-%d",e,t,r);for(var l,_=e,u=t,c=r;!l&&_>0;)_--,u=Math.floor(u/2),c=Math.floor(c/2),l=this.tiles[ge(_,u,c)];return l&&l.source?(o>1&&console.log("found parent tile z%d-%d-%d",_,u,c),o>1&&console.time("drilling down"),this.splitTile(l.source,_,u,c,e,t,r),o>1&&console.timeEnd("drilling down"),this.tiles[s]?pe(this.tiles[s],i):null):null};var ve=function(t){function r(e,r,n,i){t.call(this,e,r,n,be),i&&(this.loadGeoJSON=i)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.loadData=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=t,this._pendingLoadDataParams=e,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},r.prototype._loadData=function(){var t=this;if(this._pendingCallback&&this._pendingLoadDataParams){var r=this._pendingCallback,n=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var i=!!(n&&n.request&&n.request.collectResourceTiming)&&new e.RequestPerformance(n.request);this.loadGeoJSON(n,(function(o,a){if(o||!a)return r(o);if("object"!=typeof a)return r(new Error("Input data given to '"+n.source+"' is not a valid GeoJSON object."));!function e(t,r){var n,i=t&&t.type;if("FeatureCollection"===i)for(n=0;n<t.features.length;n++)e(t.features[n],r);else if("GeometryCollection"===i)for(n=0;n<t.geometries.length;n++)e(t.geometries[n],r);else if("Feature"===i)e(t.geometry,r);else if("Polygon"===i)c(t.coordinates,r);else if("MultiPolygon"===i)for(n=0;n<t.coordinates.length;n++)c(t.coordinates[n],r);return t}(a,!0);try{if(n.filter){var s=e.createExpression(n.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===s.result)throw new Error(s.value.map((function(e){return e.key+": "+e.message})).join(", "));var l=a.features.filter((function(e){return s.value.evaluate({zoom:0},e)}));a={type:"FeatureCollection",features:l}}t._geoJSONIndex=n.cluster?new U(function(t){var r=t.superclusterOptions,n=t.clusterProperties;if(!n||!r)return r;for(var i={},o={},a={accumulated:null,zoom:0},s={properties:null},l=Object.keys(n),_=0,u=l;_<u.length;_+=1){var c=u[_],p=n[c],d=p[0],h=e.createExpression(p[1]),f=e.createExpression("string"==typeof d?[d,["accumulated"],["get",c]]:d);i[c]=h.value,o[c]=f.value}return r.map=function(e){s.properties=e;for(var t={},r=0,n=l;r<n.length;r+=1){var o=n[r];t[o]=i[o].evaluate(a,s)}return t},r.reduce=function(e,t){s.properties=t;for(var r=0,n=l;r<n.length;r+=1){var i=n[r];a.accumulated=e[i],e[i]=o[i].evaluate(a,s)}},r}(n)).load(a.features):function(e,t){return new ye(e,t)}(a,n.geojsonVtOptions)}catch(o){return r(o)}t.loaded={};var _={};if(i){var u=i.finish();u&&(_.resourceTiming={},_.resourceTiming[n.source]=JSON.parse(JSON.stringify(u)))}r(null,_)}))}},r.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},r.prototype.reloadTile=function(e,r){var n=this.loaded;return n&&n[e.uid]?t.prototype.reloadTile.call(this,e,r):this.loadTile(e,r)},r.prototype.loadGeoJSON=function(t,r){if(t.request)e.getJSON(t.request,r);else{if("string"!=typeof t.data)return r(new Error("Input data given to '"+t.source+"' is not a valid GeoJSON object."));try{return r(null,JSON.parse(t.data))}catch(e){return r(new Error("Input data given to '"+t.source+"' is not a valid GeoJSON object."))}}},r.prototype.removeSource=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),t()},r.prototype.getClusterExpansionZoom=function(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))}catch(e){t(e)}},r.prototype.getClusterChildren=function(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId))}catch(e){t(e)}},r.prototype.getClusterLeaves=function(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))}catch(e){t(e)}},r}(l),Ee=function(t){var r=this;this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:l,geojson:ve},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(e,t){if(r.workerSourceTypes[e])throw new Error('Worker source with name "'+e+'" already registered.');r.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=function(t){if(e.plugin.isParsed())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}};return Ee.prototype.setReferrer=function(e,t){this.referrer=t},Ee.prototype.setImages=function(e,t,r){for(var n in this.availableImages[e]=t,this.workerSources[e]){var i=this.workerSources[e][n];for(var o in i)i[o].availableImages=t}r()},Ee.prototype.setLayers=function(e,t,r){this.getLayerIndex(e).replace(t),r()},Ee.prototype.updateLayers=function(e,t,r){this.getLayerIndex(e).update(t.layers,t.removedIds),r()},Ee.prototype.loadTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).loadTile(t,r)},Ee.prototype.loadDEMTile=function(e,t,r){this.getDEMWorkerSource(e,t.source).loadTile(t,r)},Ee.prototype.reloadTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).reloadTile(t,r)},Ee.prototype.abortTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).abortTile(t,r)},Ee.prototype.removeTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).removeTile(t,r)},Ee.prototype.removeDEMTile=function(e,t){this.getDEMWorkerSource(e,t.source).removeTile(t)},Ee.prototype.removeSource=function(e,t,r){if(this.workerSources[e]&&this.workerSources[e][t.type]&&this.workerSources[e][t.type][t.source]){var n=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==n.removeSource?n.removeSource(t,r):r()}},Ee.prototype.loadWorkerSource=function(e,t,r){try{this.self.importScripts(t.url),r()}catch(e){r(e.toString())}},Ee.prototype.syncRTLPluginState=function(t,r,n){try{e.plugin.setState(r);var i=e.plugin.getPluginURL();if(e.plugin.isLoaded()&&!e.plugin.isParsed()&&null!=i){this.self.importScripts(i);var o=e.plugin.isParsed();n(o?void 0:new Error("RTL Text Plugin failed to import scripts from "+i),o)}}catch(e){n(e.toString())}},Ee.prototype.getAvailableImages=function(e){var t=this.availableImages[e];return t||(t=[]),t},Ee.prototype.getLayerIndex=function(e){var t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new n),t},Ee.prototype.getWorkerSource=function(e,t,r){var n=this;return this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),this.workerSources[e][t][r]||(this.workerSources[e][t][r]=new this.workerSourceTypes[t]({send:function(t,r,i){n.actor.send(t,r,i,e)}},this.getLayerIndex(e),this.getAvailableImages(e))),this.workerSources[e][t][r]},Ee.prototype.getDEMWorkerSource=function(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new u),this.demWorkerSources[e][t]},Ee.prototype.enforceCacheSizeLimit=function(t,r){e.enforceCacheSizeLimit(r)},"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new Ee(self)),Ee})),n(0,(function(e){var t=e.createCommonjsModule((function(e){function t(e){return!r(e)}function r(e){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,r=new Blob([""],{type:"text/javascript"}),n=URL.createObjectURL(r);try{t=new Worker(n),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(n),e}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d");if(!t)return!1;var r=t.getImageData(0,0,1,1);return r&&r.width===e.width}()?(void 0===n[r=e&&e.failIfMajorPerformanceCaveat]&&(n[r]=function(e){var r=function(e){var r=document.createElement("canvas"),n=Object.create(t.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=e,r.probablySupportsContext?r.probablySupportsContext("webgl",n)||r.probablySupportsContext("experimental-webgl",n):r.supportsContext?r.supportsContext("webgl",n)||r.supportsContext("experimental-webgl",n):r.getContext("webgl",n)||r.getContext("experimental-webgl",n)}(e);if(!r)return!1;var n=r.createShader(r.VERTEX_SHADER);return!(!n||r.isContextLost())&&(r.shaderSource(n,"void main() {}"),r.compileShader(n),!0===r.getShaderParameter(n,r.COMPILE_STATUS))}(r)),n[r]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var r}e.exports?e.exports=t:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=t,window.mapboxgl.notSupportedReason=r);var n={};t.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}})),r={create:function(t,r,n){var i=e.window.document.createElement(t);return void 0!==r&&(i.className=r),n&&n.appendChild(i),i},createNS:function(t,r){return e.window.document.createElementNS(t,r)}},n=e.window.document&&e.window.document.documentElement.style;function i(e){if(!n)return e[0];for(var t=0;t<e.length;t++)if(e[t]in n)return e[t];return e[0]}var o,a=i(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);r.disableDrag=function(){n&&a&&(o=n[a],n[a]="none")},r.enableDrag=function(){n&&a&&(n[a]=o)};var s=i(["transform","WebkitTransform"]);r.setTransform=function(e,t){e.style[s]=t};var l=!1;try{var _=Object.defineProperty({},"passive",{get:function(){l=!0}});e.window.addEventListener("test",_,_),e.window.removeEventListener("test",_,_)}catch(e){l=!1}r.addEventListener=function(e,t,r,n){void 0===n&&(n={}),e.addEventListener(t,r,"passive"in n&&l?n:n.capture)},r.removeEventListener=function(e,t,r,n){void 0===n&&(n={}),e.removeEventListener(t,r,"passive"in n&&l?n:n.capture)};var u=function(t){t.preventDefault(),t.stopPropagation(),e.window.removeEventListener("click",u,!0)};function c(e){var t=e.userImage;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}r.suppressClick=function(){e.window.addEventListener("click",u,!0),e.window.setTimeout((function(){e.window.removeEventListener("click",u,!0)}),0)},r.mousePos=function(t,r){var n=t.getBoundingClientRect();return new e.Point(r.clientX-n.left-t.clientLeft,r.clientY-n.top-t.clientTop)},r.touchPos=function(t,r){for(var n=t.getBoundingClientRect(),i=[],o=0;o<r.length;o++)i.push(new e.Point(r[o].clientX-n.left-t.clientLeft,r[o].clientY-n.top-t.clientTop));return i},r.mouseButton=function(t){return void 0!==e.window.InstallTrigger&&2===t.button&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:t.button},r.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)};var p=function(t){function r(){t.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.isLoaded=function(){return this.loaded},r.prototype.setLoaded=function(e){if(this.loaded!==e&&(this.loaded=e,e)){for(var t=0,r=this.requestors;t<r.length;t+=1){var n=r[t];this._notify(n.ids,n.callback)}this.requestors=[]}},r.prototype.getImage=function(e){return this.images[e]},r.prototype.addImage=function(e,t){this._validate(e,t)&&(this.images[e]=t)},r.prototype._validate=function(t,r){var n=!0;return this._validateStretch(r.stretchX,r.data&&r.data.width)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "stretchX" value'))),n=!1),this._validateStretch(r.stretchY,r.data&&r.data.height)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "stretchY" value'))),n=!1),this._validateContent(r.content,r)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "content" value'))),n=!1),n},r.prototype._validateStretch=function(e,t){if(!e)return!0;for(var r=0,n=0,i=e;n<i.length;n+=1){var o=i[n];if(o[0]<r||o[1]<o[0]||t<o[1])return!1;r=o[1]}return!0},r.prototype._validateContent=function(e,t){return!(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))},r.prototype.updateImage=function(e,t){t.version=this.images[e].version+1,this.images[e]=t,this.updatedImages[e]=!0},r.prototype.removeImage=function(e){var t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()},r.prototype.listImages=function(){return Object.keys(this.images)},r.prototype.getImages=function(e,t){var r=!0;if(!this.isLoaded())for(var n=0,i=e;n<i.length;n+=1)this.images[i[n]]||(r=!1);this.isLoaded()||r?this._notify(e,t):this.requestors.push({ids:e,callback:t})},r.prototype._notify=function(t,r){for(var n={},i=0,o=t;i<o.length;i+=1){var a=o[i];this.images[a]||this.fire(new e.Event("styleimagemissing",{id:a}));var s=this.images[a];s?n[a]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,stretchX:s.stretchX,stretchY:s.stretchY,content:s.content,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:e.warnOnce('Image "'+a+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}r(null,n)},r.prototype.getPixelSize=function(){var e=this.atlasImage;return{width:e.width,height:e.height}},r.prototype.getPattern=function(t){var r=this.patterns[t],n=this.getImage(t);if(!n)return null;if(r&&r.position.version===n.version)return r.position;if(r)r.position.version=n.version;else{var i={w:n.data.width+2,h:n.data.height+2,x:0,y:0},o=new e.ImagePosition(i,n);this.patterns[t]={bin:i,position:o}}return this._updatePatternAtlas(),this.patterns[t].position},r.prototype.bind=function(t){var r=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new e.Texture(t,this.atlasImage,r.RGBA),this.atlasTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)},r.prototype._updatePatternAtlas=function(){var t=[];for(var r in this.patterns)t.push(this.patterns[r].bin);var n=e.potpack(t),i=n.w,o=n.h,a=this.atlasImage;for(var s in a.resize({width:i||1,height:o||1}),this.patterns){var l=this.patterns[s].bin,_=l.x+1,u=l.y+1,c=this.images[s].data,p=c.width,d=c.height;e.RGBAImage.copy(c,a,{x:0,y:0},{x:_,y:u},{width:p,height:d}),e.RGBAImage.copy(c,a,{x:0,y:d-1},{x:_,y:u-1},{width:p,height:1}),e.RGBAImage.copy(c,a,{x:0,y:0},{x:_,y:u+d},{width:p,height:1}),e.RGBAImage.copy(c,a,{x:p-1,y:0},{x:_-1,y:u},{width:1,height:d}),e.RGBAImage.copy(c,a,{x:0,y:0},{x:_+p,y:u},{width:1,height:d})}this.dirty=!0},r.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},r.prototype.dispatchRenderCallbacks=function(e){for(var t=0,r=e;t<r.length;t+=1){var n=r[t];if(!this.callbackDispatchedThisFrame[n]){this.callbackDispatchedThisFrame[n]=!0;var i=this.images[n];c(i)&&this.updateImage(n,i)}}},r}(e.Evented),d=m,h=m,f=1e20;function m(e,t,r,n,i,o){this.fontSize=e||24,this.buffer=void 0===t?3:t,this.cutoff=n||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=r||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function y(e,t,r,n,i,o,a){for(var s=0;s<t;s++){for(var l=0;l<r;l++)n[l]=e[l*t+s];for(g(n,i,o,a,r),l=0;l<r;l++)e[l*t+s]=i[l]}for(l=0;l<r;l++){for(s=0;s<t;s++)n[s]=e[l*t+s];for(g(n,i,o,a,t),s=0;s<t;s++)e[l*t+s]=Math.sqrt(i[s])}}function g(e,t,r,n,i){r[0]=0,n[0]=-f,n[1]=+f;for(var o=1,a=0;o<i;o++){for(var s=(e[o]+o*o-(e[r[a]]+r[a]*r[a]))/(2*o-2*r[a]);s<=n[a];)a--,s=(e[o]+o*o-(e[r[a]]+r[a]*r[a]))/(2*o-2*r[a]);r[++a]=o,n[a]=s,n[a+1]=+f}for(o=0,a=0;o<i;o++){for(;n[a+1]<o;)a++;t[o]=(o-r[a])*(o-r[a])+e[r[a]]}}m.prototype.draw=function(e){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(e,this.buffer,this.middle);for(var t=this.ctx.getImageData(0,0,this.size,this.size),r=new Uint8ClampedArray(this.size*this.size),n=0;n<this.size*this.size;n++){var i=t.data[4*n+3]/255;this.gridOuter[n]=1===i?0:0===i?f:Math.pow(Math.max(0,.5-i),2),this.gridInner[n]=1===i?f:0===i?0:Math.pow(Math.max(0,i-.5),2)}for(y(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),y(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),n=0;n<this.size*this.size;n++)r[n]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[n]-this.gridInner[n])/this.radius+this.cutoff))));return r},d.default=h;var b=function(e,t){this.requestManager=e,this.localIdeographFontFamily=t,this.entries={}};b.prototype.setURL=function(e){this.url=e},b.prototype.getGlyphs=function(t,r){var n=this,i=[];for(var o in t)for(var a=0,s=t[o];a<s.length;a+=1)i.push({stack:o,id:s[a]});e.asyncAll(i,(function(e,t){var r=e.stack,i=e.id,o=n.entries[r];o||(o=n.entries[r]={glyphs:{},requests:{},ranges:{}});var a=o.glyphs[i];if(void 0===a){if(a=n._tinySDF(o,r,i))return o.glyphs[i]=a,void t(null,{stack:r,id:i,glyph:a});var s=Math.floor(i/256);if(256*s>65535)t(new Error("glyphs > 65535 not supported"));else if(o.ranges[s])t(null,{stack:r,id:i,glyph:a});else{var l=o.requests[s];l||(l=o.requests[s]=[],b.loadGlyphRange(r,s,n.url,n.requestManager,(function(e,t){if(t){for(var r in t)n._doesCharSupportLocalGlyph(+r)||(o.glyphs[+r]=t[+r]);o.ranges[s]=!0}for(var i=0,a=l;i<a.length;i+=1)(0,a[i])(e,t);delete o.requests[s]}))),l.push((function(e,n){e?t(e):n&&t(null,{stack:r,id:i,glyph:n[i]||null})}))}}else t(null,{stack:r,id:i,glyph:a})}),(function(e,t){if(e)r(e);else if(t){for(var n={},i=0,o=t;i<o.length;i+=1){var a=o[i],s=a.stack,l=a.id,_=a.glyph;(n[s]||(n[s]={}))[l]=_&&{id:_.id,bitmap:_.bitmap.clone(),metrics:_.metrics}}r(null,n)}}))},b.prototype._doesCharSupportLocalGlyph=function(t){return!!this.localIdeographFontFamily&&(e.isChar["CJK Unified Ideographs"](t)||e.isChar["Hangul Syllables"](t)||e.isChar.Hiragana(t)||e.isChar.Katakana(t))},b.prototype._tinySDF=function(t,r,n){var i=this.localIdeographFontFamily;if(i&&this._doesCharSupportLocalGlyph(n)){var o=t.tinySDF;if(!o){var a="400";/bold/i.test(r)?a="900":/medium/i.test(r)?a="500":/light/i.test(r)&&(a="200"),o=t.tinySDF=new b.TinySDF(24,3,8,.25,i,a)}return{id:n,bitmap:new e.AlphaImage({width:30,height:30},o.draw(String.fromCharCode(n))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},b.loadGlyphRange=function(t,r,n,i,o){var a=256*r,s=a+255,l=i.transformRequest(i.normalizeGlyphsURL(n).replace("{fontstack}",t).replace("{range}",a+"-"+s),e.ResourceType.Glyphs);e.getArrayBuffer(l,(function(t,r){if(t)o(t);else if(r){for(var n={},i=0,a=e.parseGlyphPBF(r);i<a.length;i+=1){var s=a[i];n[s.id]=s}o(null,n)}}))},b.TinySDF=d;var v=function(){this.specification=e.styleSpec.light.position};v.prototype.possiblyEvaluate=function(t,r){return e.sphericalToCartesian(t.expression.evaluate(r))},v.prototype.interpolate=function(t,r,n){return{x:e.number(t.x,r.x,n),y:e.number(t.y,r.y,n),z:e.number(t.z,r.z,n)}};var E=new e.Properties({anchor:new e.DataConstantProperty(e.styleSpec.light.anchor),position:new v,color:new e.DataConstantProperty(e.styleSpec.light.color),intensity:new e.DataConstantProperty(e.styleSpec.light.intensity)}),O=function(t){function r(r){t.call(this),this._transitionable=new e.Transitionable(E),this.setLight(r),this._transitioning=this._transitionable.untransitioned()}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.getLight=function(){return this._transitionable.serialize()},r.prototype.setLight=function(t,r){if(void 0===r&&(r={}),!this._validate(e.validateLight,t,r))for(var n in t){var i=t[n];e.endsWith(n,"-transition")?this._transitionable.setTransition(n.slice(0,-"-transition".length),i):this._transitionable.setValue(n,i)}},r.prototype.updateTransitions=function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)},r.prototype.hasTransition=function(){return this._transitioning.hasTransition()},r.prototype.recalculate=function(e){this.properties=this._transitioning.possiblyEvaluate(e)},r.prototype._validate=function(t,r,n){return(!n||!1!==n.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:r,style:{glyphs:!0,sprite:!0},styleSpec:e.styleSpec})))},r}(e.Evented),M=function(e,t){this.width=e,this.height=t,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};M.prototype.getDash=function(e,t){var r=e.join(",")+String(t);return this.dashEntry[r]||(this.dashEntry[r]=this.addDash(e,t)),this.dashEntry[r]},M.prototype.getDashRanges=function(e,t,r){var n=[],i=e.length%2==1?-e[e.length-1]*r:0,o=e[0]*r,a=!0;n.push({left:i,right:o,isDash:a,zeroLength:0===e[0]});for(var s=e[0],l=1;l<e.length;l++){var _=e[l];n.push({left:i=s*r,right:o=(s+=_)*r,isDash:a=!a,zeroLength:0===_})}return n},M.prototype.addRoundDash=function(e,t,r){for(var n=t/2,i=-r;i<=r;i++)for(var o=this.width*(this.nextRow+r+i),a=0,s=e[a],l=0;l<this.width;l++){l/s.right>1&&(s=e[++a]);var _=Math.abs(l-s.left),u=Math.abs(l-s.right),c=Math.min(_,u),p=void 0,d=i/r*(n+1);if(s.isDash){var h=n-Math.abs(d);p=Math.sqrt(c*c+h*h)}else p=n-Math.sqrt(c*c+d*d);this.data[o+l]=Math.max(0,Math.min(255,p+128))}},M.prototype.addRegularDash=function(e){for(var t=e.length-1;t>=0;--t){var r=e[t],n=e[t+1];r.zeroLength?e.splice(t,1):n&&n.isDash===r.isDash&&(n.left=r.left,e.splice(t,1))}var i=e[0],o=e[e.length-1];i.isDash===o.isDash&&(i.left=o.left-this.width,o.right=i.right+this.width);for(var a=this.width*this.nextRow,s=0,l=e[s],_=0;_<this.width;_++){_/l.right>1&&(l=e[++s]);var u=Math.abs(_-l.left),c=Math.abs(_-l.right),p=Math.min(u,c);this.data[a+_]=Math.max(0,Math.min(255,(l.isDash?p:-p)+128))}},M.prototype.addDash=function(t,r){var n=r?7:0,i=2*n+1;if(this.nextRow+i>this.height)return e.warnOnce("LineAtlas out of space"),null;for(var o=0,a=0;a<t.length;a++)o+=t[a];if(0!==o){var s=this.width/o,l=this.getDashRanges(t,this.width,s);r?this.addRoundDash(l,s,n):this.addRegularDash(l)}var _={y:(this.nextRow+n+.5)/this.height,height:2*n/this.height,width:o};return this.nextRow+=i,this.dirty=!0,_},M.prototype.bind=function(e){var t=e.gl;this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,this.data))};var P=function t(r,n){this.workerPool=r,this.actors=[],this.currentActor=0,this.id=e.uniqueId();for(var i=this.workerPool.acquire(this.id),o=0;o<i.length;o++){var a=new t.Actor(i[o],n,this.id);a.name="Worker "+o,this.actors.push(a)}};function x(t,r,n){var i=function(i,o){if(i)return n(i);if(o){var a=e.pick(e.extend(o,t),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);o.vector_layers&&(a.vectorLayers=o.vector_layers,a.vectorLayerIds=a.vectorLayers.map((function(e){return e.id}))),a.tiles=r.canonicalizeTileset(a,t.url),n(null,a)}};return t.url?e.getJSON(r.transformRequest(r.normalizeSourceURL(t.url),e.ResourceType.Source),i):e.browser.frame((function(){return i(null,t)}))}P.prototype.broadcast=function(t,r,n){e.asyncAll(this.actors,(function(e,n){e.send(t,r,n)}),n=n||function(){})},P.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},P.prototype.remove=function(){this.actors.forEach((function(e){e.remove()})),this.actors=[],this.workerPool.release(this.id)},P.Actor=e.Actor;var w=function(t,r,n){this.bounds=e.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=r||0,this.maxzoom=n||24};w.prototype.validateBounds=function(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]},w.prototype.contains=function(t){var r=Math.pow(2,t.z),n=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*r),i=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*r),o=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*r),a=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*r);return t.x>=n&&t.x<o&&t.y>=i&&t.y<a};var C=function(t){function r(r,n,i,o){if(t.call(this),this.id=r,this.dispatcher=i,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,e.extend(this,e.pick(n,["url","scheme","tileSize","promoteId"])),this._options=e.extend({type:"vector"},n),this._collectResourceTiming=n.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(o)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.load=function(){var t=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=x(this._options,this.map._requestManager,(function(r,n){t._tileJSONRequest=null,t._loaded=!0,r?t.fire(new e.ErrorEvent(r)):n&&(e.extend(t,n),n.bounds&&(t.tileBounds=new w(n.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(n.tiles,t.map._requestManager._customAccessToken),e.postMapLoadEvent(n.tiles,t.map._getMapId(),t.map._requestManager._skuToken,t.map._requestManager._customAccessToken),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))},r.prototype.loaded=function(){return this._loaded},r.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},r.prototype.onAdd=function(e){this.map=e,this.load()},r.prototype.setSourceProperty=function(e){this._tileJSONRequest&&this._tileJSONRequest.cancel(),e(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},r.prototype.setTiles=function(e){var t=this;return this.setSourceProperty((function(){t._options.tiles=e})),this},r.prototype.setUrl=function(e){var t=this;return this.setSourceProperty((function(){t.url=e,t._options.url=e})),this},r.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},r.prototype.serialize=function(){return e.extend({},this._options)},r.prototype.loadTile=function(t,r){var n=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme)),i={request:this.map._requestManager.transformRequest(n,e.ResourceType.Tile),uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function o(n,i){return delete t.request,t.aborted?r(null):n&&404!==n.status?r(n):(i&&i.resourceTiming&&(t.resourceTiming=i.resourceTiming),this.map._refreshExpiredTiles&&i&&t.setExpiryData(i),t.loadVectorData(i,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),r(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}i.request.collectResourceTiming=this._collectResourceTiming,t.actor&&"expired"!==t.state?"loading"===t.state?t.reloadCallback=r:t.request=t.actor.send("reloadTile",i,o.bind(this)):(t.actor=this.dispatcher.getActor(),t.request=t.actor.send("loadTile",i,o.bind(this)))},r.prototype.abortTile=function(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id},void 0)},r.prototype.unloadTile=function(e){e.unloadVectorData(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id},void 0)},r.prototype.hasTransition=function(){return!1},r}(e.Evented),D=function(t){function r(r,n,i,o){t.call(this),this.id=r,this.dispatcher=i,this.setEventedParent(o),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=e.extend({type:"raster"},n),e.extend(this,e.pick(n,["url","scheme","tileSize"]))}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.load=function(){var t=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=x(this._options,this.map._requestManager,(function(r,n){t._tileJSONRequest=null,t._loaded=!0,r?t.fire(new e.ErrorEvent(r)):n&&(e.extend(t,n),n.bounds&&(t.tileBounds=new w(n.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(n.tiles),e.postMapLoadEvent(n.tiles,t.map._getMapId(),t.map._requestManager._skuToken),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))},r.prototype.loaded=function(){return this._loaded},r.prototype.onAdd=function(e){this.map=e,this.load()},r.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},r.prototype.serialize=function(){return e.extend({},this._options)},r.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},r.prototype.loadTile=function(t,r){var n=this,i=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);t.request=e.getImage(this.map._requestManager.transformRequest(i,e.ResourceType.Tile),(function(i,o){if(delete t.request,t.aborted)t.state="unloaded",r(null);else if(i)t.state="errored",r(i);else if(o){n.map._refreshExpiredTiles&&t.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=n.map.painter.context,s=a.gl;t.texture=n.map.painter.getTileTexture(o.width),t.texture?t.texture.update(o,{useMipmap:!0}):(t.texture=new e.Texture(a,o,s.RGBA,{useMipmap:!0}),t.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax)),t.state="loaded",e.cacheEntryPossiblyAdded(n.dispatcher),r(null)}}))},r.prototype.abortTile=function(e,t){e.request&&(e.request.cancel(),delete e.request),t()},r.prototype.unloadTile=function(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()},r.prototype.hasTransition=function(){return!1},r}(e.Evented),T=function(t){function r(r,n,i,o){t.call(this,r,n,i,o),this.type="raster-dem",this.maxzoom=22,this._options=e.extend({type:"raster-dem"},n),this.encoding=n.encoding||"mapbox"}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},r.prototype.loadTile=function(t,r){var n=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function i(e,n){e&&(t.state="errored",r(e)),n&&(t.dem=n,t.needsHillshadePrepare=!0,t.state="loaded",r(null))}t.request=e.getImage(this.map._requestManager.transformRequest(n,e.ResourceType.Tile),function(n,o){if(delete t.request,t.aborted)t.state="unloaded",r(null);else if(n)t.state="errored",r(n);else if(o){this.map._refreshExpiredTiles&&t.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=e.window.ImageBitmap&&o instanceof e.window.ImageBitmap&&e.offscreenCanvasSupported()?o:e.browser.getImageData(o,1),s={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:a,encoding:this.encoding};t.actor&&"expired"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send("loadDEMTile",s,i.bind(this)))}}.bind(this)),t.neighboringTiles=this._getNeighboringTiles(t.tileID)},r.prototype._getNeighboringTiles=function(t){var r=t.canonical,n=Math.pow(2,r.z),i=(r.x-1+n)%n,o=0===r.x?t.wrap-1:t.wrap,a=(r.x+1+n)%n,s=r.x+1===n?t.wrap+1:t.wrap,l={};return l[new e.OverscaledTileID(t.overscaledZ,o,r.z,i,r.y).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,r.z,a,r.y).key]={backfilled:!1},r.y>0&&(l[new e.OverscaledTileID(t.overscaledZ,o,r.z,i,r.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,r.z,r.x,r.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,r.z,a,r.y-1).key]={backfilled:!1}),r.y+1<n&&(l[new e.OverscaledTileID(t.overscaledZ,o,r.z,i,r.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,r.z,r.x,r.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,r.z,a,r.y+1).key]={backfilled:!1}),l},r.prototype.unloadTile=function(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded",e.actor&&e.actor.send("removeDEMTile",{uid:e.uid,source:this.id})},r}(D),k=function(t){function r(r,n,i,o){t.call(this),this.id=r,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=i.getActor(),this.setEventedParent(o),this._data=n.data,this._options=e.extend({},n),this._collectResourceTiming=n.collectResourceTiming,this._resourceTiming=[],void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type),n.attribution&&(this.attribution=n.attribution),this.promoteId=n.promoteId;var a=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*a,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*a,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:n.lineMetrics||!1,generateId:n.generateId||!1},superclusterOptions:{maxZoom:void 0!==n.clusterMaxZoom?Math.min(n.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,n.clusterMinPoints||2),extent:e.EXTENT,radius:(n.clusterRadius||50)*a,log:!1,generateId:n.generateId||!1},clusterProperties:n.clusterProperties,filter:n.filter},n.workerOptions)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.load=function(){var t=this;this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(r){if(r)t.fire(new e.ErrorEvent(r));else{var n={dataType:"source",sourceDataType:"metadata"};t._collectResourceTiming&&t._resourceTiming&&t._resourceTiming.length>0&&(n.resourceTiming=t._resourceTiming,t._resourceTiming=[]),t.fire(new e.Event("data",n))}}))},r.prototype.onAdd=function(e){this.map=e,this.load()},r.prototype.setData=function(t){var r=this;return this._data=t,this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(t){if(t)r.fire(new e.ErrorEvent(t));else{var n={dataType:"source",sourceDataType:"content"};r._collectResourceTiming&&r._resourceTiming&&r._resourceTiming.length>0&&(n.resourceTiming=r._resourceTiming,r._resourceTiming=[]),r.fire(new e.Event("data",n))}})),this},r.prototype.getClusterExpansionZoom=function(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this},r.prototype.getClusterChildren=function(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this},r.prototype.getClusterLeaves=function(e,t,r,n){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:r},n),this},r.prototype._updateWorkerData=function(t){var r=this;this._loaded=!1;var n=e.extend({},this.workerOptions),i=this._data;"string"==typeof i?(n.request=this.map._requestManager.transformRequest(e.browser.resolveURL(i),e.ResourceType.Source),n.request.collectResourceTiming=this._collectResourceTiming):n.data=JSON.stringify(i),this.actor.send(this.type+".loadData",n,(function(e,i){r._removed||i&&i.abandoned||(r._loaded=!0,i&&i.resourceTiming&&i.resourceTiming[r.id]&&(r._resourceTiming=i.resourceTiming[r.id].slice(0)),r.actor.send(r.type+".coalesce",{source:n.source},null),t(e))}))},r.prototype.loaded=function(){return this._loaded},r.prototype.loadTile=function(t,r){var n=this,i=t.actor?"reloadTile":"loadTile";t.actor=this.actor,t.request=this.actor.send(i,{type:this.type,uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(function(e,o){return delete t.request,t.unloadVectorData(),t.aborted?r(null):e?r(e):(t.loadVectorData(o,n.map.painter,"reloadTile"===i),r(null))}))},r.prototype.abortTile=function(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0},r.prototype.unloadTile=function(e){e.unloadVectorData(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})},r.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},r.prototype.serialize=function(){return e.extend({},this._options,{type:this.type,data:this._data})},r.prototype.hasTransition=function(){return!1},r}(e.Evented),A=e.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),I=function(t){function r(e,r,n,i){t.call(this),this.id=e,this.dispatcher=n,this.coordinates=r.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(i),this.options=r}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.load=function(t,r){var n=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),(function(i,o){n._loaded=!0,i?n.fire(new e.ErrorEvent(i)):o&&(n.image=o,t&&(n.coordinates=t),r&&r(),n._finishLoading())}))},r.prototype.loaded=function(){return this._loaded},r.prototype.updateImage=function(e){var t=this;return this.image&&e.url?(this.options.url=e.url,this.load(e.coordinates,(function(){t.texture=null})),this):this},r.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))},r.prototype.onAdd=function(e){this.map=e,this.load()},r.prototype.setCoordinates=function(t){var r=this;this.coordinates=t;var n=t.map(e.MercatorCoordinate.fromLngLat);this.tileID=function(t){for(var r=1/0,n=1/0,i=-1/0,o=-1/0,a=0,s=t;a<s.length;a+=1){var l=s[a];r=Math.min(r,l.x),n=Math.min(n,l.y),i=Math.max(i,l.x),o=Math.max(o,l.y)}var _=Math.max(i-r,o-n),u=Math.max(0,Math.floor(-Math.log(_)/Math.LN2)),c=Math.pow(2,u);return new e.CanonicalTileID(u,Math.floor((r+i)/2*c),Math.floor((n+o)/2*c))}(n),this.minzoom=this.maxzoom=this.tileID.z;var i=n.map((function(e){return r.tileID.getTilePoint(e)._round()}));return this._boundsArray=new e.StructArrayLayout4i8,this._boundsArray.emplaceBack(i[0].x,i[0].y,0,0),this._boundsArray.emplaceBack(i[1].x,i[1].y,e.EXTENT,0),this._boundsArray.emplaceBack(i[3].x,i[3].y,0,e.EXTENT),this._boundsArray.emplaceBack(i[2].x,i[2].y,e.EXTENT,e.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this},r.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var t=this.map.painter.context,r=t.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,A.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new e.Texture(t,this.image,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[n];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},r.prototype.loadTile=function(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))},r.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},r.prototype.hasTransition=function(){return!1},r}(e.Evented),L=function(t){function r(e,r,n,i){t.call(this,e,r,n,i),this.roundZoom=!0,this.type="video",this.options=r}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.load=function(){var t=this;this._loaded=!1;var r=this.options;this.urls=[];for(var n=0,i=r.urls;n<i.length;n+=1)this.urls.push(this.map._requestManager.transformRequest(i[n],e.ResourceType.Source).url);e.getVideo(this.urls,(function(r,n){t._loaded=!0,r?t.fire(new e.ErrorEvent(r)):n&&(t.video=n,t.video.loop=!0,t.video.addEventListener("playing",(function(){t.map.triggerRepaint()})),t.map&&t.video.play(),t._finishLoading())}))},r.prototype.pause=function(){this.video&&this.video.pause()},r.prototype.play=function(){this.video&&this.video.play()},r.prototype.seek=function(t){if(this.video){var r=this.video.seekable;t<r.start(0)||t>r.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+r.start(0)+" and "+r.end(0)+"-second mark."))):this.video.currentTime=t}},r.prototype.getVideo=function(){return this.video},r.prototype.onAdd=function(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},r.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var t=this.map.painter.context,r=t.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,A.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[n];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},r.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},r.prototype.hasTransition=function(){return this.video&&!this.video.paused},r}(I),R=function(t){function r(r,n,i,o){t.call(this,r,n,i,o),n.coordinates?Array.isArray(n.coordinates)&&4===n.coordinates.length&&!n.coordinates.some((function(e){return!Array.isArray(e)||2!==e.length||e.some((function(e){return"number"!=typeof e}))}))||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'missing required property "coordinates"'))),n.animate&&"boolean"!=typeof n.animate&&this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'optional "animate" property must be a boolean value'))),n.canvas?"string"==typeof n.canvas||n.canvas instanceof e.window.HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'missing required property "canvas"'))),this.options=n,this.animate=void 0===n.animate||n.animate}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},r.prototype.getCanvas=function(){return this.canvas},r.prototype.onAdd=function(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()},r.prototype.onRemove=function(){this.pause()},r.prototype.prepare=function(){var t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var r=this.map.painter.context,n=r.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=r.createVertexBuffer(this._boundsArray,A.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(r,this.canvas,n.RGBA,{premultiply:!0}),this.tiles){var o=this.tiles[i];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}},r.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},r.prototype.hasTransition=function(){return this._playing},r.prototype._hasInvalidDimensions=function(){for(var e=0,t=[this.canvas.width,this.canvas.height];e<t.length;e+=1){var r=t[e];if(isNaN(r)||r<=0)return!0}return!1},r}(I),S={vector:C,raster:D,"raster-dem":T,geojson:k,video:L,image:I,canvas:R};function B(t,r){var n=e.identity([]);return e.translate(n,n,[1,1,0]),e.scale(n,n,[.5*t.width,.5*t.height,1]),e.multiply(n,n,t.calculatePosMatrix(r.toUnwrapped()))}function U(e,t,r,n,i,o){var a=function(e,t,r){if(e)for(var n=0,i=e;n<i.length;n+=1){var o=t[i[n]];if(o&&o.source===r&&"fill-extrusion"===o.type)return!0}else for(var a in t){var s=t[a];if(s.source===r&&"fill-extrusion"===s.type)return!0}return!1}(i&&i.layers,t,e.id),s=o.maxPitchScaleFactor(),l=e.tilesIn(n,s,a);l.sort(W);for(var _=[],u=0,c=l;u<c.length;u+=1){var p=c[u];_.push({wrappedTileID:p.tileID.wrapped().key,queryResults:p.tile.queryRenderedFeatures(t,r,e._state,p.queryGeometry,p.cameraQueryGeometry,p.scale,i,o,s,B(e.transform,p.tileID))})}var d=function(e){for(var t={},r={},n=0,i=e;n<i.length;n+=1){var o=i[n],a=o.queryResults,s=o.wrappedTileID,l=r[s]=r[s]||{};for(var _ in a)for(var u=a[_],c=l[_]=l[_]||{},p=t[_]=t[_]||[],d=0,h=u;d<h.length;d+=1){var f=h[d];c[f.featureIndex]||(c[f.featureIndex]=!0,p.push(f))}}return t}(_);for(var h in d)d[h].forEach((function(t){var r=t.feature,n=e.getFeatureState(r.layer["source-layer"],r.id);r.source=r.layer.source,r.layer["source-layer"]&&(r.sourceLayer=r.layer["source-layer"]),r.state=n}));return d}function W(e,t){var r=e.tileID,n=t.tileID;return r.overscaledZ-n.overscaledZ||r.canonical.y-n.canonical.y||r.wrap-n.wrap||r.canonical.x-n.canonical.x}var K=function(e,t){this.max=e,this.onRemove=t,this.reset()};K.prototype.reset=function(){for(var e in this.data)for(var t=0,r=this.data[e];t<r.length;t+=1){var n=r[t];n.timeout&&clearTimeout(n.timeout),this.onRemove(n.value)}return this.data={},this.order=[],this},K.prototype.add=function(e,t,r){var n=this,i=e.wrapped().key;void 0===this.data[i]&&(this.data[i]=[]);var o={value:t,timeout:void 0};if(void 0!==r&&(o.timeout=setTimeout((function(){n.remove(e,o)}),r)),this.data[i].push(o),this.order.push(i),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this},K.prototype.has=function(e){return e.wrapped().key in this.data},K.prototype.getAndRemove=function(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null},K.prototype._getAndRemoveByKey=function(e){var t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value},K.prototype.getByKey=function(e){var t=this.data[e];return t?t[0].value:null},K.prototype.get=function(e){return this.has(e)?this.data[e.wrapped().key][0].value:null},K.prototype.remove=function(e,t){if(!this.has(e))return this;var r=e.wrapped().key,n=void 0===t?0:this.data[r].indexOf(t),i=this.data[r][n];return this.data[r].splice(n,1),i.timeout&&clearTimeout(i.timeout),0===this.data[r].length&&delete this.data[r],this.onRemove(i.value),this.order.splice(this.order.indexOf(r),1),this},K.prototype.setMaxSize=function(e){for(this.max=e;this.order.length>this.max;){var t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this},K.prototype.filter=function(e){var t=[];for(var r in this.data)for(var n=0,i=this.data[r];n<i.length;n+=1){var o=i[n];e(o.value)||t.push(o)}for(var a=0,s=t;a<s.length;a+=1){var l=s[a];this.remove(l.value.tileID,l)}};var j=function(e,t,r){this.context=e;var n=e.gl;this.buffer=n.createBuffer(),this.dynamicDraw=Boolean(r),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?n.DYNAMIC_DRAW:n.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};j.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},j.prototype.updateData=function(e){var t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)},j.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var z={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},F=function(e,t,r,n){this.length=t.length,this.attributes=r,this.itemSize=t.bytesPerElement,this.dynamicDraw=n,this.context=e;var i=e.gl;this.buffer=i.createBuffer(),e.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};F.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},F.prototype.updateData=function(e){var t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)},F.prototype.enableAttributes=function(e,t){for(var r=0;r<this.attributes.length;r++){var n=t.attributes[this.attributes[r].name];void 0!==n&&e.enableVertexAttribArray(n)}},F.prototype.setVertexAttribPointers=function(e,t,r){for(var n=0;n<this.attributes.length;n++){var i=this.attributes[n],o=t.attributes[i.name];void 0!==o&&e.vertexAttribPointer(o,i.components,e[z[i.type]],!1,this.itemSize,i.offset+this.itemSize*(r||0))}},F.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var q=function(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};q.prototype.get=function(){return this.current},q.prototype.set=function(e){},q.prototype.getDefault=function(){return this.default},q.prototype.setDefault=function(){this.set(this.default)};var N=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.getDefault=function(){return e.Color.transparent},r.prototype.set=function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},r}(q),H=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 1},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)},t}(q),G=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)},t}(q),V=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return[!0,!0,!0,!0]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(q),Z=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)},t}(q),X=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 255},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)},t}(q),$=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},t.prototype.set=function(e){var t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)},t}(q),Y=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)},t}(q),J=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}},t}(q),Q=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return[0,1]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)},t}(q),ee=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}},t}(q),te=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.LESS},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)},t}(q),re=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}},t}(q),ne=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.ONE,e.ZERO]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)},t}(q),ie=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.getDefault=function(){return e.Color.transparent},r.prototype.set=function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},r}(q),oe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.FUNC_ADD},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)},t}(q),ae=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}},t}(q),se=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.BACK},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)},t}(q),le=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.CCW},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)},t}(q),_e=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)},t}(q),ue=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.TEXTURE0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)},t}(q),ce=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(q),pe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}},t}(q),de=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(q),he=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}},t}(q),fe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}},t}(q),me=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){var t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1},t}(q),ye=function(e){function t(t){e.call(this,t),this.vao=t.extVertexArrayObject}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)},t}(q),ge=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 4},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}},t}(q),be=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}},t}(q),ve=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}},t}(q),Ee=function(e){function t(t,r){e.call(this,t),this.context=t,this.parent=r}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t}(q),Oe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.setDirty=function(){this.dirty=!0},t.prototype.set=function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}},t}(Ee),Me=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(Ee),Pe=function(e,t,r,n){this.context=e,this.width=t,this.height=r;var i=this.framebuffer=e.gl.createFramebuffer();this.colorAttachment=new Oe(e,i),n&&(this.depthAttachment=new Me(e,i))};Pe.prototype.destroy=function(){var e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){var r=this.depthAttachment.get();r&&e.deleteRenderbuffer(r)}e.deleteFramebuffer(this.framebuffer)};var xe=function(e,t,r){this.func=e,this.mask=t,this.range=r};xe.ReadOnly=!1,xe.ReadWrite=!0,xe.disabled=new xe(519,xe.ReadOnly,[0,1]);var we=function(e,t,r,n,i,o){this.test=e,this.ref=t,this.mask=r,this.fail=n,this.depthFail=i,this.pass=o};we.disabled=new we({func:519,mask:0},0,0,7680,7680,7680);var Ce=function(e,t,r){this.blendFunction=e,this.blendColor=t,this.mask=r};Ce.disabled=new Ce(Ce.Replace=[1,0],e.Color.transparent,[!1,!1,!1,!1]),Ce.unblended=new Ce(Ce.Replace,e.Color.transparent,[!0,!0,!0,!0]),Ce.alphaBlended=new Ce([1,771],e.Color.transparent,[!0,!0,!0,!0]);var De=function(e,t,r){this.enable=e,this.mode=t,this.frontFace=r};De.disabled=new De(!1,1029,2305),De.backCCW=new De(!0,1029,2305);var Te=function(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new N(this),this.clearDepth=new H(this),this.clearStencil=new G(this),this.colorMask=new V(this),this.depthMask=new Z(this),this.stencilMask=new X(this),this.stencilFunc=new $(this),this.stencilOp=new Y(this),this.stencilTest=new J(this),this.depthRange=new Q(this),this.depthTest=new ee(this),this.depthFunc=new te(this),this.blend=new re(this),this.blendFunc=new ne(this),this.blendColor=new ie(this),this.blendEquation=new oe(this),this.cullFace=new ae(this),this.cullFaceSide=new se(this),this.frontFace=new le(this),this.program=new _e(this),this.activeTexture=new ue(this),this.viewport=new ce(this),this.bindFramebuffer=new pe(this),this.bindRenderbuffer=new de(this),this.bindTexture=new he(this),this.bindVertexBuffer=new fe(this),this.bindElementBuffer=new me(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ye(this),this.pixelStoreUnpack=new ge(this),this.pixelStoreUnpackPremultiplyAlpha=new be(this),this.pixelStoreUnpackFlipY=new ve(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(e.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=e.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=e.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)};Te.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Te.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Te.prototype.createIndexBuffer=function(e,t){return new j(this,e,t)},Te.prototype.createVertexBuffer=function(e,t,r){return new F(this,e,t,r)},Te.prototype.createRenderbuffer=function(e,t,r){var n=this.gl,i=n.createRenderbuffer();return this.bindRenderbuffer.set(i),n.renderbufferStorage(n.RENDERBUFFER,e,t,r),this.bindRenderbuffer.set(null),i},Te.prototype.createFramebuffer=function(e,t,r){return new Pe(this,e,t,r)},Te.prototype.clear=function(e){var t=e.color,r=e.depth,n=this.gl,i=0;t&&(i|=n.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),void 0!==r&&(i|=n.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(r),this.depthMask.set(!0)),n.clear(i)},Te.prototype.setCullFace=function(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))},Te.prototype.setDepthMode=function(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)},Te.prototype.setStencilMode=function(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)},Te.prototype.setColorMode=function(t){e.deepEqual(t.blendFunction,Ce.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(t.blendFunction),this.blendColor.set(t.blendColor)),this.colorMask.set(t.mask)},Te.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var ke=function(t){function r(r,n,i){var o=this;t.call(this),this.id=r,this.dispatcher=i,this.on("data",(function(e){"source"===e.dataType&&"metadata"===e.sourceDataType&&(o._sourceLoaded=!0),o._sourceLoaded&&!o._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(o.reload(),o.transform&&o.update(o.transform))})),this.on("error",(function(){o._sourceErrored=!0})),this._source=function(t,r,n,i){var o=new S[r.type](t,r,n,i);if(o.id!==t)throw new Error("Expected Source id to be "+t+" instead of "+o.id);return e.bindAll(["load","abort","unload","serialize","prepare"],o),o}(r,n,i,this),this._tiles={},this._cache=new K(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new e.SourceFeatureState}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.onAdd=function(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(e)},r.prototype.onRemove=function(e){this._source&&this._source.onRemove&&this._source.onRemove(e)},r.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var e in this._tiles){var t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0},r.prototype.getSource=function(){return this._source},r.prototype.pause=function(){this._paused=!0},r.prototype.resume=function(){if(this._paused){var e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}},r.prototype._loadTile=function(e,t){return this._source.loadTile(e,t)},r.prototype._unloadTile=function(e){if(this._source.unloadTile)return this._source.unloadTile(e,(function(){}))},r.prototype._abortTile=function(e){if(this._source.abortTile)return this._source.abortTile(e,(function(){}))},r.prototype.serialize=function(){return this._source.serialize()},r.prototype.prepare=function(e){for(var t in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var r=this._tiles[t];r.upload(e),r.prepare(this.map.style.imageManager)}},r.prototype.getIds=function(){return e.values(this._tiles).map((function(e){return e.tileID})).sort(Ae).map((function(e){return e.key}))},r.prototype.getRenderableIds=function(t){var r=this,n=[];for(var i in this._tiles)this._isIdRenderable(i,t)&&n.push(this._tiles[i]);return t?n.sort((function(t,n){var i=t.tileID,o=n.tileID,a=new e.Point(i.canonical.x,i.canonical.y)._rotate(r.transform.angle),s=new e.Point(o.canonical.x,o.canonical.y)._rotate(r.transform.angle);return i.overscaledZ-o.overscaledZ||s.y-a.y||s.x-a.x})).map((function(e){return e.tileID.key})):n.map((function(e){return e.tileID})).sort(Ae).map((function(e){return e.key}))},r.prototype.hasRenderableParent=function(e){var t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)},r.prototype._isIdRenderable=function(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())},r.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var e in this._cache.reset(),this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(e,"reloading")},r.prototype._reloadTile=function(e,t){var r=this._tiles[e];r&&("loading"!==r.state&&(r.state=t),this._loadTile(r,this._tileLoaded.bind(this,r,e,t)))},r.prototype._tileLoaded=function(t,r,n,i){if(i)return t.state="errored",void(404!==i.status?this._source.fire(new e.ErrorEvent(i,{tile:t})):this.update(this.transform));t.timeAdded=e.browser.now(),"expired"===n&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(r,t),"raster-dem"===this.getSource().type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),this._source.fire(new e.Event("data",{dataType:"source",tile:t,coord:t.tileID}))},r.prototype._backfillDEM=function(e){for(var t=this.getRenderableIds(),r=0;r<t.length;r++){var n=t[r];if(e.neighboringTiles&&e.neighboringTiles[n]){var i=this.getTileByID(n);o(e,i),o(i,e)}}function o(e,t){e.needsHillshadePrepare=!0;var r=t.tileID.canonical.x-e.tileID.canonical.x,n=t.tileID.canonical.y-e.tileID.canonical.y,i=Math.pow(2,e.tileID.canonical.z),o=t.tileID.key;0===r&&0===n||Math.abs(n)>1||(Math.abs(r)>1&&(1===Math.abs(r+i)?r+=i:1===Math.abs(r-i)&&(r-=i)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,r,n),e.neighboringTiles&&e.neighboringTiles[o]&&(e.neighboringTiles[o].backfilled=!0)))}},r.prototype.getTile=function(e){return this.getTileByID(e.key)},r.prototype.getTileByID=function(e){return this._tiles[e]},r.prototype._retainLoadedChildren=function(e,t,r,n){for(var i in this._tiles){var o=this._tiles[i];if(!(n[i]||!o.hasData()||o.tileID.overscaledZ<=t||o.tileID.overscaledZ>r)){for(var a=o.tileID;o&&o.tileID.overscaledZ>t+1;){var s=o.tileID.scaledTo(o.tileID.overscaledZ-1);(o=this._tiles[s.key])&&o.hasData()&&(a=s)}for(var l=a;l.overscaledZ>t;)if(e[(l=l.scaledTo(l.overscaledZ-1)).key]){n[a.key]=a;break}}}},r.prototype.findLoadedParent=function(e,t){if(e.key in this._loadedParentTiles){var r=this._loadedParentTiles[e.key];return r&&r.tileID.overscaledZ>=t?r:null}for(var n=e.overscaledZ-1;n>=t;n--){var i=e.scaledTo(n),o=this._getLoadedTile(i);if(o)return o}},r.prototype._getLoadedTile=function(e){var t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(e.wrapped().key)},r.prototype.updateCacheSize=function(e){var t=Math.ceil(e.width/this._source.tileSize)+1,r=Math.ceil(e.height/this._source.tileSize)+1,n=Math.floor(t*r*5),i="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,n):n;this._cache.setMaxSize(i)},r.prototype.handleWrapJump=function(e){var t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){var r={};for(var n in this._tiles){var i=this._tiles[n];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+t),r[i.tileID.key]=i}for(var o in this._tiles=r,this._timers)clearTimeout(this._timers[o]),delete this._timers[o];for(var a in this._tiles)this._setTileReloadTimer(a,this._tiles[a])}},r.prototype.update=function(t){var n=this;if(this.transform=t,this._sourceLoaded&&!this._paused){var i;this.updateCacheSize(t),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?i=t.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(t){return new e.OverscaledTileID(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y)})):(i=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(i=i.filter((function(e){return n._source.hasTile(e)})))):i=[];var o=t.coveringZoomLevel(this._source),a=Math.max(o-r.maxOverzooming,this._source.minzoom),s=Math.max(o+r.maxUnderzooming,this._source.minzoom),l=this._updateRetainedTiles(i,o);if(Ie(this._source.type)){for(var _={},u={},c=0,p=Object.keys(l);c<p.length;c+=1){var d=p[c],h=l[d],f=this._tiles[d];if(f&&!(f.fadeEndTime&&f.fadeEndTime<=e.browser.now())){var m=this.findLoadedParent(h,a);m&&(this._addTile(m.tileID),_[m.tileID.key]=m.tileID),u[d]=h}}for(var y in this._retainLoadedChildren(u,o,s,l),_)l[y]||(this._coveredTiles[y]=!0,l[y]=_[y])}for(var g in l)this._tiles[g].clearFadeHold();for(var b=0,v=e.keysDifference(this._tiles,l);b<v.length;b+=1){var E=v[b],O=this._tiles[E];O.hasSymbolBuckets&&!O.holdingForFade()?O.setHoldDuration(this.map._fadeDuration):O.hasSymbolBuckets&&!O.symbolFadeFinished()||this._removeTile(E)}this._updateLoadedParentTileCache()}},r.prototype.releaseSymbolFadeTiles=function(){for(var e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(e)},r.prototype._updateRetainedTiles=function(e,t){for(var n={},i={},o=Math.max(t-r.maxOverzooming,this._source.minzoom),a=Math.max(t+r.maxUnderzooming,this._source.minzoom),s={},l=0,_=e;l<_.length;l+=1){var u=_[l],c=this._addTile(u);n[u.key]=u,c.hasData()||t<this._source.maxzoom&&(s[u.key]=u)}this._retainLoadedChildren(s,t,a,n);for(var p=0,d=e;p<d.length;p+=1){var h=d[p],f=this._tiles[h.key];if(!f.hasData()){if(t+1>this._source.maxzoom){var m=h.children(this._source.maxzoom)[0],y=this.getTile(m);if(y&&y.hasData()){n[m.key]=m;continue}}else{var g=h.children(this._source.maxzoom);if(n[g[0].key]&&n[g[1].key]&&n[g[2].key]&&n[g[3].key])continue}for(var b=f.wasRequested(),v=h.overscaledZ-1;v>=o;--v){var E=h.scaledTo(v);if(i[E.key])break;if(i[E.key]=!0,!(f=this.getTile(E))&&b&&(f=this._addTile(E)),f&&(n[E.key]=E,b=f.wasRequested(),f.hasData()))break}}}return n},r.prototype._updateLoadedParentTileCache=function(){for(var e in this._loadedParentTiles={},this._tiles){for(var t=[],r=void 0,n=this._tiles[e].tileID;n.overscaledZ>0;){if(n.key in this._loadedParentTiles){r=this._loadedParentTiles[n.key];break}t.push(n.key);var i=n.scaledTo(n.overscaledZ-1);if(r=this._getLoadedTile(i))break;n=i}for(var o=0,a=t;o<a.length;o+=1)this._loadedParentTiles[a[o]]=r}},r.prototype._addTile=function(t){var r=this._tiles[t.key];if(r)return r;(r=this._cache.getAndRemove(t))&&(this._setTileReloadTimer(t.key,r),r.tileID=t,this._state.initializeTileState(r,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,r)));var n=Boolean(r);return n||(r=new e.Tile(t,this._source.tileSize*t.overscaleFactor()),this._loadTile(r,this._tileLoaded.bind(this,r,t.key,r.state))),r?(r.uses++,this._tiles[t.key]=r,n||this._source.fire(new e.Event("dataloading",{tile:r,coord:r.tileID,dataType:"source"})),r):null},r.prototype._setTileReloadTimer=function(e,t){var r=this;e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);var n=t.getExpiryTimeout();n&&(this._timers[e]=setTimeout((function(){r._reloadTile(e,"expired"),delete r._timers[e]}),n))},r.prototype._removeTile=function(e){var t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))},r.prototype.clearTiles=function(){for(var e in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(e);this._cache.reset()},r.prototype.tilesIn=function(t,r,n){var i=this,o=[],a=this.transform;if(!a)return o;for(var s=n?a.getCameraQueryGeometry(t):t,l=t.map((function(e){return a.pointCoordinate(e)})),_=s.map((function(e){return a.pointCoordinate(e)})),u=this.getIds(),c=1/0,p=1/0,d=-1/0,h=-1/0,f=0,m=_;f<m.length;f+=1){var y=m[f];c=Math.min(c,y.x),p=Math.min(p,y.y),d=Math.max(d,y.x),h=Math.max(h,y.y)}for(var g=function(t){var n=i._tiles[u[t]];if(!n.holdingForFade()){var s=n.tileID,f=Math.pow(2,a.zoom-n.tileID.overscaledZ),m=r*n.queryPadding*e.EXTENT/n.tileSize/f,y=[s.getTilePoint(new e.MercatorCoordinate(c,p)),s.getTilePoint(new e.MercatorCoordinate(d,h))];if(y[0].x-m<e.EXTENT&&y[0].y-m<e.EXTENT&&y[1].x+m>=0&&y[1].y+m>=0){var g=l.map((function(e){return s.getTilePoint(e)})),b=_.map((function(e){return s.getTilePoint(e)}));o.push({tile:n,tileID:s,queryGeometry:g,cameraQueryGeometry:b,scale:f})}}},b=0;b<u.length;b++)g(b);return o},r.prototype.getVisibleCoordinates=function(e){for(var t=this,r=this.getRenderableIds(e).map((function(e){return t._tiles[e].tileID})),n=0,i=r;n<i.length;n+=1){var o=i[n];o.posMatrix=this.transform.calculatePosMatrix(o.toUnwrapped())}return r},r.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Ie(this._source.type))for(var t in this._tiles){var r=this._tiles[t];if(void 0!==r.fadeEndTime&&r.fadeEndTime>=e.browser.now())return!0}return!1},r.prototype.setFeatureState=function(e,t,r){this._state.updateState(e=e||"_geojsonTileLayer",t,r)},r.prototype.removeFeatureState=function(e,t,r){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,r)},r.prototype.getFeatureState=function(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)},r.prototype.setDependencies=function(e,t,r){var n=this._tiles[e];n&&n.setDependencies(t,r)},r.prototype.reloadTilesForDependencies=function(e,t){for(var r in this._tiles)this._tiles[r].hasDependency(e,t)&&this._reloadTile(r,"reloading");this._cache.filter((function(r){return!r.hasDependency(e,t)}))},r}(e.Evented);function Ae(e,t){var r=Math.abs(2*e.wrap)-+(e.wrap<0),n=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||n-r||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function Ie(e){return"raster"===e||"image"===e||"video"===e}function Le(){return new e.window.Worker(Xi.workerUrl)}ke.maxOverzooming=10,ke.maxUnderzooming=3;var Re="mapboxgl_preloaded_worker_pool",Se=function(){this.active={}};Se.prototype.acquire=function(e){if(!this.workers)for(this.workers=[];this.workers.length<Se.workerCount;)this.workers.push(new Le);return this.active[e]=!0,this.workers.slice()},Se.prototype.release=function(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach((function(e){e.terminate()})),this.workers=null)},Se.prototype.isPreloaded=function(){return!!this.active[Re]},Se.prototype.numActive=function(){return Object.keys(this.active).length};var Be,Ue=Math.floor(e.browser.hardwareConcurrency/2);function We(){return Be||(Be=new Se),Be}function Ke(t,r){var n={};for(var i in t)"ref"!==i&&(n[i]=t[i]);return e.refProperties.forEach((function(e){e in r&&(n[e]=r[e])})),n}function je(e){e=e.slice();for(var t=Object.create(null),r=0;r<e.length;r++)t[e[r].id]=e[r];for(var n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=Ke(e[n],t[e[n].ref]));return e}Se.workerCount=Math.max(Math.min(Ue,6),1);var ze={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Fe(e,t,r){r.push({command:ze.addSource,args:[e,t[e]]})}function qe(e,t,r){t.push({command:ze.removeSource,args:[e]}),r[e]=!0}function Ne(e,t,r,n){qe(e,r,n),Fe(e,t,r)}function He(t,r,n){var i;for(i in t[n])if(t[n].hasOwnProperty(i)&&"data"!==i&&!e.deepEqual(t[n][i],r[n][i]))return!1;for(i in r[n])if(r[n].hasOwnProperty(i)&&"data"!==i&&!e.deepEqual(t[n][i],r[n][i]))return!1;return!0}function Ge(t,r,n,i,o,a){var s;for(s in r=r||{},t=t||{})t.hasOwnProperty(s)&&(e.deepEqual(t[s],r[s])||n.push({command:a,args:[i,s,r[s],o]}));for(s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(e.deepEqual(t[s],r[s])||n.push({command:a,args:[i,s,r[s],o]}))}function Ve(e){return e.id}function Ze(e,t){return e[t.id]=t,e}var Xe=function(e,t){this.reset(e,t)};Xe.prototype.reset=function(e,t){this.points=e||[],this._distances=[0];for(var r=1;r<this.points.length;r++)this._distances[r]=this._distances[r-1]+this.points[r].dist(this.points[r-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding},Xe.prototype.lerp=function(t){if(1===this.points.length)return this.points[0];t=e.clamp(t,0,1);for(var r=1,n=this._distances[r],i=t*this.paddedLength+this.padding;n<i&&r<this._distances.length;)n=this._distances[++r];var o=r-1,a=this._distances[o],s=n-a,l=s>0?(i-a)/s:0;return this.points[o].mult(1-l).add(this.points[r].mult(l))};var $e=function(e,t,r){var n=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(e/r),this.yCellCount=Math.ceil(t/r);for(var o=0;o<this.xCellCount*this.yCellCount;o++)n.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0};function Ye(t,r,n,i,o){var a=e.create();return r?(e.scale(a,a,[1/o,1/o,1]),n||e.rotateZ(a,a,i.angle)):e.multiply(a,i.labelPlaneMatrix,t),a}function Je(t,r,n,i,o){if(r){var a=e.clone(t);return e.scale(a,a,[o,o,1]),n||e.rotateZ(a,a,-i.angle),a}return i.glCoordMatrix}function Qe(t,r){var n=[t.x,t.y,0,1];ut(n,n,r);var i=n[3];return{point:new e.Point(n[0]/i,n[1]/i),signedDistanceFromCamera:i}}function et(e,t){return.5+e/t*.5}function tt(e,t){var r=e[0]/e[3],n=e[1]/e[3];return r>=-t[0]&&r<=t[0]&&n>=-t[1]&&n<=t[1]}function rt(t,r,n,i,o,a,s,l){var _=i?t.textSizeData:t.iconSizeData,u=e.evaluateSizeForZoom(_,n.transform.zoom),c=[256/n.width*2+1,256/n.height*2+1],p=i?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;p.clear();for(var d=t.lineVertexArray,h=i?t.text.placedSymbolArray:t.icon.placedSymbolArray,f=n.transform.width/n.transform.height,m=!1,y=0;y<h.length;y++){var g=h.get(y);if(g.hidden||g.writingMode===e.WritingMode.vertical&&!m)_t(g.numGlyphs,p);else{m=!1;var b=[g.anchorX,g.anchorY,0,1];if(e.transformMat4(b,b,r),tt(b,c)){var v=et(n.transform.cameraToCenterDistance,b[3]),E=e.evaluateSizeForFeature(_,u,g),O=s?E/v:E*v,M=new e.Point(g.anchorX,g.anchorY),P=Qe(M,o).point,x={},w=ot(g,O,!1,l,r,o,a,t.glyphOffsetArray,d,p,P,M,x,f);m=w.useVertical,(w.notEnoughRoom||m||w.needsFlipping&&ot(g,O,!0,l,r,o,a,t.glyphOffsetArray,d,p,P,M,x,f).notEnoughRoom)&&_t(g.numGlyphs,p)}else _t(g.numGlyphs,p)}}i?t.text.dynamicLayoutVertexBuffer.updateData(p):t.icon.dynamicLayoutVertexBuffer.updateData(p)}function nt(e,t,r,n,i,o,a,s,l,_,u){var c=s.glyphStartIndex+s.numGlyphs,p=s.lineStartIndex,d=s.lineStartIndex+s.lineLength,h=t.getoffsetX(s.glyphStartIndex),f=t.getoffsetX(c-1),m=st(e*h,r,n,i,o,a,s.segment,p,d,l,_,u);if(!m)return null;var y=st(e*f,r,n,i,o,a,s.segment,p,d,l,_,u);return y?{first:m,last:y}:null}function it(t,r,n,i){return t===e.WritingMode.horizontal&&Math.abs(n.y-r.y)>Math.abs(n.x-r.x)*i?{useVertical:!0}:(t===e.WritingMode.vertical?r.y<n.y:r.x>n.x)?{needsFlipping:!0}:null}function ot(t,r,n,i,o,a,s,l,_,u,c,p,d,h){var f,m=r/24,y=t.lineOffsetX*m,g=t.lineOffsetY*m;if(t.numGlyphs>1){var b=t.glyphStartIndex+t.numGlyphs,v=t.lineStartIndex,E=t.lineStartIndex+t.lineLength,O=nt(m,l,y,g,n,c,p,t,_,a,d);if(!O)return{notEnoughRoom:!0};var M=Qe(O.first.point,s).point,P=Qe(O.last.point,s).point;if(i&&!n){var x=it(t.writingMode,M,P,h);if(x)return x}f=[O.first];for(var w=t.glyphStartIndex+1;w<b-1;w++)f.push(st(m*l.getoffsetX(w),y,g,n,c,p,t.segment,v,E,_,a,d));f.push(O.last)}else{if(i&&!n){var C=Qe(p,o).point,D=t.lineStartIndex+t.segment+1,T=new e.Point(_.getx(D),_.gety(D)),k=Qe(T,o),A=k.signedDistanceFromCamera>0?k.point:at(p,T,C,1,o),I=it(t.writingMode,C,A,h);if(I)return I}var L=st(m*l.getoffsetX(t.glyphStartIndex),y,g,n,c,p,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,_,a,d);if(!L)return{notEnoughRoom:!0};f=[L]}for(var R=0,S=f;R<S.length;R+=1){var B=S[R];e.addDynamicAttributes(u,B.point,B.angle)}return{}}function at(e,t,r,n,i){var o=Qe(e.add(e.sub(t)._unit()),i).point,a=r.sub(o);return r.add(a._mult(n/a.mag()))}function st(t,r,n,i,o,a,s,l,_,u,c,p){var d=i?t-r:t+r,h=d>0?1:-1,f=0;i&&(h*=-1,f=Math.PI),h<0&&(f+=Math.PI);for(var m=h>0?l+s:l+s+1,y=o,g=o,b=0,v=0,E=Math.abs(d),O=[];b+v<=E;){if((m+=h)<l||m>=_)return null;if(g=y,O.push(y),void 0===(y=p[m])){var M=new e.Point(u.getx(m),u.gety(m)),P=Qe(M,c);if(P.signedDistanceFromCamera>0)y=p[m]=P.point;else{var x=m-h;y=at(0===b?a:new e.Point(u.getx(x),u.gety(x)),M,g,E-b+1,c)}}b+=v,v=g.dist(y)}var w=(E-b)/v,C=y.sub(g),D=C.mult(w)._add(g);D._add(C._unit()._perp()._mult(n*h));var T=f+Math.atan2(y.y-g.y,y.x-g.x);return O.push(D),{point:D,angle:T,path:O}}$e.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},$e.prototype.insert=function(e,t,r,n,i){this._forEachCell(t,r,n,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(i)},$e.prototype.insertCircle=function(e,t,r,n){this._forEachCell(t-n,r-n,t+n,r+n,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(r),this.circles.push(n)},$e.prototype._insertBoxCell=function(e,t,r,n,i,o){this.boxCells[i].push(o)},$e.prototype._insertCircleCell=function(e,t,r,n,i,o){this.circleCells[i].push(o)},$e.prototype._query=function(e,t,r,n,i,o){if(r<0||e>this.width||n<0||t>this.height)return!i&&[];var a=[];if(e<=0&&t<=0&&this.width<=r&&this.height<=n){if(i)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var l=0;l<this.circleKeys.length;l++){var _=this.circles[3*l],u=this.circles[3*l+1],c=this.circles[3*l+2];a.push({key:this.circleKeys[l],x1:_-c,y1:u-c,x2:_+c,y2:u+c})}return o?a.filter(o):a}return this._forEachCell(e,t,r,n,this._queryCell,a,{hitTest:i,seenUids:{box:{},circle:{}}},o),i?a.length>0:a},$e.prototype._queryCircle=function(e,t,r,n,i){var o=e-r,a=e+r,s=t-r,l=t+r;if(a<0||o>this.width||l<0||s>this.height)return!n&&[];var _=[];return this._forEachCell(o,s,a,l,this._queryCellCircle,_,{hitTest:n,circle:{x:e,y:t,radius:r},seenUids:{box:{},circle:{}}},i),n?_.length>0:_},$e.prototype.query=function(e,t,r,n,i){return this._query(e,t,r,n,!1,i)},$e.prototype.hitTest=function(e,t,r,n,i){return this._query(e,t,r,n,!0,i)},$e.prototype.hitTestCircle=function(e,t,r,n){return this._queryCircle(e,t,r,!0,n)},$e.prototype._queryCell=function(e,t,r,n,i,o,a,s){var l=a.seenUids,_=this.boxCells[i];if(null!==_)for(var u=this.bboxes,c=0,p=_;c<p.length;c+=1){var d=p[c];if(!l.box[d]){l.box[d]=!0;var h=4*d;if(e<=u[h+2]&&t<=u[h+3]&&r>=u[h+0]&&n>=u[h+1]&&(!s||s(this.boxKeys[d]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[d],x1:u[h],y1:u[h+1],x2:u[h+2],y2:u[h+3]})}}}var f=this.circleCells[i];if(null!==f)for(var m=this.circles,y=0,g=f;y<g.length;y+=1){var b=g[y];if(!l.circle[b]){l.circle[b]=!0;var v=3*b;if(this._circleAndRectCollide(m[v],m[v+1],m[v+2],e,t,r,n)&&(!s||s(this.circleKeys[b]))){if(a.hitTest)return o.push(!0),!0;var E=m[v],O=m[v+1],M=m[v+2];o.push({key:this.circleKeys[b],x1:E-M,y1:O-M,x2:E+M,y2:O+M})}}}},$e.prototype._queryCellCircle=function(e,t,r,n,i,o,a,s){var l=a.circle,_=a.seenUids,u=this.boxCells[i];if(null!==u)for(var c=this.bboxes,p=0,d=u;p<d.length;p+=1){var h=d[p];if(!_.box[h]){_.box[h]=!0;var f=4*h;if(this._circleAndRectCollide(l.x,l.y,l.radius,c[f+0],c[f+1],c[f+2],c[f+3])&&(!s||s(this.boxKeys[h])))return o.push(!0),!0}}var m=this.circleCells[i];if(null!==m)for(var y=this.circles,g=0,b=m;g<b.length;g+=1){var v=b[g];if(!_.circle[v]){_.circle[v]=!0;var E=3*v;if(this._circlesCollide(y[E],y[E+1],y[E+2],l.x,l.y,l.radius)&&(!s||s(this.circleKeys[v])))return o.push(!0),!0}}},$e.prototype._forEachCell=function(e,t,r,n,i,o,a,s){for(var l=this._convertToXCellCoord(e),_=this._convertToYCellCoord(t),u=this._convertToXCellCoord(r),c=this._convertToYCellCoord(n),p=l;p<=u;p++)for(var d=_;d<=c;d++)if(i.call(this,e,t,r,n,this.xCellCount*d+p,o,a,s))return},$e.prototype._convertToXCellCoord=function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))},$e.prototype._convertToYCellCoord=function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))},$e.prototype._circlesCollide=function(e,t,r,n,i,o){var a=n-e,s=i-t,l=r+o;return l*l>a*a+s*s},$e.prototype._circleAndRectCollide=function(e,t,r,n,i,o,a){var s=(o-n)/2,l=Math.abs(e-(n+s));if(l>s+r)return!1;var _=(a-i)/2,u=Math.abs(t-(i+_));if(u>_+r)return!1;if(l<=s||u<=_)return!0;var c=l-s,p=u-_;return c*c+p*p<=r*r};var lt=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function _t(e,t){for(var r=0;r<e;r++){var n=t.length;t.resize(n+4),t.float32.set(lt,3*n)}}function ut(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e[3]=r[3]*n+r[7]*i+r[15],e}var ct=function(e,t,r){void 0===t&&(t=new $e(e.width+200,e.height+200,25)),void 0===r&&(r=new $e(e.width+200,e.height+200,25)),this.transform=e,this.grid=t,this.ignoredGrid=r,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+100,this.screenBottomBoundary=e.height+100,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200};function pt(t,r,n){return r*(e.EXTENT/(t.tileSize*Math.pow(2,n-t.tileID.overscaledZ)))}ct.prototype.placeCollisionBox=function(e,t,r,n,i){var o=this.projectAndGetPerspectiveRatio(n,e.anchorPointX,e.anchorPointY),a=r*o.perspectiveRatio,s=e.x1*a+o.point.x,l=e.y1*a+o.point.y,_=e.x2*a+o.point.x,u=e.y2*a+o.point.y;return!this.isInsideGrid(s,l,_,u)||!t&&this.grid.hitTest(s,l,_,u,i)?{box:[],offscreen:!1}:{box:[s,l,_,u],offscreen:this.isOffscreen(s,l,_,u)}},ct.prototype.placeCollisionCircles=function(t,r,n,i,o,a,s,l,_,u,c,p,d){var h=[],f=new e.Point(r.anchorX,r.anchorY),m=Qe(f,a),y=et(this.transform.cameraToCenterDistance,m.signedDistanceFromCamera),g=(u?o/y:o*y)/e.ONE_EM,b=Qe(f,s).point,v=nt(g,i,r.lineOffsetX*g,r.lineOffsetY*g,!1,b,f,r,n,s,{}),E=!1,O=!1,M=!0;if(v){for(var P=.5*p*y+d,x=new e.Point(-100,-100),w=new e.Point(this.screenRightBoundary,this.screenBottomBoundary),C=new Xe,D=v.first,T=v.last,k=[],A=D.path.length-1;A>=1;A--)k.push(D.path[A]);for(var I=1;I<T.path.length;I++)k.push(T.path[I]);var L=2.5*P;if(l){var R=k.map((function(e){return Qe(e,l)}));k=R.some((function(e){return e.signedDistanceFromCamera<=0}))?[]:R.map((function(e){return e.point}))}var S=[];if(k.length>0){for(var B=k[0].clone(),U=k[0].clone(),W=1;W<k.length;W++)B.x=Math.min(B.x,k[W].x),B.y=Math.min(B.y,k[W].y),U.x=Math.max(U.x,k[W].x),U.y=Math.max(U.y,k[W].y);S=B.x>=x.x&&U.x<=w.x&&B.y>=x.y&&U.y<=w.y?[k]:U.x<x.x||B.x>w.x||U.y<x.y||B.y>w.y?[]:e.clipLine([k],x.x,x.y,w.x,w.y)}for(var K=0,j=S;K<j.length;K+=1){var z;C.reset(j[K],.25*P),z=C.length<=.5*P?1:Math.ceil(C.paddedLength/L)+1;for(var F=0;F<z;F++){var q=F/Math.max(z-1,1),N=C.lerp(q),H=N.x+100,G=N.y+100;h.push(H,G,P,0);var V=H-P,Z=G-P,X=H+P,$=G+P;if(M=M&&this.isOffscreen(V,Z,X,$),O=O||this.isInsideGrid(V,Z,X,$),!t&&this.grid.hitTestCircle(H,G,P,c)&&(E=!0,!_))return{circles:[],offscreen:!1,collisionDetected:E}}}}return{circles:!_&&E||!O?[]:h,offscreen:M,collisionDetected:E}},ct.prototype.queryRenderedSymbols=function(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var r=[],n=1/0,i=1/0,o=-1/0,a=-1/0,s=0,l=t;s<l.length;s+=1){var _=l[s],u=new e.Point(_.x+100,_.y+100);n=Math.min(n,u.x),i=Math.min(i,u.y),o=Math.max(o,u.x),a=Math.max(a,u.y),r.push(u)}for(var c={},p={},d=0,h=this.grid.query(n,i,o,a).concat(this.ignoredGrid.query(n,i,o,a));d<h.length;d+=1){var f=h[d],m=f.key;if(void 0===c[m.bucketInstanceId]&&(c[m.bucketInstanceId]={}),!c[m.bucketInstanceId][m.featureIndex]){var y=[new e.Point(f.x1,f.y1),new e.Point(f.x2,f.y1),new e.Point(f.x2,f.y2),new e.Point(f.x1,f.y2)];e.polygonIntersectsPolygon(r,y)&&(c[m.bucketInstanceId][m.featureIndex]=!0,void 0===p[m.bucketInstanceId]&&(p[m.bucketInstanceId]=[]),p[m.bucketInstanceId].push(m.featureIndex))}}return p},ct.prototype.insertCollisionBox=function(e,t,r,n,i){(t?this.ignoredGrid:this.grid).insert({bucketInstanceId:r,featureIndex:n,collisionGroupID:i},e[0],e[1],e[2],e[3])},ct.prototype.insertCollisionCircles=function(e,t,r,n,i){for(var o=t?this.ignoredGrid:this.grid,a={bucketInstanceId:r,featureIndex:n,collisionGroupID:i},s=0;s<e.length;s+=4)o.insertCircle(a,e[s],e[s+1],e[s+2])},ct.prototype.projectAndGetPerspectiveRatio=function(t,r,n){var i=[r,n,0,1];return ut(i,i,t),{point:new e.Point((i[0]/i[3]+1)/2*this.transform.width+100,(-i[1]/i[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/i[3]*.5}},ct.prototype.isOffscreen=function(e,t,r,n){return r<100||e>=this.screenRightBoundary||n<100||t>this.screenBottomBoundary},ct.prototype.isInsideGrid=function(e,t,r,n){return r>=0&&e<this.gridRightBoundary&&n>=0&&t<this.gridBottomBoundary},ct.prototype.getViewportMatrix=function(){var t=e.identity([]);return e.translate(t,t,[-100,-100,0]),t};var dt=function(e,t,r,n){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):n&&r?1:0,this.placed=r};dt.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var ht=function(e,t,r,n,i){this.text=new dt(e?e.text:null,t,r,i),this.icon=new dt(e?e.icon:null,t,n,i)};ht.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var ft=function(e,t,r){this.text=e,this.icon=t,this.skipFade=r},mt=function(){this.invProjMatrix=e.create(),this.viewportMatrix=e.create(),this.circles=[]},yt=function(e,t,r,n,i){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=r,this.bucketIndex=n,this.tileID=i},gt=function(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}};function bt(t,r,n,i,o){var a=e.getAnchorAlignment(t),s=-(a.horizontalAlign-.5)*r,l=-(a.verticalAlign-.5)*n,_=e.evaluateVariableOffset(t,i);return new e.Point(s+_[0]*o,l+_[1]*o)}function vt(t,r,n,i,o,a){var s=t.x1,l=t.x2,_=t.y1,u=t.y2,c=t.anchorPointX,p=t.anchorPointY,d=new e.Point(r,n);return i&&d._rotate(o?a:-a),{x1:s+d.x,y1:_+d.y,x2:l+d.x,y2:u+d.y,anchorPointX:c,anchorPointY:p}}gt.prototype.get=function(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){var t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:function(e){return e.collisionGroupID===t}}}return this.collisionGroups[e]};var Et=function(e,t,r,n){this.transform=e.clone(),this.collisionIndex=new ct(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new gt(r),this.collisionCircleArrays={},this.prevPlacement=n,n&&(n.prevPlacement=void 0),this.placedOrientations={}};function Ot(e,t,r,n,i){e.emplaceBack(t?1:0,r?1:0,n||0,i||0),e.emplaceBack(t?1:0,r?1:0,n||0,i||0),e.emplaceBack(t?1:0,r?1:0,n||0,i||0),e.emplaceBack(t?1:0,r?1:0,n||0,i||0)}Et.prototype.getBucketParts=function(t,r,n,i){var o=n.getBucket(r),a=n.latestFeatureIndex;if(o&&a&&r.id===o.layerIds[0]){var s=n.collisionBoxArray,l=o.layers[0].layout,_=Math.pow(2,this.transform.zoom-n.tileID.overscaledZ),u=n.tileSize/e.EXTENT,c=this.transform.calculatePosMatrix(n.tileID.toUnwrapped()),p="map"===l.get("text-pitch-alignment"),d="map"===l.get("text-rotation-alignment"),h=pt(n,1,this.transform.zoom),f=Ye(c,p,d,this.transform,h),m=null;if(p){var y=Je(c,p,d,this.transform,h);m=e.multiply([],this.transform.labelPlaneMatrix,y)}this.retainedQueryData[o.bucketInstanceId]=new yt(o.bucketInstanceId,a,o.sourceLayerIndex,o.index,n.tileID);var g={bucket:o,layout:l,posMatrix:c,textLabelPlaneMatrix:f,labelToScreenMatrix:m,scale:_,textPixelRatio:u,holdingForFade:n.holdingForFade(),collisionBoxArray:s,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(o.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(o.sourceID)};if(i)for(var b=0,v=o.sortKeyRanges;b<v.length;b+=1){var E=v[b];t.push({sortKey:E.sortKey,symbolInstanceStart:E.symbolInstanceStart,symbolInstanceEnd:E.symbolInstanceEnd,parameters:g})}else t.push({symbolInstanceStart:0,symbolInstanceEnd:o.symbolInstances.length,parameters:g})}},Et.prototype.attemptAnchorPlacement=function(e,t,r,n,i,o,a,s,l,_,u,c,p,d,h){var f,m=[c.textOffset0,c.textOffset1],y=bt(e,r,n,m,i),g=this.collisionIndex.placeCollisionBox(vt(t,y.x,y.y,o,a,this.transform.angle),u,s,l,_.predicate);if(!h||0!==this.collisionIndex.placeCollisionBox(vt(h,y.x,y.y,o,a,this.transform.angle),u,s,l,_.predicate).box.length)return g.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[c.crossTileID]&&this.prevPlacement.placements[c.crossTileID]&&this.prevPlacement.placements[c.crossTileID].text&&(f=this.prevPlacement.variableOffsets[c.crossTileID].anchor),this.variableOffsets[c.crossTileID]={textOffset:m,width:r,height:n,anchor:e,textBoxScale:i,prevAnchor:f},this.markUsedJustification(p,e,c,d),p.allowVerticalPlacement&&(this.markUsedOrientation(p,d,c),this.placedOrientations[c.crossTileID]=d),{shift:y,placedGlyphBoxes:g}):void 0},Et.prototype.placeLayerBucketPart=function(t,r,n){var i=this,o=t.parameters,a=o.bucket,s=o.layout,l=o.posMatrix,_=o.textLabelPlaneMatrix,u=o.labelToScreenMatrix,c=o.textPixelRatio,p=o.holdingForFade,d=o.collisionBoxArray,h=o.partiallyEvaluatedTextSize,f=o.collisionGroup,m=s.get("text-optional"),y=s.get("icon-optional"),g=s.get("text-allow-overlap"),b=s.get("icon-allow-overlap"),v="map"===s.get("text-rotation-alignment"),E="map"===s.get("text-pitch-alignment"),O="none"!==s.get("icon-text-fit"),M="viewport-y"===s.get("symbol-z-order"),P=g&&(b||!a.hasIconData()||y),x=b&&(g||!a.hasTextData()||m);!a.collisionArrays&&d&&a.deserializeCollisionBoxes(d);var w=function(t,o){if(!r[t.crossTileID])if(p)i.placements[t.crossTileID]=new ft(!1,!1,!1);else{var d,M=!1,w=!1,C=!0,D=null,T={box:null,offscreen:null},k={box:null,offscreen:null},A=null,I=null,L=0,R=0,S=0;o.textFeatureIndex?L=o.textFeatureIndex:t.useRuntimeCollisionCircles&&(L=t.featureIndex),o.verticalTextFeatureIndex&&(R=o.verticalTextFeatureIndex);var B=o.textBox;if(B){var U=function(r){var n=e.WritingMode.horizontal;if(a.allowVerticalPlacement&&!r&&i.prevPlacement){var o=i.prevPlacement.placedOrientations[t.crossTileID];o&&(i.placedOrientations[t.crossTileID]=o,i.markUsedOrientation(a,n=o,t))}return n},W=function(r,n){if(a.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&o.verticalTextBox)for(var i=0,s=a.writingModes;i<s.length&&(s[i]===e.WritingMode.vertical?(T=n(),k=T):T=r(),!(T&&T.box&&T.box.length));i+=1);else T=r()};if(s.get("text-variable-anchor")){var K=s.get("text-variable-anchor");if(i.prevPlacement&&i.prevPlacement.variableOffsets[t.crossTileID]){var j=i.prevPlacement.variableOffsets[t.crossTileID];K.indexOf(j.anchor)>0&&(K=K.filter((function(e){return e!==j.anchor}))).unshift(j.anchor)}var z=function(e,r,n){for(var o=e.x2-e.x1,s=e.y2-e.y1,_=t.textBoxScale,u=O&&!b?r:null,p={box:[],offscreen:!1},d=g?2*K.length:K.length,h=0;h<d;++h){var m=i.attemptAnchorPlacement(K[h%K.length],e,o,s,_,v,E,c,l,f,h>=K.length,t,a,n,u);if(m&&(p=m.placedGlyphBoxes)&&p.box&&p.box.length){M=!0,D=m.shift;break}}return p};W((function(){return z(B,o.iconBox,e.WritingMode.horizontal)}),(function(){var r=o.verticalTextBox;return a.allowVerticalPlacement&&!(T&&T.box&&T.box.length)&&t.numVerticalGlyphVertices>0&&r?z(r,o.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null}})),T&&(M=T.box,C=T.offscreen);var F=U(T&&T.box);if(!M&&i.prevPlacement){var q=i.prevPlacement.variableOffsets[t.crossTileID];q&&(i.variableOffsets[t.crossTileID]=q,i.markUsedJustification(a,q.anchor,t,F))}}else{var N=function(e,r){var n=i.collisionIndex.placeCollisionBox(e,g,c,l,f.predicate);return n&&n.box&&n.box.length&&(i.markUsedOrientation(a,r,t),i.placedOrientations[t.crossTileID]=r),n};W((function(){return N(B,e.WritingMode.horizontal)}),(function(){var r=o.verticalTextBox;return a.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&r?N(r,e.WritingMode.vertical):{box:null,offscreen:null}})),U(T&&T.box&&T.box.length)}}if(M=(d=T)&&d.box&&d.box.length>0,C=d&&d.offscreen,t.useRuntimeCollisionCircles){var H=a.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex),G=e.evaluateSizeForFeature(a.textSizeData,h,H),V=s.get("text-padding");A=i.collisionIndex.placeCollisionCircles(g,H,a.lineVertexArray,a.glyphOffsetArray,G,l,_,u,n,E,f.predicate,t.collisionCircleDiameter,V),M=g||A.circles.length>0&&!A.collisionDetected,C=C&&A.offscreen}if(o.iconFeatureIndex&&(S=o.iconFeatureIndex),o.iconBox){var Z=function(e){var t=O&&D?vt(e,D.x,D.y,v,E,i.transform.angle):e;return i.collisionIndex.placeCollisionBox(t,b,c,l,f.predicate)};w=k&&k.box&&k.box.length&&o.verticalIconBox?(I=Z(o.verticalIconBox)).box.length>0:(I=Z(o.iconBox)).box.length>0,C=C&&I.offscreen}var X=m||0===t.numHorizontalGlyphVertices&&0===t.numVerticalGlyphVertices,$=y||0===t.numIconVertices;if(X||$?$?X||(w=w&&M):M=w&&M:w=M=w&&M,M&&d&&d.box&&i.collisionIndex.insertCollisionBox(d.box,s.get("text-ignore-placement"),a.bucketInstanceId,k&&k.box&&R?R:L,f.ID),w&&I&&i.collisionIndex.insertCollisionBox(I.box,s.get("icon-ignore-placement"),a.bucketInstanceId,S,f.ID),A&&(M&&i.collisionIndex.insertCollisionCircles(A.circles,s.get("text-ignore-placement"),a.bucketInstanceId,L,f.ID),n)){var Y=a.bucketInstanceId,J=i.collisionCircleArrays[Y];void 0===J&&(J=i.collisionCircleArrays[Y]=new mt);for(var Q=0;Q<A.circles.length;Q+=4)J.circles.push(A.circles[Q+0]),J.circles.push(A.circles[Q+1]),J.circles.push(A.circles[Q+2]),J.circles.push(A.collisionDetected?1:0)}i.placements[t.crossTileID]=new ft(M||P,w||x,C||a.justReloaded),r[t.crossTileID]=!0}};if(M)for(var C=a.getSortedSymbolIndexes(this.transform.angle),D=C.length-1;D>=0;--D){var T=C[D];w(a.symbolInstances.get(T),a.collisionArrays[T])}else for(var k=t.symbolInstanceStart;k<t.symbolInstanceEnd;k++)w(a.symbolInstances.get(k),a.collisionArrays[k]);if(n&&a.bucketInstanceId in this.collisionCircleArrays){var A=this.collisionCircleArrays[a.bucketInstanceId];e.invert(A.invProjMatrix,l),A.viewportMatrix=this.collisionIndex.getViewportMatrix()}a.justReloaded=!1},Et.prototype.markUsedJustification=function(t,r,n,i){var o;o=i===e.WritingMode.vertical?n.verticalPlacedTextSymbolIndex:{left:n.leftJustifiedTextSymbolIndex,center:n.centerJustifiedTextSymbolIndex,right:n.rightJustifiedTextSymbolIndex}[e.getAnchorJustification(r)];for(var a=0,s=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex,n.verticalPlacedTextSymbolIndex];a<s.length;a+=1){var l=s[a];l>=0&&(t.text.placedSymbolArray.get(l).crossTileID=o>=0&&l!==o?0:n.crossTileID)}},Et.prototype.markUsedOrientation=function(t,r,n){for(var i=r===e.WritingMode.horizontal||r===e.WritingMode.horizontalOnly?r:0,o=r===e.WritingMode.vertical?r:0,a=0,s=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex];a<s.length;a+=1)t.text.placedSymbolArray.get(s[a]).placedOrientation=i;n.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(n.verticalPlacedTextSymbolIndex).placedOrientation=o)},Et.prototype.commit=function(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;var t=this.prevPlacement,r=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;var n=t?t.symbolFadeChange(e):1,i=t?t.opacities:{},o=t?t.variableOffsets:{},a=t?t.placedOrientations:{};for(var s in this.placements){var l=this.placements[s],_=i[s];_?(this.opacities[s]=new ht(_,n,l.text,l.icon),r=r||l.text!==_.text.placed||l.icon!==_.icon.placed):(this.opacities[s]=new ht(null,n,l.text,l.icon,l.skipFade),r=r||l.text||l.icon)}for(var u in i){var c=i[u];if(!this.opacities[u]){var p=new ht(c,n,!1,!1);p.isHidden()||(this.opacities[u]=p,r=r||c.text.placed||c.icon.placed)}}for(var d in o)this.variableOffsets[d]||!this.opacities[d]||this.opacities[d].isHidden()||(this.variableOffsets[d]=o[d]);for(var h in a)this.placedOrientations[h]||!this.opacities[h]||this.opacities[h].isHidden()||(this.placedOrientations[h]=a[h]);r?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)},Et.prototype.updateLayerOpacities=function(e,t){for(var r={},n=0,i=t;n<i.length;n+=1){var o=i[n],a=o.getBucket(e);a&&o.latestFeatureIndex&&e.id===a.layerIds[0]&&this.updateBucketOpacities(a,r,o.collisionBoxArray)}},Et.prototype.updateBucketOpacities=function(t,r,n){var i=this;t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();var o=t.layers[0].layout,a=new ht(null,0,!1,!1,!0),s=o.get("text-allow-overlap"),l=o.get("icon-allow-overlap"),_=o.get("text-variable-anchor"),u="map"===o.get("text-rotation-alignment"),c="map"===o.get("text-pitch-alignment"),p="none"!==o.get("icon-text-fit"),d=new ht(null,0,s&&(l||!t.hasIconData()||o.get("icon-optional")),l&&(s||!t.hasTextData()||o.get("text-optional")),!0);!t.collisionArrays&&n&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(n);for(var h=function(e,t,r){for(var n=0;n<t/4;n++)e.opacityVertexArray.emplaceBack(r)},f=function(n){var o=t.symbolInstances.get(n),s=o.numHorizontalGlyphVertices,l=o.numVerticalGlyphVertices,f=o.crossTileID,m=i.opacities[f];r[f]?m=a:m||(i.opacities[f]=m=d),r[f]=!0;var y=o.numIconVertices>0,g=i.placedOrientations[o.crossTileID],b=g===e.WritingMode.vertical,v=g===e.WritingMode.horizontal||g===e.WritingMode.horizontalOnly;if(s>0||l>0){var E=kt(m.text);h(t.text,s,b?At:E),h(t.text,l,v?At:E);var O=m.text.isHidden();[o.rightJustifiedTextSymbolIndex,o.centerJustifiedTextSymbolIndex,o.leftJustifiedTextSymbolIndex].forEach((function(e){e>=0&&(t.text.placedSymbolArray.get(e).hidden=O||b?1:0)})),o.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(o.verticalPlacedTextSymbolIndex).hidden=O||v?1:0);var M=i.variableOffsets[o.crossTileID];M&&i.markUsedJustification(t,M.anchor,o,g);var P=i.placedOrientations[o.crossTileID];P&&(i.markUsedJustification(t,"left",o,P),i.markUsedOrientation(t,P,o))}if(y){var x=kt(m.icon),w=!(p&&o.verticalPlacedIconSymbolIndex&&b);o.placedIconSymbolIndex>=0&&(h(t.icon,o.numIconVertices,w?x:At),t.icon.placedSymbolArray.get(o.placedIconSymbolIndex).hidden=m.icon.isHidden()),o.verticalPlacedIconSymbolIndex>=0&&(h(t.icon,o.numVerticalIconVertices,w?At:x),t.icon.placedSymbolArray.get(o.verticalPlacedIconSymbolIndex).hidden=m.icon.isHidden())}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){var C=t.collisionArrays[n];if(C){var D=new e.Point(0,0);if(C.textBox||C.verticalTextBox){var T=!0;if(_){var k=i.variableOffsets[f];k?(D=bt(k.anchor,k.width,k.height,k.textOffset,k.textBoxScale),u&&D._rotate(c?i.transform.angle:-i.transform.angle)):T=!1}C.textBox&&Ot(t.textCollisionBox.collisionVertexArray,m.text.placed,!T||b,D.x,D.y),C.verticalTextBox&&Ot(t.textCollisionBox.collisionVertexArray,m.text.placed,!T||v,D.x,D.y)}var A=Boolean(!v&&C.verticalIconBox);C.iconBox&&Ot(t.iconCollisionBox.collisionVertexArray,m.icon.placed,A,p?D.x:0,p?D.y:0),C.verticalIconBox&&Ot(t.iconCollisionBox.collisionVertexArray,m.icon.placed,!A,p?D.x:0,p?D.y:0)}}},m=0;m<t.symbolInstances.length;m++)f(m);if(t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.bucketInstanceId in this.collisionCircleArrays){var y=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=y.invProjMatrix,t.placementViewportMatrix=y.viewportMatrix,t.collisionCircleArray=y.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}},Et.prototype.symbolFadeChange=function(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Et.prototype.zoomAdjustment=function(e){return Math.max(0,(this.transform.zoom-e)/1.5)},Et.prototype.hasTransitions=function(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration},Et.prototype.stillRecent=function(e,t){var r=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*r>e},Et.prototype.setStale=function(){this.stale=!0};var Mt=Math.pow(2,25),Pt=Math.pow(2,24),xt=Math.pow(2,17),wt=Math.pow(2,16),Ct=Math.pow(2,9),Dt=Math.pow(2,8),Tt=Math.pow(2,1);function kt(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;var t=e.placed?1:0,r=Math.floor(127*e.opacity);return r*Mt+t*Pt+r*xt+t*wt+r*Ct+t*Dt+r*Tt+t}var At=0,It=function(e){this._sortAcrossTiles="viewport-y"!==e.layout.get("symbol-z-order")&&void 0!==e.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};It.prototype.continuePlacement=function(e,t,r,n,i){for(var o=this._bucketParts;this._currentTileIndex<e.length;)if(t.getBucketParts(o,n,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,i())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,o.sort((function(e,t){return e.sortKey-t.sortKey})));this._currentPartIndex<o.length;)if(t.placeLayerBucketPart(o[this._currentPartIndex],this._seenCrossTileIDs,r),this._currentPartIndex++,i())return!0;return!1};var Lt=function(e,t,r,n,i,o,a){this.placement=new Et(e,i,o,a),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=r,this._showCollisionBoxes=n,this._done=!1};Lt.prototype.isDone=function(){return this._done},Lt.prototype.continuePlacement=function(t,r,n){for(var i=this,o=e.browser.now(),a=function(){var t=e.browser.now()-o;return!i._forceFullPlacement&&t>2};this._currentPlacementIndex>=0;){var s=r[t[this._currentPlacementIndex]],l=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=l)&&(!s.maxzoom||s.maxzoom>l)){if(this._inProgressLayer||(this._inProgressLayer=new It(s)),this._inProgressLayer.continuePlacement(n[s.source],this.placement,this._showCollisionBoxes,s,a))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Lt.prototype.commit=function(e){return this.placement.commit(e),this.placement};var Rt=512/e.EXTENT/2,St=function(e,t,r){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=r;for(var n=0;n<t.length;n++){var i=t.get(n),o=i.key;this.indexedSymbolInstances[o]||(this.indexedSymbolInstances[o]=[]),this.indexedSymbolInstances[o].push({crossTileID:i.crossTileID,coord:this.getScaledCoordinates(i,e)})}};St.prototype.getScaledCoordinates=function(t,r){var n=Rt/Math.pow(2,r.canonical.z-this.tileID.canonical.z);return{x:Math.floor((r.canonical.x*e.EXTENT+t.anchorX)*n),y:Math.floor((r.canonical.y*e.EXTENT+t.anchorY)*n)}},St.prototype.findMatches=function(e,t,r){for(var n=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z),i=0;i<e.length;i++){var o=e.get(i);if(!o.crossTileID){var a=this.indexedSymbolInstances[o.key];if(a)for(var s=this.getScaledCoordinates(o,t),l=0,_=a;l<_.length;l+=1){var u=_[l];if(Math.abs(u.coord.x-s.x)<=n&&Math.abs(u.coord.y-s.y)<=n&&!r[u.crossTileID]){r[u.crossTileID]=!0,o.crossTileID=u.crossTileID;break}}}}};var Bt=function(){this.maxCrossTileID=0};Bt.prototype.generate=function(){return++this.maxCrossTileID};var Ut=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Ut.prototype.handleWrapJump=function(e){var t=Math.round((e-this.lng)/360);if(0!==t)for(var r in this.indexes){var n=this.indexes[r],i={};for(var o in n){var a=n[o];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+t),i[a.tileID.key]=a}this.indexes[r]=i}this.lng=e},Ut.prototype.addBucket=function(e,t,r){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(var n=0;n<t.symbolInstances.length;n++)t.symbolInstances.get(n).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});var i=this.usedCrossTileIDs[e.overscaledZ];for(var o in this.indexes){var a=this.indexes[o];if(Number(o)>e.overscaledZ)for(var s in a){var l=a[s];l.tileID.isChildOf(e)&&l.findMatches(t.symbolInstances,e,i)}else{var _=a[e.scaledTo(Number(o)).key];_&&_.findMatches(t.symbolInstances,e,i)}}for(var u=0;u<t.symbolInstances.length;u++){var c=t.symbolInstances.get(u);c.crossTileID||(c.crossTileID=r.generate(),i[c.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new St(e,t.symbolInstances,t.bucketInstanceId),!0},Ut.prototype.removeBucketCrossTileIDs=function(e,t){for(var r in t.indexedSymbolInstances)for(var n=0,i=t.indexedSymbolInstances[r];n<i.length;n+=1)delete this.usedCrossTileIDs[e][i[n].crossTileID]},Ut.prototype.removeStaleBuckets=function(e){var t=!1;for(var r in this.indexes){var n=this.indexes[r];for(var i in n)e[n[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(r,n[i]),delete n[i],t=!0)}return t};var Wt=function(){this.layerIndexes={},this.crossTileIDs=new Bt,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Wt.prototype.addLayer=function(e,t,r){var n=this.layerIndexes[e.id];void 0===n&&(n=this.layerIndexes[e.id]=new Ut);var i=!1,o={};n.handleWrapJump(r);for(var a=0,s=t;a<s.length;a+=1){var l=s[a],_=l.getBucket(e);_&&e.id===_.layerIds[0]&&(_.bucketInstanceId||(_.bucketInstanceId=++this.maxBucketInstanceId),n.addBucket(l.tileID,_,this.crossTileIDs)&&(i=!0),o[_.bucketInstanceId]=!0)}return n.removeStaleBuckets(o)&&(i=!0),i},Wt.prototype.pruneUnusedLayers=function(e){var t={};for(var r in e.forEach((function(e){t[e]=!0})),this.layerIndexes)t[r]||delete this.layerIndexes[r]};var Kt=function(t,r){return e.emitValidationErrors(t,r&&r.filter((function(e){return"source.canvas"!==e.identifier})))},jt=e.pick(ze,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),zt=e.pick(ze,["setCenter","setZoom","setBearing","setPitch"]),Ft=function(){var t={},r=e.styleSpec.$version;for(var n in e.styleSpec.$root){var i,o=e.styleSpec.$root[n];o.required&&null!=(i="version"===n?r:"array"===o.type?[]:{})&&(t[n]=i)}return t}(),qt=function(t){function r(n,i){var o=this;void 0===i&&(i={}),t.call(this),this.map=n,this.dispatcher=new P(We(),this),this.imageManager=new p,this.imageManager.setEventedParent(this),this.glyphManager=new b(n._requestManager,i.localIdeographFontFamily),this.lineAtlas=new M(256,512),this.crossTileSymbolIndex=new Wt,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new e.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",e.getReferrer());var a=this;this._rtlTextPluginCallback=r.registerForPluginStateChange((function(t){a.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},(function(t,r){if(e.triggerPluginCompletionEvent(t),r&&r.every((function(e){return e})))for(var n in a.sourceCaches)a.sourceCaches[n].reload()}))})),this.on("data",(function(e){if("source"===e.dataType&&"metadata"===e.sourceDataType){var t=o.sourceCaches[e.sourceId];if(t){var r=t.getSource();if(r&&r.vectorLayerIds)for(var n in o._layers){var i=o._layers[n];i.source===r.id&&o._validateLayer(i)}}}}))}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.loadURL=function(t,r){var n=this;void 0===r&&(r={}),this.fire(new e.Event("dataloading",{dataType:"style"}));var i="boolean"==typeof r.validate?r.validate:!e.isMapboxURL(t);t=this.map._requestManager.normalizeStyleURL(t,r.accessToken);var o=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(o,(function(t,r){n._request=null,t?n.fire(new e.ErrorEvent(t)):r&&n._load(r,i)}))},r.prototype.loadJSON=function(t,r){var n=this;void 0===r&&(r={}),this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.browser.frame((function(){n._request=null,n._load(t,!1!==r.validate)}))},r.prototype.loadEmpty=function(){this.fire(new e.Event("dataloading",{dataType:"style"})),this._load(Ft,!1)},r.prototype._load=function(t,r){if(!r||!Kt(this,e.validateStyle(t))){for(var n in this._loaded=!0,this.stylesheet=t,t.sources)this.addSource(n,t.sources[n],{validate:!1});t.sprite?this._loadSprite(t.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(t.glyphs);var i=je(this.stylesheet.layers);this._order=i.map((function(e){return e.id})),this._layers={},this._serializedLayers={};for(var o=0,a=i;o<a.length;o+=1){var s=a[o];(s=e.createStyleLayer(s)).setEventedParent(this,{layer:{id:s.id}}),this._layers[s.id]=s,this._serializedLayers[s.id]=s.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new O(this.stylesheet.light),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}},r.prototype._loadSprite=function(t){var r=this;this._spriteRequest=function(t,r,n){var i,o,a,s=e.browser.devicePixelRatio>1?"@2x":"",l=e.getJSON(r.transformRequest(r.normalizeSpriteURL(t,s,".json"),e.ResourceType.SpriteJSON),(function(e,t){l=null,a||(a=e,i=t,u())})),_=e.getImage(r.transformRequest(r.normalizeSpriteURL(t,s,".png"),e.ResourceType.SpriteImage),(function(e,t){_=null,a||(a=e,o=t,u())}));function u(){if(a)n(a);else if(i&&o){var t=e.browser.getImageData(o),r={};for(var s in i){var l=i[s],_=l.width,u=l.height,c=l.x,p=l.y,d=l.sdf,h=l.pixelRatio,f=l.stretchX,m=l.stretchY,y=l.content,g=new e.RGBAImage({width:_,height:u});e.RGBAImage.copy(t,g,{x:c,y:p},{x:0,y:0},{width:_,height:u}),r[s]={data:g,pixelRatio:h,sdf:d,stretchX:f,stretchY:m,content:y}}n(null,r)}}return{cancel:function(){l&&(l.cancel(),l=null),_&&(_.cancel(),_=null)}}}(t,this.map._requestManager,(function(t,n){if(r._spriteRequest=null,t)r.fire(new e.ErrorEvent(t));else if(n)for(var i in n)r.imageManager.addImage(i,n[i]);r.imageManager.setLoaded(!0),r._availableImages=r.imageManager.listImages(),r.dispatcher.broadcast("setImages",r._availableImages),r.fire(new e.Event("data",{dataType:"style"}))}))},r.prototype._validateLayer=function(t){var r=this.sourceCaches[t.source];if(r){var n=t.sourceLayer;if(n){var i=r.getSource();("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(n))&&this.fire(new e.ErrorEvent(new Error('Source layer "'+n+'" does not exist on source "'+i.id+'" as specified by style layer "'+t.id+'"')))}}},r.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()},r.prototype._serializeLayers=function(e){for(var t=[],r=0,n=e;r<n.length;r+=1){var i=this._layers[n[r]];"custom"!==i.type&&t.push(i.serialize())}return t},r.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var e in this.sourceCaches)if(this.sourceCaches[e].hasTransition())return!0;for(var t in this._layers)if(this._layers[t].hasTransition())return!0;return!1},r.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},r.prototype.update=function(t){if(this._loaded){var r=this._changed;if(this._changed){var n=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);for(var o in(n.length||i.length)&&this._updateWorkerLayers(n,i),this._updatedSources){var a=this._updatedSources[o];"reload"===a?this._reloadSource(o):"clear"===a&&this._clearSource(o)}for(var s in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[s].updateTransitions(t);this.light.updateTransitions(t),this._resetUpdates()}var l={};for(var _ in this.sourceCaches){var u=this.sourceCaches[_];l[_]=u.used,u.used=!1}for(var c=0,p=this._order;c<p.length;c+=1){var d=this._layers[p[c]];d.recalculate(t,this._availableImages),!d.isHidden(t.zoom)&&d.source&&(this.sourceCaches[d.source].used=!0)}for(var h in l){var f=this.sourceCaches[h];l[h]!==f.used&&f.fire(new e.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:h}))}this.light.recalculate(t),this.z=t.zoom,r&&this.fire(new e.Event("data",{dataType:"style"}))}},r.prototype._updateTilesForChangedImages=function(){var e=Object.keys(this._changedImages);if(e.length){for(var t in this.sourceCaches)this.sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}},r.prototype._updateWorkerLayers=function(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})},r.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},r.prototype.setState=function(t){var r=this;if(this._checkLoaded(),Kt(this,e.validateStyle(t)))return!1;(t=e.clone$1(t)).layers=je(t.layers);var n=function(t,r){if(!t)return[{command:ze.setStyle,args:[r]}];var n=[];try{if(!e.deepEqual(t.version,r.version))return[{command:ze.setStyle,args:[r]}];e.deepEqual(t.center,r.center)||n.push({command:ze.setCenter,args:[r.center]}),e.deepEqual(t.zoom,r.zoom)||n.push({command:ze.setZoom,args:[r.zoom]}),e.deepEqual(t.bearing,r.bearing)||n.push({command:ze.setBearing,args:[r.bearing]}),e.deepEqual(t.pitch,r.pitch)||n.push({command:ze.setPitch,args:[r.pitch]}),e.deepEqual(t.sprite,r.sprite)||n.push({command:ze.setSprite,args:[r.sprite]}),e.deepEqual(t.glyphs,r.glyphs)||n.push({command:ze.setGlyphs,args:[r.glyphs]}),e.deepEqual(t.transition,r.transition)||n.push({command:ze.setTransition,args:[r.transition]}),e.deepEqual(t.light,r.light)||n.push({command:ze.setLight,args:[r.light]});var i={},o=[];!function(t,r,n,i){var o;for(o in r=r||{},t=t||{})t.hasOwnProperty(o)&&(r.hasOwnProperty(o)||qe(o,n,i));for(o in r)r.hasOwnProperty(o)&&(t.hasOwnProperty(o)?e.deepEqual(t[o],r[o])||("geojson"===t[o].type&&"geojson"===r[o].type&&He(t,r,o)?n.push({command:ze.setGeoJSONSourceData,args:[o,r[o].data]}):Ne(o,r,n,i)):Fe(o,r,n))}(t.sources,r.sources,o,i);var a=[];t.layers&&t.layers.forEach((function(e){i[e.source]?n.push({command:ze.removeLayer,args:[e.id]}):a.push(e)})),n=n.concat(o),function(t,r,n){r=r||[];var i,o,a,s,l,_,u,c=(t=t||[]).map(Ve),p=r.map(Ve),d=t.reduce(Ze,{}),h=r.reduce(Ze,{}),f=c.slice(),m=Object.create(null);for(i=0,o=0;i<c.length;i++)h.hasOwnProperty(a=c[i])?o++:(n.push({command:ze.removeLayer,args:[a]}),f.splice(f.indexOf(a,o),1));for(i=0,o=0;i<p.length;i++)f[f.length-1-i]!==(a=p[p.length-1-i])&&(d.hasOwnProperty(a)?(n.push({command:ze.removeLayer,args:[a]}),f.splice(f.lastIndexOf(a,f.length-o),1)):o++,n.push({command:ze.addLayer,args:[h[a],_=f[f.length-i]]}),f.splice(f.length-i,0,a),m[a]=!0);for(i=0;i<p.length;i++)if(s=d[a=p[i]],l=h[a],!m[a]&&!e.deepEqual(s,l))if(e.deepEqual(s.source,l.source)&&e.deepEqual(s["source-layer"],l["source-layer"])&&e.deepEqual(s.type,l.type)){for(u in Ge(s.layout,l.layout,n,a,null,ze.setLayoutProperty),Ge(s.paint,l.paint,n,a,null,ze.setPaintProperty),e.deepEqual(s.filter,l.filter)||n.push({command:ze.setFilter,args:[a,l.filter]}),e.deepEqual(s.minzoom,l.minzoom)&&e.deepEqual(s.maxzoom,l.maxzoom)||n.push({command:ze.setLayerZoomRange,args:[a,l.minzoom,l.maxzoom]}),s)s.hasOwnProperty(u)&&"layout"!==u&&"paint"!==u&&"filter"!==u&&"metadata"!==u&&"minzoom"!==u&&"maxzoom"!==u&&(0===u.indexOf("paint.")?Ge(s[u],l[u],n,a,u.slice(6),ze.setPaintProperty):e.deepEqual(s[u],l[u])||n.push({command:ze.setLayerProperty,args:[a,u,l[u]]}));for(u in l)l.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&"layout"!==u&&"paint"!==u&&"filter"!==u&&"metadata"!==u&&"minzoom"!==u&&"maxzoom"!==u&&(0===u.indexOf("paint.")?Ge(s[u],l[u],n,a,u.slice(6),ze.setPaintProperty):e.deepEqual(s[u],l[u])||n.push({command:ze.setLayerProperty,args:[a,u,l[u]]}))}else n.push({command:ze.removeLayer,args:[a]}),_=f[f.lastIndexOf(a)+1],n.push({command:ze.addLayer,args:[l,_]})}(a,r.layers,n)}catch(e){console.warn("Unable to compute style diff:",e),n=[{command:ze.setStyle,args:[r]}]}return n}(this.serialize(),t).filter((function(e){return!(e.command in zt)}));if(0===n.length)return!1;var i=n.filter((function(e){return!(e.command in jt)}));if(i.length>0)throw new Error("Unimplemented: "+i.map((function(e){return e.command})).join(", ")+".");return n.forEach((function(e){"setTransition"!==e.command&&r[e.command].apply(r,e.args)})),this.stylesheet=t,!0},r.prototype.addImage=function(t,r){if(this.getImage(t))return this.fire(new e.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(t,r),this._afterImageUpdated(t)},r.prototype.updateImage=function(e,t){this.imageManager.updateImage(e,t)},r.prototype.getImage=function(e){return this.imageManager.getImage(e)},r.prototype.removeImage=function(t){if(!this.getImage(t))return this.fire(new e.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(t),this._afterImageUpdated(t)},r.prototype._afterImageUpdated=function(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))},r.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},r.prototype.addSource=function(t,r,n){var i=this;if(void 0===n&&(n={}),this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error("There is already a source with this ID");if(!r.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(r).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(r.type)>=0&&this._validate(e.validateStyle.source,"sources."+t,r,null,n))){this.map&&this.map._collectResourceTiming&&(r.collectResourceTiming=!0);var o=this.sourceCaches[t]=new ke(t,r,this.dispatcher);o.style=this,o.setEventedParent(this,(function(){return{isSourceLoaded:i.loaded(),source:o.serialize(),sourceId:t}})),o.onAdd(this.map),this._changed=!0}},r.prototype.removeSource=function(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");for(var r in this._layers)if(this._layers[r].source===t)return this.fire(new e.ErrorEvent(new Error('Source "'+t+'" cannot be removed while layer "'+r+'" is using it.')));var n=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],n.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:t})),n.setEventedParent(null),n.clearTiles(),n.onRemove&&n.onRemove(this.map),this._changed=!0},r.prototype.setGeoJSONSourceData=function(e,t){this._checkLoaded(),this.sourceCaches[e].getSource().setData(t),this._changed=!0},r.prototype.getSource=function(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()},r.prototype.addLayer=function(t,r,n){void 0===n&&(n={}),this._checkLoaded();var i=t.id;if(this.getLayer(i))this.fire(new e.ErrorEvent(new Error('Layer with id "'+i+'" already exists on this map')));else{var o;if("custom"===t.type){if(Kt(this,e.validateCustomStyleLayer(t)))return;o=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(i,t.source),t=e.clone$1(t),t=e.extend(t,{source:i})),this._validate(e.validateStyle.layer,"layers."+i,t,{arrayIndex:-1},n))return;o=e.createStyleLayer(t),this._validateLayer(o),o.setEventedParent(this,{layer:{id:i}}),this._serializedLayers[o.id]=o.serialize()}var a=r?this._order.indexOf(r):this._order.length;if(r&&-1===a)this.fire(new e.ErrorEvent(new Error('Layer with id "'+r+'" does not exist on this map.')));else{if(this._order.splice(a,0,i),this._layerOrderChanged=!0,this._layers[i]=o,this._removedLayers[i]&&o.source&&"custom"!==o.type){var s=this._removedLayers[i];delete this._removedLayers[i],s.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause())}this._updateLayer(o),o.onAdd&&o.onAdd(this.map)}}},r.prototype.moveLayer=function(t,r){if(this._checkLoaded(),this._changed=!0,this._layers[t]){if(t!==r){var n=this._order.indexOf(t);this._order.splice(n,1);var i=r?this._order.indexOf(r):this._order.length;r&&-1===i?this.fire(new e.ErrorEvent(new Error('Layer with id "'+r+'" does not exist on this map.'))):(this._order.splice(i,0,t),this._layerOrderChanged=!0)}}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be moved.")))},r.prototype.removeLayer=function(t){this._checkLoaded();var r=this._layers[t];if(r){r.setEventedParent(null);var n=this._order.indexOf(t);this._order.splice(n,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=r,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],r.onRemove&&r.onRemove(this.map)}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be removed.")))},r.prototype.getLayer=function(e){return this._layers[e]},r.prototype.hasLayer=function(e){return e in this._layers},r.prototype.setLayerZoomRange=function(t,r,n){this._checkLoaded();var i=this.getLayer(t);i?i.minzoom===r&&i.maxzoom===n||(null!=r&&(i.minzoom=r),null!=n&&(i.maxzoom=n),this._updateLayer(i)):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot have zoom extent.")))},r.prototype.setFilter=function(t,r,n){void 0===n&&(n={}),this._checkLoaded();var i=this.getLayer(t);if(i){if(!e.deepEqual(i.filter,r))return null==r?(i.filter=void 0,void this._updateLayer(i)):void(this._validate(e.validateStyle.filter,"layers."+i.id+".filter",r,null,n)||(i.filter=e.clone$1(r),this._updateLayer(i)))}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be filtered.")))},r.prototype.getFilter=function(t){return e.clone$1(this.getLayer(t).filter)},r.prototype.setLayoutProperty=function(t,r,n,i){void 0===i&&(i={}),this._checkLoaded();var o=this.getLayer(t);o?e.deepEqual(o.getLayoutProperty(r),n)||(o.setLayoutProperty(r,n,i),this._updateLayer(o)):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},r.prototype.getLayoutProperty=function(t,r){var n=this.getLayer(t);if(n)return n.getLayoutProperty(r);this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style.")))},r.prototype.setPaintProperty=function(t,r,n,i){void 0===i&&(i={}),this._checkLoaded();var o=this.getLayer(t);o?e.deepEqual(o.getPaintProperty(r),n)||(o.setPaintProperty(r,n,i)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[t]=!0):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},r.prototype.getPaintProperty=function(e,t){return this.getLayer(e).getPaintProperty(t)},r.prototype.setFeatureState=function(t,r){this._checkLoaded();var n=t.source,i=t.sourceLayer,o=this.sourceCaches[n];if(void 0!==o){var a=o.getSource().type;"geojson"===a&&i?this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==a||i?(void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),o.setFeatureState(i,t.id,r)):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},r.prototype.removeFeatureState=function(t,r){this._checkLoaded();var n=t.source,i=this.sourceCaches[n];if(void 0!==i){var o=i.getSource().type,a="vector"===o?t.sourceLayer:void 0;"vector"!==o||a?r&&"string"!=typeof t.id&&"number"!=typeof t.id?this.fire(new e.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):i.removeFeatureState(a,t.id,r):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},r.prototype.getFeatureState=function(t){this._checkLoaded();var r=t.source,n=t.sourceLayer,i=this.sourceCaches[r];if(void 0!==i){if("vector"!==i.getSource().type||n)return void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),i.getFeatureState(n,t.id);this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},r.prototype.getTransition=function(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},r.prototype.serialize=function(){return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:e.mapObject(this.sourceCaches,(function(e){return e.serialize()})),layers:this._serializeLayers(this._order)},(function(e){return void 0!==e}))},r.prototype._updateLayer=function(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&"raster"!==this.sourceCaches[e.source].getSource().type&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._changed=!0},r.prototype._flattenAndSortRenderedFeatures=function(e){for(var t=this,r=function(e){return"fill-extrusion"===t._layers[e].type},n={},i=[],o=this._order.length-1;o>=0;o--){var a=this._order[o];if(r(a)){n[a]=o;for(var s=0,l=e;s<l.length;s+=1){var _=l[s][a];if(_)for(var u=0,c=_;u<c.length;u+=1)i.push(c[u])}}}i.sort((function(e,t){return t.intersectionZ-e.intersectionZ}));for(var p=[],d=this._order.length-1;d>=0;d--){var h=this._order[d];if(r(h))for(var f=i.length-1;f>=0;f--){var m=i[f].feature;if(n[m.layer.id]<d)break;p.push(m),i.pop()}else for(var y=0,g=e;y<g.length;y+=1){var b=g[y][h];if(b)for(var v=0,E=b;v<E.length;v+=1)p.push(E[v].feature)}}return p},r.prototype.queryRenderedFeatures=function(t,r,n){r&&r.filter&&this._validate(e.validateStyle.filter,"queryRenderedFeatures.filter",r.filter,null,r);var i={};if(r&&r.layers){if(!Array.isArray(r.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var o=0,a=r.layers;o<a.length;o+=1){var s=a[o],l=this._layers[s];if(!l)return this.fire(new e.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];i[l.source]=!0}}var _=[];for(var u in r.availableImages=this._availableImages,this.sourceCaches)r.layers&&!i[u]||_.push(U(this.sourceCaches[u],this._layers,this._serializedLayers,t,r,n));return this.placement&&_.push(function(e,t,r,n,i,o,a){for(var s={},l=o.queryRenderedSymbols(n),_=[],u=0,c=Object.keys(l).map(Number);u<c.length;u+=1)_.push(a[c[u]]);_.sort(W);for(var p=function(){var r=h[d],n=r.featureIndex.lookupSymbolFeatures(l[r.bucketInstanceId],t,r.bucketIndex,r.sourceLayerIndex,i.filter,i.layers,i.availableImages,e);for(var o in n){var a=s[o]=s[o]||[],_=n[o];_.sort((function(e,t){var n=r.featureSortOrder;if(n){var i=n.indexOf(e.featureIndex);return n.indexOf(t.featureIndex)-i}return t.featureIndex-e.featureIndex}));for(var u=0,c=_;u<c.length;u+=1)a.push(c[u])}},d=0,h=_;d<h.length;d+=1)p();var f=function(t){s[t].forEach((function(n){var i=n.feature,o=r[e[t].source].getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=o}))};for(var m in s)f(m);return s}(this._layers,this._serializedLayers,this.sourceCaches,t,r,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(_)},r.prototype.querySourceFeatures=function(t,r){r&&r.filter&&this._validate(e.validateStyle.filter,"querySourceFeatures.filter",r.filter,null,r);var n=this.sourceCaches[t];return n?function(e,t){for(var r=e.getRenderableIds().map((function(t){return e.getTileByID(t)})),n=[],i={},o=0;o<r.length;o++){var a=r[o],s=a.tileID.canonical.key;i[s]||(i[s]=!0,a.querySourceFeatures(n,t))}return n}(n,r):[]},r.prototype.addSourceType=function(e,t,n){return r.getSourceType(e)?n(new Error('A source type called "'+e+'" already exists.')):(r.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},n):n(null,null))},r.prototype.getLight=function(){return this.light.getLight()},r.prototype.setLight=function(t,r){void 0===r&&(r={}),this._checkLoaded();var n=this.light.getLight(),i=!1;for(var o in t)if(!e.deepEqual(t[o],n[o])){i=!0;break}if(i){var a={now:e.browser.now(),transition:e.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t,r),this.light.updateTransitions(a)}},r.prototype._validate=function(t,r,n,i,o){return void 0===o&&(o={}),(!o||!1!==o.validate)&&Kt(this,t.call(e.validateStyle,e.extend({key:r,style:this.serialize(),value:n,styleSpec:e.styleSpec},i)))},r.prototype._remove=function(){for(var t in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[t].setEventedParent(null);for(var r in this.sourceCaches)this.sourceCaches[r].clearTiles(),this.sourceCaches[r].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},r.prototype._clearSource=function(e){this.sourceCaches[e].clearTiles()},r.prototype._reloadSource=function(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()},r.prototype._updateSources=function(e){for(var t in this.sourceCaches)this.sourceCaches[t].update(e)},r.prototype._generateCollisionBoxes=function(){for(var e in this.sourceCaches)this._reloadSource(e)},r.prototype._updatePlacement=function(t,r,n,i,o){void 0===o&&(o=!1);for(var a=!1,s=!1,l={},_=0,u=this._order;_<u.length;_+=1){var c=this._layers[u[_]];if("symbol"===c.type){if(!l[c.source]){var p=this.sourceCaches[c.source];l[c.source]=p.getRenderableIds(!0).map((function(e){return p.getTileByID(e)})).sort((function(e,t){return t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)}))}var d=this.crossTileSymbolIndex.addLayer(c,l[c.source],t.center.lng);a=a||d}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((o=o||this._layerOrderChanged||0===n)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.browser.now(),t.zoom))&&(this.pauseablePlacement=new Lt(t,this._order,o,r,n,i,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.browser.now()),s=!0),a&&this.pauseablePlacement.placement.setStale()),s||a)for(var h=0,f=this._order;h<f.length;h+=1){var m=this._layers[f[h]];"symbol"===m.type&&this.placement.updateLayerOpacities(m,l[m.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.browser.now())},r.prototype._releaseSymbolFadeTiles=function(){for(var e in this.sourceCaches)this.sourceCaches[e].releaseSymbolFadeTiles()},r.prototype.getImages=function(e,t,r){this.imageManager.getImages(t.icons,r),this._updateTilesForChangedImages();var n=this.sourceCaches[t.source];n&&n.setDependencies(t.tileID.key,t.type,t.icons)},r.prototype.getGlyphs=function(e,t,r){this.glyphManager.getGlyphs(t.stacks,r)},r.prototype.getResource=function(t,r,n){return e.makeRequest(r,n)},r}(e.Evented);qt.getSourceType=function(e){return S[e]},qt.setSourceType=function(e,t){S[e]=t},qt.registerForPluginStateChange=e.registerForPluginStateChange;var Nt=e.createLayout([{name:"a_pos",type:"Int16",components:2}]),Ht=yr("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),Gt=yr("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Vt=yr("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Zt=yr("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Xt=yr("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),$t=yr("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),Yt=yr("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Jt=yr("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Qt=yr("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),er=yr("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),tr=yr("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),rr=yr("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),nr=yr("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),ir=yr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),or=yr("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),ar=yr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),sr=yr("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),lr=yr("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),_r=yr("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),ur=yr("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),cr=yr("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),pr=yr("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),dr=yr("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),hr=yr("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),fr=yr("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),mr=yr("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function yr(e,t){var r=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,n=t.match(/attribute ([\w]+) ([\w]+)/g),i=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),o=t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),a=o?o.concat(i):i,s={};return{fragmentSource:e=e.replace(r,(function(e,t,r,n,i){return s[i]=!0,"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nvarying "+r+" "+n+" "+i+";\n#else\nuniform "+r+" "+n+" u_"+i+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+i+"\n    "+r+" "+n+" "+i+" = u_"+i+";\n#endif\n"})),vertexSource:t=t.replace(r,(function(e,t,r,n,i){var o="float"===n?"vec2":"vec4",a=i.match(/color/)?"color":o;return s[i]?"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float u_"+i+"_t;\nattribute "+r+" "+o+" a_"+i+";\nvarying "+r+" "+n+" "+i+";\n#else\nuniform "+r+" "+n+" u_"+i+";\n#endif\n":"vec4"===a?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = a_"+i+";\n#else\n    "+r+" "+n+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = unpack_mix_"+a+"(a_"+i+", u_"+i+"_t);\n#else\n    "+r+" "+n+" "+i+" = u_"+i+";\n#endif\n":"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float u_"+i+"_t;\nattribute "+r+" "+o+" a_"+i+";\n#else\nuniform "+r+" "+n+" u_"+i+";\n#endif\n":"vec4"===a?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+r+" "+n+" "+i+" = a_"+i+";\n#else\n    "+r+" "+n+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+r+" "+n+" "+i+" = unpack_mix_"+a+"(a_"+i+", u_"+i+"_t);\n#else\n    "+r+" "+n+" "+i+" = u_"+i+";\n#endif\n"})),staticAttributes:n,staticUniforms:a}}var gr=Object.freeze({__proto__:null,prelude:Ht,background:Gt,backgroundPattern:Vt,circle:Zt,clippingMask:Xt,heatmap:$t,heatmapTexture:Yt,collisionBox:Jt,collisionCircle:Qt,debug:er,fill:tr,fillOutline:rr,fillOutlinePattern:nr,fillPattern:ir,fillExtrusion:or,fillExtrusionPattern:ar,hillshadePrepare:sr,hillshade:lr,line:_r,lineGradient:ur,linePattern:cr,lineSDF:pr,raster:dr,symbolIcon:hr,symbolSDF:fr,symbolTextAndIcon:mr}),br=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function vr(e){for(var t=[],r=0;r<e.length;r++)if(null!==e[r]){var n=e[r].split(" ");t.push(n.pop())}return t}br.prototype.bind=function(e,t,r,n,i,o,a,s){this.context=e;for(var l=this.boundPaintVertexBuffers.length!==n.length,_=0;!l&&_<n.length;_++)this.boundPaintVertexBuffers[_]!==n[_]&&(l=!0);e.extVertexArrayObject&&this.vao&&this.boundProgram===t&&this.boundLayoutVertexBuffer===r&&!l&&this.boundIndexBuffer===i&&this.boundVertexOffset===o&&this.boundDynamicVertexBuffer===a&&this.boundDynamicVertexBuffer2===s?(e.bindVertexArrayOES.set(this.vao),a&&a.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind()):this.freshBind(t,r,n,i,o,a,s)},br.prototype.freshBind=function(e,t,r,n,i,o,a){var s,l=e.numAttributes,_=this.context,u=_.gl;if(_.extVertexArrayObject)this.vao&&this.destroy(),this.vao=_.extVertexArrayObject.createVertexArrayOES(),_.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=r,this.boundIndexBuffer=n,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a;else{s=_.currentNumAttributes||0;for(var c=l;c<s;c++)u.disableVertexAttribArray(c)}t.enableAttributes(u,e);for(var p=0,d=r;p<d.length;p+=1)d[p].enableAttributes(u,e);o&&o.enableAttributes(u,e),a&&a.enableAttributes(u,e),t.bind(),t.setVertexAttribPointers(u,e,i);for(var h=0,f=r;h<f.length;h+=1){var m=f[h];m.bind(),m.setVertexAttribPointers(u,e,i)}o&&(o.bind(),o.setVertexAttribPointers(u,e,i)),n&&n.bind(),a&&(a.bind(),a.setVertexAttribPointers(u,e,i)),_.currentNumAttributes=l},br.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var Er=function(e,t,r,n,i,o){var a=e.gl;this.program=a.createProgram();for(var s=vr(r.staticAttributes),l=n?n.getBinderAttributes():[],_=s.concat(l),u=r.staticUniforms?vr(r.staticUniforms):[],c=n?n.getBinderUniforms():[],p=[],d=0,h=u.concat(c);d<h.length;d+=1){var f=h[d];p.indexOf(f)<0&&p.push(f)}var m=n?n.defines():[];o&&m.push("#define OVERDRAW_INSPECTOR;");var y=m.concat(Ht.fragmentSource,r.fragmentSource).join("\n"),g=m.concat(Ht.vertexSource,r.vertexSource).join("\n"),b=a.createShader(a.FRAGMENT_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(b,y),a.compileShader(b),a.attachShader(this.program,b);var v=a.createShader(a.VERTEX_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(v,g),a.compileShader(v),a.attachShader(this.program,v),this.attributes={};var E={};this.numAttributes=_.length;for(var O=0;O<this.numAttributes;O++)_[O]&&(a.bindAttribLocation(this.program,O,_[O]),this.attributes[_[O]]=O);a.linkProgram(this.program),a.deleteShader(v),a.deleteShader(b);for(var M=0;M<p.length;M++){var P=p[M];if(P&&!E[P]){var x=a.getUniformLocation(this.program,P);x&&(E[P]=x)}}this.fixedUniforms=i(e,E),this.binderUniforms=n?n.getUniforms(e,E):[]}}};function Or(e,t,r){var n=1/pt(r,1,t.transform.tileZoom),i=Math.pow(2,r.tileID.overscaledZ),o=r.tileSize*Math.pow(2,t.transform.tileZoom)/i,a=o*(r.tileID.canonical.x+r.tileID.wrap*i),s=o*r.tileID.canonical.y;return{u_image:0,u_texsize:r.imageAtlasTexture.size,u_scale:[n,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[a>>16,s>>16],u_pixel_coord_lower:[65535&a,65535&s]}}Er.prototype.draw=function(e,t,r,n,i,o,a,s,l,_,u,c,p,d,h,f){var m,y=e.gl;if(!this.failedToCreate){for(var g in e.program.set(this.program),e.setDepthMode(r),e.setStencilMode(n),e.setColorMode(i),e.setCullFace(o),this.fixedUniforms)this.fixedUniforms[g].set(a[g]);d&&d.setUniforms(e,this.binderUniforms,c,{zoom:p});for(var b=(m={},m[y.LINES]=2,m[y.TRIANGLES]=3,m[y.LINE_STRIP]=1,m)[t],v=0,E=u.get();v<E.length;v+=1){var O=E[v],M=O.vaos||(O.vaos={});(M[s]||(M[s]=new br)).bind(e,this,l,d?d.getPaintVertexBuffers():[],_,O.vertexOffset,h,f),y.drawElements(t,O.primitiveLength*b,y.UNSIGNED_SHORT,O.primitiveOffset*b*2)}}};var Mr=function(t,r,n,i){var o=r.style.light,a=o.properties.get("position"),s=[a.x,a.y,a.z],l=e.create$1();"viewport"===o.properties.get("anchor")&&e.fromRotation(l,-r.transform.angle),e.transformMat3(s,s,l);var _=o.properties.get("color");return{u_matrix:t,u_lightpos:s,u_lightintensity:o.properties.get("intensity"),u_lightcolor:[_.r,_.g,_.b],u_vertical_gradient:+n,u_opacity:i}},Pr=function(t,r,n,i,o,a,s){return e.extend(Mr(t,r,n,i),Or(a,r,s),{u_height_factor:-Math.pow(2,o.overscaledZ)/s.tileSize/8})},xr=function(e){return{u_matrix:e}},wr=function(t,r,n,i){return e.extend(xr(t),Or(n,r,i))},Cr=function(e,t){return{u_matrix:e,u_world:t}},Dr=function(t,r,n,i,o){return e.extend(wr(t,r,n,i),{u_world:o})},Tr=function(t,r,n,i){var o,a,s=t.transform;if("map"===i.paint.get("circle-pitch-alignment")){var l=pt(n,1,s.zoom);o=!0,a=[l,l]}else o=!1,a=s.pixelsToGLUnits;return{u_camera_to_center_distance:s.cameraToCenterDistance,u_scale_with_map:+("map"===i.paint.get("circle-pitch-scale")),u_matrix:t.translatePosMatrix(r.posMatrix,n,i.paint.get("circle-translate"),i.paint.get("circle-translate-anchor")),u_pitch_with_map:+o,u_device_pixel_ratio:e.browser.devicePixelRatio,u_extrude_scale:a}},kr=function(e,t,r){var n=pt(r,1,t.zoom),i=Math.pow(2,t.zoom-r.tileID.overscaledZ),o=r.tileID.overscaleFactor();return{u_matrix:e,u_camera_to_center_distance:t.cameraToCenterDistance,u_pixels_to_tile_units:n,u_extrude_scale:[t.pixelsToGLUnits[0]/(n*i),t.pixelsToGLUnits[1]/(n*i)],u_overscale_factor:o}},Ar=function(e,t,r){return{u_matrix:e,u_inv_matrix:t,u_camera_to_center_distance:r.cameraToCenterDistance,u_viewport_size:[r.width,r.height]}},Ir=function(e,t,r){return void 0===r&&(r=1),{u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:r}},Lr=function(e){return{u_matrix:e}},Rr=function(e,t,r,n){return{u_matrix:e,u_extrude_scale:pt(t,1,r),u_intensity:n}},Sr=function(t,r,n){var i=t.transform;return{u_matrix:jr(t,r,n),u_ratio:1/pt(r,1,i.zoom),u_device_pixel_ratio:e.browser.devicePixelRatio,u_units_to_pixels:[1/i.pixelsToGLUnits[0],1/i.pixelsToGLUnits[1]]}},Br=function(t,r,n,i){return e.extend(Sr(t,r,n),{u_image:0,u_image_height:i})},Ur=function(t,r,n,i){var o=t.transform,a=Kr(r,o);return{u_matrix:jr(t,r,n),u_texsize:r.imageAtlasTexture.size,u_ratio:1/pt(r,1,o.zoom),u_device_pixel_ratio:e.browser.devicePixelRatio,u_image:0,u_scale:[a,i.fromScale,i.toScale],u_fade:i.t,u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]]}},Wr=function(t,r,n,i,o){var a=t.lineAtlas,s=Kr(r,t.transform),l="round"===n.layout.get("line-cap"),_=a.getDash(i.from,l),u=a.getDash(i.to,l),c=_.width*o.fromScale,p=u.width*o.toScale;return e.extend(Sr(t,r,n),{u_patternscale_a:[s/c,-_.height/2],u_patternscale_b:[s/p,-u.height/2],u_sdfgamma:a.width/(256*Math.min(c,p)*e.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:_.y,u_tex_y_b:u.y,u_mix:o.t})};function Kr(e,t){return 1/pt(e,1,t.tileZoom)}function jr(e,t,r){return e.translatePosMatrix(t.tileID.posMatrix,t,r.paint.get("line-translate"),r.paint.get("line-translate-anchor"))}var zr=function(e,t,r,n,i){return{u_matrix:e,u_tl_parent:t,u_scale_parent:r,u_buffer_scale:1,u_fade_t:n.mix,u_opacity:n.opacity*i.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:i.paint.get("raster-brightness-min"),u_brightness_high:i.paint.get("raster-brightness-max"),u_saturation_factor:(a=i.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(o=i.paint.get("raster-contrast"),o>0?1/(1-o):1+o),u_spin_weights:Fr(i.paint.get("raster-hue-rotate"))};var o,a};function Fr(e){e*=Math.PI/180;var t=Math.sin(e),r=Math.cos(e);return[(2*r+1)/3,(-Math.sqrt(3)*t-r+1)/3,(Math.sqrt(3)*t-r+1)/3]}var qr,Nr=function(e,t,r,n,i,o,a,s,l,_){var u=i.transform;return{u_is_size_zoom_constant:+("constant"===e||"source"===e),u_is_size_feature_constant:+("constant"===e||"camera"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:u.cameraToCenterDistance,u_pitch:u.pitch/360*2*Math.PI,u_rotate_symbol:+r,u_aspect_ratio:u.width/u.height,u_fade_change:i.options.fadeDuration?i.symbolFadeChange:1,u_matrix:o,u_label_plane_matrix:a,u_coord_matrix:s,u_is_text:+l,u_pitch_with_map:+n,u_texsize:_,u_texture:0}},Hr=function(t,r,n,i,o,a,s,l,_,u,c){var p=o.transform;return e.extend(Nr(t,r,n,i,o,a,s,l,_,u),{u_gamma_scale:i?Math.cos(p._pitch)*p.cameraToCenterDistance:1,u_device_pixel_ratio:e.browser.devicePixelRatio,u_is_halo:+c})},Gr=function(t,r,n,i,o,a,s,l,_,u){return e.extend(Hr(t,r,n,i,o,a,s,l,!0,_,!0),{u_texsize_icon:u,u_texture_icon:1})},Vr=function(e,t,r){return{u_matrix:e,u_opacity:t,u_color:r}},Zr=function(t,r,n,i,o,a){return e.extend(function(e,t,r,n){var i=r.imageManager.getPattern(e.from.toString()),o=r.imageManager.getPattern(e.to.toString()),a=r.imageManager.getPixelSize(),s=a.width,l=a.height,_=Math.pow(2,n.tileID.overscaledZ),u=n.tileSize*Math.pow(2,r.transform.tileZoom)/_,c=u*(n.tileID.canonical.x+n.tileID.wrap*_),p=u*n.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:i.tl,u_pattern_br_a:i.br,u_pattern_tl_b:o.tl,u_pattern_br_b:o.br,u_texsize:[s,l],u_mix:t.t,u_pattern_size_a:i.displaySize,u_pattern_size_b:o.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/pt(n,1,r.transform.tileZoom),u_pixel_coord_upper:[c>>16,p>>16],u_pixel_coord_lower:[65535&c,65535&p]}}(i,a,n,o),{u_matrix:t,u_opacity:r})},Xr={fillExtrusion:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_lightpos:new e.Uniform3f(t,r.u_lightpos),u_lightintensity:new e.Uniform1f(t,r.u_lightintensity),u_lightcolor:new e.Uniform3f(t,r.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,r.u_vertical_gradient),u_opacity:new e.Uniform1f(t,r.u_opacity)}},fillExtrusionPattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_lightpos:new e.Uniform3f(t,r.u_lightpos),u_lightintensity:new e.Uniform1f(t,r.u_lightintensity),u_lightcolor:new e.Uniform3f(t,r.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,r.u_vertical_gradient),u_height_factor:new e.Uniform1f(t,r.u_height_factor),u_image:new e.Uniform1i(t,r.u_image),u_texsize:new e.Uniform2f(t,r.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade),u_opacity:new e.Uniform1f(t,r.u_opacity)}},fill:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},fillPattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_image:new e.Uniform1i(t,r.u_image),u_texsize:new e.Uniform2f(t,r.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade)}},fillOutline:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_world:new e.Uniform2f(t,r.u_world)}},fillOutlinePattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_world:new e.Uniform2f(t,r.u_world),u_image:new e.Uniform1i(t,r.u_image),u_texsize:new e.Uniform2f(t,r.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade)}},circle:function(t,r){return{u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_scale_with_map:new e.Uniform1i(t,r.u_scale_with_map),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_extrude_scale:new e.Uniform2f(t,r.u_extrude_scale),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},collisionBox:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pixels_to_tile_units:new e.Uniform1f(t,r.u_pixels_to_tile_units),u_extrude_scale:new e.Uniform2f(t,r.u_extrude_scale),u_overscale_factor:new e.Uniform1f(t,r.u_overscale_factor)}},collisionCircle:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_inv_matrix:new e.UniformMatrix4f(t,r.u_inv_matrix),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_viewport_size:new e.Uniform2f(t,r.u_viewport_size)}},debug:function(t,r){return{u_color:new e.UniformColor(t,r.u_color),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_overlay:new e.Uniform1i(t,r.u_overlay),u_overlay_scale:new e.Uniform1f(t,r.u_overlay_scale)}},clippingMask:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},heatmap:function(t,r){return{u_extrude_scale:new e.Uniform1f(t,r.u_extrude_scale),u_intensity:new e.Uniform1f(t,r.u_intensity),u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},heatmapTexture:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_world:new e.Uniform2f(t,r.u_world),u_image:new e.Uniform1i(t,r.u_image),u_color_ramp:new e.Uniform1i(t,r.u_color_ramp),u_opacity:new e.Uniform1f(t,r.u_opacity)}},hillshade:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_image:new e.Uniform1i(t,r.u_image),u_latrange:new e.Uniform2f(t,r.u_latrange),u_light:new e.Uniform2f(t,r.u_light),u_shadow:new e.UniformColor(t,r.u_shadow),u_highlight:new e.UniformColor(t,r.u_highlight),u_accent:new e.UniformColor(t,r.u_accent)}},hillshadePrepare:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_image:new e.Uniform1i(t,r.u_image),u_dimension:new e.Uniform2f(t,r.u_dimension),u_zoom:new e.Uniform1f(t,r.u_zoom),u_unpack:new e.Uniform4f(t,r.u_unpack)}},line:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_ratio:new e.Uniform1f(t,r.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,r.u_units_to_pixels)}},lineGradient:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_ratio:new e.Uniform1f(t,r.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,r.u_units_to_pixels),u_image:new e.Uniform1i(t,r.u_image),u_image_height:new e.Uniform1f(t,r.u_image_height)}},linePattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_texsize:new e.Uniform2f(t,r.u_texsize),u_ratio:new e.Uniform1f(t,r.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_image:new e.Uniform1i(t,r.u_image),u_units_to_pixels:new e.Uniform2f(t,r.u_units_to_pixels),u_scale:new e.Uniform3f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade)}},lineSDF:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_ratio:new e.Uniform1f(t,r.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,r.u_units_to_pixels),u_patternscale_a:new e.Uniform2f(t,r.u_patternscale_a),u_patternscale_b:new e.Uniform2f(t,r.u_patternscale_b),u_sdfgamma:new e.Uniform1f(t,r.u_sdfgamma),u_image:new e.Uniform1i(t,r.u_image),u_tex_y_a:new e.Uniform1f(t,r.u_tex_y_a),u_tex_y_b:new e.Uniform1f(t,r.u_tex_y_b),u_mix:new e.Uniform1f(t,r.u_mix)}},raster:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_tl_parent:new e.Uniform2f(t,r.u_tl_parent),u_scale_parent:new e.Uniform1f(t,r.u_scale_parent),u_buffer_scale:new e.Uniform1f(t,r.u_buffer_scale),u_fade_t:new e.Uniform1f(t,r.u_fade_t),u_opacity:new e.Uniform1f(t,r.u_opacity),u_image0:new e.Uniform1i(t,r.u_image0),u_image1:new e.Uniform1i(t,r.u_image1),u_brightness_low:new e.Uniform1f(t,r.u_brightness_low),u_brightness_high:new e.Uniform1f(t,r.u_brightness_high),u_saturation_factor:new e.Uniform1f(t,r.u_saturation_factor),u_contrast_factor:new e.Uniform1f(t,r.u_contrast_factor),u_spin_weights:new e.Uniform3f(t,r.u_spin_weights)}},symbolIcon:function(t,r){return{u_is_size_zoom_constant:new e.Uniform1i(t,r.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,r.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,r.u_size_t),u_size:new e.Uniform1f(t,r.u_size),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,r.u_pitch),u_rotate_symbol:new e.Uniform1i(t,r.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,r.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,r.u_fade_change),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,r.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,r.u_coord_matrix),u_is_text:new e.Uniform1i(t,r.u_is_text),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_texsize:new e.Uniform2f(t,r.u_texsize),u_texture:new e.Uniform1i(t,r.u_texture)}},symbolSDF:function(t,r){return{u_is_size_zoom_constant:new e.Uniform1i(t,r.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,r.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,r.u_size_t),u_size:new e.Uniform1f(t,r.u_size),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,r.u_pitch),u_rotate_symbol:new e.Uniform1i(t,r.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,r.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,r.u_fade_change),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,r.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,r.u_coord_matrix),u_is_text:new e.Uniform1i(t,r.u_is_text),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_texsize:new e.Uniform2f(t,r.u_texsize),u_texture:new e.Uniform1i(t,r.u_texture),u_gamma_scale:new e.Uniform1f(t,r.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,r.u_is_halo)}},symbolTextAndIcon:function(t,r){return{u_is_size_zoom_constant:new e.Uniform1i(t,r.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,r.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,r.u_size_t),u_size:new e.Uniform1f(t,r.u_size),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,r.u_pitch),u_rotate_symbol:new e.Uniform1i(t,r.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,r.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,r.u_fade_change),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,r.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,r.u_coord_matrix),u_is_text:new e.Uniform1i(t,r.u_is_text),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_texsize:new e.Uniform2f(t,r.u_texsize),u_texsize_icon:new e.Uniform2f(t,r.u_texsize_icon),u_texture:new e.Uniform1i(t,r.u_texture),u_texture_icon:new e.Uniform1i(t,r.u_texture_icon),u_gamma_scale:new e.Uniform1f(t,r.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,r.u_is_halo)}},background:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_opacity:new e.Uniform1f(t,r.u_opacity),u_color:new e.UniformColor(t,r.u_color)}},backgroundPattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_opacity:new e.Uniform1f(t,r.u_opacity),u_image:new e.Uniform1i(t,r.u_image),u_pattern_tl_a:new e.Uniform2f(t,r.u_pattern_tl_a),u_pattern_br_a:new e.Uniform2f(t,r.u_pattern_br_a),u_pattern_tl_b:new e.Uniform2f(t,r.u_pattern_tl_b),u_pattern_br_b:new e.Uniform2f(t,r.u_pattern_br_b),u_texsize:new e.Uniform2f(t,r.u_texsize),u_mix:new e.Uniform1f(t,r.u_mix),u_pattern_size_a:new e.Uniform2f(t,r.u_pattern_size_a),u_pattern_size_b:new e.Uniform2f(t,r.u_pattern_size_b),u_scale_a:new e.Uniform1f(t,r.u_scale_a),u_scale_b:new e.Uniform1f(t,r.u_scale_b),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_tile_units_to_pixels:new e.Uniform1f(t,r.u_tile_units_to_pixels)}}};function $r(t,r,n,i,o,a,s){for(var l=t.context,_=l.gl,u=t.useProgram("collisionBox"),c=[],p=0,d=0,h=0;h<i.length;h++){var f=i[h],m=r.getTile(f),y=m.getBucket(n);if(y){var g=f.posMatrix;0===o[0]&&0===o[1]||(g=t.translatePosMatrix(f.posMatrix,m,o,a));var b=s?y.textCollisionBox:y.iconCollisionBox,v=y.collisionCircleArray;if(v.length>0){var E=e.create(),O=g;e.mul(E,y.placementInvProjMatrix,t.transform.glCoordMatrix),e.mul(E,E,y.placementViewportMatrix),c.push({circleArray:v,circleOffset:d,transform:O,invTransform:E}),d=p+=v.length/4}b&&u.draw(l,_.LINES,xe.disabled,we.disabled,t.colorModeForRenderPass(),De.disabled,kr(g,t.transform,m),n.id,b.layoutVertexBuffer,b.indexBuffer,b.segments,null,t.transform.zoom,null,null,b.collisionVertexBuffer)}}if(s&&c.length){var M=t.useProgram("collisionCircle"),P=new e.StructArrayLayout2f1f2i16;P.resize(4*p),P._trim();for(var x=0,w=0,C=c;w<C.length;w+=1)for(var D=C[w],T=0;T<D.circleArray.length/4;T++){var k=4*T,A=D.circleArray[k+0],I=D.circleArray[k+1],L=D.circleArray[k+2],R=D.circleArray[k+3];P.emplace(x++,A,I,L,R,0),P.emplace(x++,A,I,L,R,1),P.emplace(x++,A,I,L,R,2),P.emplace(x++,A,I,L,R,3)}(!qr||qr.length<2*p)&&(qr=function(t){var r=2*t,n=new e.StructArrayLayout3ui6;n.resize(r),n._trim();for(var i=0;i<r;i++){var o=6*i;n.uint16[o+0]=4*i+0,n.uint16[o+1]=4*i+1,n.uint16[o+2]=4*i+2,n.uint16[o+3]=4*i+2,n.uint16[o+4]=4*i+3,n.uint16[o+5]=4*i+0}return n}(p));for(var S=l.createIndexBuffer(qr,!0),B=l.createVertexBuffer(P,e.collisionCircleLayout.members,!0),U=0,W=c;U<W.length;U+=1){var K=W[U],j=Ar(K.transform,K.invTransform,t.transform);M.draw(l,_.TRIANGLES,xe.disabled,we.disabled,t.colorModeForRenderPass(),De.disabled,j,n.id,B,S,e.SegmentVector.simpleSegment(0,2*K.circleOffset,K.circleArray.length,K.circleArray.length/2),null,t.transform.zoom,null,null,null)}B.destroy(),S.destroy()}}var Yr=e.identity(new Float32Array(16));function Jr(t,r,n,i,o,a){var s=e.getAnchorAlignment(t),l=-(s.horizontalAlign-.5)*r,_=-(s.verticalAlign-.5)*n,u=e.evaluateVariableOffset(t,i);return new e.Point((l/o+u[0])*a,(_/o+u[1])*a)}function Qr(t,r,n,i,o,a,s,l,_,u,c){var p=t.text.placedSymbolArray,d=t.text.dynamicLayoutVertexArray,h=t.icon.dynamicLayoutVertexArray,f={};d.clear();for(var m=0;m<p.length;m++){var y=p.get(m),g=y.hidden||!y.crossTileID||t.allowVerticalPlacement&&!y.placedOrientation?null:i[y.crossTileID];if(g){var b=new e.Point(y.anchorX,y.anchorY),v=Qe(b,n?l:s),E=et(a.cameraToCenterDistance,v.signedDistanceFromCamera),O=o.evaluateSizeForFeature(t.textSizeData,u,y)*E/e.ONE_EM;n&&(O*=t.tilePixelRatio/_);for(var M=Jr(g.anchor,g.width,g.height,g.textOffset,g.textBoxScale,O),P=n?Qe(b.add(M),s).point:v.point.add(r?M.rotate(-a.angle):M),x=t.allowVerticalPlacement&&y.placedOrientation===e.WritingMode.vertical?Math.PI/2:0,w=0;w<y.numGlyphs;w++)e.addDynamicAttributes(d,P,x);c&&y.associatedIconIndex>=0&&(f[y.associatedIconIndex]={shiftedAnchor:P,angle:x})}else _t(y.numGlyphs,d)}if(c){h.clear();for(var C=t.icon.placedSymbolArray,D=0;D<C.length;D++){var T=C.get(D);if(T.hidden)_t(T.numGlyphs,h);else{var k=f[D];if(k)for(var A=0;A<T.numGlyphs;A++)e.addDynamicAttributes(h,k.shiftedAnchor,k.angle);else _t(T.numGlyphs,h)}}t.icon.dynamicLayoutVertexBuffer.updateData(h)}t.text.dynamicLayoutVertexBuffer.updateData(d)}function en(e,t,r){return r.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function tn(t,r,n,i,o,a,s,l,_,u,c,p){for(var d=t.context,h=d.gl,f=t.transform,m="map"===l,y="map"===_,g=m&&"point"!==n.layout.get("symbol-placement"),b=m&&!y&&!g,v=void 0!==n.layout.get("symbol-sort-key").constantOr(1),E=!1,O=t.depthModeForSublayer(0,xe.ReadOnly),M=n.layout.get("text-variable-anchor"),P=[],x=0,w=i;x<w.length;x+=1){var C=w[x],D=r.getTile(C),T=D.getBucket(n);if(T){var k=o?T.text:T.icon;if(k&&k.segments.get().length){var A=k.programConfigurations.get(n.id),I=o||T.sdfIcons,L=o?T.textSizeData:T.iconSizeData,R=y||0!==f.pitch,S=t.useProgram(en(I,o,T),A),B=e.evaluateSizeForZoom(L,f.zoom),U=void 0,W=[0,0],K=void 0,j=void 0,z=null,F=void 0;if(o)K=D.glyphAtlasTexture,j=h.LINEAR,U=D.glyphAtlasTexture.size,T.iconsInText&&(W=D.imageAtlasTexture.size,z=D.imageAtlasTexture,F=R||t.options.rotating||t.options.zooming||"composite"===L.kind||"camera"===L.kind?h.LINEAR:h.NEAREST);else{var q=1!==n.layout.get("icon-size").constantOr(0)||T.iconsNeedLinear;K=D.imageAtlasTexture,j=I||t.options.rotating||t.options.zooming||q||R?h.LINEAR:h.NEAREST,U=D.imageAtlasTexture.size}var N=pt(D,1,t.transform.zoom),H=Ye(C.posMatrix,y,m,t.transform,N),G=Je(C.posMatrix,y,m,t.transform,N),V=M&&T.hasTextData(),Z="none"!==n.layout.get("icon-text-fit")&&V&&T.hasIconData();g&&rt(T,C.posMatrix,t,o,H,G,y,u);var X=t.translatePosMatrix(C.posMatrix,D,a,s),$=g||o&&M||Z?Yr:H,Y=t.translatePosMatrix(G,D,a,s,!0),J=I&&0!==n.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1),Q={program:S,buffers:k,uniformValues:I?T.iconsInText?Gr(L.kind,B,b,y,t,X,$,Y,U,W):Hr(L.kind,B,b,y,t,X,$,Y,o,U,!0):Nr(L.kind,B,b,y,t,X,$,Y,o,U),atlasTexture:K,atlasTextureIcon:z,atlasInterpolation:j,atlasInterpolationIcon:F,isSDF:I,hasHalo:J};if(v&&T.canOverlap){E=!0;for(var ee=0,te=k.segments.get();ee<te.length;ee+=1){var re=te[ee];P.push({segments:new e.SegmentVector([re]),sortKey:re.sortKey,state:Q})}}else P.push({segments:k.segments,sortKey:0,state:Q})}}}E&&P.sort((function(e,t){return e.sortKey-t.sortKey}));for(var ne=0,ie=P;ne<ie.length;ne+=1){var oe=ie[ne],ae=oe.state;if(d.activeTexture.set(h.TEXTURE0),ae.atlasTexture.bind(ae.atlasInterpolation,h.CLAMP_TO_EDGE),ae.atlasTextureIcon&&(d.activeTexture.set(h.TEXTURE1),ae.atlasTextureIcon&&ae.atlasTextureIcon.bind(ae.atlasInterpolationIcon,h.CLAMP_TO_EDGE)),ae.isSDF){var se=ae.uniformValues;ae.hasHalo&&(se.u_is_halo=1,rn(ae.buffers,oe.segments,n,t,ae.program,O,c,p,se)),se.u_is_halo=0}rn(ae.buffers,oe.segments,n,t,ae.program,O,c,p,ae.uniformValues)}}function rn(e,t,r,n,i,o,a,s,l){var _=n.context;i.draw(_,_.gl.TRIANGLES,o,a,s,De.disabled,l,r.id,e.layoutVertexBuffer,e.indexBuffer,t,r.paint,n.transform.zoom,e.programConfigurations.get(r.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function nn(e,t,r,n,i,o,a){var s,l,_,u,c,p=e.context.gl,d=r.paint.get("fill-pattern"),h=d&&d.constantOr(1),f=r.getCrossfadeParameters();a?(l=h&&!r.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=p.LINES):(l=h?"fillPattern":"fill",s=p.TRIANGLES);for(var m=0,y=n;m<y.length;m+=1){var g=y[m],b=t.getTile(g);if(!h||b.patternsLoaded()){var v=b.getBucket(r);if(v){var E=v.programConfigurations.get(r.id),O=e.useProgram(l,E);h&&(e.context.activeTexture.set(p.TEXTURE0),b.imageAtlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE),E.updatePaintBuffers(f));var M=d.constantOr(null);if(M&&b.imageAtlas){var P=b.imageAtlas,x=P.patternPositions[M.to.toString()],w=P.patternPositions[M.from.toString()];x&&w&&E.setConstantPatternPositions(x,w)}var C=e.translatePosMatrix(g.posMatrix,b,r.paint.get("fill-translate"),r.paint.get("fill-translate-anchor"));if(a){u=v.indexBuffer2,c=v.segments2;var D=[p.drawingBufferWidth,p.drawingBufferHeight];_="fillOutlinePattern"===l&&h?Dr(C,e,f,b,D):Cr(C,D)}else u=v.indexBuffer,c=v.segments,_=h?wr(C,e,f,b):xr(C);O.draw(e.context,s,i,e.stencilModeForClipping(g),o,De.disabled,_,r.id,v.layoutVertexBuffer,u,c,r.paint,e.transform.zoom,E)}}}}function on(e,t,r,n,i,o,a){for(var s=e.context,l=s.gl,_=r.paint.get("fill-extrusion-pattern"),u=_.constantOr(1),c=r.getCrossfadeParameters(),p=r.paint.get("fill-extrusion-opacity"),d=0,h=n;d<h.length;d+=1){var f=h[d],m=t.getTile(f),y=m.getBucket(r);if(y){var g=y.programConfigurations.get(r.id),b=e.useProgram(u?"fillExtrusionPattern":"fillExtrusion",g);u&&(e.context.activeTexture.set(l.TEXTURE0),m.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),g.updatePaintBuffers(c));var v=_.constantOr(null);if(v&&m.imageAtlas){var E=m.imageAtlas,O=E.patternPositions[v.to.toString()],M=E.patternPositions[v.from.toString()];O&&M&&g.setConstantPatternPositions(O,M)}var P=e.translatePosMatrix(f.posMatrix,m,r.paint.get("fill-extrusion-translate"),r.paint.get("fill-extrusion-translate-anchor")),x=r.paint.get("fill-extrusion-vertical-gradient"),w=u?Pr(P,e,x,p,f,c,m):Mr(P,e,x,p);b.draw(s,s.gl.TRIANGLES,i,o,a,De.backCCW,w,r.id,y.layoutVertexBuffer,y.indexBuffer,y.segments,r.paint,e.transform.zoom,g)}}}function an(t,r,n,i,o,a){var s=t.context,l=s.gl,_=r.fbo;if(_){var u=t.useProgram("hillshade");s.activeTexture.set(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,_.colorAttachment.get());var c=function(t,r,n){var i=n.paint.get("hillshade-shadow-color"),o=n.paint.get("hillshade-highlight-color"),a=n.paint.get("hillshade-accent-color"),s=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===n.paint.get("hillshade-illumination-anchor")&&(s-=t.transform.angle);var l,_,u,c=!t.options.moving;return{u_matrix:t.transform.calculatePosMatrix(r.tileID.toUnwrapped(),c),u_image:0,u_latrange:(l=r.tileID,_=Math.pow(2,l.canonical.z),u=l.canonical.y,[new e.MercatorCoordinate(0,u/_).toLngLat().lat,new e.MercatorCoordinate(0,(u+1)/_).toLngLat().lat]),u_light:[n.paint.get("hillshade-exaggeration"),s],u_shadow:i,u_highlight:o,u_accent:a}}(t,r,n);u.draw(s,l.TRIANGLES,i,o,a,De.disabled,c,n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}}function sn(t,r,n,i,o,a){var s=t.context,l=s.gl,_=r.dem;if(_&&_.data){var u=_.dim,c=_.stride,p=_.getPixels();if(s.activeTexture.set(l.TEXTURE1),s.pixelStoreUnpackPremultiplyAlpha.set(!1),r.demTexture=r.demTexture||t.getTileTexture(c),r.demTexture){var d=r.demTexture;d.update(p,{premultiply:!1}),d.bind(l.NEAREST,l.CLAMP_TO_EDGE)}else r.demTexture=new e.Texture(s,p,l.RGBA,{premultiply:!1}),r.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);s.activeTexture.set(l.TEXTURE0);var h=r.fbo;if(!h){var f=new e.Texture(s,{width:u,height:u,data:null},l.RGBA);f.bind(l.LINEAR,l.CLAMP_TO_EDGE),(h=r.fbo=s.createFramebuffer(u,u,!0)).colorAttachment.set(f.texture)}s.bindFramebuffer.set(h.framebuffer),s.viewport.set([0,0,u,u]),t.useProgram("hillshadePrepare").draw(s,l.TRIANGLES,i,o,a,De.disabled,function(t,r){var n=r.stride,i=e.create();return e.ortho(i,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(i,i,[0,-e.EXTENT,0]),{u_matrix:i,u_image:1,u_dimension:[n,n],u_zoom:t.overscaledZ,u_unpack:r.getUnpackVector()}}(r.tileID,_),n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments),r.needsHillshadePrepare=!1}}function ln(t,r,n,i,o){var a=i.paint.get("raster-fade-duration");if(a>0){var s=e.browser.now(),l=(s-t.timeAdded)/a,_=r?(s-r.timeAdded)/a:-1,u=n.getSource(),c=o.coveringZoomLevel({tileSize:u.tileSize,roundZoom:u.roundZoom}),p=!r||Math.abs(r.tileID.overscaledZ-c)>Math.abs(t.tileID.overscaledZ-c),d=p&&t.refreshedUponExpiration?1:e.clamp(p?l:1-_,0,1);return t.refreshedUponExpiration&&l>=1&&(t.refreshedUponExpiration=!1),r?{opacity:1,mix:1-d}:{opacity:d,mix:0}}return{opacity:1,mix:0}}var _n=new e.Color(1,0,0,1),un=new e.Color(0,1,0,1),cn=new e.Color(0,0,1,1),pn=new e.Color(1,0,1,1),dn=new e.Color(0,1,1,1);function hn(e,t,r,n){mn(e,0,t+r/2,e.transform.width,r,n)}function fn(e,t,r,n){mn(e,t-r/2,0,r,e.transform.height,n)}function mn(t,r,n,i,o,a){var s=t.context,l=s.gl;l.enable(l.SCISSOR_TEST),l.scissor(r*e.browser.devicePixelRatio,n*e.browser.devicePixelRatio,i*e.browser.devicePixelRatio,o*e.browser.devicePixelRatio),s.clear({color:a}),l.disable(l.SCISSOR_TEST)}function yn(t,r,n){var i=t.context,o=i.gl,a=n.posMatrix,s=t.useProgram("debug"),l=xe.disabled,_=we.disabled,u=t.colorModeForRenderPass();i.activeTexture.set(o.TEXTURE0),t.emptyTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE),s.draw(i,o.LINE_STRIP,l,_,u,De.disabled,Ir(a,e.Color.red),"$debug",t.debugBuffer,t.tileBorderIndexBuffer,t.debugSegments);var c=r.getTileByID(n.key).latestRawTileData,p=Math.floor((c&&c.byteLength||0)/1024),d=r.getTile(n).tileSize,h=512/Math.min(d,512)*(n.overscaledZ/t.transform.zoom)*.5,f=n.canonical.toString();n.overscaledZ!==n.canonical.z&&(f+=" => "+n.overscaledZ),function(e,t){e.initDebugOverlayCanvas();var r=e.debugOverlayCanvas,n=e.context.gl,i=e.debugOverlayCanvas.getContext("2d");i.clearRect(0,0,r.width,r.height),i.shadowColor="white",i.shadowBlur=2,i.lineWidth=1.5,i.strokeStyle="white",i.textBaseline="top",i.font="bold 36px Open Sans, sans-serif",i.fillText(t,5,5),i.strokeText(t,5,5),e.debugOverlayTexture.update(r),e.debugOverlayTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)}(t,f+" "+p+"kb"),s.draw(i,o.TRIANGLES,l,_,Ce.alphaBlended,De.disabled,Ir(a,e.Color.transparent,h),"$debug",t.debugBuffer,t.quadTriangleIndexBuffer,t.debugSegments)}var gn={symbol:function(t,r,n,i,o){if("translucent"===t.renderPass){var a=we.disabled,s=t.colorModeForRenderPass();n.layout.get("text-variable-anchor")&&function(t,r,n,i,o,a,s){for(var l=r.transform,_="map"===o,u="map"===a,c=0,p=t;c<p.length;c+=1){var d=p[c],h=i.getTile(d),f=h.getBucket(n);if(f&&f.text&&f.text.segments.get().length){var m=e.evaluateSizeForZoom(f.textSizeData,l.zoom),y=pt(h,1,r.transform.zoom),g=Ye(d.posMatrix,u,_,r.transform,y),b="none"!==n.layout.get("icon-text-fit")&&f.hasIconData();if(m){var v=Math.pow(2,l.zoom-h.tileID.overscaledZ);Qr(f,_,u,s,e.symbolSize,l,g,d.posMatrix,v,m,b)}}}}(i,t,n,r,n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),o),0!==n.paint.get("icon-opacity").constantOr(1)&&tn(t,r,n,i,!1,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),n.layout.get("icon-rotation-alignment"),n.layout.get("icon-pitch-alignment"),n.layout.get("icon-keep-upright"),a,s),0!==n.paint.get("text-opacity").constantOr(1)&&tn(t,r,n,i,!0,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),n.layout.get("text-keep-upright"),a,s),r.map.showCollisionBoxes&&($r(t,r,n,i,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),!0),$r(t,r,n,i,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),!1))}},circle:function(t,r,n,i){if("translucent"===t.renderPass){var o=n.paint.get("circle-opacity"),a=n.paint.get("circle-stroke-width"),s=n.paint.get("circle-stroke-opacity"),l=void 0!==n.layout.get("circle-sort-key").constantOr(1);if(0!==o.constantOr(1)||0!==a.constantOr(1)&&0!==s.constantOr(1)){for(var _=t.context,u=_.gl,c=t.depthModeForSublayer(0,xe.ReadOnly),p=we.disabled,d=t.colorModeForRenderPass(),h=[],f=0;f<i.length;f++){var m=i[f],y=r.getTile(m),g=y.getBucket(n);if(g){var b=g.programConfigurations.get(n.id),v={programConfiguration:b,program:t.useProgram("circle",b),layoutVertexBuffer:g.layoutVertexBuffer,indexBuffer:g.indexBuffer,uniformValues:Tr(t,m,y,n)};if(l)for(var E=0,O=g.segments.get();E<O.length;E+=1){var M=O[E];h.push({segments:new e.SegmentVector([M]),sortKey:M.sortKey,state:v})}else h.push({segments:g.segments,sortKey:0,state:v})}}l&&h.sort((function(e,t){return e.sortKey-t.sortKey}));for(var P=0,x=h;P<x.length;P+=1){var w=x[P],C=w.state;C.program.draw(_,u.TRIANGLES,c,p,d,De.disabled,C.uniformValues,n.id,C.layoutVertexBuffer,C.indexBuffer,w.segments,n.paint,t.transform.zoom,C.programConfiguration)}}}},heatmap:function(t,r,n,i){if(0!==n.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){var o=t.context,a=o.gl,s=we.disabled,l=new Ce([a.ONE,a.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,r){var n=e.gl;e.activeTexture.set(n.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);var i=r.heatmapFbo;if(i)n.bindTexture(n.TEXTURE_2D,i.colorAttachment.get()),e.bindFramebuffer.set(i.framebuffer);else{var o=n.createTexture();n.bindTexture(n.TEXTURE_2D,o),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),i=r.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4,!1),function(e,t,r,n){var i=e.gl;i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t.width/4,t.height/4,0,i.RGBA,e.extRenderToTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:i.UNSIGNED_BYTE,null),n.colorAttachment.set(r)}(e,t,o,i)}}(o,t,n),o.clear({color:e.Color.transparent});for(var _=0;_<i.length;_++){var u=i[_];if(!r.hasRenderableParent(u)){var c=r.getTile(u),p=c.getBucket(n);if(p){var d=p.programConfigurations.get(n.id);t.useProgram("heatmap",d).draw(o,a.TRIANGLES,xe.disabled,s,l,De.disabled,Rr(u.posMatrix,c,t.transform.zoom,n.paint.get("heatmap-intensity")),n.id,p.layoutVertexBuffer,p.indexBuffer,p.segments,n.paint,t.transform.zoom,d)}}}o.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,r){var n=t.context,i=n.gl,o=r.heatmapFbo;if(o){n.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,o.colorAttachment.get()),n.activeTexture.set(i.TEXTURE1);var a=r.colorRampTexture;a||(a=r.colorRampTexture=new e.Texture(n,r.colorRamp,i.RGBA)),a.bind(i.LINEAR,i.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(n,i.TRIANGLES,xe.disabled,we.disabled,t.colorModeForRenderPass(),De.disabled,function(t,r,n,i){var o=e.create();e.ortho(o,0,t.width,t.height,0,0,1);var a=t.context.gl;return{u_matrix:o,u_world:[a.drawingBufferWidth,a.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:r.paint.get("heatmap-opacity")}}(t,r),r.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,r.paint,t.transform.zoom)}}(t,n))},line:function(t,r,n,i){if("translucent"===t.renderPass){var o=n.paint.get("line-opacity"),a=n.paint.get("line-width");if(0!==o.constantOr(1)&&0!==a.constantOr(1))for(var s=t.depthModeForSublayer(0,xe.ReadOnly),l=t.colorModeForRenderPass(),_=n.paint.get("line-dasharray"),u=n.paint.get("line-pattern"),c=u.constantOr(1),p=n.paint.get("line-gradient"),d=n.getCrossfadeParameters(),h=c?"linePattern":_?"lineSDF":p?"lineGradient":"line",f=t.context,m=f.gl,y=!0,g=0,b=i;g<b.length;g+=1){var v=b[g],E=r.getTile(v);if(!c||E.patternsLoaded()){var O=E.getBucket(n);if(O){var M=O.programConfigurations.get(n.id),P=t.context.program.get(),x=t.useProgram(h,M),w=y||x.program!==P,C=u.constantOr(null);if(C&&E.imageAtlas){var D=E.imageAtlas,T=D.patternPositions[C.to.toString()],k=D.patternPositions[C.from.toString()];T&&k&&M.setConstantPatternPositions(T,k)}var A=c?Ur(t,E,n,d):_?Wr(t,E,n,_,d):p?Br(t,E,n,O.lineClipsArray.length):Sr(t,E,n);if(c)f.activeTexture.set(m.TEXTURE0),E.imageAtlasTexture.bind(m.LINEAR,m.CLAMP_TO_EDGE),M.updatePaintBuffers(d);else if(_&&(w||t.lineAtlas.dirty))f.activeTexture.set(m.TEXTURE0),t.lineAtlas.bind(f);else if(p){var I=O.gradients[n.id],L=I.texture;if(n.gradientVersion!==I.version){var R=256;if(n.stepInterpolant){var S=r.getSource().maxzoom,B=v.canonical.z===S?Math.ceil(1<<t.transform.maxZoom-v.canonical.z):1;R=e.clamp(e.nextPowerOfTwo(O.maxLineLength/e.EXTENT*1024*B),256,f.maxTextureSize)}I.gradient=e.renderColorRamp({expression:n.gradientExpression(),evaluationKey:"lineProgress",resolution:R,image:I.gradient||void 0,clips:O.lineClipsArray}),I.texture?I.texture.update(I.gradient):I.texture=new e.Texture(f,I.gradient,m.RGBA),I.version=n.gradientVersion,L=I.texture}f.activeTexture.set(m.TEXTURE0),L.bind(n.stepInterpolant?m.NEAREST:m.LINEAR,m.CLAMP_TO_EDGE)}x.draw(f,m.TRIANGLES,s,t.stencilModeForClipping(v),l,De.disabled,A,n.id,O.layoutVertexBuffer,O.indexBuffer,O.segments,n.paint,t.transform.zoom,M,O.layoutVertexBuffer2),y=!1}}}}},fill:function(t,r,n,i){var o=n.paint.get("fill-color"),a=n.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=t.colorModeForRenderPass(),l=n.paint.get("fill-pattern"),_=t.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===o.constantOr(e.Color.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(t.renderPass===_){var u=t.depthModeForSublayer(1,"opaque"===t.renderPass?xe.ReadWrite:xe.ReadOnly);nn(t,r,n,i,u,s,!1)}if("translucent"===t.renderPass&&n.paint.get("fill-antialias")){var c=t.depthModeForSublayer(n.getPaintProperty("fill-outline-color")?2:0,xe.ReadOnly);nn(t,r,n,i,c,s,!0)}}},"fill-extrusion":function(e,t,r,n){var i=r.paint.get("fill-extrusion-opacity");if(0!==i&&"translucent"===e.renderPass){var o=new xe(e.context.gl.LEQUAL,xe.ReadWrite,e.depthRangeFor3D);if(1!==i||r.paint.get("fill-extrusion-pattern").constantOr(1))on(e,t,r,n,o,we.disabled,Ce.disabled),on(e,t,r,n,o,e.stencilModeFor3D(),e.colorModeForRenderPass());else{var a=e.colorModeForRenderPass();on(e,t,r,n,o,we.disabled,a)}}},hillshade:function(e,t,r,n){if("offscreen"===e.renderPass||"translucent"===e.renderPass){for(var i=e.context,o=e.depthModeForSublayer(0,xe.ReadOnly),a=e.colorModeForRenderPass(),s="translucent"===e.renderPass?e.stencilConfigForOverlap(n):[{},n],l=s[0],_=0,u=s[1];_<u.length;_+=1){var c=u[_],p=t.getTile(c);p.needsHillshadePrepare&&"offscreen"===e.renderPass?sn(e,p,r,o,we.disabled,a):"translucent"===e.renderPass&&an(e,p,r,o,l[c.overscaledZ],a)}i.viewport.set([0,0,e.width,e.height])}},raster:function(e,t,r,n){if("translucent"===e.renderPass&&0!==r.paint.get("raster-opacity")&&n.length)for(var i=e.context,o=i.gl,a=t.getSource(),s=e.useProgram("raster"),l=e.colorModeForRenderPass(),_=a instanceof I?[{},n]:e.stencilConfigForOverlap(n),u=_[0],c=_[1],p=c[c.length-1].overscaledZ,d=!e.options.moving,h=0,f=c;h<f.length;h+=1){var m=f[h],y=e.depthModeForSublayer(m.overscaledZ-p,1===r.paint.get("raster-opacity")?xe.ReadWrite:xe.ReadOnly,o.LESS),g=t.getTile(m),b=e.transform.calculatePosMatrix(m.toUnwrapped(),d);g.registerFadeDuration(r.paint.get("raster-fade-duration"));var v=t.findLoadedParent(m,0),E=ln(g,v,t,r,e.transform),O=void 0,M=void 0,P="nearest"===r.paint.get("raster-resampling")?o.NEAREST:o.LINEAR;i.activeTexture.set(o.TEXTURE0),g.texture.bind(P,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),i.activeTexture.set(o.TEXTURE1),v?(v.texture.bind(P,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),O=Math.pow(2,v.tileID.overscaledZ-g.tileID.overscaledZ),M=[g.tileID.canonical.x*O%1,g.tileID.canonical.y*O%1]):g.texture.bind(P,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST);var x=zr(b,M||[0,0],O||1,E,r);a instanceof I?s.draw(i,o.TRIANGLES,y,we.disabled,l,De.disabled,x,r.id,a.boundsBuffer,e.quadTriangleIndexBuffer,a.boundsSegments):s.draw(i,o.TRIANGLES,y,u[m.overscaledZ],l,De.disabled,x,r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}},background:function(e,t,r){var n=r.paint.get("background-color"),i=r.paint.get("background-opacity");if(0!==i){var o=e.context,a=o.gl,s=e.transform,l=s.tileSize,_=r.paint.get("background-pattern");if(!e.isPatternMissing(_)){var u=!_&&1===n.a&&1===i&&e.opaquePassEnabledForLayer()?"opaque":"translucent";if(e.renderPass===u){var c=we.disabled,p=e.depthModeForSublayer(0,"opaque"===u?xe.ReadWrite:xe.ReadOnly),d=e.colorModeForRenderPass(),h=e.useProgram(_?"backgroundPattern":"background"),f=s.coveringTiles({tileSize:l});_&&(o.activeTexture.set(a.TEXTURE0),e.imageManager.bind(e.context));for(var m=r.getCrossfadeParameters(),y=0,g=f;y<g.length;y+=1){var b=g[y],v=e.transform.calculatePosMatrix(b.toUnwrapped()),E=_?Zr(v,i,e,_,{tileID:b,tileSize:l},m):Vr(v,i,n);h.draw(o,a.TRIANGLES,p,c,d,De.disabled,E,r.id,e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments)}}}}},debug:function(e,t,r){for(var n=0;n<r.length;n++)yn(e,t,r[n])},custom:function(e,t,r){var n=e.context,i=r.implementation;if("offscreen"===e.renderPass){var o=i.prerender;o&&(e.setCustomLayerDefaults(),n.setColorMode(e.colorModeForRenderPass()),o.call(i,n.gl,e.transform.customLayerMatrix()),n.setDirty(),e.setBaseState())}else if("translucent"===e.renderPass){e.setCustomLayerDefaults(),n.setColorMode(e.colorModeForRenderPass()),n.setStencilMode(we.disabled);var a="3d"===i.renderingMode?new xe(e.context.gl.LEQUAL,xe.ReadWrite,e.depthRangeFor3D):e.depthModeForSublayer(0,xe.ReadOnly);n.setDepthMode(a),i.render(n.gl,e.transform.customLayerMatrix()),n.setDirty(),e.setBaseState(),n.bindFramebuffer.set(null)}}},bn=function(e,t){this.context=new Te(e),this.transform=t,this._tileTextures={},this.setup(),this.numSublayers=ke.maxUnderzooming+ke.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Wt,this.gpuTimers={}};bn.prototype.resize=function(t,r){if(this.width=t*e.browser.devicePixelRatio,this.height=r*e.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var n=0,i=this.style._order;n<i.length;n+=1)this.style._layers[i[n]].resize()},bn.prototype.setup=function(){var t=this.context,r=new e.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(e.EXTENT,0),r.emplaceBack(0,e.EXTENT),r.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(r,Nt.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);var n=new e.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(n,Nt.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);var i=new e.StructArrayLayout4i8;i.emplaceBack(0,0,0,0),i.emplaceBack(e.EXTENT,0,e.EXTENT,0),i.emplaceBack(0,e.EXTENT,0,e.EXTENT),i.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.rasterBoundsBuffer=t.createVertexBuffer(i,A.members),this.rasterBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);var o=new e.StructArrayLayout2i4;o.emplaceBack(0,0),o.emplaceBack(1,0),o.emplaceBack(0,1),o.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(o,Nt.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);var a=new e.StructArrayLayout1ui2;a.emplaceBack(0),a.emplaceBack(1),a.emplaceBack(3),a.emplaceBack(2),a.emplaceBack(0),this.tileBorderIndexBuffer=t.createIndexBuffer(a);var s=new e.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(s),this.emptyTexture=new e.Texture(t,{width:1,height:1,data:new Uint8Array([0,0,0,0])},t.gl.RGBA);var l=this.context.gl;this.stencilClearMode=new we({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO)},bn.prototype.clearStencil=function(){var t=this.context,r=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var n=e.create();e.ortho(n,0,this.width,this.height,0,0,1),e.scale(n,n,[r.drawingBufferWidth,r.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(t,r.TRIANGLES,xe.disabled,this.stencilClearMode,Ce.disabled,De.disabled,Lr(n),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},bn.prototype._renderTileClippingMasks=function(e,t){if(this.currentStencilSource!==e.source&&e.isTileClipped()&&t&&t.length){this.currentStencilSource=e.source;var r=this.context,n=r.gl;this.nextStencilID+t.length>256&&this.clearStencil(),r.setColorMode(Ce.disabled),r.setDepthMode(xe.disabled);var i=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var o=0,a=t;o<a.length;o+=1){var s=a[o],l=this._tileClippingMaskIDs[s.key]=this.nextStencilID++;i.draw(r,n.TRIANGLES,xe.disabled,new we({func:n.ALWAYS,mask:0},l,255,n.KEEP,n.KEEP,n.REPLACE),Ce.disabled,De.disabled,Lr(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},bn.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var e=this.nextStencilID++,t=this.context.gl;return new we({func:t.NOTEQUAL,mask:255},e,255,t.KEEP,t.KEEP,t.REPLACE)},bn.prototype.stencilModeForClipping=function(e){var t=this.context.gl;return new we({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)},bn.prototype.stencilConfigForOverlap=function(e){var t,r=this.context.gl,n=e.sort((function(e,t){return t.overscaledZ-e.overscaledZ})),i=n[n.length-1].overscaledZ,o=n[0].overscaledZ-i+1;if(o>1){this.currentStencilSource=void 0,this.nextStencilID+o>256&&this.clearStencil();for(var a={},s=0;s<o;s++)a[s+i]=new we({func:r.GEQUAL,mask:255},s+this.nextStencilID,255,r.KEEP,r.KEEP,r.REPLACE);return this.nextStencilID+=o,[a,n]}return[(t={},t[i]=we.disabled,t),n]},bn.prototype.colorModeForRenderPass=function(){var t=this.context.gl;return this._showOverdrawInspector?new Ce([t.CONSTANT_COLOR,t.ONE],new e.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?Ce.unblended:Ce.alphaBlended},bn.prototype.depthModeForSublayer=function(e,t,r){if(!this.opaquePassEnabledForLayer())return xe.disabled;var n=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new xe(r||this.context.gl.LEQUAL,t,[n,n])},bn.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},bn.prototype.render=function(t,r){var n=this;this.style=t,this.options=r,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.browser.now()),this.imageManager.beginFrame();var i=this.style._order,o=this.style.sourceCaches;for(var a in o){var s=o[a];s.used&&s.prepare(this.context)}var l,_,u={},c={},p={};for(var d in o){var h=o[d];u[d]=h.getVisibleCoordinates(),c[d]=u[d].slice().reverse(),p[d]=h.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var f=0;f<i.length;f++)if(this.style._layers[i[f]].is3D()){this.opaquePassCutoff=f;break}this.renderPass="offscreen";for(var m=0,y=i;m<y.length;m+=1){var g=this.style._layers[y[m]];if(g.hasOffscreenPass()&&!g.isHidden(this.transform.zoom)){var b=c[g.source];("custom"===g.type||b.length)&&this.renderLayer(this,o[g.source],g,b)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:r.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=r.showOverdrawInspector,this.depthRangeFor3D=[0,1-(t._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=i.length-1;this.currentLayer>=0;this.currentLayer--){var v=this.style._layers[i[this.currentLayer]],E=o[v.source],O=u[v.source];this._renderTileClippingMasks(v,O),this.renderLayer(this,E,v,O)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<i.length;this.currentLayer++){var M=this.style._layers[i[this.currentLayer]],P=o[M.source],x=("symbol"===M.type?p:c)[M.source];this._renderTileClippingMasks(M,u[M.source]),this.renderLayer(this,P,M,x)}this.options.showTileBoundaries&&(e.values(this.style._layers).forEach((function(e){e.source&&!e.isHidden(n.transform.zoom)&&(e.source!==(_&&_.id)&&(_=n.style.sourceCaches[e.source]),(!l||l.getSource().maxzoom<_.getSource().maxzoom)&&(l=_))})),l&&gn.debug(this,l,l.getVisibleCoordinates())),this.options.showPadding&&function(e){var t=e.transform.padding;hn(e,e.transform.height-(t.top||0),3,_n),hn(e,t.bottom||0,3,un),fn(e,t.left||0,3,cn),fn(e,e.transform.width-(t.right||0),3,pn);var r=e.transform.centerPoint;!function(e,t,r,n){mn(e,t-1,r-10,2,20,n),mn(e,t-10,r-1,20,2,n)}(e,r.x,e.transform.height-r.y,dn)}(this),this.context.setDefault()},bn.prototype.renderLayer=function(e,t,r,n){r.isHidden(this.transform.zoom)||("background"===r.type||"custom"===r.type||n.length)&&(this.id=r.id,this.gpuTimingStart(r),gn[r.type](e,t,r,n,this.style.placement.variableOffsets),this.gpuTimingEnd())},bn.prototype.gpuTimingStart=function(e){if(this.options.gpuTiming){var t=this.context.extTimerQuery,r=this.gpuTimers[e.id];r||(r=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),r.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,r.query)}},bn.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}},bn.prototype.collectGpuTimers=function(){var e=this.gpuTimers;return this.gpuTimers={},e},bn.prototype.queryGpuTimers=function(e){var t={};for(var r in e){var n=e[r],i=this.context.extTimerQuery,o=i.getQueryObjectEXT(n.query,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(n.query),t[r]=o}return t},bn.prototype.translatePosMatrix=function(t,r,n,i,o){if(!n[0]&&!n[1])return t;var a=o?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0;if(a){var s=Math.sin(a),l=Math.cos(a);n=[n[0]*l-n[1]*s,n[0]*s+n[1]*l]}var _=[o?n[0]:pt(r,n[0],this.transform.zoom),o?n[1]:pt(r,n[1],this.transform.zoom),0],u=new Float32Array(16);return e.translate(u,t,_),u},bn.prototype.saveTileTexture=function(e){var t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]},bn.prototype.getTileTexture=function(e){var t=this._tileTextures[e];return t&&t.length>0?t.pop():null},bn.prototype.isPatternMissing=function(e){if(!e)return!1;if(!e.from||!e.to)return!0;var t=this.imageManager.getPattern(e.from.toString()),r=this.imageManager.getPattern(e.to.toString());return!t||!r},bn.prototype.useProgram=function(e,t){this.cache=this.cache||{};var r=""+e+(t?t.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[r]||(this.cache[r]=new Er(this.context,e,gr[e],t,Xr[e],this._showOverdrawInspector)),this.cache[r]},bn.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},bn.prototype.setBaseState=function(){var e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)},bn.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=e.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new e.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},bn.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var vn=function(e,t){this.points=e,this.planes=t};vn.fromInvProjectionMatrix=function(t,r,n){var i=Math.pow(2,n),o=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((function(r){return e.transformMat4([],r,t)})).map((function(t){return e.scale$1([],t,1/t[3]/r*i)})),a=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((function(t){var r=e.sub([],o[t[0]],o[t[1]]),n=e.sub([],o[t[2]],o[t[1]]),i=e.normalize([],e.cross([],r,n)),a=-e.dot(i,o[t[1]]);return i.concat(a)}));return new vn(o,a)};var En=function(t,r){this.min=t,this.max=r,this.center=e.scale$2([],e.add([],this.min,this.max),.5)};En.prototype.quadrant=function(t){for(var r=[t%2==0,t<2],n=e.clone$2(this.min),i=e.clone$2(this.max),o=0;o<r.length;o++)n[o]=r[o]?this.min[o]:this.center[o],i[o]=r[o]?this.center[o]:this.max[o];return i[2]=this.max[2],new En(n,i)},En.prototype.distanceX=function(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]},En.prototype.distanceY=function(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]},En.prototype.intersects=function(t){for(var r=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],n=!0,i=0;i<t.planes.length;i++){for(var o=t.planes[i],a=0,s=0;s<r.length;s++)a+=e.dot$1(o,r[s])>=0;if(0===a)return 0;a!==r.length&&(n=!1)}if(n)return 2;for(var l=0;l<3;l++){for(var _=Number.MAX_VALUE,u=-Number.MAX_VALUE,c=0;c<t.points.length;c++){var p=t.points[c][l]-this.min[l];_=Math.min(_,p),u=Math.max(u,p)}if(u<0||_>this.max[l]-this.min[l])return 0}return 1};var On=function(e,t,r,n){if(void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),void 0===n&&(n=0),isNaN(e)||e<0||isNaN(t)||t<0||isNaN(r)||r<0||isNaN(n)||n<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=t,this.left=r,this.right=n};On.prototype.interpolate=function(t,r,n){return null!=r.top&&null!=t.top&&(this.top=e.number(t.top,r.top,n)),null!=r.bottom&&null!=t.bottom&&(this.bottom=e.number(t.bottom,r.bottom,n)),null!=r.left&&null!=t.left&&(this.left=e.number(t.left,r.left,n)),null!=r.right&&null!=t.right&&(this.right=e.number(t.right,r.right,n)),this},On.prototype.getCenter=function(t,r){var n=e.clamp((this.left+t-this.right)/2,0,t),i=e.clamp((this.top+r-this.bottom)/2,0,r);return new e.Point(n,i)},On.prototype.equals=function(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right},On.prototype.clone=function(){return new On(this.top,this.bottom,this.left,this.right)},On.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Mn=function(t,r,n,i,o){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===o||o,this._minZoom=t||0,this._maxZoom=r||22,this._minPitch=null==n?0:n,this._maxPitch=null==i?60:i,this.setMaxBounds(),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new On,this._posMatrixCache={},this._alignedPosMatrixCache={}},Pn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Mn.prototype.clone=function(){var e=new Mn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return e.tileSize=this.tileSize,e.latRange=this.latRange,e.width=this.width,e.height=this.height,e._center=this._center,e.zoom=this.zoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._calcMatrices(),e},Pn.minZoom.get=function(){return this._minZoom},Pn.minZoom.set=function(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))},Pn.maxZoom.get=function(){return this._maxZoom},Pn.maxZoom.set=function(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))},Pn.minPitch.get=function(){return this._minPitch},Pn.minPitch.set=function(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))},Pn.maxPitch.get=function(){return this._maxPitch},Pn.maxPitch.set=function(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))},Pn.renderWorldCopies.get=function(){return this._renderWorldCopies},Pn.renderWorldCopies.set=function(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e},Pn.worldSize.get=function(){return this.tileSize*this.scale},Pn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Pn.size.get=function(){return new e.Point(this.width,this.height)},Pn.bearing.get=function(){return-this.angle/Math.PI*180},Pn.bearing.set=function(t){var r=-e.wrap(t,-180,180)*Math.PI/180;this.angle!==r&&(this._unmodified=!1,this.angle=r,this._calcMatrices(),this.rotationMatrix=e.create$2(),e.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Pn.pitch.get=function(){return this._pitch/Math.PI*180},Pn.pitch.set=function(t){var r=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==r&&(this._unmodified=!1,this._pitch=r,this._calcMatrices())},Pn.fov.get=function(){return this._fov/Math.PI*180},Pn.fov.set=function(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())},Pn.zoom.get=function(){return this._zoom},Pn.zoom.set=function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom,this._constrain(),this._calcMatrices())},Pn.center.get=function(){return this._center},Pn.center.set=function(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())},Pn.padding.get=function(){return this._edgeInsets.toJSON()},Pn.padding.set=function(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())},Pn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Mn.prototype.isPaddingEqual=function(e){return this._edgeInsets.equals(e)},Mn.prototype.interpolatePadding=function(e,t,r){this._unmodified=!1,this._edgeInsets.interpolate(e,t,r),this._constrain(),this._calcMatrices()},Mn.prototype.coveringZoomLevel=function(e){var t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)},Mn.prototype.getVisibleUnwrappedCoordinates=function(t){var r=[new e.UnwrappedTileID(0,t)];if(this._renderWorldCopies)for(var n=this.pointCoordinate(new e.Point(0,0)),i=this.pointCoordinate(new e.Point(this.width,0)),o=this.pointCoordinate(new e.Point(this.width,this.height)),a=this.pointCoordinate(new e.Point(0,this.height)),s=Math.floor(Math.min(n.x,i.x,o.x,a.x)),l=Math.floor(Math.max(n.x,i.x,o.x,a.x)),_=s-1;_<=l+1;_++)0!==_&&r.push(new e.UnwrappedTileID(_,t));return r},Mn.prototype.coveringTiles=function(t){var r=this.coveringZoomLevel(t),n=r;if(void 0!==t.minzoom&&r<t.minzoom)return[];void 0!==t.maxzoom&&r>t.maxzoom&&(r=t.maxzoom);var i=e.MercatorCoordinate.fromLngLat(this.center),o=Math.pow(2,r),a=[o*i.x,o*i.y,0],s=vn.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,r),l=t.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(l=r);var _=function(e){return{aabb:new En([e*o,0,0],[(e+1)*o,o,0]),zoom:0,x:0,y:0,wrap:e,fullyVisible:!1}},u=[],c=[],p=r,d=t.reparseOverscaled?n:r;if(this._renderWorldCopies)for(var h=1;h<=3;h++)u.push(_(-h)),u.push(_(h));for(u.push(_(0));u.length>0;){var f=u.pop(),m=f.x,y=f.y,g=f.fullyVisible;if(!g){var b=f.aabb.intersects(s);if(0===b)continue;g=2===b}var v=f.aabb.distanceX(a),E=f.aabb.distanceY(a),O=Math.max(Math.abs(v),Math.abs(E));if(f.zoom===p||O>3+(1<<p-f.zoom)-2&&f.zoom>=l)c.push({tileID:new e.OverscaledTileID(f.zoom===p?d:f.zoom,f.wrap,f.zoom,m,y),distanceSq:e.sqrLen([a[0]-.5-m,a[1]-.5-y])});else for(var M=0;M<4;M++){var P=(m<<1)+M%2,x=(y<<1)+(M>>1);u.push({aabb:f.aabb.quadrant(M),zoom:f.zoom+1,x:P,y:x,wrap:f.wrap,fullyVisible:g})}}return c.sort((function(e,t){return e.distanceSq-t.distanceSq})).map((function(e){return e.tileID}))},Mn.prototype.resize=function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()},Pn.unmodified.get=function(){return this._unmodified},Mn.prototype.zoomScale=function(e){return Math.pow(2,e)},Mn.prototype.scaleZoom=function(e){return Math.log(e)/Math.LN2},Mn.prototype.project=function(t){var r=e.clamp(t.lat,-this.maxValidLatitude,this.maxValidLatitude);return new e.Point(e.mercatorXfromLng(t.lng)*this.worldSize,e.mercatorYfromLat(r)*this.worldSize)},Mn.prototype.unproject=function(t){return new e.MercatorCoordinate(t.x/this.worldSize,t.y/this.worldSize).toLngLat()},Pn.point.get=function(){return this.project(this.center)},Mn.prototype.setLocationAtPoint=function(t,r){var n=this.pointCoordinate(r),i=this.pointCoordinate(this.centerPoint),o=this.locationCoordinate(t),a=new e.MercatorCoordinate(o.x-(n.x-i.x),o.y-(n.y-i.y));this.center=this.coordinateLocation(a),this._renderWorldCopies&&(this.center=this.center.wrap())},Mn.prototype.locationPoint=function(e){return this.coordinatePoint(this.locationCoordinate(e))},Mn.prototype.pointLocation=function(e){return this.coordinateLocation(this.pointCoordinate(e))},Mn.prototype.locationCoordinate=function(t){return e.MercatorCoordinate.fromLngLat(t)},Mn.prototype.coordinateLocation=function(e){return e.toLngLat()},Mn.prototype.pointCoordinate=function(t){var r=[t.x,t.y,0,1],n=[t.x,t.y,1,1];e.transformMat4(r,r,this.pixelMatrixInverse),e.transformMat4(n,n,this.pixelMatrixInverse);var i=r[3],o=n[3],a=r[1]/i,s=n[1]/o,l=r[2]/i,_=n[2]/o,u=l===_?0:(0-l)/(_-l);return new e.MercatorCoordinate(e.number(r[0]/i,n[0]/o,u)/this.worldSize,e.number(a,s,u)/this.worldSize)},Mn.prototype.coordinatePoint=function(t){var r=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(r,r,this.pixelMatrix),new e.Point(r[0]/r[3],r[1]/r[3])},Mn.prototype.getBounds=function(){return(new e.LngLatBounds).extend(this.pointLocation(new e.Point(0,0))).extend(this.pointLocation(new e.Point(this.width,0))).extend(this.pointLocation(new e.Point(this.width,this.height))).extend(this.pointLocation(new e.Point(0,this.height)))},Mn.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new e.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Mn.prototype.setMaxBounds=function(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Mn.prototype.calculatePosMatrix=function(t,r){void 0===r&&(r=!1);var n=t.key,i=r?this._alignedPosMatrixCache:this._posMatrixCache;if(i[n])return i[n];var o=t.canonical,a=this.worldSize/this.zoomScale(o.z),s=o.x+Math.pow(2,o.z)*t.wrap,l=e.identity(new Float64Array(16));return e.translate(l,l,[s*a,o.y*a,0]),e.scale(l,l,[a/e.EXTENT,a/e.EXTENT,1]),e.multiply(l,r?this.alignedProjMatrix:this.projMatrix,l),i[n]=new Float32Array(l),i[n]},Mn.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Mn.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,r,n,i,o=-90,a=90,s=-180,l=180,_=this.size,u=this._unmodified;if(this.latRange){var c=this.latRange;o=e.mercatorYfromLat(c[1])*this.worldSize,t=(a=e.mercatorYfromLat(c[0])*this.worldSize)-o<_.y?_.y/(a-o):0}if(this.lngRange){var p=this.lngRange;s=e.mercatorXfromLng(p[0])*this.worldSize,r=(l=e.mercatorXfromLng(p[1])*this.worldSize)-s<_.x?_.x/(l-s):0}var d=this.point,h=Math.max(r||0,t||0);if(h)return this.center=this.unproject(new e.Point(r?(l+s)/2:d.x,t?(a+o)/2:d.y)),this.zoom+=this.scaleZoom(h),this._unmodified=u,void(this._constraining=!1);if(this.latRange){var f=d.y,m=_.y/2;f-m<o&&(i=o+m),f+m>a&&(i=a-m)}if(this.lngRange){var y=d.x,g=_.x/2;y-g<s&&(n=s+g),y+g>l&&(n=l-g)}void 0===n&&void 0===i||(this.center=this.unproject(new e.Point(void 0!==n?n:d.x,void 0!==i?i:d.y))),this._unmodified=u,this._constraining=!1}},Mn.prototype._calcMatrices=function(){if(this.height){var t=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var r=Math.PI/2+this._pitch,n=this._fov*(.5+t.y/this.height),i=Math.sin(n)*this.cameraToCenterDistance/Math.sin(e.clamp(Math.PI-r-n,.01,Math.PI-.01)),o=this.point,a=o.x,s=o.y,l=1.01*(Math.cos(Math.PI/2-this._pitch)*i+this.cameraToCenterDistance),_=this.height/50,u=new Float64Array(16);e.perspective(u,this._fov,this.width/this.height,_,l),u[8]=2*-t.x/this.width,u[9]=2*t.y/this.height,e.scale(u,u,[1,-1,1]),e.translate(u,u,[0,0,-this.cameraToCenterDistance]),e.rotateX(u,u,this._pitch),e.rotateZ(u,u,this.angle),e.translate(u,u,[-a,-s,0]),this.mercatorMatrix=e.scale([],u,[this.worldSize,this.worldSize,this.worldSize]),e.scale(u,u,[1,1,e.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=u,this.invProjMatrix=e.invert([],this.projMatrix);var c=this.width%2/2,p=this.height%2/2,d=Math.cos(this.angle),h=Math.sin(this.angle),f=a-Math.round(a)+d*c+h*p,m=s-Math.round(s)+d*p+h*c,y=new Float64Array(u);if(e.translate(y,y,[f>.5?f-1:f,m>.5?m-1:m,0]),this.alignedProjMatrix=y,u=e.create(),e.scale(u,u,[this.width/2,-this.height/2,1]),e.translate(u,u,[1,-1,0]),this.labelPlaneMatrix=u,u=e.create(),e.scale(u,u,[1,-1,1]),e.translate(u,u,[-1,-1,0]),e.scale(u,u,[2/this.width,2/this.height,1]),this.glCoordMatrix=u,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(u=e.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=u,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Mn.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var t=this.pointCoordinate(new e.Point(0,0)),r=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(r,r,this.pixelMatrix)[3]/this.cameraToCenterDistance},Mn.prototype.getCameraPoint=function(){var t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.Point(0,t))},Mn.prototype.getCameraQueryGeometry=function(t){var r=this.getCameraPoint();if(1===t.length)return[t[0],r];for(var n=r.x,i=r.y,o=r.x,a=r.y,s=0,l=t;s<l.length;s+=1){var _=l[s];n=Math.min(n,_.x),i=Math.min(i,_.y),o=Math.max(o,_.x),a=Math.max(a,_.y)}return[new e.Point(n,i),new e.Point(o,i),new e.Point(o,a),new e.Point(n,a),new e.Point(n,i)]},Object.defineProperties(Mn.prototype,Pn);var xn=function(t){var r,n,i,o;this._hashName=t&&encodeURIComponent(t),e.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(r=this._updateHashUnthrottled.bind(this),n=!1,i=null,o=function(){i=null,n&&(r(),i=setTimeout(o,300),n=!1)},function(){return n=!0,i||o(),i})};xn.prototype.addTo=function(t){return this._map=t,e.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},xn.prototype.remove=function(){return e.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},xn.prototype.getHashString=function(t){var r=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,i=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,i),a=Math.round(r.lng*o)/o,s=Math.round(r.lat*o)/o,l=this._map.getBearing(),_=this._map.getPitch(),u="";if(u+=t?"/"+a+"/"+s+"/"+n:n+"/"+s+"/"+a,(l||_)&&(u+="/"+Math.round(10*l)/10),_&&(u+="/"+Math.round(_)),this._hashName){var c=this._hashName,p=!1,d=e.window.location.hash.slice(1).split("&").map((function(e){var t=e.split("=")[0];return t===c?(p=!0,t+"="+u):e})).filter((function(e){return e}));return p||d.push(c+"="+u),"#"+d.join("&")}return"#"+u},xn.prototype._getCurrentHash=function(){var t,r=this,n=e.window.location.hash.replace("#","");return this._hashName?(n.split("&").map((function(e){return e.split("=")})).forEach((function(e){e[0]===r._hashName&&(t=e)})),(t&&t[1]||"").split("/")):n.split("/")},xn.prototype._onHashChange=function(){var e=this._getCurrentHash();if(e.length>=3&&!e.some((function(e){return isNaN(e)}))){var t=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(e[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:t,pitch:+(e[4]||0)}),!0}return!1},xn.prototype._updateHashUnthrottled=function(){var t=e.window.location.href.replace(/(#.+)?$/,this.getHashString());try{e.window.history.replaceState(e.window.history.state,null,t)}catch(e){}};var wn={linearity:.3,easing:e.bezier(0,0,.3,1)},Cn=e.extend({deceleration:2500,maxSpeed:1400},wn),Dn=e.extend({deceleration:20,maxSpeed:1400},wn),Tn=e.extend({deceleration:1e3,maxSpeed:360},wn),kn=e.extend({deceleration:1e3,maxSpeed:90},wn),An=function(e){this._map=e,this.clear()};function In(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function Ln(t,r,n){var i=n.maxSpeed,o=n.linearity,a=n.deceleration,s=e.clamp(t*o/(r/1e3),-i,i),l=Math.abs(s)/(a*o);return{easing:n.easing,duration:1e3*l,amount:s*(l/2)}}An.prototype.clear=function(){this._inertiaBuffer=[]},An.prototype.record=function(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.browser.now(),settings:t})},An.prototype._drainInertiaBuffer=function(){for(var t=this._inertiaBuffer,r=e.browser.now();t.length>0&&r-t[0].time>160;)t.shift()},An.prototype._onMoveEnd=function(t){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var r={zoom:0,bearing:0,pitch:0,pan:new e.Point(0,0),pinchAround:void 0,around:void 0},n=0,i=this._inertiaBuffer;n<i.length;n+=1){var o=i[n].settings;r.zoom+=o.zoomDelta||0,r.bearing+=o.bearingDelta||0,r.pitch+=o.pitchDelta||0,o.panDelta&&r.pan._add(o.panDelta),o.around&&(r.around=o.around),o.pinchAround&&(r.pinchAround=o.pinchAround)}var a=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,s={};if(r.pan.mag()){var l=Ln(r.pan.mag(),a,e.extend({},Cn,t||{}));s.offset=r.pan.mult(l.amount/r.pan.mag()),s.center=this._map.transform.center,In(s,l)}if(r.zoom){var _=Ln(r.zoom,a,Dn);s.zoom=this._map.transform.zoom+_.amount,In(s,_)}if(r.bearing){var u=Ln(r.bearing,a,Tn);s.bearing=this._map.transform.bearing+e.clamp(u.amount,-179,179),In(s,u)}if(r.pitch){var c=Ln(r.pitch,a,kn);s.pitch=this._map.transform.pitch+c.amount,In(s,c)}if(s.zoom||s.bearing){var p=void 0===r.pinchAround?r.around:r.pinchAround;s.around=p?this._map.unproject(p):this._map.getCenter()}return this.clear(),e.extend(s,{noMoveStart:!0})}};var Rn=function(t){function n(n,i,o,a){void 0===a&&(a={});var s=r.mousePos(i.getCanvasContainer(),o),l=i.unproject(s);t.call(this,n,e.extend({point:s,lngLat:l,originalEvent:o},a)),this._defaultPrevented=!1,this.target=i}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var i={defaultPrevented:{configurable:!0}};return n.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(n.prototype,i),n}(e.Event),Sn=function(t){function n(n,i,o){var a="touchend"===n?o.changedTouches:o.touches,s=r.touchPos(i.getCanvasContainer(),a),l=s.map((function(e){return i.unproject(e)})),_=s.reduce((function(e,t,r,n){return e.add(t.div(n.length))}),new e.Point(0,0)),u=i.unproject(_);t.call(this,n,{points:s,point:_,lngLats:l,lngLat:u,originalEvent:o}),this._defaultPrevented=!1}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var i={defaultPrevented:{configurable:!0}};return n.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(n.prototype,i),n}(e.Event),Bn=function(e){function t(t,r,n){e.call(this,t,{originalEvent:n}),this._defaultPrevented=!1}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var r={defaultPrevented:{configurable:!0}};return t.prototype.preventDefault=function(){this._defaultPrevented=!0},r.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(t.prototype,r),t}(e.Event),Un=function(e,t){this._map=e,this._clickTolerance=t.clickTolerance};Un.prototype.reset=function(){delete this._mousedownPos},Un.prototype.wheel=function(e){return this._firePreventable(new Bn(e.type,this._map,e))},Un.prototype.mousedown=function(e,t){return this._mousedownPos=t,this._firePreventable(new Rn(e.type,this._map,e))},Un.prototype.mouseup=function(e){this._map.fire(new Rn(e.type,this._map,e))},Un.prototype.click=function(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||this._map.fire(new Rn(e.type,this._map,e))},Un.prototype.dblclick=function(e){return this._firePreventable(new Rn(e.type,this._map,e))},Un.prototype.mouseover=function(e){this._map.fire(new Rn(e.type,this._map,e))},Un.prototype.mouseout=function(e){this._map.fire(new Rn(e.type,this._map,e))},Un.prototype.touchstart=function(e){return this._firePreventable(new Sn(e.type,this._map,e))},Un.prototype.touchmove=function(e){this._map.fire(new Sn(e.type,this._map,e))},Un.prototype.touchend=function(e){this._map.fire(new Sn(e.type,this._map,e))},Un.prototype.touchcancel=function(e){this._map.fire(new Sn(e.type,this._map,e))},Un.prototype._firePreventable=function(e){if(this._map.fire(e),e.defaultPrevented)return{}},Un.prototype.isEnabled=function(){return!0},Un.prototype.isActive=function(){return!1},Un.prototype.enable=function(){},Un.prototype.disable=function(){};var Wn=function(e){this._map=e};Wn.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Wn.prototype.mousemove=function(e){this._map.fire(new Rn(e.type,this._map,e))},Wn.prototype.mousedown=function(){this._delayContextMenu=!0},Wn.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Rn("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Wn.prototype.contextmenu=function(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new Rn(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()},Wn.prototype.isEnabled=function(){return!0},Wn.prototype.isActive=function(){return!1},Wn.prototype.enable=function(){},Wn.prototype.disable=function(){};var Kn=function(e,t){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1};function jn(e,t){for(var r={},n=0;n<e.length;n++)r[e[n].identifier]=t[n];return r}Kn.prototype.isEnabled=function(){return!!this._enabled},Kn.prototype.isActive=function(){return!!this._active},Kn.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Kn.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Kn.prototype.mousedown=function(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(r.disableDrag(),this._startPos=this._lastPos=t,this._active=!0)},Kn.prototype.mousemoveWindow=function(e,t){if(this._active){var n=t;if(!(this._lastPos.equals(n)||!this._box&&n.dist(this._startPos)<this._clickTolerance)){var i=this._startPos;this._lastPos=n,this._box||(this._box=r.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));var o=Math.min(i.x,n.x),a=Math.max(i.x,n.x),s=Math.min(i.y,n.y),l=Math.max(i.y,n.y);r.setTransform(this._box,"translate("+o+"px,"+s+"px)"),this._box.style.width=a-o+"px",this._box.style.height=l-s+"px"}}},Kn.prototype.mouseupWindow=function(t,n){var i=this;if(this._active&&0===t.button){var o=this._startPos,a=n;if(this.reset(),r.suppressClick(),o.x!==a.x||o.y!==a.y)return this._map.fire(new e.Event("boxzoomend",{originalEvent:t})),{cameraAnimation:function(e){return e.fitScreenCoordinates(o,a,i._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",t)}},Kn.prototype.keydown=function(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))},Kn.prototype.blur=function(){this.reset()},Kn.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(r.remove(this._box),this._box=null),r.enableDrag(),delete this._startPos,delete this._lastPos},Kn.prototype._fireEvent=function(t,r){return this._map.fire(new e.Event(t,{originalEvent:r}))};var zn=function(e){this.reset(),this.numTouches=e.numTouches};zn.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},zn.prototype.touchstart=function(t,r,n){(this.centroid||n.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=t.timeStamp),n.length===this.numTouches&&(this.centroid=function(t){for(var r=new e.Point(0,0),n=0,i=t;n<i.length;n+=1)r._add(i[n]);return r.div(t.length)}(r),this.touches=jn(n,r)))},zn.prototype.touchmove=function(e,t,r){if(!this.aborted&&this.centroid){var n=jn(r,t);for(var i in this.touches){var o=n[i];(!o||o.dist(this.touches[i])>30)&&(this.aborted=!0)}}},zn.prototype.touchend=function(e,t,r){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===r.length){var n=!this.aborted&&this.centroid;if(this.reset(),n)return n}};var Fn=function(e){this.singleTap=new zn(e),this.numTaps=e.numTaps,this.reset()};Fn.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Fn.prototype.touchstart=function(e,t,r){this.singleTap.touchstart(e,t,r)},Fn.prototype.touchmove=function(e,t,r){this.singleTap.touchmove(e,t,r)},Fn.prototype.touchend=function(e,t,r){var n=this.singleTap.touchend(e,t,r);if(n){var i=e.timeStamp-this.lastTime<500,o=!this.lastTap||this.lastTap.dist(n)<30;if(i&&o||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=n,this.count===this.numTaps)return this.reset(),n}};var qn=function(){this._zoomIn=new Fn({numTouches:1,numTaps:2}),this._zoomOut=new Fn({numTouches:2,numTaps:1}),this.reset()};qn.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},qn.prototype.touchstart=function(e,t,r){this._zoomIn.touchstart(e,t,r),this._zoomOut.touchstart(e,t,r)},qn.prototype.touchmove=function(e,t,r){this._zoomIn.touchmove(e,t,r),this._zoomOut.touchmove(e,t,r)},qn.prototype.touchend=function(e,t,r){var n=this,i=this._zoomIn.touchend(e,t,r),o=this._zoomOut.touchend(e,t,r);return i?(this._active=!0,e.preventDefault(),setTimeout((function(){return n.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(i)},{originalEvent:e})}}):o?(this._active=!0,e.preventDefault(),setTimeout((function(){return n.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(o)},{originalEvent:e})}}):void 0},qn.prototype.touchcancel=function(){this.reset()},qn.prototype.enable=function(){this._enabled=!0},qn.prototype.disable=function(){this._enabled=!1,this.reset()},qn.prototype.isEnabled=function(){return this._enabled},qn.prototype.isActive=function(){return this._active};var Nn={0:1,2:2},Hn=function(e){this.reset(),this._clickTolerance=e.clickTolerance||1};Hn.prototype.blur=function(){this.reset()},Hn.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Hn.prototype._correctButton=function(e,t){return!1},Hn.prototype._move=function(e,t){return{}},Hn.prototype.mousedown=function(e,t){if(!this._lastPoint){var n=r.mouseButton(e);this._correctButton(e,n)&&(this._lastPoint=t,this._eventButton=n)}},Hn.prototype.mousemoveWindow=function(e,t){var r=this._lastPoint;if(r)if(e.preventDefault(),function(e,t){var r=Nn[t];return void 0===e.buttons||(e.buttons&r)!==r}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(r)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(r,t)},Hn.prototype.mouseupWindow=function(e){this._lastPoint&&r.mouseButton(e)===this._eventButton&&(this._moved&&r.suppressClick(),this.reset())},Hn.prototype.enable=function(){this._enabled=!0},Hn.prototype.disable=function(){this._enabled=!1,this.reset()},Hn.prototype.isEnabled=function(){return this._enabled},Hn.prototype.isActive=function(){return this._active};var Gn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.mousedown=function(t,r){e.prototype.mousedown.call(this,t,r),this._lastPoint&&(this._active=!0)},t.prototype._correctButton=function(e,t){return 0===t&&!e.ctrlKey},t.prototype._move=function(e,t){return{around:t,panDelta:t.sub(e)}},t}(Hn),Vn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._correctButton=function(e,t){return 0===t&&e.ctrlKey||2===t},t.prototype._move=function(e,t){var r=.8*(t.x-e.x);if(r)return this._active=!0,{bearingDelta:r}},t.prototype.contextmenu=function(e){e.preventDefault()},t}(Hn),Zn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._correctButton=function(e,t){return 0===t&&e.ctrlKey||2===t},t.prototype._move=function(e,t){var r=-.5*(t.y-e.y);if(r)return this._active=!0,{pitchDelta:r}},t.prototype.contextmenu=function(e){e.preventDefault()},t}(Hn),Xn=function(e){this._minTouches=1,this._clickTolerance=e.clickTolerance||1,this.reset()};Xn.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new e.Point(0,0)},Xn.prototype.touchstart=function(e,t,r){return this._calculateTransform(e,t,r)},Xn.prototype.touchmove=function(e,t,r){if(this._active&&!(r.length<this._minTouches))return e.preventDefault(),this._calculateTransform(e,t,r)},Xn.prototype.touchend=function(e,t,r){this._calculateTransform(e,t,r),this._active&&r.length<this._minTouches&&this.reset()},Xn.prototype.touchcancel=function(){this.reset()},Xn.prototype._calculateTransform=function(t,r,n){n.length>0&&(this._active=!0);var i=jn(n,r),o=new e.Point(0,0),a=new e.Point(0,0),s=0;for(var l in i){var _=i[l],u=this._touches[l];u&&(o._add(_),a._add(_.sub(u)),s++,i[l]=_)}if(this._touches=i,!(s<this._minTouches)&&a.mag()){var c=a.div(s);if(this._sum._add(c),!(this._sum.mag()<this._clickTolerance))return{around:o.div(s),panDelta:c}}},Xn.prototype.enable=function(){this._enabled=!0},Xn.prototype.disable=function(){this._enabled=!1,this.reset()},Xn.prototype.isEnabled=function(){return this._enabled},Xn.prototype.isActive=function(){return this._active};var $n=function(){this.reset()};function Yn(e,t,r){for(var n=0;n<e.length;n++)if(e[n].identifier===r)return t[n]}function Jn(e,t){return Math.log(e/t)/Math.LN2}$n.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},$n.prototype._start=function(e){},$n.prototype._move=function(e,t,r){return{}},$n.prototype.touchstart=function(e,t,r){this._firstTwoTouches||r.length<2||(this._firstTwoTouches=[r[0].identifier,r[1].identifier],this._start([t[0],t[1]]))},$n.prototype.touchmove=function(e,t,r){if(this._firstTwoTouches){e.preventDefault();var n=this._firstTwoTouches,i=n[1],o=Yn(r,t,n[0]),a=Yn(r,t,i);if(o&&a){var s=this._aroundCenter?null:o.add(a).div(2);return this._move([o,a],s,e)}}},$n.prototype.touchend=function(e,t,n){if(this._firstTwoTouches){var i=this._firstTwoTouches,o=i[1],a=Yn(n,t,i[0]),s=Yn(n,t,o);a&&s||(this._active&&r.suppressClick(),this.reset())}},$n.prototype.touchcancel=function(){this.reset()},$n.prototype.enable=function(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around},$n.prototype.disable=function(){this._enabled=!1,this.reset()},$n.prototype.isEnabled=function(){return this._enabled},$n.prototype.isActive=function(){return this._active};var Qn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),delete this._distance,delete this._startDistance},t.prototype._start=function(e){this._startDistance=this._distance=e[0].dist(e[1])},t.prototype._move=function(e,t){var r=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(Jn(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Jn(this._distance,r),pinchAround:t}},t}($n);function ei(e,t){return 180*e.angleWith(t)/Math.PI}var ti=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},t.prototype._start=function(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])},t.prototype._move=function(e,t){var r=this._vector;if(this._vector=e[0].sub(e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:ei(this._vector,r),pinchAround:t}},t.prototype._isBelowThreshold=function(e){this._minDiameter=Math.min(this._minDiameter,e.mag());var t=25/(Math.PI*this._minDiameter)*360,r=ei(e,this._startVector);return Math.abs(r)<t},t}($n);function ri(e){return Math.abs(e.y)>Math.abs(e.x)}var ni=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},t.prototype._start=function(e){this._lastPoints=e,ri(e[0].sub(e[1]))&&(this._valid=!1)},t.prototype._move=function(e,t,r){var n=e[0].sub(this._lastPoints[0]),i=e[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(n,i,r.timeStamp),this._valid)return this._lastPoints=e,this._active=!0,{pitchDelta:(n.y+i.y)/2*-.5}},t.prototype.gestureBeginsVertically=function(e,t,r){if(void 0!==this._valid)return this._valid;var n=e.mag()>=2,i=t.mag()>=2;if(n||i){if(!n||!i)return void 0===this._firstMove&&(this._firstMove=r),r-this._firstMove<100&&void 0;var o=e.y>0==t.y>0;return ri(e)&&ri(t)&&o}},t}($n),ii={panStep:100,bearingStep:15,pitchStep:10},oi=function(){var e=ii;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep,this._rotationDisabled=!1};function ai(e){return e*(2-e)}oi.prototype.blur=function(){this.reset()},oi.prototype.reset=function(){this._active=!1},oi.prototype.keydown=function(e){var t=this;if(!(e.altKey||e.ctrlKey||e.metaKey)){var r=0,n=0,i=0,o=0,a=0;switch(e.keyCode){case 61:case 107:case 171:case 187:r=1;break;case 189:case 109:case 173:r=-1;break;case 37:e.shiftKey?n=-1:(e.preventDefault(),o=-1);break;case 39:e.shiftKey?n=1:(e.preventDefault(),o=1);break;case 38:e.shiftKey?i=1:(e.preventDefault(),a=-1);break;case 40:e.shiftKey?i=-1:(e.preventDefault(),a=1);break;default:return}return this._rotationDisabled&&(n=0,i=0),{cameraAnimation:function(s){var l=s.getZoom();s.easeTo({duration:300,easeId:"keyboardHandler",easing:ai,zoom:r?Math.round(l)+r*(e.shiftKey?2:1):l,bearing:s.getBearing()+n*t._bearingStep,pitch:s.getPitch()+i*t._pitchStep,offset:[-o*t._panStep,-a*t._panStep],center:s.getCenter()},{originalEvent:e})}}}},oi.prototype.enable=function(){this._enabled=!0},oi.prototype.disable=function(){this._enabled=!1,this.reset()},oi.prototype.isEnabled=function(){return this._enabled},oi.prototype.isActive=function(){return this._active},oi.prototype.disableRotation=function(){this._rotationDisabled=!0},oi.prototype.enableRotation=function(){this._rotationDisabled=!1};var si=function(t,r){this._map=t,this._el=t.getCanvasContainer(),this._handler=r,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,e.bindAll(["_onTimeout"],this)};si.prototype.setZoomRate=function(e){this._defaultZoomRate=e},si.prototype.setWheelZoomRate=function(e){this._wheelZoomRate=e},si.prototype.isEnabled=function(){return!!this._enabled},si.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},si.prototype.isZooming=function(){return!!this._zooming},si.prototype.enable=function(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=e&&"center"===e.around)},si.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},si.prototype.wheel=function(t){if(this.isEnabled()){var r=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY,n=e.browser.now(),i=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==r&&r%4.000244140625==0?this._type="wheel":0!==r&&Math.abs(r)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=r,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(i*r)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,r+=this._lastValue)),t.shiftKey&&r&&(r/=4),this._type&&(this._lastWheelEvent=t,this._delta-=r,this._active||this._start(t)),t.preventDefault()}},si.prototype._onTimeout=function(e){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)},si.prototype._start=function(t){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var n=r.mousePos(this._el,t);this._around=e.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(n)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},si.prototype.renderFrame=function(){var t=this;if(this._frameId&&(this._frameId=null,this.isActive())){var r=this._map.transform;if(0!==this._delta){var n="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,i=2/(1+Math.exp(-Math.abs(this._delta*n)));this._delta<0&&0!==i&&(i=1/i);var o="number"==typeof this._targetZoom?r.zoomScale(this._targetZoom):r.scale;this._targetZoom=Math.min(r.maxZoom,Math.max(r.minZoom,r.scaleZoom(o*i))),"wheel"===this._type&&(this._startZoom=r.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var a,s="number"==typeof this._targetZoom?this._targetZoom:r.zoom,l=this._startZoom,_=this._easing,u=!1;if("wheel"===this._type&&l&&_){var c=Math.min((e.browser.now()-this._lastWheelEventTime)/200,1),p=_(c);a=e.number(l,s,p),c<1?this._frameId||(this._frameId=!0):u=!0}else a=s,u=!0;return this._active=!0,u&&(this._active=!1,this._finishTimeout=setTimeout((function(){t._zooming=!1,t._handler._triggerRenderFrame(),delete t._targetZoom,delete t._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!u,zoomDelta:a-r.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},si.prototype._smoothOutEasing=function(t){var r=e.ease;if(this._prevEase){var n=this._prevEase,i=(e.browser.now()-n.start)/n.duration,o=n.easing(i+.01)-n.easing(i),a=.27/Math.sqrt(o*o+1e-4)*.01,s=Math.sqrt(.0729-a*a);r=e.bezier(a,s,.25,1)}return this._prevEase={start:e.browser.now(),duration:t,easing:r},r},si.prototype.blur=function(){this.reset()},si.prototype.reset=function(){this._active=!1};var li=function(e,t){this._clickZoom=e,this._tapZoom=t};li.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},li.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},li.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},li.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var _i=function(){this.reset()};_i.prototype.reset=function(){this._active=!1},_i.prototype.blur=function(){this.reset()},_i.prototype.dblclick=function(e,t){return e.preventDefault(),{cameraAnimation:function(r){r.easeTo({duration:300,zoom:r.getZoom()+(e.shiftKey?-1:1),around:r.unproject(t)},{originalEvent:e})}}},_i.prototype.enable=function(){this._enabled=!0},_i.prototype.disable=function(){this._enabled=!1,this.reset()},_i.prototype.isEnabled=function(){return this._enabled},_i.prototype.isActive=function(){return this._active};var ui=function(){this._tap=new Fn({numTouches:1,numTaps:1}),this.reset()};ui.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},ui.prototype.touchstart=function(e,t,r){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?r.length>0&&(this._swipePoint=t[0],this._swipeTouch=r[0].identifier):this._tap.touchstart(e,t,r))},ui.prototype.touchmove=function(e,t,r){if(this._tapTime){if(this._swipePoint){if(r[0].identifier!==this._swipeTouch)return;var n=t[0],i=n.y-this._swipePoint.y;return this._swipePoint=n,e.preventDefault(),this._active=!0,{zoomDelta:i/128}}}else this._tap.touchmove(e,t,r)},ui.prototype.touchend=function(e,t,r){this._tapTime?this._swipePoint&&0===r.length&&this.reset():this._tap.touchend(e,t,r)&&(this._tapTime=e.timeStamp)},ui.prototype.touchcancel=function(){this.reset()},ui.prototype.enable=function(){this._enabled=!0},ui.prototype.disable=function(){this._enabled=!1,this.reset()},ui.prototype.isEnabled=function(){return this._enabled},ui.prototype.isActive=function(){return this._active};var ci=function(e,t,r){this._el=e,this._mousePan=t,this._touchPan=r};ci.prototype.enable=function(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},ci.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},ci.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},ci.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var pi=function(e,t,r){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=r};pi.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},pi.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},pi.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},pi.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var di=function(e,t,r,n){this._el=e,this._touchZoom=t,this._touchRotate=r,this._tapDragZoom=n,this._rotationDisabled=!1,this._enabled=!0};di.prototype.enable=function(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},di.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},di.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},di.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},di.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},di.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var hi=function(e){return e.zoom||e.drag||e.pitch||e.rotate},fi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(e.Event);function mi(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}var yi=function(t,n){this._map=t,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new An(t),this._bearingSnap=n.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(n),e.bindAll(["handleEvent","handleWindowEvent"],this);var i=this._el;this._listeners=[[i,"touchstart",{passive:!0}],[i,"touchmove",{passive:!1}],[i,"touchend",void 0],[i,"touchcancel",void 0],[i,"mousedown",void 0],[i,"mousemove",void 0],[i,"mouseup",void 0],[e.window.document,"mousemove",{capture:!0}],[e.window.document,"mouseup",void 0],[i,"mouseover",void 0],[i,"mouseout",void 0],[i,"dblclick",void 0],[i,"click",void 0],[i,"keydown",{capture:!1}],[i,"keyup",void 0],[i,"wheel",{passive:!1}],[i,"contextmenu",void 0],[e.window,"blur",void 0]];for(var o=0,a=this._listeners;o<a.length;o+=1){var s=a[o],l=s[0];r.addEventListener(l,s[1],l===e.window.document?this.handleWindowEvent:this.handleEvent,s[2])}};yi.prototype.destroy=function(){for(var t=0,n=this._listeners;t<n.length;t+=1){var i=n[t],o=i[0];r.removeEventListener(o,i[1],o===e.window.document?this.handleWindowEvent:this.handleEvent,i[2])}},yi.prototype._addDefaultHandlers=function(e){var t=this._map,r=t.getCanvasContainer();this._add("mapEvent",new Un(t,e));var n=t.boxZoom=new Kn(t,e);this._add("boxZoom",n);var i=new qn,o=new _i;t.doubleClickZoom=new li(o,i),this._add("tapZoom",i),this._add("clickZoom",o);var a=new ui;this._add("tapDragZoom",a);var s=t.touchPitch=new ni;this._add("touchPitch",s);var l=new Vn(e),_=new Zn(e);t.dragRotate=new pi(e,l,_),this._add("mouseRotate",l,["mousePitch"]),this._add("mousePitch",_,["mouseRotate"]);var u=new Gn(e),c=new Xn(e);t.dragPan=new ci(r,u,c),this._add("mousePan",u),this._add("touchPan",c,["touchZoom","touchRotate"]);var p=new ti,d=new Qn;t.touchZoomRotate=new di(r,d,p,a),this._add("touchRotate",p,["touchPan","touchZoom"]),this._add("touchZoom",d,["touchPan","touchRotate"]);var h=t.scrollZoom=new si(t,this);this._add("scrollZoom",h,["mousePan"]);var f=t.keyboard=new oi;this._add("keyboard",f),this._add("blockableMapEvent",new Wn(t));for(var m=0,y=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];m<y.length;m+=1){var g=y[m];e.interactive&&e[g]&&t[g].enable(e[g])}},yi.prototype._add=function(e,t,r){this._handlers.push({handlerName:e,handler:t,allowed:r}),this._handlersById[e]=t},yi.prototype.stop=function(e){if(!this._updatingCamera){for(var t=0,r=this._handlers;t<r.length;t+=1)r[t].handler.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}},yi.prototype.isActive=function(){for(var e=0,t=this._handlers;e<t.length;e+=1)if(t[e].handler.isActive())return!0;return!1},yi.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},yi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},yi.prototype.isMoving=function(){return Boolean(hi(this._eventsInProgress))||this.isZooming()},yi.prototype._blockedByActive=function(e,t,r){for(var n in e)if(n!==r&&(!t||t.indexOf(n)<0))return!0;return!1},yi.prototype.handleWindowEvent=function(e){this.handleEvent(e,e.type+"Window")},yi.prototype._getMapTouches=function(e){for(var t=[],r=0,n=e;r<n.length;r+=1){var i=n[r];this._el.contains(i.target)&&t.push(i)}return t},yi.prototype.handleEvent=function(e,t){this._updatingCamera=!0;for(var n="renderFrame"===e.type?void 0:e,i={needsRenderFrame:!1},o={},a={},s=e.touches?this._getMapTouches(e.touches):void 0,l=s?r.touchPos(this._el,s):r.mousePos(this._el,e),_=0,u=this._handlers;_<u.length;_+=1){var c=u[_],p=c.handlerName,d=c.handler,h=c.allowed;if(d.isEnabled()){var f=void 0;this._blockedByActive(a,h,p)?d.reset():d[t||e.type]&&(f=d[t||e.type](e,l,s),this.mergeHandlerResult(i,o,f,p,n),f&&f.needsRenderFrame&&this._triggerRenderFrame()),(f||d.isActive())&&(a[p]=d)}}var m={};for(var y in this._previousActiveHandlers)a[y]||(m[y]=n);this._previousActiveHandlers=a,(Object.keys(m).length||mi(i))&&(this._changes.push([i,o,m]),this._triggerRenderFrame()),(Object.keys(a).length||mi(i))&&this._map._stop(!0),this._updatingCamera=!1;var g=i.cameraAnimation;g&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],g(this._map))},yi.prototype.mergeHandlerResult=function(t,r,n,i,o){if(n){e.extend(t,n);var a={handlerName:i,originalEvent:n.originalEvent||o};void 0!==n.zoomDelta&&(r.zoom=a),void 0!==n.panDelta&&(r.drag=a),void 0!==n.pitchDelta&&(r.pitch=a),void 0!==n.bearingDelta&&(r.rotate=a)}},yi.prototype._applyChanges=function(){for(var t={},r={},n={},i=0,o=this._changes;i<o.length;i+=1){var a=o[i],s=a[0],l=a[1],_=a[2];s.panDelta&&(t.panDelta=(t.panDelta||new e.Point(0,0))._add(s.panDelta)),s.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+s.zoomDelta),s.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+s.bearingDelta),s.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+s.pitchDelta),void 0!==s.around&&(t.around=s.around),void 0!==s.pinchAround&&(t.pinchAround=s.pinchAround),s.noInertia&&(t.noInertia=s.noInertia),e.extend(r,l),e.extend(n,_)}this._updateMapTransform(t,r,n),this._changes=[]},yi.prototype._updateMapTransform=function(e,t,r){var n=this._map,i=n.transform;if(!mi(e))return this._fireEvents(t,r,!0);var o=e.panDelta,a=e.zoomDelta,s=e.bearingDelta,l=e.pitchDelta,_=e.around,u=e.pinchAround;void 0!==u&&(_=u),n._stop(!0),_=_||n.transform.centerPoint;var c=i.pointLocation(o?_.sub(o):_);s&&(i.bearing+=s),l&&(i.pitch+=l),a&&(i.zoom+=a),i.setLocationAtPoint(c,_),this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(t,r,!0)},yi.prototype._fireEvents=function(t,r,n){var i=this,o=hi(this._eventsInProgress),a=hi(t),s={};for(var l in t)this._eventsInProgress[l]||(s[l+"start"]=t[l].originalEvent),this._eventsInProgress[l]=t[l];for(var _ in!o&&a&&this._fireEvent("movestart",a.originalEvent),s)this._fireEvent(_,s[_]);for(var u in a&&this._fireEvent("move",a.originalEvent),t)this._fireEvent(u,t[u].originalEvent);var c,p={};for(var d in this._eventsInProgress){var h=this._eventsInProgress[d],f=h.handlerName,m=h.originalEvent;this._handlersById[f].isActive()||(delete this._eventsInProgress[d],p[d+"end"]=c=r[f]||m)}for(var y in p)this._fireEvent(y,p[y]);var g=hi(this._eventsInProgress);if(n&&(o||a)&&!g){this._updatingCamera=!0;var b=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),v=function(e){return 0!==e&&-i._bearingSnap<e&&e<i._bearingSnap};b?(v(b.bearing||this._map.getBearing())&&(b.bearing=0),this._map.easeTo(b,{originalEvent:c})):(this._map.fire(new e.Event("moveend",{originalEvent:c})),v(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},yi.prototype._fireEvent=function(t,r){this._map.fire(new e.Event(t,r?{originalEvent:r}:{}))},yi.prototype._requestFrame=function(){var e=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add((function(t){delete e._frameId,e.handleEvent(new fi("renderFrame",{timeStamp:t})),e._applyChanges()}))},yi.prototype._triggerRenderFrame=function(){void 0===this._frameId&&(this._frameId=this._requestFrame())};var gi=function(t){function r(r,n){t.call(this),this._moving=!1,this._zooming=!1,this.transform=r,this._bearingSnap=n.bearingSnap,e.bindAll(["_renderFrameCallback"],this)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.getCenter=function(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)},r.prototype.setCenter=function(e,t){return this.jumpTo({center:e},t)},r.prototype.panBy=function(t,r,n){return t=e.Point.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},r),n)},r.prototype.panTo=function(t,r,n){return this.easeTo(e.extend({center:t},r),n)},r.prototype.getZoom=function(){return this.transform.zoom},r.prototype.setZoom=function(e,t){return this.jumpTo({zoom:e},t),this},r.prototype.zoomTo=function(t,r,n){return this.easeTo(e.extend({zoom:t},r),n)},r.prototype.zoomIn=function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this},r.prototype.zoomOut=function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this},r.prototype.getBearing=function(){return this.transform.bearing},r.prototype.setBearing=function(e,t){return this.jumpTo({bearing:e},t),this},r.prototype.getPadding=function(){return this.transform.padding},r.prototype.setPadding=function(e,t){return this.jumpTo({padding:e},t),this},r.prototype.rotateTo=function(t,r,n){return this.easeTo(e.extend({bearing:t},r),n)},r.prototype.resetNorth=function(t,r){return this.rotateTo(0,e.extend({duration:1e3},t),r),this},r.prototype.resetNorthPitch=function(t,r){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),r),this},r.prototype.snapToNorth=function(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this},r.prototype.getPitch=function(){return this.transform.pitch},r.prototype.setPitch=function(e,t){return this.jumpTo({pitch:e},t),this},r.prototype.cameraForBounds=function(t,r){t=e.LngLatBounds.convert(t);var n=r&&r.bearing||0;return this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),n,r)},r.prototype._cameraForBoxAndBearing=function(t,r,n,i){var o={top:0,bottom:0,right:0,left:0};if("number"==typeof(i=e.extend({padding:o,offset:[0,0],maxZoom:this.transform.maxZoom},i)).padding){var a=i.padding;i.padding={top:a,bottom:a,right:a,left:a}}i.padding=e.extend(o,i.padding);var s=this.transform,l=s.padding,_=s.project(e.LngLat.convert(t)),u=s.project(e.LngLat.convert(r)),c=_.rotate(-n*Math.PI/180),p=u.rotate(-n*Math.PI/180),d=new e.Point(Math.max(c.x,p.x),Math.max(c.y,p.y)),h=new e.Point(Math.min(c.x,p.x),Math.min(c.y,p.y)),f=d.sub(h),m=(s.width-(l.left+l.right+i.padding.left+i.padding.right))/f.x,y=(s.height-(l.top+l.bottom+i.padding.top+i.padding.bottom))/f.y;if(!(y<0||m<0)){var g=Math.min(s.scaleZoom(s.scale*Math.min(m,y)),i.maxZoom),b="number"==typeof i.offset.x?new e.Point(i.offset.x,i.offset.y):e.Point.convert(i.offset),v=new e.Point((i.padding.left-i.padding.right)/2,(i.padding.top-i.padding.bottom)/2).rotate(n*Math.PI/180),E=b.add(v).mult(s.scale/s.zoomScale(g));return{center:s.unproject(_.add(u).div(2).sub(E)),zoom:g,bearing:n}}e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},r.prototype.fitBounds=function(e,t,r){return this._fitInternal(this.cameraForBounds(e,t),t,r)},r.prototype.fitScreenCoordinates=function(t,r,n,i,o){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(e.Point.convert(t)),this.transform.pointLocation(e.Point.convert(r)),n,i),i,o)},r.prototype._fitInternal=function(t,r,n){return t?(delete(r=e.extend(t,r)).padding,r.linear?this.easeTo(r,n):this.flyTo(r,n)):this},r.prototype.jumpTo=function(t,r){this.stop();var n=this.transform,i=!1,o=!1,a=!1;return"zoom"in t&&n.zoom!==+t.zoom&&(i=!0,n.zoom=+t.zoom),void 0!==t.center&&(n.center=e.LngLat.convert(t.center)),"bearing"in t&&n.bearing!==+t.bearing&&(o=!0,n.bearing=+t.bearing),"pitch"in t&&n.pitch!==+t.pitch&&(a=!0,n.pitch=+t.pitch),null==t.padding||n.isPaddingEqual(t.padding)||(n.padding=t.padding),this.fire(new e.Event("movestart",r)).fire(new e.Event("move",r)),i&&this.fire(new e.Event("zoomstart",r)).fire(new e.Event("zoom",r)).fire(new e.Event("zoomend",r)),o&&this.fire(new e.Event("rotatestart",r)).fire(new e.Event("rotate",r)).fire(new e.Event("rotateend",r)),a&&this.fire(new e.Event("pitchstart",r)).fire(new e.Event("pitch",r)).fire(new e.Event("pitchend",r)),this.fire(new e.Event("moveend",r))},r.prototype.easeTo=function(t,r){var n=this;this._stop(!1,t.easeId),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||!t.essential&&e.browser.prefersReducedMotion)&&(t.duration=0);var i=this.transform,o=this.getZoom(),a=this.getBearing(),s=this.getPitch(),l=this.getPadding(),_="zoom"in t?+t.zoom:o,u="bearing"in t?this._normalizeBearing(t.bearing,a):a,c="pitch"in t?+t.pitch:s,p="padding"in t?t.padding:i.padding,d=e.Point.convert(t.offset),h=i.centerPoint.add(d),f=i.pointLocation(h),m=e.LngLat.convert(t.center||f);this._normalizeCenter(m);var y,g,b=i.project(f),v=i.project(m).sub(b),E=i.zoomScale(_-o);t.around&&(y=e.LngLat.convert(t.around),g=i.locationPoint(y));var O={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||_!==o,this._rotating=this._rotating||a!==u,this._pitching=this._pitching||c!==s,this._padding=!i.isPaddingEqual(p),this._easeId=t.easeId,this._prepareEase(r,t.noMoveStart,O),this._ease((function(t){if(n._zooming&&(i.zoom=e.number(o,_,t)),n._rotating&&(i.bearing=e.number(a,u,t)),n._pitching&&(i.pitch=e.number(s,c,t)),n._padding&&(i.interpolatePadding(l,p,t),h=i.centerPoint.add(d)),y)i.setLocationAtPoint(y,g);else{var f=i.zoomScale(i.zoom-o),m=_>o?Math.min(2,E):Math.max(.5,E),O=Math.pow(m,1-t),M=i.unproject(b.add(v.mult(t*O)).mult(f));i.setLocationAtPoint(i.renderWorldCopies?M.wrap():M,h)}n._fireMoveEvents(r)}),(function(e){n._afterEase(r,e)}),t),this},r.prototype._prepareEase=function(t,r,n){void 0===n&&(n={}),this._moving=!0,r||n.moving||this.fire(new e.Event("movestart",t)),this._zooming&&!n.zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&!n.rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&!n.pitching&&this.fire(new e.Event("pitchstart",t))},r.prototype._fireMoveEvents=function(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))},r.prototype._afterEase=function(t,r){if(!this._easeId||!r||this._easeId!==r){delete this._easeId;var n=this._zooming,i=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,n&&this.fire(new e.Event("zoomend",t)),i&&this.fire(new e.Event("rotateend",t)),o&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))}},r.prototype.flyTo=function(t,r){var n=this;if(!t.essential&&e.browser.prefersReducedMotion){var i=e.pick(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(i,r)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);var o=this.transform,a=this.getZoom(),s=this.getBearing(),l=this.getPitch(),_=this.getPadding(),u="zoom"in t?e.clamp(+t.zoom,o.minZoom,o.maxZoom):a,c="bearing"in t?this._normalizeBearing(t.bearing,s):s,p="pitch"in t?+t.pitch:l,d="padding"in t?t.padding:o.padding,h=o.zoomScale(u-a),f=e.Point.convert(t.offset),m=o.centerPoint.add(f),y=o.pointLocation(m),g=e.LngLat.convert(t.center||y);this._normalizeCenter(g);var b=o.project(y),v=o.project(g).sub(b),E=t.curve,O=Math.max(o.width,o.height),M=O/h,P=v.mag();if("minZoom"in t){var x=e.clamp(Math.min(t.minZoom,a,u),o.minZoom,o.maxZoom),w=O/o.zoomScale(x-a);E=Math.sqrt(w/P*2)}var C=E*E;function D(e){var t=(M*M-O*O+(e?-1:1)*C*C*P*P)/(2*(e?M:O)*C*P);return Math.log(Math.sqrt(t*t+1)-t)}function T(e){return(Math.exp(e)-Math.exp(-e))/2}function k(e){return(Math.exp(e)+Math.exp(-e))/2}var A=D(0),I=function(e){return k(A)/k(A+E*e)},L=function(e){return O*((k(A)*(T(t=A+E*e)/k(t))-T(A))/C)/P;var t},R=(D(1)-A)/E;if(Math.abs(P)<1e-6||!isFinite(R)){if(Math.abs(O-M)<1e-6)return this.easeTo(t,r);var S=M<O?-1:1;R=Math.abs(Math.log(M/O))/E,L=function(){return 0},I=function(e){return Math.exp(S*E*e)}}return t.duration="duration"in t?+t.duration:1e3*R/("screenSpeed"in t?+t.screenSpeed/E:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=s!==c,this._pitching=p!==l,this._padding=!o.isPaddingEqual(d),this._prepareEase(r,!1),this._ease((function(t){var i=t*R,h=1/I(i);o.zoom=1===t?u:a+o.scaleZoom(h),n._rotating&&(o.bearing=e.number(s,c,t)),n._pitching&&(o.pitch=e.number(l,p,t)),n._padding&&(o.interpolatePadding(_,d,t),m=o.centerPoint.add(f));var y=1===t?g:o.unproject(b.add(v.mult(L(i))).mult(h));o.setLocationAtPoint(o.renderWorldCopies?y.wrap():y,m),n._fireMoveEvents(r)}),(function(){return n._afterEase(r)}),t),this},r.prototype.isEasing=function(){return!!this._easeFrameId},r.prototype.stop=function(){return this._stop()},r.prototype._stop=function(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var r=this._onEaseEnd;delete this._onEaseEnd,r.call(this,t)}if(!e){var n=this.handlers;n&&n.stop(!1)}return this},r.prototype._ease=function(t,r,n){!1===n.animate||0===n.duration?(t(1),r()):(this._easeStart=e.browser.now(),this._easeOptions=n,this._onEaseFrame=t,this._onEaseEnd=r,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},r.prototype._renderFrameCallback=function(){var t=Math.min((e.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},r.prototype._normalizeBearing=function(t,r){t=e.wrap(t,-180,180);var n=Math.abs(t-r);return Math.abs(t-360-r)<n&&(t-=360),Math.abs(t+360-r)<n&&(t+=360),t},r.prototype._normalizeCenter=function(e){var t=this.transform;if(t.renderWorldCopies&&!t.lngRange){var r=e.lng-t.center.lng;e.lng+=r>180?-360:r<-180?360:0}},r}(e.Evented),bi=function(t){void 0===t&&(t={}),this.options=t,e.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};bi.prototype.getDefaultPosition=function(){return"bottom-right"},bi.prototype.onAdd=function(e){var t=this.options&&this.options.compact;return this._map=e,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=r.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=r.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},bi.prototype.onRemove=function(){r.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},bi.prototype._setElementTitle=function(e,t){var r=this._map._getUIString("AttributionControl."+t);e.title=r,e.setAttribute("aria-label",r)},bi.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},bi.prototype._updateEditLink=function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var r=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||e.config.ACCESS_TOKEN}];if(t){var n=r.reduce((function(e,t,n){return t.value&&(e+=t.key+"="+t.value+(n<r.length-1?"&":"")),e}),"?");t.href=e.config.FEEDBACK_URL+"/"+n+(this._map._hash?this._map._hash.getHashString(!0):""),t.rel="noopener nofollow",this._setElementTitle(t,"MapFeedback")}},bi.prototype._updateData=function(e){!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType||(this._updateAttributions(),this._updateEditLink())},bi.prototype._updateAttributions=function(){if(this._map.style){var e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map((function(e){return"string"!=typeof e?"":e}))):"string"==typeof this.options.customAttribution&&e.push(this.options.customAttribution)),this._map.style.stylesheet){var t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}var r=this._map.style.sourceCaches;for(var n in r){var i=r[n];if(i.used){var o=i.getSource();o.attribution&&e.indexOf(o.attribution)<0&&e.push(o.attribution)}}e.sort((function(e,t){return e.length-t.length}));var a=(e=e.filter((function(t,r){for(var n=r+1;n<e.length;n++)if(e[n].indexOf(t)>=0)return!1;return!0}))).join(" | ");a!==this._attribHTML&&(this._attribHTML=a,e.length?(this._innerContainer.innerHTML=a,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},bi.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var vi=function(){e.bindAll(["_updateLogo"],this),e.bindAll(["_updateCompact"],this)};vi.prototype.onAdd=function(e){this._map=e,this._container=r.create("div","mapboxgl-ctrl");var t=r.create("a","mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://www.mapbox.com/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},vi.prototype.onRemove=function(){r.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},vi.prototype.getDefaultPosition=function(){return"bottom-left"},vi.prototype._updateLogo=function(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},vi.prototype._logoRequired=function(){if(this._map.style){var e=this._map.style.sourceCaches;for(var t in e)if(e[t].getSource().mapbox_logo)return!0;return!1}},vi.prototype._updateCompact=function(){var e=this._container.children;if(e.length){var t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add("mapboxgl-compact"):t.classList.remove("mapboxgl-compact")}};var Ei=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Ei.prototype.add=function(e){var t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t},Ei.prototype.remove=function(e){for(var t=this._currentlyRunning,r=0,n=t?this._queue.concat(t):this._queue;r<n.length;r+=1){var i=n[r];if(i.id===e)return void(i.cancelled=!0)}},Ei.prototype.run=function(e){void 0===e&&(e=0);var t=this._currentlyRunning=this._queue;this._queue=[];for(var r=0,n=t;r<n.length;r+=1){var i=n[r];if(!i.cancelled&&(i.callback(e),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Ei.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Oi={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Mi=e.window.HTMLImageElement,Pi=e.window.HTMLElement,xi=e.window.ImageBitmap,wi={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Ci=function(n){function i(t){var r=this;if(null!=(t=e.extend({},wi,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=t.maxPitch&&t.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var i=new Mn(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies);if(n.call(this,i,t),this._interactive=t.interactive,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._crossSourceCollisions=t.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=t.collectResourceTiming,this._renderTaskQueue=new Ei,this._controls=[],this._mapId=e.uniqueId(),this._locale=e.extend({},Oi,t.locale),this._clickTolerance=t.clickTolerance,this._requestManager=new e.RequestManager(t.transformRequest,t.accessToken),"string"==typeof t.container){if(this._container=e.window.document.getElementById(t.container),!this._container)throw new Error("Container '"+t.container+"' not found.")}else{if(!(t.container instanceof Pi))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}if(t.maxBounds&&this.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(function(){return r._update(!1)})),this.on("moveend",(function(){return r._update(!1)})),this.on("zoom",(function(){return r._update(!0)})),void 0!==e.window&&(e.window.addEventListener("online",this._onWindowOnline,!1),e.window.addEventListener("resize",this._onWindowResize,!1),e.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new yi(this,t),this._hash=t.hash&&new xn("string"==typeof t.hash&&t.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&this.setStyle(t.style,{localIdeographFontFamily:t.localIdeographFontFamily}),t.attributionControl&&this.addControl(new bi({customAttribution:t.customAttribution})),this.addControl(new vi,t.logoPosition),this.on("style.load",(function(){r.transform.unmodified&&r.jumpTo(r.style.stylesheet)})),this.on("data",(function(t){r._update("style"===t.dataType),r.fire(new e.Event(t.dataType+"data",t))})),this.on("dataloading",(function(t){r.fire(new e.Event(t.dataType+"dataloading",t))}))}n&&(i.__proto__=n),(i.prototype=Object.create(n&&n.prototype)).constructor=i;var o={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return i.prototype._getMapId=function(){return this._mapId},i.prototype.addControl=function(t,r){if(void 0===r&&(r=t.getDefaultPosition?t.getDefaultPosition():"top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var n=t.onAdd(this);this._controls.push(t);var i=this._controlPositions[r];return-1!==r.indexOf("bottom")?i.insertBefore(n,i.firstChild):i.appendChild(n),this},i.prototype.removeControl=function(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var r=this._controls.indexOf(t);return r>-1&&this._controls.splice(r,1),t.onRemove(this),this},i.prototype.hasControl=function(e){return this._controls.indexOf(e)>-1},i.prototype.resize=function(t){var r=this._containerDimensions(),n=r[0],i=r[1];if(n===this.transform.width&&i===this.transform.height)return this;this._resizeCanvas(n,i),this.transform.resize(n,i),this.painter.resize(n,i);var o=!this._moving;return o&&this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t)),this.fire(new e.Event("resize",t)),o&&this.fire(new e.Event("moveend",t)),this},i.prototype.getBounds=function(){return this.transform.getBounds()},i.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},i.prototype.setMaxBounds=function(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()},i.prototype.setMinZoom=function(e){if((e=null==e?-2:e)>=-2&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},i.prototype.getMinZoom=function(){return this.transform.minZoom},i.prototype.setMaxZoom=function(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")},i.prototype.getMaxZoom=function(){return this.transform.maxZoom},i.prototype.setMinPitch=function(e){if((e=null==e?0:e)<0)throw new Error("minPitch must be greater than or equal to 0");if(e>=0&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this._update(),this.getPitch()<e&&this.setPitch(e),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},i.prototype.getMinPitch=function(){return this.transform.minPitch},i.prototype.setMaxPitch=function(e){if((e=null==e?60:e)>60)throw new Error("maxPitch must be less than or equal to 60");if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this._update(),this.getPitch()>e&&this.setPitch(e),this;throw new Error("maxPitch must be greater than the current minPitch")},i.prototype.getMaxPitch=function(){return this.transform.maxPitch},i.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},i.prototype.setRenderWorldCopies=function(e){return this.transform.renderWorldCopies=e,this._update()},i.prototype.project=function(t){return this.transform.locationPoint(e.LngLat.convert(t))},i.prototype.unproject=function(t){return this.transform.pointLocation(e.Point.convert(t))},i.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},i.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},i.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},i.prototype._createDelegatedListener=function(e,t,r){var n,i=this;if("mouseenter"===e||"mouseover"===e){var o=!1;return{layer:t,listener:r,delegates:{mousemove:function(n){var a=i.getLayer(t)?i.queryRenderedFeatures(n.point,{layers:[t]}):[];a.length?o||(o=!0,r.call(i,new Rn(e,i,n.originalEvent,{features:a}))):o=!1},mouseout:function(){o=!1}}}}if("mouseleave"===e||"mouseout"===e){var a=!1;return{layer:t,listener:r,delegates:{mousemove:function(n){(i.getLayer(t)?i.queryRenderedFeatures(n.point,{layers:[t]}):[]).length?a=!0:a&&(a=!1,r.call(i,new Rn(e,i,n.originalEvent)))},mouseout:function(t){a&&(a=!1,r.call(i,new Rn(e,i,t.originalEvent)))}}}}return{layer:t,listener:r,delegates:(n={},n[e]=function(e){var n=i.getLayer(t)?i.queryRenderedFeatures(e.point,{layers:[t]}):[];n.length&&(e.features=n,r.call(i,e),delete e.features)},n)}},i.prototype.on=function(e,t,r){if(void 0===r)return n.prototype.on.call(this,e,t);var i=this._createDelegatedListener(e,t,r);for(var o in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(i),i.delegates)this.on(o,i.delegates[o]);return this},i.prototype.once=function(e,t,r){if(void 0===r)return n.prototype.once.call(this,e,t);var i=this._createDelegatedListener(e,t,r);for(var o in i.delegates)this.once(o,i.delegates[o]);return this},i.prototype.off=function(e,t,r){var i=this;return void 0===r?n.prototype.off.call(this,e,t):(this._delegatedListeners&&this._delegatedListeners[e]&&function(n){for(var o=n[e],a=0;a<o.length;a++){var s=o[a];if(s.layer===t&&s.listener===r){for(var l in s.delegates)i.off(l,s.delegates[l]);return o.splice(a,1),i}}}(this._delegatedListeners),this)},i.prototype.queryRenderedFeatures=function(t,r){if(!this.style)return[];var n;if(void 0!==r||void 0===t||t instanceof e.Point||Array.isArray(t)||(r=t,t=void 0),r=r||{},(t=t||[[0,0],[this.transform.width,this.transform.height]])instanceof e.Point||"number"==typeof t[0])n=[e.Point.convert(t)];else{var i=e.Point.convert(t[0]),o=e.Point.convert(t[1]);n=[i,new e.Point(o.x,i.y),o,new e.Point(i.x,o.y),i]}return this.style.queryRenderedFeatures(n,r,this.transform)},i.prototype.querySourceFeatures=function(e,t){return this.style.querySourceFeatures(e,t)},i.prototype.setStyle=function(t,r){return!1!==(r=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},r)).diff&&r.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&t?(this._diffStyle(t,r),this):(this._localIdeographFontFamily=r.localIdeographFontFamily,this._updateStyle(t,r))},i.prototype._getUIString=function(e){var t=this._locale[e];if(null==t)throw new Error("Missing UI string '"+e+"'");return t},i.prototype._updateStyle=function(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove()),e?(this.style=new qt(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e),this):(delete this.style,this)},i.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new qt(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},i.prototype._diffStyle=function(t,r){var n=this;if("string"==typeof t){var i=this._requestManager.normalizeStyleURL(t),o=this._requestManager.transformRequest(i,e.ResourceType.Style);e.getJSON(o,(function(t,i){t?n.fire(new e.ErrorEvent(t)):i&&n._updateDiff(i,r)}))}else"object"==typeof t&&this._updateDiff(t,r)},i.prototype._updateDiff=function(t,r){try{this.style.setState(t)&&this._update(!0)}catch(n){e.warnOnce("Unable to perform style diff: "+(n.message||n.error||n)+".  Rebuilding the style from scratch."),this._updateStyle(t,r)}},i.prototype.getStyle=function(){if(this.style)return this.style.serialize()},i.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():e.warnOnce("There is no style added to the map.")},i.prototype.addSource=function(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)},i.prototype.isSourceLoaded=function(t){var r=this.style&&this.style.sourceCaches[t];if(void 0!==r)return r.loaded();this.fire(new e.ErrorEvent(new Error("There is no source with ID '"+t+"'")))},i.prototype.areTilesLoaded=function(){var e=this.style&&this.style.sourceCaches;for(var t in e){var r=e[t]._tiles;for(var n in r){var i=r[n];if("loaded"!==i.state&&"errored"!==i.state)return!1}}return!0},i.prototype.addSourceType=function(e,t,r){return this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,r)},i.prototype.removeSource=function(e){return this.style.removeSource(e),this._update(!0)},i.prototype.getSource=function(e){return this.style.getSource(e)},i.prototype.addImage=function(t,r,n){void 0===n&&(n={});var i=n.pixelRatio;void 0===i&&(i=1);var o=n.sdf;void 0===o&&(o=!1);var a=n.stretchX,s=n.stretchY,l=n.content;if(this._lazyInitEmptyStyle(),r instanceof Mi||xi&&r instanceof xi){var _=e.browser.getImageData(r);this.style.addImage(t,{data:new e.RGBAImage({width:_.width,height:_.height},_.data),pixelRatio:i,stretchX:a,stretchY:s,content:l,sdf:o,version:0})}else{if(void 0===r.width||void 0===r.height)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var u=r;this.style.addImage(t,{data:new e.RGBAImage({width:r.width,height:r.height},new Uint8Array(r.data)),pixelRatio:i,stretchX:a,stretchY:s,content:l,sdf:o,version:0,userImage:u}),u.onAdd&&u.onAdd(this,t)}},i.prototype.updateImage=function(t,r){var n=this.style.getImage(t);if(!n)return this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var i=r instanceof Mi||xi&&r instanceof xi?e.browser.getImageData(r):r,o=i.width,a=i.height,s=i.data;return void 0===o||void 0===a?this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):o!==n.data.width||a!==n.data.height?this.fire(new e.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(n.data.replace(s,!(r instanceof Mi||xi&&r instanceof xi)),void this.style.updateImage(t,n))},i.prototype.hasImage=function(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)},i.prototype.removeImage=function(e){this.style.removeImage(e)},i.prototype.loadImage=function(t,r){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),r)},i.prototype.listImages=function(){return this.style.listImages()},i.prototype.addLayer=function(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)},i.prototype.moveLayer=function(e,t){return this.style.moveLayer(e,t),this._update(!0)},i.prototype.removeLayer=function(e){return this.style.removeLayer(e),this._update(!0)},i.prototype.getLayer=function(e){return this.style.getLayer(e)},i.prototype.setLayerZoomRange=function(e,t,r){return this.style.setLayerZoomRange(e,t,r),this._update(!0)},i.prototype.setFilter=function(e,t,r){return void 0===r&&(r={}),this.style.setFilter(e,t,r),this._update(!0)},i.prototype.getFilter=function(e){return this.style.getFilter(e)},i.prototype.setPaintProperty=function(e,t,r,n){return void 0===n&&(n={}),this.style.setPaintProperty(e,t,r,n),this._update(!0)},i.prototype.getPaintProperty=function(e,t){return this.style.getPaintProperty(e,t)},i.prototype.setLayoutProperty=function(e,t,r,n){return void 0===n&&(n={}),this.style.setLayoutProperty(e,t,r,n),this._update(!0)},i.prototype.getLayoutProperty=function(e,t){return this.style.getLayoutProperty(e,t)},i.prototype.setLight=function(e,t){return void 0===t&&(t={}),this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)},i.prototype.getLight=function(){return this.style.getLight()},i.prototype.setFeatureState=function(e,t){return this.style.setFeatureState(e,t),this._update()},i.prototype.removeFeatureState=function(e,t){return this.style.removeFeatureState(e,t),this._update()},i.prototype.getFeatureState=function(e){return this.style.getFeatureState(e)},i.prototype.getContainer=function(){return this._container},i.prototype.getCanvasContainer=function(){return this._canvasContainer},i.prototype.getCanvas=function(){return this._canvas},i.prototype._containerDimensions=function(){var e=0,t=0;return this._container&&(e=this._container.clientWidth||400,t=this._container.clientHeight||300),[e,t]},i.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&e.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},i.prototype._setupContainer=function(){var e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSCanary=r.create("div","mapboxgl-canary",e)).style.visibility="hidden",this._detectMissingCSS();var t=this._canvasContainer=r.create("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=r.create("canvas","mapboxgl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var n=this._containerDimensions();this._resizeCanvas(n[0],n[1]);var i=this._controlContainer=r.create("div","mapboxgl-control-container",e),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(e){o[e]=r.create("div","mapboxgl-ctrl-"+e,i)})),this._container.addEventListener("scroll",this._onMapScroll,!1)},i.prototype._resizeCanvas=function(t,r){var n=e.browser.devicePixelRatio||1;this._canvas.width=n*t,this._canvas.height=n*r,this._canvas.style.width=t+"px",this._canvas.style.height=r+"px"},i.prototype._setupPainter=function(){var r=e.extend({},t.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),n=this._canvas.getContext("webgl",r)||this._canvas.getContext("experimental-webgl",r);n?(this.painter=new bn(n,this.transform),e.webpSupported.testSupport(n)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))},i.prototype._contextLost=function(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))},i.prototype._contextRestored=function(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))},i.prototype._onMapScroll=function(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},i.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},i.prototype._update=function(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this},i.prototype._requestRenderFrame=function(e){return this._update(),this._renderTaskQueue.add(e)},i.prototype._cancelRenderFrame=function(e){this._renderTaskQueue.remove(e)},i.prototype._render=function(t){var r,n=this,i=0,o=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(r=o.createQueryEXT(),o.beginQueryEXT(o.TIME_ELAPSED_EXT,r),i=e.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(t),!this._removed){var a=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var s=this.transform.zoom,l=e.browser.now();this.style.zoomHistory.update(s,l);var _=new e.EvaluationParameters(s,{now:l,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),u=_.crossFadingFactor();1===u&&u===this._crossFadingFactor||(a=!0,this._crossFadingFactor=u),this.style.update(_)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event("load"))),this.style&&(this.style.hasTransitions()||a)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var c=e.browser.now()-i;o.endQueryEXT(o.TIME_ELAPSED_EXT,r),setTimeout((function(){var t=o.getQueryObjectEXT(r,o.QUERY_RESULT_EXT)/1e6;o.deleteQueryEXT(r),n.fire(new e.Event("gpu-timing-frame",{cpuTime:c,gpuTime:t}))}),50)}if(this.listens("gpu-timing-layer")){var p=this.painter.collectGpuTimers();setTimeout((function(){var t=n.painter.queryGpuTimers(p);n.fire(new e.Event("gpu-timing-layer",{layerTimes:t}))}),50)}var d=this._sourcesDirty||this._styleDirty||this._placementDirty;return d||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new e.Event("idle")),!this._loaded||this._fullyLoaded||d||(this._fullyLoaded=!0),this}},i.prototype.remove=function(){this._hash&&this._hash.remove();for(var t=0,r=this._controls;t<r.length;t+=1)r[t].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==e.window&&(e.window.removeEventListener("resize",this._onWindowResize,!1),e.window.removeEventListener("orientationchange",this._onWindowResize,!1),e.window.removeEventListener("online",this._onWindowOnline,!1));var n=this.painter.context.gl.getExtension("WEBGL_lose_context");n&&n.loseContext(),Di(this._canvasContainer),Di(this._controlContainer),Di(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new e.Event("remove"))},i.prototype.triggerRepaint=function(){var t=this;this.style&&!this._frame&&(this._frame=e.browser.frame((function(e){t._frame=null,t._render(e)})))},i.prototype._onWindowOnline=function(){this._update()},i.prototype._onWindowResize=function(e){this._trackResize&&this.resize({originalEvent:e})._update()},o.showTileBoundaries.get=function(){return!!this._showTileBoundaries},o.showTileBoundaries.set=function(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())},o.showPadding.get=function(){return!!this._showPadding},o.showPadding.set=function(e){this._showPadding!==e&&(this._showPadding=e,this._update())},o.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},o.showCollisionBoxes.set=function(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())},o.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},o.showOverdrawInspector.set=function(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())},o.repaint.get=function(){return!!this._repaint},o.repaint.set=function(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())},o.vertices.get=function(){return!!this._vertices},o.vertices.set=function(e){this._vertices=e,this._update()},i.prototype._setCacheLimits=function(t,r){e.setCacheLimits(t,r)},o.version.get=function(){return e.version},Object.defineProperties(i.prototype,o),i}(gi);function Di(e){e.parentNode&&e.parentNode.removeChild(e)}var Ti={showCompass:!0,showZoom:!0,visualizePitch:!1},ki=function(t){var n=this;this.options=e.extend({},Ti,t),this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this.options.showZoom&&(e.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(function(e){return n._map.zoomIn({},{originalEvent:e})})),r.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(function(e){return n._map.zoomOut({},{originalEvent:e})})),r.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(function(e){n.options.visualizePitch?n._map.resetNorthPitch({},{originalEvent:e}):n._map.resetNorth({},{originalEvent:e})})),this._compassIcon=r.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};ki.prototype._updateZoomButtons=function(){var e=this._map.getZoom(),t=e===this._map.getMaxZoom(),r=e===this._map.getMinZoom();this._zoomInButton.disabled=t,this._zoomOutButton.disabled=r,this._zoomInButton.setAttribute("aria-disabled",t.toString()),this._zoomOutButton.setAttribute("aria-disabled",r.toString())},ki.prototype._rotateCompassArrow=function(){var e=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=e},ki.prototype.onAdd=function(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Ai(this._map,this._compass,this.options.visualizePitch)),this._container},ki.prototype.onRemove=function(){r.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},ki.prototype._createButton=function(e,t){var n=r.create("button",e,this._container);return n.type="button",n.addEventListener("click",t),n},ki.prototype._setButtonTitle=function(e,t){var r=this._map._getUIString("NavigationControl."+t);e.title=r,e.setAttribute("aria-label",r)};var Ai=function(t,n,i){void 0===i&&(i=!1),this._clickTolerance=10,this.element=n,this.mouseRotate=new Vn({clickTolerance:t.dragRotate._mouseRotate._clickTolerance}),this.map=t,i&&(this.mousePitch=new Zn({clickTolerance:t.dragRotate._mousePitch._clickTolerance})),e.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),r.addEventListener(n,"mousedown",this.mousedown),r.addEventListener(n,"touchstart",this.touchstart,{passive:!1}),r.addEventListener(n,"touchmove",this.touchmove),r.addEventListener(n,"touchend",this.touchend),r.addEventListener(n,"touchcancel",this.reset)};function Ii(t,r,n){if(t=new e.LngLat(t.lng,t.lat),r){var i=new e.LngLat(t.lng-360,t.lat),o=new e.LngLat(t.lng+360,t.lat),a=n.locationPoint(t).distSqr(r);n.locationPoint(i).distSqr(r)<a?t=i:n.locationPoint(o).distSqr(r)<a&&(t=o)}for(;Math.abs(t.lng-n.center.lng)>180;){var s=n.locationPoint(t);if(s.x>=0&&s.y>=0&&s.x<=n.width&&s.y<=n.height)break;t.lng>n.center.lng?t.lng-=360:t.lng+=360}return t}Ai.prototype.down=function(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),r.disableDrag()},Ai.prototype.move=function(e,t){var r=this.map,n=this.mouseRotate.mousemoveWindow(e,t);if(n&&n.bearingDelta&&r.setBearing(r.getBearing()+n.bearingDelta),this.mousePitch){var i=this.mousePitch.mousemoveWindow(e,t);i&&i.pitchDelta&&r.setPitch(r.getPitch()+i.pitchDelta)}},Ai.prototype.off=function(){var e=this.element;r.removeEventListener(e,"mousedown",this.mousedown),r.removeEventListener(e,"touchstart",this.touchstart,{passive:!1}),r.removeEventListener(e,"touchmove",this.touchmove),r.removeEventListener(e,"touchend",this.touchend),r.removeEventListener(e,"touchcancel",this.reset),this.offTemp()},Ai.prototype.offTemp=function(){r.enableDrag(),r.removeEventListener(e.window,"mousemove",this.mousemove),r.removeEventListener(e.window,"mouseup",this.mouseup)},Ai.prototype.mousedown=function(t){this.down(e.extend({},t,{ctrlKey:!0,preventDefault:function(){return t.preventDefault()}}),r.mousePos(this.element,t)),r.addEventListener(e.window,"mousemove",this.mousemove),r.addEventListener(e.window,"mouseup",this.mouseup)},Ai.prototype.mousemove=function(e){this.move(e,r.mousePos(this.element,e))},Ai.prototype.mouseup=function(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp()},Ai.prototype.touchstart=function(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=r.touchPos(this.element,e.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return e.preventDefault()}},this._startPos))},Ai.prototype.touchmove=function(e){1!==e.targetTouches.length?this.reset():(this._lastPos=r.touchPos(this.element,e.targetTouches)[0],this.move({preventDefault:function(){return e.preventDefault()}},this._lastPos))},Ai.prototype.touchend=function(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Ai.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Li={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Ri(e,t,r){var n=e.classList;for(var i in Li)n.remove("mapboxgl-"+r+"-anchor-"+i);n.add("mapboxgl-"+r+"-anchor-"+t)}var Si,Bi=function(t){function n(n,i){if(t.call(this),(n instanceof e.window.HTMLElement||i)&&(n=e.extend({element:n},i)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=n&&n.anchor||"center",this._color=n&&n.color||"#3FB1CE",this._scale=n&&n.scale||1,this._draggable=n&&n.draggable||!1,this._clickTolerance=n&&n.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=n&&n.rotation||0,this._rotationAlignment=n&&n.rotationAlignment||"auto",this._pitchAlignment=n&&n.pitchAlignment&&"auto"!==n.pitchAlignment?n.pitchAlignment:this._rotationAlignment,n&&n.element)this._element=n.element,this._offset=e.Point.convert(n&&n.offset||[0,0]);else{this._defaultMarker=!0,this._element=r.create("div"),this._element.setAttribute("aria-label","Map marker");var o=r.createNS("http://www.w3.org/2000/svg","svg");o.setAttributeNS(null,"display","block"),o.setAttributeNS(null,"height","41px"),o.setAttributeNS(null,"width","27px"),o.setAttributeNS(null,"viewBox","0 0 27 41");var a=r.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"stroke","none"),a.setAttributeNS(null,"stroke-width","1"),a.setAttributeNS(null,"fill","none"),a.setAttributeNS(null,"fill-rule","evenodd");var s=r.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"fill-rule","nonzero");var l=r.createNS("http://www.w3.org/2000/svg","g");l.setAttributeNS(null,"transform","translate(3.0, 29.0)"),l.setAttributeNS(null,"fill","#000000");for(var _=0,u=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];_<u.length;_+=1){var c=u[_],p=r.createNS("http://www.w3.org/2000/svg","ellipse");p.setAttributeNS(null,"opacity","0.04"),p.setAttributeNS(null,"cx","10.5"),p.setAttributeNS(null,"cy","5.80029008"),p.setAttributeNS(null,"rx",c.rx),p.setAttributeNS(null,"ry",c.ry),l.appendChild(p)}var d=r.createNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"fill",this._color);var h=r.createNS("http://www.w3.org/2000/svg","path");h.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),d.appendChild(h);var f=r.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"opacity","0.25"),f.setAttributeNS(null,"fill","#000000");var m=r.createNS("http://www.w3.org/2000/svg","path");m.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),f.appendChild(m);var y=r.createNS("http://www.w3.org/2000/svg","g");y.setAttributeNS(null,"transform","translate(6.0, 7.0)"),y.setAttributeNS(null,"fill","#FFFFFF");var g=r.createNS("http://www.w3.org/2000/svg","g");g.setAttributeNS(null,"transform","translate(8.0, 8.0)");var b=r.createNS("http://www.w3.org/2000/svg","circle");b.setAttributeNS(null,"fill","#000000"),b.setAttributeNS(null,"opacity","0.25"),b.setAttributeNS(null,"cx","5.5"),b.setAttributeNS(null,"cy","5.5"),b.setAttributeNS(null,"r","5.4999962");var v=r.createNS("http://www.w3.org/2000/svg","circle");v.setAttributeNS(null,"fill","#FFFFFF"),v.setAttributeNS(null,"cx","5.5"),v.setAttributeNS(null,"cy","5.5"),v.setAttributeNS(null,"r","5.4999962"),g.appendChild(b),g.appendChild(v),s.appendChild(l),s.appendChild(d),s.appendChild(f),s.appendChild(y),s.appendChild(g),o.appendChild(s),o.setAttributeNS(null,"height",41*this._scale+"px"),o.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(o),this._offset=e.Point.convert(n&&n.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(function(e){e.preventDefault()})),this._element.addEventListener("mousedown",(function(e){e.preventDefault()})),Ri(this._element,this._anchor,"marker"),this._popup=null}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.addTo=function(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},n.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),r.remove(this._element),this._popup&&this._popup.remove(),this},n.prototype.getLngLat=function(){return this._lngLat},n.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},n.prototype.getElement=function(){return this._element},n.prototype.setPopup=function(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){var t=Math.sqrt(Math.pow(13.5,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[t,-1*(24.6+t)],"bottom-right":[-t,-1*(24.6+t)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=e,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},n.prototype._onKeyPress=function(e){var t=e.code,r=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==r&&13!==r||this.togglePopup()},n.prototype._onMapClick=function(e){var t=e.originalEvent.target,r=this._element;this._popup&&(t===r||r.contains(t))&&this.togglePopup()},n.prototype.getPopup=function(){return this._popup},n.prototype.togglePopup=function(){var e=this._popup;return e?(e.isOpen()?e.remove():e.addTo(this._map),this):this},n.prototype._update=function(e){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Ii(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var t="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?t="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(t="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var n="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?n="rotateX(0deg)":"map"===this._pitchAlignment&&(n="rotateX("+this._map.getPitch()+"deg)"),e&&"moveend"!==e.type||(this._pos=this._pos.round()),r.setTransform(this._element,Li[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+n+" "+t)}},n.prototype.getOffset=function(){return this._offset},n.prototype.setOffset=function(t){return this._offset=e.Point.convert(t),this._update(),this},n.prototype._onMove=function(t){if(!this._isDragging){var r=this._clickTolerance||this._map._clickTolerance;this._isDragging=t.point.dist(this._pointerdownPos)>=r}this._isDragging&&(this._pos=t.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag")))},n.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"},n.prototype._addDragHandler=function(e){this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos).add(this._offset),this._pointerdownPos=e.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},n.prototype.setDraggable=function(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},n.prototype.isDraggable=function(){return this._draggable},n.prototype.setRotation=function(e){return this._rotation=e||0,this._update(),this},n.prototype.getRotation=function(){return this._rotation},n.prototype.setRotationAlignment=function(e){return this._rotationAlignment=e||"auto",this._update(),this},n.prototype.getRotationAlignment=function(){return this._rotationAlignment},n.prototype.setPitchAlignment=function(e){return this._pitchAlignment=e&&"auto"!==e?e:this._rotationAlignment,this._update(),this},n.prototype.getPitchAlignment=function(){return this._pitchAlignment},n}(e.Evented),Ui={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Wi=0,Ki=!1,ji=function(t){function n(r){t.call(this),this.options=e.extend({},Ui,r),e.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.onAdd=function(t){var n;return this._map=t,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),n=this._setupUI,void 0!==Si?n(Si):void 0!==e.window.navigator.permissions?e.window.navigator.permissions.query({name:"geolocation"}).then((function(e){n(Si="denied"!==e.state)})):n(Si=!!e.window.navigator.geolocation),this._container},n.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),r.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Wi=0,Ki=!1},n.prototype._isOutOfMapMaxBounds=function(e){var t=this._map.getMaxBounds(),r=e.coords;return t&&(r.longitude<t.getWest()||r.longitude>t.getEast()||r.latitude<t.getSouth()||r.latitude>t.getNorth())},n.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},n.prototype._onSuccess=function(t){if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()}},n.prototype._updateCamera=function(t){var r=new e.LngLat(t.coords.longitude,t.coords.latitude),n=t.coords.accuracy,i=this._map.getBearing(),o=e.extend({bearing:i},this.options.fitBoundsOptions);this._map.fitBounds(r.toBounds(n),o,{geolocateSource:!0})},n.prototype._updateMarker=function(t){if(t){var r=new e.LngLat(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(r).addTo(this._map),this._userLocationDotMarker.setLngLat(r).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},n.prototype._updateCircleRadius=function(){var e=this._map._container.clientHeight/2,t=this._map.unproject([0,e]),r=this._map.unproject([1,e]),n=t.distanceTo(r),i=Math.ceil(2*this._accuracy/n);this._circleElement.style.width=i+"px",this._circleElement.style.height=i+"px"},n.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},n.prototype._onError=function(t){if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=r,this._geolocateButton.setAttribute("aria-label",r),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===t.code&&Ki)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()}},n.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},n.prototype._setupUI=function(t){var n=this;if(this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this._geolocateButton=r.create("button","mapboxgl-ctrl-geolocate",this._container),r.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===t){e.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var i=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i)}else{var o=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=o,this._geolocateButton.setAttribute("aria-label",o)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=r.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Bi(this._dotElement),this._circleElement=r.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Bi({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(t){t.geolocateSource||"ACTIVE_LOCK"!==n._watchState||t.originalEvent&&"resize"===t.originalEvent.type||(n._watchState="BACKGROUND",n._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),n._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),n.fire(new e.Event("trackuserlocationend")))}))},n.prototype.trigger=function(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Wi--,Ki=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var t;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Wi>1?(t={maximumAge:6e5,timeout:0},Ki=!0):(t=this.options.positionOptions,Ki=!1),this._geolocationWatchID=e.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,t)}}else e.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},n.prototype._clearWatch=function(){e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},n}(e.Evented),zi={maxWidth:100,unit:"metric"},Fi=function(t){this.options=e.extend({},zi,t),e.bindAll(["_onMove","setUnit"],this)};function qi(e,t,r){var n=r&&r.maxWidth||100,i=e._container.clientHeight/2,o=e.unproject([0,i]),a=e.unproject([n,i]),s=o.distanceTo(a);if(r&&"imperial"===r.unit){var l=3.2808*s;l>5280?Ni(t,n,l/5280,e._getUIString("ScaleControl.Miles")):Ni(t,n,l,e._getUIString("ScaleControl.Feet"))}else r&&"nautical"===r.unit?Ni(t,n,s/1852,e._getUIString("ScaleControl.NauticalMiles")):s>=1e3?Ni(t,n,s/1e3,e._getUIString("ScaleControl.Kilometers")):Ni(t,n,s,e._getUIString("ScaleControl.Meters"))}function Ni(e,t,r,n){var i,o,a,s=(i=r,(o=Math.pow(10,(""+Math.floor(i)).length-1))*(a=(a=i/o)>=10?10:a>=5?5:a>=3?3:a>=2?2:a>=1?1:function(e){var t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(a)));e.style.width=t*(s/r)+"px",e.innerHTML=s+"&nbsp;"+n}Fi.prototype.getDefaultPosition=function(){return"bottom-left"},Fi.prototype._onMove=function(){qi(this._map,this._container,this.options)},Fi.prototype.onAdd=function(e){return this._map=e,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Fi.prototype.onRemove=function(){r.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Fi.prototype.setUnit=function(e){this.options.unit=e,qi(this._map,this._container,this.options)};var Hi=function(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof e.window.HTMLElement?this._container=t.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in e.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in e.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in e.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in e.window.document&&(this._fullscreenchange="MSFullscreenChange")};Hi.prototype.onAdd=function(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Hi.prototype.onRemove=function(){r.remove(this._controlContainer),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Hi.prototype._checkFullscreenSupport=function(){return!!(e.window.document.fullscreenEnabled||e.window.document.mozFullScreenEnabled||e.window.document.msFullscreenEnabled||e.window.document.webkitFullscreenEnabled)},Hi.prototype._setupUI=function(){var t=this._fullscreenButton=r.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);r.create("span","mapboxgl-ctrl-icon",t).setAttribute("aria-hidden",!0),t.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Hi.prototype._updateTitle=function(){var e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.title=e},Hi.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Hi.prototype._isFullscreen=function(){return this._fullscreen},Hi.prototype._changeIcon=function(){(e.window.document.fullscreenElement||e.window.document.mozFullScreenElement||e.window.document.webkitFullscreenElement||e.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Hi.prototype._onClickFullscreen=function(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.mozCancelFullScreen?e.window.document.mozCancelFullScreen():e.window.document.msExitFullscreen?e.window.document.msExitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Gi={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Vi=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Zi=function(t){function n(r){t.call(this),this.options=e.extend(Object.create(Gi),r),e.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.addTo=function(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new e.Event("open")),this},n.prototype.isOpen=function(){return!!this._map},n.prototype.remove=function(){return this._content&&r.remove(this._content),this._container&&(r.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new e.Event("close")),this},n.prototype.getLngLat=function(){return this._lngLat},n.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},n.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},n.prototype.getElement=function(){return this._container},n.prototype.setText=function(t){return this.setDOMContent(e.window.document.createTextNode(t))},n.prototype.setHTML=function(t){var r,n=e.window.document.createDocumentFragment(),i=e.window.document.createElement("body");for(i.innerHTML=t;r=i.firstChild;)n.appendChild(r);return this.setDOMContent(n)},n.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},n.prototype.setMaxWidth=function(e){return this.options.maxWidth=e,this._update(),this},n.prototype.setDOMContent=function(e){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=r.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(e),this._createCloseButton(),this._update(),this._focusFirstElement(),this},n.prototype.addClassName=function(e){this._container&&this._container.classList.add(e)},n.prototype.removeClassName=function(e){this._container&&this._container.classList.remove(e)},n.prototype.setOffset=function(e){return this.options.offset=e,this._update(),this},n.prototype.toggleClassName=function(e){if(this._container)return this._container.classList.toggle(e)},n.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=r.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},n.prototype._onMouseUp=function(e){this._update(e.point)},n.prototype._onMouseMove=function(e){this._update(e.point)},n.prototype._onDrag=function(e){this._update(e.point)},n.prototype._update=function(t){var n=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=r.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=r.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((function(e){return n._container.classList.add(e)})),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Ii(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||t)){var i=this._pos=this._trackPointer&&t?t:this._map.project(this._lngLat),o=this.options.anchor,a=function t(r){if(r){if("number"==typeof r){var n=Math.round(Math.sqrt(.5*Math.pow(r,2)));return{center:new e.Point(0,0),top:new e.Point(0,r),"top-left":new e.Point(n,n),"top-right":new e.Point(-n,n),bottom:new e.Point(0,-r),"bottom-left":new e.Point(n,-n),"bottom-right":new e.Point(-n,-n),left:new e.Point(r,0),right:new e.Point(-r,0)}}if(r instanceof e.Point||Array.isArray(r)){var i=e.Point.convert(r);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:e.Point.convert(r.center||[0,0]),top:e.Point.convert(r.top||[0,0]),"top-left":e.Point.convert(r["top-left"]||[0,0]),"top-right":e.Point.convert(r["top-right"]||[0,0]),bottom:e.Point.convert(r.bottom||[0,0]),"bottom-left":e.Point.convert(r["bottom-left"]||[0,0]),"bottom-right":e.Point.convert(r["bottom-right"]||[0,0]),left:e.Point.convert(r.left||[0,0]),right:e.Point.convert(r.right||[0,0])}}return t(new e.Point(0,0))}(this.options.offset);if(!o){var s,l=this._container.offsetWidth,_=this._container.offsetHeight;s=i.y+a.bottom.y<_?["top"]:i.y>this._map.transform.height-_?["bottom"]:[],i.x<l/2?s.push("left"):i.x>this._map.transform.width-l/2&&s.push("right"),o=0===s.length?"bottom":s.join("-")}var u=i.add(a[o]).round();r.setTransform(this._container,Li[o]+" translate("+u.x+"px,"+u.y+"px)"),Ri(this._container,o,"popup")}},n.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var e=this._container.querySelector(Vi);e&&e.focus()}},n.prototype._onClose=function(){this.remove()},n}(e.Evented),Xi={version:e.version,supported:t,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:Ci,NavigationControl:ki,GeolocateControl:ji,AttributionControl:bi,ScaleControl:Fi,FullscreenControl:Hi,Popup:Zi,Marker:Bi,Style:qt,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.Point,MercatorCoordinate:e.MercatorCoordinate,Evented:e.Evented,config:e.config,prewarm:function(){We().acquire(Re)},clearPrewarmedResources:function(){var e=Be;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(Re),Be=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t},get workerCount(){return Se.workerCount},set workerCount(e){Se.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},clearStorage:function(t){e.clearTileCache(t)},workerUrl:""};return Xi})),r}()},function(e,t,r){"use strict";r.r(t),r.d(t,"focusable",(function(){return g})),r.d(t,"isFocusable",(function(){return E})),r.d(t,"isTabbable",(function(){return b})),r.d(t,"tabbable",(function(){return y}));
/*!
* tabbable 5.3.2
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/
var n=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],i=n.join(","),o="undefined"==typeof Element,a=o?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,s=!o&&Element.prototype.getRootNode?function(e){return e.getRootNode()}:function(e){return e.ownerDocument},l=function(e,t,r){var n=Array.prototype.slice.apply(e.querySelectorAll(i));return t&&a.call(e,i)&&n.unshift(e),n=n.filter(r)},_=function e(t,r,n){for(var o=[],s=Array.from(t);s.length;){var l=s.shift();if("SLOT"===l.tagName){var _=l.assignedElements(),u=e(_.length?_:l.children,!0,n);n.flatten?o.push.apply(o,u):o.push({scope:l,candidates:u})}else{a.call(l,i)&&n.filter(l)&&(r||!t.includes(l))&&o.push(l);var c=l.shadowRoot||"function"==typeof n.getShadowRoot&&n.getShadowRoot(l);if(c){var p=e(!0===c?l.children:c.children,!0,n);n.flatten?o.push.apply(o,p):o.push({scope:l,candidates:p})}else s.unshift.apply(s,l.children)}}return o},u=function(e,t){return e.tabIndex<0&&(t||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},c=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},p=function(e){return"INPUT"===e.tagName},d=function(e){return function(e){return p(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,r=e.form||s(e),n=function(e){return r.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=n(window.CSS.escape(e.name));else try{t=n(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var i=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]}(t,e.form);return!i||i===e}(e)},h=function(e){var t=e.getBoundingClientRect(),r=t.width,n=t.height;return 0===r&&0===n},f=function(e,t){return!(t.disabled||function(e){return p(e)&&"hidden"===e.type}(t)||function(e,t){var r=t.displayCheck,n=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var i=a.call(e,"details>summary:first-of-type")?e.parentElement:e;if(a.call(i,"details:not([open]) *"))return!0;var o=s(e).host,l=(null==o?void 0:o.ownerDocument.contains(o))||e.ownerDocument.contains(e);if(r&&"full"!==r){if("non-zero-area"===r)return h(e)}else{if("function"==typeof n){for(var _=e;e;){var u=e.parentElement,c=s(e);if(u&&!u.shadowRoot&&!0===n(u))return h(e);e=e.assignedSlot?e.assignedSlot:u||c===e.ownerDocument?u:c.host}e=_}if(l)return!e.getClientRects().length}return!1}(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var r=0;r<t.children.length;r++){var n=t.children.item(r);if("LEGEND"===n.tagName)return!!a.call(t,"fieldset[disabled] *")||!n.contains(e)}return!0}t=t.parentElement}return!1}(t))},m=function(e,t){return!(d(t)||u(t)<0||!f(e,t))},y=function(e,t){return function e(t){var r=[],n=[];return t.forEach((function(t,i){var o=!!t.scope,a=o?t.scope:t,s=u(a,o),l=o?e(t.candidates):a;0===s?o?r.push.apply(r,l):r.push(a):n.push({documentOrder:i,tabIndex:s,item:t,isScope:o,content:l})})),n.sort(c).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(r)}((t=t||{}).getShadowRoot?_([e],t.includeContainer,{filter:m.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot}):l(e,t.includeContainer,m.bind(null,t)))},g=function(e,t){return(t=t||{}).getShadowRoot?_([e],t.includeContainer,{filter:f.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):l(e,t.includeContainer,f.bind(null,t))},b=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==a.call(e,i)&&m(t,e)},v=n.concat("iframe").join(","),E=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==a.call(e,v)&&f(t,e)}},function(e,t,r){"use strict";var n=r(38),i=r(34),o=r(36),a={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},s=r(94),l=r(12),_=r(30),u=r(42),c=r(20),p=r(21),d=r(13);function h(e,t,r){return function(n,i,o,a,s){if(n){if(!i&&!t)return n;var l=t?0:o[0]*i,_=t?0:o[1]*i,u=s?s[0]:0,c=s?s[1]:0,p=e[0]+l/2+u,h=e[2]-l/2+u,f=e[1]+_/2+c,m=e[3]-_/2+c;p>h&&(h=p=(h+p)/2),f>m&&(m=f=(m+f)/2);var y=Object(d.b)(n[0],p,h),g=Object(d.b)(n[1],f,m);if(a&&r&&i){var b=30*i;y+=-b*Math.log(1+Math.max(0,p-n[0])/b)+b*Math.log(1+Math.max(0,n[0]-h)/b),g+=-b*Math.log(1+Math.max(0,f-n[1])/b)+b*Math.log(1+Math.max(0,n[1]-m)/b)}return[y,g]}}}function f(e){return e}var m=r(5),y=r(23);function g(e,t,r,n){var i=Object(m.E)(t)/r[0],o=Object(m.z)(t)/r[1];return n?Math.min(e,Math.max(i,o)):Math.min(e,Math.min(i,o))}function b(e,t,r){var n=Math.min(e,t);return n*=Math.log(1+50*Math.max(0,e/t-1))/50+1,r&&(n=Math.max(n,r),n/=Math.log(1+50*Math.max(0,r/e-1))/50+1),Object(d.b)(n,r/2,2*t)}function v(e,t,r,n,i){return function(o,a,s,l){if(void 0!==o){var _=n?g(e,n,s,i):e;return(void 0===r||r)&&l?b(o,_,t):Object(d.b)(o,t,_)}}}var E,O=r(90),M=r(56),P=r(72),x=(E=function(e,t){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}E(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),w=function(e){function t(t){var r=e.call(this)||this;r.on,r.once,r.un;var n=Object(p.a)({},t);return r.hints_=[0,0],r.animations_=[],r.updateAnimationKey_,r.projection_=Object(l.b)(n.projection,"EPSG:3857"),r.viewportSize_=[100,100],r.targetCenter_=null,r.targetResolution_,r.targetRotation_,r.nextCenter_=null,r.nextResolution_,r.nextRotation_,r.cancelAnchor_=void 0,n.projection&&Object(l.c)(),n.center&&(n.center=Object(l.f)(n.center,r.projection_)),n.extent&&(n.extent=Object(l.g)(n.extent,r.projection_)),r.applyOptions_(n),r}return x(t,e),t.prototype.applyOptions_=function(e){var t=Object(p.a)({},e);for(var r in a)delete t[r];this.setProperties(t,!0);var n=function(e){var t,r,n,o=void 0!==e.minZoom?e.minZoom:0,a=void 0!==e.maxZoom?e.maxZoom:28,_=void 0!==e.zoomFactor?e.zoomFactor:2,u=void 0!==e.multiWorld&&e.multiWorld,c=void 0===e.smoothResolutionConstraint||e.smoothResolutionConstraint,p=void 0!==e.showFullExtent&&e.showFullExtent,h=Object(l.b)(e.projection,"EPSG:3857"),f=h.getExtent(),E=e.constrainOnlyCenter,O=e.extent;u||O||!h.isGlobal()||(E=!1,O=f);if(void 0!==e.resolutions){var M=e.resolutions;r=M[o],n=void 0!==M[a]?M[a]:M[M.length-1],t=e.constrainResolution?function(e,t,r,n){return function(i,o,a,s){if(void 0!==i){var l=e[0],_=e[e.length-1],u=r?g(l,r,a,n):l;if(s)return void 0===t||t?b(i,u,_):Object(d.b)(i,_,u);var c=Math.min(u,i),p=Math.floor(Object(y.e)(e,c,o));return e[p]>u&&p<e.length-1?e[p+1]:e[p]}}}(M,c,!E&&O,p):v(r,n,c,!E&&O,p)}else{var P=(f?Math.max(Object(m.E)(f),Object(m.z)(f)):360*l.a[i.b.DEGREES]/h.getMetersPerUnit())/s.b/Math.pow(2,0),x=P/Math.pow(2,28);void 0!==(r=e.maxResolution)?o=0:r=P/Math.pow(_,o),void 0===(n=e.minResolution)&&(n=void 0!==e.maxZoom?void 0!==e.maxResolution?r/Math.pow(_,a):P/Math.pow(_,a):x),a=o+Math.floor(Math.log(r/n)/Math.log(_)),n=r/Math.pow(_,a-o),t=e.constrainResolution?function(e,t,r,n,i,o){return function(a,s,l,_){if(void 0!==a){var u=i?g(t,i,l,o):t,c=void 0!==r?r:0;if(_)return void 0===n||n?b(a,u,c):Object(d.b)(a,c,u);var p=Math.ceil(Math.log(t/u)/Math.log(e)-1e-9),h=-s*(.5-1e-9)+.5,f=Math.min(u,a),m=Math.floor(Math.log(t/f)/Math.log(e)+h),y=Math.max(p,m),v=t/Math.pow(e,y);return Object(d.b)(v,c,u)}}}(_,r,n,c,!E&&O,p):v(r,n,c,!E&&O,p)}return{constraint:t,maxResolution:r,minResolution:n,minZoom:o,zoomFactor:_}}(e);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=n.minZoom;var o=function(e){if(void 0!==e.extent){var t=void 0===e.smoothExtentConstraint||e.smoothExtentConstraint;return h(e.extent,e.constrainOnlyCenter,t)}var r=Object(l.b)(e.projection,"EPSG:3857");if(!0!==e.multiWorld&&r.isGlobal()){var n=r.getExtent().slice();return n[0]=-1/0,n[2]=1/0,h(n,!1,!1)}return f}(e),_=n.constraint,u=function(e){if(void 0===e.enableRotation||e.enableRotation){var t=e.constrainRotation;return void 0===t||!0===t?Object(O.b)():!1===t?O.d:"number"==typeof t?Object(O.a)(t):O.d}return O.c}(e);this.constraints_={center:o,resolution:_,rotation:u},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom)},Object.defineProperty(t.prototype,"padding",{get:function(){return this.padding_},set:function(e){var t=this.padding_;this.padding_=e;var r=this.getCenter();if(r){var n=e||[0,0,0,0];t=t||[0,0,0,0];var i=this.getResolution(),o=i/2*(n[3]-t[3]+t[1]-n[1]),a=i/2*(n[0]-t[0]+t[2]-n[2]);this.setCenterInternal([r[0]+o,r[1]-a])}},enumerable:!1,configurable:!0}),t.prototype.getUpdatedOptions_=function(e){var t=this.getProperties();return void 0!==t.resolution?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object(p.a)({},t,e)},t.prototype.animate=function(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var t=new Array(arguments.length),r=0;r<t.length;++r){var n=arguments[r];n.center&&((n=Object(p.a)({},n)).center=Object(l.f)(n.center,this.getProjection())),n.anchor&&((n=Object(p.a)({},n)).anchor=Object(l.f)(n.anchor,this.getProjection())),t[r]=n}this.animateInternal.apply(this,t)},t.prototype.animateInternal=function(e){var t,r=arguments.length;r>1&&"function"==typeof arguments[r-1]&&(t=arguments[r-1],--r);for(var n=0;n<r&&!this.isDef();++n){var i=arguments[n];i.center&&this.setCenterInternal(i.center),void 0!==i.zoom?this.setZoom(i.zoom):i.resolution&&this.setResolution(i.resolution),void 0!==i.rotation&&this.setRotation(i.rotation)}if(n!==r){for(var a=Date.now(),s=this.targetCenter_.slice(),l=this.targetResolution_,_=this.targetRotation_,u=[];n<r;++n){var c=arguments[n],p={start:a,complete:!1,anchor:c.anchor,duration:void 0!==c.duration?c.duration:1e3,easing:c.easing||M.c,callback:t};if(c.center&&(p.sourceCenter=s,p.targetCenter=c.center.slice(),s=p.targetCenter),void 0!==c.zoom?(p.sourceResolution=l,p.targetResolution=this.getResolutionForZoom(c.zoom),l=p.targetResolution):c.resolution&&(p.sourceResolution=l,p.targetResolution=c.resolution,l=p.targetResolution),void 0!==c.rotation){p.sourceRotation=_;var h=Object(d.g)(c.rotation-_+Math.PI,2*Math.PI)-Math.PI;p.targetRotation=_+h,_=p.targetRotation}D(p)?p.complete=!0:a+=p.duration,u.push(p)}this.animations_.push(u),this.setHint(o.a.ANIMATING,1),this.updateAnimations_()}else t&&C(t,!0)},t.prototype.getAnimating=function(){return this.hints_[o.a.ANIMATING]>0},t.prototype.getInteracting=function(){return this.hints_[o.a.INTERACTING]>0},t.prototype.cancelAnimations=function(){var e;this.setHint(o.a.ANIMATING,-this.hints_[o.a.ANIMATING]);for(var t=0,r=this.animations_.length;t<r;++t){var n=this.animations_[t];if(n[0].callback&&C(n[0].callback,!1),!e)for(var i=0,a=n.length;i<a;++i){var s=n[i];if(!s.complete){e=s.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},t.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var e=Date.now(),t=!1,r=this.animations_.length-1;r>=0;--r){for(var n=this.animations_[r],i=!0,a=0,s=n.length;a<s;++a){var l=n[a];if(!l.complete){var _=e-l.start,u=l.duration>0?_/l.duration:1;u>=1?(l.complete=!0,u=1):i=!1;var c=l.easing(u);if(l.sourceCenter){var p=l.sourceCenter[0],h=l.sourceCenter[1],f=l.targetCenter[0],m=l.targetCenter[1];this.nextCenter_=l.targetCenter;var y=p+c*(f-p),g=h+c*(m-h);this.targetCenter_=[y,g]}if(l.sourceResolution&&l.targetResolution){var b=1===c?l.targetResolution:l.sourceResolution+c*(l.targetResolution-l.sourceResolution);if(l.anchor){var v=this.getViewportSize_(this.getRotation()),E=this.constraints_.resolution(b,0,v,!0);this.targetCenter_=this.calculateCenterZoom(E,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=b,this.applyTargetState_(!0)}if(void 0!==l.sourceRotation&&void 0!==l.targetRotation){var O=1===c?Object(d.g)(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+c*(l.targetRotation-l.sourceRotation);if(l.anchor){var M=this.constraints_.rotation(O,!0);this.targetCenter_=this.calculateCenterRotate(M,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=O}if(this.applyTargetState_(!0),t=!0,!l.complete)break}}if(i){this.animations_[r]=null,this.setHint(o.a.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var P=n[0].callback;P&&C(P,!0)}}this.animations_=this.animations_.filter(Boolean),t&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},t.prototype.calculateCenterRotate=function(e,t){var r,n=this.getCenterInternal();return void 0!==n&&(r=[n[0]-t[0],n[1]-t[1]],Object(u.d)(r,e-this.getRotation()),Object(u.a)(r,t)),r},t.prototype.calculateCenterZoom=function(e,t){var r,n=this.getCenterInternal(),i=this.getResolution();void 0!==n&&void 0!==i&&(r=[t[0]-e*(t[0]-n[0])/i,t[1]-e*(t[1]-n[1])/i]);return r},t.prototype.getViewportSize_=function(e){var t=this.viewportSize_;if(e){var r=t[0],n=t[1];return[Math.abs(r*Math.cos(e))+Math.abs(n*Math.sin(e)),Math.abs(r*Math.sin(e))+Math.abs(n*Math.cos(e))]}return t},t.prototype.setViewportSize=function(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},t.prototype.getCenter=function(){var e=this.getCenterInternal();return e?Object(l.o)(e,this.getProjection()):e},t.prototype.getCenterInternal=function(){return this.get(a.CENTER)},t.prototype.getConstraints=function(){return this.constraints_},t.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},t.prototype.getHints=function(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()},t.prototype.calculateExtent=function(e){var t=this.calculateExtentInternal(e);return Object(l.p)(t,this.getProjection())},t.prototype.calculateExtentInternal=function(e){var t=e||this.getViewportSizeMinusPadding_(),r=this.getCenterInternal();Object(c.a)(r,1);var n=this.getResolution();Object(c.a)(void 0!==n,2);var i=this.getRotation();return Object(c.a)(void 0!==i,3),Object(m.y)(r,n,i,t)},t.prototype.getMaxResolution=function(){return this.maxResolution_},t.prototype.getMinResolution=function(){return this.minResolution_},t.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},t.prototype.setMaxZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))},t.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},t.prototype.setMinZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))},t.prototype.setConstrainResolution=function(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))},t.prototype.getProjection=function(){return this.projection_},t.prototype.getResolution=function(){return this.get(a.RESOLUTION)},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getResolutionForExtent=function(e,t){return this.getResolutionForExtentInternal(Object(l.g)(e,this.getProjection()),t)},t.prototype.getResolutionForExtentInternal=function(e,t){var r=t||this.getViewportSizeMinusPadding_(),n=Object(m.E)(e)/r[0],i=Object(m.z)(e)/r[1];return Math.max(n,i)},t.prototype.getResolutionForValueFunction=function(e){var t=e||2,r=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,i=Math.log(r/n)/Math.log(t);return function(e){return r/Math.pow(t,e*i)}},t.prototype.getRotation=function(){return this.get(a.ROTATION)},t.prototype.getValueForResolutionFunction=function(e){var t=Math.log(e||2),r=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,i=Math.log(r/n)/t;return function(e){return Math.log(r/e)/t/i}},t.prototype.getViewportSizeMinusPadding_=function(e){var t=this.getViewportSize_(e),r=this.padding_;return r&&(t=[t[0]-r[1]-r[3],t[1]-r[0]-r[2]]),t},t.prototype.getState=function(){var e=this.getProjection(),t=this.getResolution(),r=this.getRotation(),n=this.getCenterInternal(),i=this.padding_;if(i){var o=this.getViewportSizeMinusPadding_();n=T(n,this.getViewportSize_(),[o[0]/2+i[3],o[1]/2+i[0]],t,r)}return{center:n.slice(0),projection:void 0!==e?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:r,zoom:this.getZoom()}},t.prototype.getZoom=function(){var e,t=this.getResolution();return void 0!==t&&(e=this.getZoomForResolution(t)),e},t.prototype.getZoomForResolution=function(e){var t,r,n=this.minZoom_||0;if(this.resolutions_){var i=Object(y.e)(this.resolutions_,e,1);n=i,t=this.resolutions_[i],r=i==this.resolutions_.length-1?2:t/this.resolutions_[i+1]}else t=this.maxResolution_,r=this.zoomFactor_;return n+Math.log(t/e)/Math.log(r)},t.prototype.getResolutionForZoom=function(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var t=Object(d.b)(Math.floor(e),0,this.resolutions_.length-2),r=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(r,Object(d.b)(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)},t.prototype.fit=function(e,t){var r;if(Object(c.a)(Array.isArray(e)||"function"==typeof e.getSimplifiedGeometry,24),Array.isArray(e)){Object(c.a)(!Object(m.H)(e),25);var n=Object(l.g)(e,this.getProjection());r=Object(P.b)(n)}else if("Circle"===e.getType()){n=Object(l.g)(e.getExtent(),this.getProjection());(r=Object(P.b)(n)).rotate(this.getRotation(),Object(m.w)(n))}else{var i=Object(l.m)();r=i?e.clone().transform(i,this.getProjection()):e}this.fitInternal(r,t)},t.prototype.rotatedExtentForGeometry=function(e){for(var t=this.getRotation(),r=Math.cos(t),n=Math.sin(-t),i=e.getFlatCoordinates(),o=e.getStride(),a=1/0,s=1/0,l=-1/0,_=-1/0,u=0,c=i.length;u<c;u+=o){var p=i[u]*r-i[u+1]*n,d=i[u]*n+i[u+1]*r;a=Math.min(a,p),s=Math.min(s,d),l=Math.max(l,p),_=Math.max(_,d)}return[a,s,l,_]},t.prototype.fitInternal=function(e,t){var r=t||{},n=r.size;n||(n=this.getViewportSizeMinusPadding_());var i,o=void 0!==r.padding?r.padding:[0,0,0,0],a=void 0!==r.nearest&&r.nearest;i=void 0!==r.minResolution?r.minResolution:void 0!==r.maxZoom?this.getResolutionForZoom(r.maxZoom):0;var s=this.rotatedExtentForGeometry(e),l=this.getResolutionForExtentInternal(s,[n[0]-o[1]-o[3],n[1]-o[0]-o[2]]);l=isNaN(l)?i:Math.max(l,i),l=this.getConstrainedResolution(l,a?0:1);var u=this.getRotation(),c=Math.sin(u),p=Math.cos(u),d=Object(m.w)(s);d[0]+=(o[1]-o[3])/2*l,d[1]+=(o[0]-o[2])/2*l;var h=d[0]*p-d[1]*c,f=d[1]*p+d[0]*c,y=this.getConstrainedCenter([h,f],l),g=r.callback?r.callback:_.c;void 0!==r.duration?this.animateInternal({resolution:l,center:y,duration:r.duration,easing:r.easing},g):(this.targetResolution_=l,this.targetCenter_=y,this.applyTargetState_(!1,!0),C(g,!0))},t.prototype.centerOn=function(e,t,r){this.centerOnInternal(Object(l.f)(e,this.getProjection()),t,r)},t.prototype.centerOnInternal=function(e,t,r){this.setCenterInternal(T(e,t,r,this.getResolution(),this.getRotation()))},t.prototype.calculateCenterShift=function(e,t,r,n){var i,o=this.padding_;if(o&&e){var a=this.getViewportSizeMinusPadding_(-r),s=T(e,n,[a[0]/2+o[3],a[1]/2+o[0]],t,r);i=[e[0]-s[0],e[1]-s[1]]}return i},t.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},t.prototype.adjustCenter=function(e){var t=Object(l.o)(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])},t.prototype.adjustCenterInternal=function(e){var t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])},t.prototype.adjustResolution=function(e,t){var r=t&&Object(l.f)(t,this.getProjection());this.adjustResolutionInternal(e,r)},t.prototype.adjustResolutionInternal=function(e,t){var r=this.getAnimating()||this.getInteracting(),n=this.getViewportSize_(this.getRotation()),i=this.constraints_.resolution(this.targetResolution_*e,0,n,r);t&&(this.targetCenter_=this.calculateCenterZoom(i,t)),this.targetResolution_*=e,this.applyTargetState_()},t.prototype.adjustZoom=function(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)},t.prototype.adjustRotation=function(e,t){t&&(t=Object(l.f)(t,this.getProjection())),this.adjustRotationInternal(e,t)},t.prototype.adjustRotationInternal=function(e,t){var r=this.getAnimating()||this.getInteracting(),n=this.constraints_.rotation(this.targetRotation_+e,r);t&&(this.targetCenter_=this.calculateCenterRotate(n,t)),this.targetRotation_+=e,this.applyTargetState_()},t.prototype.setCenter=function(e){this.setCenterInternal(e?Object(l.f)(e,this.getProjection()):e)},t.prototype.setCenterInternal=function(e){this.targetCenter_=e,this.applyTargetState_()},t.prototype.setHint=function(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]},t.prototype.setResolution=function(e){this.targetResolution_=e,this.applyTargetState_()},t.prototype.setRotation=function(e){this.targetRotation_=e,this.applyTargetState_()},t.prototype.setZoom=function(e){this.setResolution(this.getResolutionForZoom(e))},t.prototype.applyTargetState_=function(e,t){var r=this.getAnimating()||this.getInteracting()||t,n=this.constraints_.rotation(this.targetRotation_,r),i=this.getViewportSize_(n),o=this.constraints_.resolution(this.targetResolution_,0,i,r),s=this.constraints_.center(this.targetCenter_,o,i,r,this.calculateCenterShift(this.targetCenter_,o,n,i));this.get(a.ROTATION)!==n&&this.set(a.ROTATION,n),this.get(a.RESOLUTION)!==o&&(this.set(a.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),s&&this.get(a.CENTER)&&Object(u.b)(this.get(a.CENTER),s)||this.set(a.CENTER,s),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0},t.prototype.resolveConstraints=function(e,t,r){var n=void 0!==e?e:200,i=t||0,o=this.constraints_.rotation(this.targetRotation_),a=this.getViewportSize_(o),s=this.constraints_.resolution(this.targetResolution_,i,a),l=this.constraints_.center(this.targetCenter_,s,a,!1,this.calculateCenterShift(this.targetCenter_,s,o,a));if(0===n&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=o,this.targetCenter_=l,void this.applyTargetState_();var _=r||(0===n?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===o&&this.getCenterInternal()&&Object(u.b)(this.getCenterInternal(),l)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:l,resolution:s,duration:n,easing:M.b,anchor:_}))},t.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(o.a.INTERACTING,1)},t.prototype.endInteraction=function(e,t,r){var n=r&&Object(l.f)(r,this.getProjection());this.endInteractionInternal(e,t,n)},t.prototype.endInteractionInternal=function(e,t,r){this.setHint(o.a.INTERACTING,-1),this.resolveConstraints(e,t,r)},t.prototype.getConstrainedCenter=function(e,t){var r=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),r)},t.prototype.getConstrainedZoom=function(e,t){var r=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(r,t))},t.prototype.getConstrainedResolution=function(e,t){var r=t||0,n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,r,n)},t}(n.a);function C(e,t){setTimeout((function(){e(t)}),0)}function D(e){return!(e.sourceCenter&&e.targetCenter&&!Object(u.b)(e.sourceCenter,e.targetCenter))&&(e.sourceResolution===e.targetResolution&&e.sourceRotation===e.targetRotation)}function T(e,t,r,n,i){var o=Math.cos(-i),a=Math.sin(-i),s=e[0]*o-e[1]*a,l=e[1]*o+e[0]*a;return[(s+=(t[0]/2-r[0])*n)*o-(l+=(r[1]-t[1]/2)*n)*(a=-a),l*o+s*a]}t.a=w},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,r){"use strict";var n=r(1),i=r.n(n),o=r(2),a=r.n(o),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var l=function(e,t){var r=e.children,n=e.color,o=e.size,a=e.style,l=e.width,_=e.height,u=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["children","color","size","style","width","height"]),c=t.reactIconBase,p=void 0===c?{}:c,d=o||p.size||"1em";return i.a.createElement("svg",s({children:r,fill:"currentColor",preserveAspectRatio:"xMidYMid meet",height:_||d,width:l||d},p,u,{style:s({verticalAlign:"middle",color:n||p.color},p.style||{},a)}))};l.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number]),width:a.a.oneOfType([a.a.string,a.a.number]),height:a.a.oneOfType([a.a.string,a.a.number]),style:a.a.object},l.contextTypes={reactIconBase:a.a.shape(l.propTypes)},t.a=l},function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return _})),r.d(t,"e",(function(){return u}));var n=r(5),i=r(152),o=r(73);function a(e,t,r,o,a){var s=Object(n.r)(Object(n.j)(),e,t,r,o);return!!Object(n.F)(a,s)&&(!!Object(n.g)(a,s)||(s[0]>=a[0]&&s[2]<=a[2]||(s[1]>=a[1]&&s[3]<=a[3]||Object(i.a)(e,t,r,o,(function(e,t){return Object(n.G)(a,e,t)})))))}function s(e,t,r,n,i){for(var o=0,s=r.length;o<s;++o){if(a(e,t,r[o],n,i))return!0;t=r[o]}return!1}function l(e,t,r,n,i){return!!a(e,t,r,n,i)||(!!Object(o.b)(e,t,r,n,i[0],i[1])||(!!Object(o.b)(e,t,r,n,i[0],i[3])||(!!Object(o.b)(e,t,r,n,i[2],i[1])||!!Object(o.b)(e,t,r,n,i[2],i[3]))))}function _(e,t,r,n,i){if(!l(e,t,r[0],n,i))return!1;if(1===r.length)return!0;for(var s=1,_=r.length;s<_;++s)if(Object(o.a)(e,r[s-1],r[s],n,i)&&!a(e,r[s-1],r[s],n,i))return!1;return!0}function u(e,t,r,n,i){for(var o=0,a=r.length;o<a;++o){var s=r[o];if(_(e,t,s,n,i))return!0;t=s[s.length-1]}return!1}},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return InputAutocomplete}));var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(33),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(11),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__),react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__),prop_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__),classnames__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(51),classnames__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_10__),react_autocomplete__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(279),react_autocomplete__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(react_autocomplete__WEBPACK_IMPORTED_MODULE_11__),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},MAX_HEIGHT=140,InputAutocomplete=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(InputAutocomplete,_React$Component);var _super=_createSuper(InputAutocomplete);function InputAutocomplete(){var e;_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,InputAutocomplete);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=_super.call.apply(_super,[this].concat(r)),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(e),"state",{maxHeight:MAX_HEIGHT}),e}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(InputAutocomplete,[{key:"calcMaxHeight",value:function(){if(this.props.keepMenuWithinWindowBounds){var e=window.innerHeight-this.autocompleteMenuEl.getBoundingClientRect().top,t=Math.min(e,MAX_HEIGHT);t!=this.state.maxHeight&&this.setState({maxHeight:t})}}},{key:"componentDidMount",value:function(){this.calcMaxHeight()}},{key:"componentDidUpdate",value:function(){this.calcMaxHeight()}},{key:"onChange",value:function(e){this.props.onChange(""===e?void 0:e)}},{key:"render",value:function(){var e=this,t={};return this.props.options.length<2&&(t.disabled=!0),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{ref:function(t){e.autocompleteMenuEl=t}},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(react_autocomplete__WEBPACK_IMPORTED_MODULE_11___default.a,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},t,{menuStyle:{position:"fixed",overflow:"auto",maxHeight:this.state.maxHeight,zIndex:"998"},wrapperProps:{className:"maputnik-autocomplete",style:null},inputProps:{"aria-label":this.props["aria-label"],className:"maputnik-string",spellCheck:!1},value:this.props.value,items:this.props.options,getItemValue:function(e){return e[0]},onSelect:function(t){return e.onChange(t)},onChange:function(t,r){return e.onChange(r)},shouldItemRender:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("string"==typeof t)return e[0].toLowerCase().indexOf(t.toLowerCase())>-1},renderItem:function(e,t){return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{key:e[0],className:classnames__WEBPACK_IMPORTED_MODULE_10___default()({"maputnik-autocomplete-menu-item":!0,"maputnik-autocomplete-menu-item-selected":t})},e[1])}})))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),InputAutocomplete}(react__WEBPACK_IMPORTED_MODULE_8___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(InputAutocomplete,"propTypes",{value:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string,options:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.array,onChange:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func,keepMenuWithinWindowBounds:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.bool,"aria-label":prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(InputAutocomplete,"defaultProps",{onChange:function(){},options:[]}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(MAX_HEIGHT,"MAX_HEIGHT","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\InputAutocomplete.jsx"),reactHotLoader.register(InputAutocomplete,"InputAutocomplete","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\InputAutocomplete.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return FieldString}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),_Block__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(24),_InputString__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(37),enterModule;function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},FieldString=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(FieldString,_React$Component);var _super=_createSuper(FieldString);function FieldString(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,FieldString),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(FieldString,[{key:"render",value:function(){var e=this.props;return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_Block__WEBPACK_IMPORTED_MODULE_8__.a,e,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_InputString__WEBPACK_IMPORTED_MODULE_9__.a,e))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),FieldString}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(FieldString,"propTypes",_objectSpread(_objectSpread({},_InputString__WEBPACK_IMPORTED_MODULE_9__.a.propTypes),{},{name:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string})),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(FieldString,"FieldString","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\FieldString.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(e,t,r){"use strict";var n=r(347),i=r(348);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=b(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,_=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(_),c=["%","/","?",";","#"].concat(u),p=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=r(110);function b(e,t,r){if(e&&i.isObject(e)&&e instanceof o)return e;var n=new o;return n.parse(e,t,r),n}o.prototype.parse=function(e,t,r){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",_=e.split(s);_[0]=_[0].replace(/\\/g,"/");var b=e=_.join(s);if(b=b.trim(),!r&&1===e.split("#").length){var v=l.exec(b);if(v)return this.path=b,this.href=b,this.pathname=v[1],v[2]?(this.search=v[2],this.query=t?g.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var E=a.exec(b);if(E){var O=(E=E[0]).toLowerCase();this.protocol=O,b=b.substr(E.length)}if(r||E||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var M="//"===b.substr(0,2);!M||E&&m[E]||(b=b.substr(2),this.slashes=!0)}if(!m[E]&&(M||E&&!y[E])){for(var P,x,w=-1,C=0;C<p.length;C++){-1!==(D=b.indexOf(p[C]))&&(-1===w||D<w)&&(w=D)}-1!==(x=-1===w?b.lastIndexOf("@"):b.lastIndexOf("@",w))&&(P=b.slice(0,x),b=b.slice(x+1),this.auth=decodeURIComponent(P)),w=-1;for(C=0;C<c.length;C++){var D;-1!==(D=b.indexOf(c[C]))&&(-1===w||D<w)&&(w=D)}-1===w&&(w=b.length),this.host=b.slice(0,w),b=b.slice(w),this.parseHost(),this.hostname=this.hostname||"";var T="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!T)for(var k=this.hostname.split(/\./),A=(C=0,k.length);C<A;C++){var I=k[C];if(I&&!I.match(d)){for(var L="",R=0,S=I.length;R<S;R++)I.charCodeAt(R)>127?L+="x":L+=I[R];if(!L.match(d)){var B=k.slice(0,C),U=k.slice(C+1),W=I.match(h);W&&(B.push(W[1]),U.unshift(W[2])),U.length&&(b="/"+U.join(".")+b),this.hostname=B.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),T||(this.hostname=n.toASCII(this.hostname));var K=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+K,this.href+=this.host,T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!f[O])for(C=0,A=u.length;C<A;C++){var z=u[C];if(-1!==b.indexOf(z)){var F=encodeURIComponent(z);F===z&&(F=escape(z)),b=b.split(z).join(F)}}var q=b.indexOf("#");-1!==q&&(this.hash=b.substr(q),b=b.slice(0,q));var N=b.indexOf("?");if(-1!==N?(this.search=b.substr(N),this.query=b.substr(N+1),t&&(this.query=g.parse(this.query)),b=b.slice(0,N)):t&&(this.search="",this.query={}),b&&(this.pathname=b),y[O]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){K=this.pathname||"";var H=this.search||"";this.path=K+H}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=g.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+n},o.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var r=new o,n=Object.keys(this),a=0;a<n.length;a++){var s=n[a];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),_=0;_<l.length;_++){var u=l[_];"protocol"!==u&&(r[u]=e[u])}return y[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!y[e.protocol]){for(var c=Object.keys(e),p=0;p<c.length;p++){var d=c[p];r[d]=e[d]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||m[e.protocol])r.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),r.pathname=h.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var f=r.pathname||"",g=r.search||"";r.path=f+g}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),v=e.host||e.pathname&&"/"===e.pathname.charAt(0),E=v||b||r.host&&e.pathname,O=E,M=r.pathname&&r.pathname.split("/")||[],P=(h=e.pathname&&e.pathname.split("/")||[],r.protocol&&!y[r.protocol]);if(P&&(r.hostname="",r.port=null,r.host&&(""===M[0]?M[0]=r.host:M.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),E=E&&(""===h[0]||""===M[0])),v)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,M=h;else if(h.length)M||(M=[]),M.pop(),M=M.concat(h),r.search=e.search,r.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(P)r.hostname=r.host=M.shift(),(T=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=T.shift(),r.host=r.hostname=T.shift());return r.search=e.search,r.query=e.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!M.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var x=M.slice(-1)[0],w=(r.host||e.host||M.length>1)&&("."===x||".."===x)||""===x,C=0,D=M.length;D>=0;D--)"."===(x=M[D])?M.splice(D,1):".."===x?(M.splice(D,1),C++):C&&(M.splice(D,1),C--);if(!E&&!O)for(;C--;C)M.unshift("..");!E||""===M[0]||M[0]&&"/"===M[0].charAt(0)||M.unshift(""),w&&"/"!==M.join("/").substr(-1)&&M.push("");var T,k=""===M[0]||M[0]&&"/"===M[0].charAt(0);P&&(r.hostname=r.host=k?"":M.length?M.shift():"",(T=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=T.shift(),r.host=r.hostname=T.shift()));return(E=E||r.host&&M.length)&&!k&&M.unshift(""),M.length?r.pathname=M.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,r){"use strict";r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return o})),r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return s}));var n=r(13);function i(e){return void 0!==e?0:void 0}function o(e){return void 0!==e?e:void 0}function a(e){var t=2*Math.PI/e;return function(e,r){return r?e:void 0!==e?e=Math.floor(e/t+.5)*t:void 0}}function s(e){var t=e||Object(n.l)(5);return function(e,r){return r?e:void 0!==e?Math.abs(e)<=t?0:e:void 0}}},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return SpecField}));var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(33),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(31),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_7__),react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__),prop_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__),_InputColor__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(289),_InputNumber__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(59),_InputCheckbox__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(130),_InputString__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(37),_InputSelect__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(52),_InputMultiInput__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(187),_InputArray__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(291),_InputDynamicArray__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(292),_InputFont__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(294),_InputAutocomplete__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(87),_InputEnum__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(163),lodash_capitalize__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(116),lodash_capitalize__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(lodash_capitalize__WEBPACK_IMPORTED_MODULE_21__),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},iconProperties=["background-pattern","fill-pattern","line-pattern","fill-extrusion-pattern","icon-image"];function labelFromFieldName(e){var t=e.split("-").slice(1).join(" ");return t.length>0&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}function optionsLabelLength(e){var t=0;return e.forEach((function(e){var r=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_7___default()(e,2),n=(r[0],r[1]);t+=n.length})),t}var SpecField=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(SpecField,_React$Component);var _super=_createSuper(SpecField);function SpecField(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,SpecField),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(SpecField,[{key:"render",value:function(){var e=this,t={error:this.props.error,fieldSpec:this.props.fieldSpec,label:this.props.label,action:this.props.action,style:this.props.style,value:this.props.value,default:this.props.fieldSpec.default,name:this.props.fieldName,onChange:function(t){return e.props.onChange(e.props.fieldName,t)},"aria-label":this.props["aria-label"]};return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{"data-wd-key":"spec-field:"+this.props.fieldName},function(){switch(this.props.fieldSpec.type){case"number":return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_InputNumber__WEBPACK_IMPORTED_MODULE_11__.a,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},t,{min:this.props.fieldSpec.minimum,max:this.props.fieldSpec.maximum}));case"enum":var e=Object.keys(this.props.fieldSpec.values).map((function(e){return[e,lodash_capitalize__WEBPACK_IMPORTED_MODULE_21___default()(e)]}));return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_InputEnum__WEBPACK_IMPORTED_MODULE_20__.a,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},t,{options:e}));case"resolvedImage":case"formatted":case"string":if(iconProperties.indexOf(this.props.fieldName)>=0){var r=this.props.fieldSpec.values||[];return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_InputAutocomplete__WEBPACK_IMPORTED_MODULE_19__.a,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},t,{options:r.map((function(e){return[e,e]}))}))}return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_InputString__WEBPACK_IMPORTED_MODULE_13__.a,t);case"color":return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_InputColor__WEBPACK_IMPORTED_MODULE_10__.a,t);case"boolean":return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_InputCheckbox__WEBPACK_IMPORTED_MODULE_12__.a,t);case"array":return"text-font"===this.props.fieldName?react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_InputFont__WEBPACK_IMPORTED_MODULE_18__.a,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},t,{fonts:this.props.fieldSpec.values})):this.props.fieldSpec.length?react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_InputArray__WEBPACK_IMPORTED_MODULE_16__.a,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},t,{type:this.props.fieldSpec.value,length:this.props.fieldSpec.length})):react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_InputDynamicArray__WEBPACK_IMPORTED_MODULE_17__.a,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},t,{fieldSpec:this.props.fieldSpec,type:this.props.fieldSpec.value}));default:return null}}.call(this))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),SpecField}(react__WEBPACK_IMPORTED_MODULE_8___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(SpecField,"propTypes",{onChange:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func.isRequired,fieldName:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string.isRequired,fieldSpec:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object.isRequired,value:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string,prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.array,prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.bool]),style:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object,"aria-label":prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(iconProperties,"iconProperties","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\InputSpec.jsx"),reactHotLoader.register(labelFromFieldName,"labelFromFieldName","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\InputSpec.jsx"),reactHotLoader.register(optionsLabelLength,"optionsLabelLength","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\InputSpec.jsx"),reactHotLoader.register(SpecField,"SpecField","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\InputSpec.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(e,t,r){(function(e,n){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o="Expected a function",a="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],l="[object Arguments]",_="[object Array]",u="[object Boolean]",c="[object Date]",p="[object Error]",d="[object Function]",h="[object GeneratorFunction]",f="[object Map]",m="[object Number]",y="[object Object]",g="[object RegExp]",b="[object Set]",v="[object String]",E="[object Symbol]",O="[object WeakMap]",M="[object ArrayBuffer]",P="[object DataView]",x="[object Float32Array]",w="[object Float64Array]",C="[object Int8Array]",D="[object Int16Array]",T="[object Int32Array]",k="[object Uint8Array]",A="[object Uint16Array]",I="[object Uint32Array]",L=/\b__p \+= '';/g,R=/\b(__p \+=) '' \+/g,S=/(__e\(.*?\)|\b__t\)) \+\n'';/g,B=/&(?:amp|lt|gt|quot|#39);/g,U=/[&<>"']/g,W=RegExp(B.source),K=RegExp(U.source),j=/<%-([\s\S]+?)%>/g,z=/<%([\s\S]+?)%>/g,F=/<%=([\s\S]+?)%>/g,q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,N=/^\w*$/,H=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,G=/[\\^$.*+?()[\]{}|]/g,V=RegExp(G.source),Z=/^\s+/,X=/\s/,$=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Y=/\{\n\/\* \[wrapped with (.+)\] \*/,J=/,? & /,Q=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ee=/[()=,{}\[\]\/\s]/,te=/\\(\\)?/g,re=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ne=/\w*$/,ie=/^[-+]0x[0-9a-f]+$/i,oe=/^0b[01]+$/i,ae=/^\[object .+?Constructor\]$/,se=/^0o[0-7]+$/i,le=/^(?:0|[1-9]\d*)$/,_e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ue=/($^)/,ce=/['\n\r\u2028\u2029\\]/g,pe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",de="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",he="[\\ud800-\\udfff]",fe="["+de+"]",me="["+pe+"]",ye="\\d+",ge="[\\u2700-\\u27bf]",be="[a-z\\xdf-\\xf6\\xf8-\\xff]",ve="[^\\ud800-\\udfff"+de+ye+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Ee="\\ud83c[\\udffb-\\udfff]",Oe="[^\\ud800-\\udfff]",Me="(?:\\ud83c[\\udde6-\\uddff]){2}",Pe="[\\ud800-\\udbff][\\udc00-\\udfff]",xe="[A-Z\\xc0-\\xd6\\xd8-\\xde]",we="(?:"+be+"|"+ve+")",Ce="(?:"+xe+"|"+ve+")",De="(?:"+me+"|"+Ee+")"+"?",Te="[\\ufe0e\\ufe0f]?"+De+("(?:\\u200d(?:"+[Oe,Me,Pe].join("|")+")[\\ufe0e\\ufe0f]?"+De+")*"),ke="(?:"+[ge,Me,Pe].join("|")+")"+Te,Ae="(?:"+[Oe+me+"?",me,Me,Pe,he].join("|")+")",Ie=RegExp("['’]","g"),Le=RegExp(me,"g"),Re=RegExp(Ee+"(?="+Ee+")|"+Ae+Te,"g"),Se=RegExp([xe+"?"+be+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[fe,xe,"$"].join("|")+")",Ce+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[fe,xe+we,"$"].join("|")+")",xe+"?"+we+"+(?:['’](?:d|ll|m|re|s|t|ve))?",xe+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ye,ke].join("|"),"g"),Be=RegExp("[\\u200d\\ud800-\\udfff"+pe+"\\ufe0e\\ufe0f]"),Ue=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,We=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ke=-1,je={};je[x]=je[w]=je[C]=je[D]=je[T]=je[k]=je["[object Uint8ClampedArray]"]=je[A]=je[I]=!0,je[l]=je[_]=je[M]=je[u]=je[P]=je[c]=je[p]=je[d]=je[f]=je[m]=je[y]=je[g]=je[b]=je[v]=je[O]=!1;var ze={};ze[l]=ze[_]=ze[M]=ze[P]=ze[u]=ze[c]=ze[x]=ze[w]=ze[C]=ze[D]=ze[T]=ze[f]=ze[m]=ze[y]=ze[g]=ze[b]=ze[v]=ze[E]=ze[k]=ze["[object Uint8ClampedArray]"]=ze[A]=ze[I]=!0,ze[p]=ze[d]=ze[O]=!1;var Fe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},qe=parseFloat,Ne=parseInt,He="object"==typeof e&&e&&e.Object===Object&&e,Ge="object"==typeof self&&self&&self.Object===Object&&self,Ve=He||Ge||Function("return this")(),Ze=t&&!t.nodeType&&t,Xe=Ze&&"object"==typeof n&&n&&!n.nodeType&&n,$e=Xe&&Xe.exports===Ze,Ye=$e&&He.process,Je=function(){try{var e=Xe&&Xe.require&&Xe.require("util").types;return e||Ye&&Ye.binding&&Ye.binding("util")}catch(e){}}(),Qe=Je&&Je.isArrayBuffer,et=Je&&Je.isDate,tt=Je&&Je.isMap,rt=Je&&Je.isRegExp,nt=Je&&Je.isSet,it=Je&&Je.isTypedArray;function ot(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function at(e,t,r,n){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(n,a,r(a),e)}return n}function st(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function lt(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function _t(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function ut(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}function ct(e,t){return!!(null==e?0:e.length)&&Et(e,t,0)>-1}function pt(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function dt(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function ht(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function ft(e,t,r,n){var i=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function mt(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function yt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var gt=xt("length");function bt(e,t,r){var n;return r(e,(function(e,r,i){if(t(e,r,i))return n=r,!1})),n}function vt(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Et(e,t,r){return t==t?function(e,t,r){var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):vt(e,Mt,r)}function Ot(e,t,r,n){for(var i=r-1,o=e.length;++i<o;)if(n(e[i],t))return i;return-1}function Mt(e){return e!=e}function Pt(e,t){var r=null==e?0:e.length;return r?Dt(e,t)/r:NaN}function xt(e){return function(t){return null==t?void 0:t[e]}}function wt(e){return function(t){return null==e?void 0:e[t]}}function Ct(e,t,r,n,i){return i(e,(function(e,i,o){r=n?(n=!1,e):t(r,e,i,o)})),r}function Dt(e,t){for(var r,n=-1,i=e.length;++n<i;){var o=t(e[n]);void 0!==o&&(r=void 0===r?o:r+o)}return r}function Tt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function kt(e){return e?e.slice(0,Zt(e)+1).replace(Z,""):e}function At(e){return function(t){return e(t)}}function It(e,t){return dt(t,(function(t){return e[t]}))}function Lt(e,t){return e.has(t)}function Rt(e,t){for(var r=-1,n=e.length;++r<n&&Et(t,e[r],0)>-1;);return r}function St(e,t){for(var r=e.length;r--&&Et(t,e[r],0)>-1;);return r}function Bt(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}var Ut=wt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Wt=wt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Kt(e){return"\\"+Fe[e]}function jt(e){return Be.test(e)}function zt(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function Ft(e,t){return function(r){return e(t(r))}}function qt(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var s=e[r];s!==t&&s!==a||(e[r]=a,o[i++]=r)}return o}function Nt(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function Ht(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function Gt(e){return jt(e)?function(e){var t=Re.lastIndex=0;for(;Re.test(e);)++t;return t}(e):gt(e)}function Vt(e){return jt(e)?function(e){return e.match(Re)||[]}(e):function(e){return e.split("")}(e)}function Zt(e){for(var t=e.length;t--&&X.test(e.charAt(t)););return t}var Xt=wt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var $t=function e(t){var r,n=(t=null==t?Ve:$t.defaults(Ve.Object(),t,$t.pick(Ve,We))).Array,i=t.Date,X=t.Error,pe=t.Function,de=t.Math,he=t.Object,fe=t.RegExp,me=t.String,ye=t.TypeError,ge=n.prototype,be=pe.prototype,ve=he.prototype,Ee=t["__core-js_shared__"],Oe=be.toString,Me=ve.hasOwnProperty,Pe=0,xe=(r=/[^.]+$/.exec(Ee&&Ee.keys&&Ee.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",we=ve.toString,Ce=Oe.call(he),De=Ve._,Te=fe("^"+Oe.call(Me).replace(G,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ke=$e?t.Buffer:void 0,Ae=t.Symbol,Re=t.Uint8Array,Be=ke?ke.allocUnsafe:void 0,Fe=Ft(he.getPrototypeOf,he),He=he.create,Ge=ve.propertyIsEnumerable,Ze=ge.splice,Xe=Ae?Ae.isConcatSpreadable:void 0,Ye=Ae?Ae.iterator:void 0,Je=Ae?Ae.toStringTag:void 0,gt=function(){try{var e=eo(he,"defineProperty");return e({},"",{}),e}catch(e){}}(),wt=t.clearTimeout!==Ve.clearTimeout&&t.clearTimeout,Yt=i&&i.now!==Ve.Date.now&&i.now,Jt=t.setTimeout!==Ve.setTimeout&&t.setTimeout,Qt=de.ceil,er=de.floor,tr=he.getOwnPropertySymbols,rr=ke?ke.isBuffer:void 0,nr=t.isFinite,ir=ge.join,or=Ft(he.keys,he),ar=de.max,sr=de.min,lr=i.now,_r=t.parseInt,ur=de.random,cr=ge.reverse,pr=eo(t,"DataView"),dr=eo(t,"Map"),hr=eo(t,"Promise"),fr=eo(t,"Set"),mr=eo(t,"WeakMap"),yr=eo(he,"create"),gr=mr&&new mr,br={},vr=Do(pr),Er=Do(dr),Or=Do(hr),Mr=Do(fr),Pr=Do(mr),xr=Ae?Ae.prototype:void 0,wr=xr?xr.valueOf:void 0,Cr=xr?xr.toString:void 0;function Dr(e){if(Ha(e)&&!Ra(e)&&!(e instanceof Ir)){if(e instanceof Ar)return e;if(Me.call(e,"__wrapped__"))return To(e)}return new Ar(e)}var Tr=function(){function e(){}return function(t){if(!Na(t))return{};if(He)return He(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function kr(){}function Ar(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Ir(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Lr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Rr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Sr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Br(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Sr;++t<r;)this.add(e[t])}function Ur(e){var t=this.__data__=new Rr(e);this.size=t.size}function Wr(e,t){var r=Ra(e),n=!r&&La(e),i=!r&&!n&&Wa(e),o=!r&&!n&&!i&&Qa(e),a=r||n||i||o,s=a?Tt(e.length,me):[],l=s.length;for(var _ in e)!t&&!Me.call(e,_)||a&&("length"==_||i&&("offset"==_||"parent"==_)||o&&("buffer"==_||"byteLength"==_||"byteOffset"==_)||so(_,l))||s.push(_);return s}function Kr(e){var t=e.length;return t?e[Un(0,t-1)]:void 0}function jr(e,t){return xo(gi(e),Xr(t,0,e.length))}function zr(e){return xo(gi(e))}function Fr(e,t,r){(void 0!==r&&!ka(e[t],r)||void 0===r&&!(t in e))&&Vr(e,t,r)}function qr(e,t,r){var n=e[t];Me.call(e,t)&&ka(n,r)&&(void 0!==r||t in e)||Vr(e,t,r)}function Nr(e,t){for(var r=e.length;r--;)if(ka(e[r][0],t))return r;return-1}function Hr(e,t,r,n){return en(e,(function(e,i,o){t(n,e,r(e),o)})),n}function Gr(e,t){return e&&bi(t,Es(t),e)}function Vr(e,t,r){"__proto__"==t&&gt?gt(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function Zr(e,t){for(var r=-1,i=t.length,o=n(i),a=null==e;++r<i;)o[r]=a?void 0:ms(e,t[r]);return o}function Xr(e,t,r){return e==e&&(void 0!==r&&(e=e<=r?e:r),void 0!==t&&(e=e>=t?e:t)),e}function $r(e,t,r,n,i,o){var a,s=1&t,_=2&t,p=4&t;if(r&&(a=i?r(e,n,i,o):r(e)),void 0!==a)return a;if(!Na(e))return e;var O=Ra(e);if(O){if(a=function(e){var t=e.length,r=new e.constructor(t);t&&"string"==typeof e[0]&&Me.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!s)return gi(e,a)}else{var L=no(e),R=L==d||L==h;if(Wa(e))return pi(e,s);if(L==y||L==l||R&&!i){if(a=_||R?{}:oo(e),!s)return _?function(e,t){return bi(e,ro(e),t)}(e,function(e,t){return e&&bi(t,Os(t),e)}(a,e)):function(e,t){return bi(e,to(e),t)}(e,Gr(a,e))}else{if(!ze[L])return i?e:{};a=function(e,t,r){var n=e.constructor;switch(t){case M:return di(e);case u:case c:return new n(+e);case P:return function(e,t){var r=t?di(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case x:case w:case C:case D:case T:case k:case"[object Uint8ClampedArray]":case A:case I:return hi(e,r);case f:return new n;case m:case v:return new n(e);case g:return function(e){var t=new e.constructor(e.source,ne.exec(e));return t.lastIndex=e.lastIndex,t}(e);case b:return new n;case E:return i=e,wr?he(wr.call(i)):{}}var i}(e,L,s)}}o||(o=new Ur);var S=o.get(e);if(S)return S;o.set(e,a),$a(e)?e.forEach((function(n){a.add($r(n,t,r,n,e,o))})):Ga(e)&&e.forEach((function(n,i){a.set(i,$r(n,t,r,i,e,o))}));var B=O?void 0:(p?_?Vi:Gi:_?Os:Es)(e);return st(B||e,(function(n,i){B&&(n=e[i=n]),qr(a,i,$r(n,t,r,i,e,o))})),a}function Yr(e,t,r){var n=r.length;if(null==e)return!n;for(e=he(e);n--;){var i=r[n],o=t[i],a=e[i];if(void 0===a&&!(i in e)||!o(a))return!1}return!0}function Jr(e,t,r){if("function"!=typeof e)throw new ye(o);return Eo((function(){e.apply(void 0,r)}),t)}function Qr(e,t,r,n){var i=-1,o=ct,a=!0,s=e.length,l=[],_=t.length;if(!s)return l;r&&(t=dt(t,At(r))),n?(o=pt,a=!1):t.length>=200&&(o=Lt,a=!1,t=new Br(t));e:for(;++i<s;){var u=e[i],c=null==r?u:r(u);if(u=n||0!==u?u:0,a&&c==c){for(var p=_;p--;)if(t[p]===c)continue e;l.push(u)}else o(t,c,n)||l.push(u)}return l}Dr.templateSettings={escape:j,evaluate:z,interpolate:F,variable:"",imports:{_:Dr}},Dr.prototype=kr.prototype,Dr.prototype.constructor=Dr,Ar.prototype=Tr(kr.prototype),Ar.prototype.constructor=Ar,Ir.prototype=Tr(kr.prototype),Ir.prototype.constructor=Ir,Lr.prototype.clear=function(){this.__data__=yr?yr(null):{},this.size=0},Lr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Lr.prototype.get=function(e){var t=this.__data__;if(yr){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Me.call(t,e)?t[e]:void 0},Lr.prototype.has=function(e){var t=this.__data__;return yr?void 0!==t[e]:Me.call(t,e)},Lr.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=yr&&void 0===t?"__lodash_hash_undefined__":t,this},Rr.prototype.clear=function(){this.__data__=[],this.size=0},Rr.prototype.delete=function(e){var t=this.__data__,r=Nr(t,e);return!(r<0)&&(r==t.length-1?t.pop():Ze.call(t,r,1),--this.size,!0)},Rr.prototype.get=function(e){var t=this.__data__,r=Nr(t,e);return r<0?void 0:t[r][1]},Rr.prototype.has=function(e){return Nr(this.__data__,e)>-1},Rr.prototype.set=function(e,t){var r=this.__data__,n=Nr(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Sr.prototype.clear=function(){this.size=0,this.__data__={hash:new Lr,map:new(dr||Rr),string:new Lr}},Sr.prototype.delete=function(e){var t=Ji(this,e).delete(e);return this.size-=t?1:0,t},Sr.prototype.get=function(e){return Ji(this,e).get(e)},Sr.prototype.has=function(e){return Ji(this,e).has(e)},Sr.prototype.set=function(e,t){var r=Ji(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Br.prototype.add=Br.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Br.prototype.has=function(e){return this.__data__.has(e)},Ur.prototype.clear=function(){this.__data__=new Rr,this.size=0},Ur.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Ur.prototype.get=function(e){return this.__data__.get(e)},Ur.prototype.has=function(e){return this.__data__.has(e)},Ur.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Rr){var n=r.__data__;if(!dr||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Sr(n)}return r.set(e,t),this.size=r.size,this};var en=Oi(_n),tn=Oi(un,!0);function rn(e,t){var r=!0;return en(e,(function(e,n,i){return r=!!t(e,n,i)})),r}function nn(e,t,r){for(var n=-1,i=e.length;++n<i;){var o=e[n],a=t(o);if(null!=a&&(void 0===s?a==a&&!Ja(a):r(a,s)))var s=a,l=o}return l}function on(e,t){var r=[];return en(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function an(e,t,r,n,i){var o=-1,a=e.length;for(r||(r=ao),i||(i=[]);++o<a;){var s=e[o];t>0&&r(s)?t>1?an(s,t-1,r,n,i):ht(i,s):n||(i[i.length]=s)}return i}var sn=Mi(),ln=Mi(!0);function _n(e,t){return e&&sn(e,t,Es)}function un(e,t){return e&&ln(e,t,Es)}function cn(e,t){return ut(t,(function(t){return za(e[t])}))}function pn(e,t){for(var r=0,n=(t=li(t,e)).length;null!=e&&r<n;)e=e[Co(t[r++])];return r&&r==n?e:void 0}function dn(e,t,r){var n=t(e);return Ra(e)?n:ht(n,r(e))}function hn(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Je&&Je in he(e)?function(e){var t=Me.call(e,Je),r=e[Je];try{e[Je]=void 0;var n=!0}catch(e){}var i=we.call(e);n&&(t?e[Je]=r:delete e[Je]);return i}(e):function(e){return we.call(e)}(e)}function fn(e,t){return e>t}function mn(e,t){return null!=e&&Me.call(e,t)}function yn(e,t){return null!=e&&t in he(e)}function gn(e,t,r){for(var i=r?pt:ct,o=e[0].length,a=e.length,s=a,l=n(a),_=1/0,u=[];s--;){var c=e[s];s&&t&&(c=dt(c,At(t))),_=sr(c.length,_),l[s]=!r&&(t||o>=120&&c.length>=120)?new Br(s&&c):void 0}c=e[0];var p=-1,d=l[0];e:for(;++p<o&&u.length<_;){var h=c[p],f=t?t(h):h;if(h=r||0!==h?h:0,!(d?Lt(d,f):i(u,f,r))){for(s=a;--s;){var m=l[s];if(!(m?Lt(m,f):i(e[s],f,r)))continue e}d&&d.push(f),u.push(h)}}return u}function bn(e,t,r){var n=null==(e=yo(e,t=li(t,e)))?e:e[Co(jo(t))];return null==n?void 0:ot(n,e,r)}function vn(e){return Ha(e)&&hn(e)==l}function En(e,t,r,n,i){return e===t||(null==e||null==t||!Ha(e)&&!Ha(t)?e!=e&&t!=t:function(e,t,r,n,i,o){var a=Ra(e),s=Ra(t),d=a?_:no(e),h=s?_:no(t),O=(d=d==l?y:d)==y,x=(h=h==l?y:h)==y,w=d==h;if(w&&Wa(e)){if(!Wa(t))return!1;a=!0,O=!1}if(w&&!O)return o||(o=new Ur),a||Qa(e)?Ni(e,t,r,n,i,o):function(e,t,r,n,i,o,a){switch(r){case P:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case M:return!(e.byteLength!=t.byteLength||!o(new Re(e),new Re(t)));case u:case c:case m:return ka(+e,+t);case p:return e.name==t.name&&e.message==t.message;case g:case v:return e==t+"";case f:var s=zt;case b:var l=1&n;if(s||(s=Nt),e.size!=t.size&&!l)return!1;var _=a.get(e);if(_)return _==t;n|=2,a.set(e,t);var d=Ni(s(e),s(t),n,i,o,a);return a.delete(e),d;case E:if(wr)return wr.call(e)==wr.call(t)}return!1}(e,t,d,r,n,i,o);if(!(1&r)){var C=O&&Me.call(e,"__wrapped__"),D=x&&Me.call(t,"__wrapped__");if(C||D){var T=C?e.value():e,k=D?t.value():t;return o||(o=new Ur),i(T,k,r,n,o)}}if(!w)return!1;return o||(o=new Ur),function(e,t,r,n,i,o){var a=1&r,s=Gi(e),l=s.length,_=Gi(t).length;if(l!=_&&!a)return!1;var u=l;for(;u--;){var c=s[u];if(!(a?c in t:Me.call(t,c)))return!1}var p=o.get(e),d=o.get(t);if(p&&d)return p==t&&d==e;var h=!0;o.set(e,t),o.set(t,e);var f=a;for(;++u<l;){c=s[u];var m=e[c],y=t[c];if(n)var g=a?n(y,m,c,t,e,o):n(m,y,c,e,t,o);if(!(void 0===g?m===y||i(m,y,r,n,o):g)){h=!1;break}f||(f="constructor"==c)}if(h&&!f){var b=e.constructor,v=t.constructor;b==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof v&&v instanceof v||(h=!1)}return o.delete(e),o.delete(t),h}(e,t,r,n,i,o)}(e,t,r,n,En,i))}function On(e,t,r,n){var i=r.length,o=i,a=!n;if(null==e)return!o;for(e=he(e);i--;){var s=r[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var l=(s=r[i])[0],_=e[l],u=s[1];if(a&&s[2]){if(void 0===_&&!(l in e))return!1}else{var c=new Ur;if(n)var p=n(_,u,l,e,t,c);if(!(void 0===p?En(u,_,3,n,c):p))return!1}}return!0}function Mn(e){return!(!Na(e)||(t=e,xe&&xe in t))&&(za(e)?Te:ae).test(Do(e));var t}function Pn(e){return"function"==typeof e?e:null==e?Vs:"object"==typeof e?Ra(e)?kn(e[0],e[1]):Tn(e):rl(e)}function xn(e){if(!po(e))return or(e);var t=[];for(var r in he(e))Me.call(e,r)&&"constructor"!=r&&t.push(r);return t}function wn(e){if(!Na(e))return function(e){var t=[];if(null!=e)for(var r in he(e))t.push(r);return t}(e);var t=po(e),r=[];for(var n in e)("constructor"!=n||!t&&Me.call(e,n))&&r.push(n);return r}function Cn(e,t){return e<t}function Dn(e,t){var r=-1,i=Ba(e)?n(e.length):[];return en(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function Tn(e){var t=Qi(e);return 1==t.length&&t[0][2]?fo(t[0][0],t[0][1]):function(r){return r===e||On(r,e,t)}}function kn(e,t){return _o(e)&&ho(t)?fo(Co(e),t):function(r){var n=ms(r,e);return void 0===n&&n===t?ys(r,e):En(t,n,3)}}function An(e,t,r,n,i){e!==t&&sn(t,(function(o,a){if(i||(i=new Ur),Na(o))!function(e,t,r,n,i,o,a){var s=bo(e,r),l=bo(t,r),_=a.get(l);if(_)return void Fr(e,r,_);var u=o?o(s,l,r+"",e,t,a):void 0,c=void 0===u;if(c){var p=Ra(l),d=!p&&Wa(l),h=!p&&!d&&Qa(l);u=l,p||d||h?Ra(s)?u=s:Ua(s)?u=gi(s):d?(c=!1,u=pi(l,!0)):h?(c=!1,u=hi(l,!0)):u=[]:Za(l)||La(l)?(u=s,La(s)?u=ss(s):Na(s)&&!za(s)||(u=oo(l))):c=!1}c&&(a.set(l,u),i(u,l,n,o,a),a.delete(l));Fr(e,r,u)}(e,t,a,r,An,n,i);else{var s=n?n(bo(e,a),o,a+"",e,t,i):void 0;void 0===s&&(s=o),Fr(e,a,s)}}),Os)}function In(e,t){var r=e.length;if(r)return so(t+=t<0?r:0,r)?e[t]:void 0}function Ln(e,t,r){t=t.length?dt(t,(function(e){return Ra(e)?function(t){return pn(t,1===e.length?e[0]:e)}:e})):[Vs];var n=-1;return t=dt(t,At(Yi())),function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(Dn(e,(function(e,r,i){return{criteria:dt(t,(function(t){return t(e)})),index:++n,value:e}})),(function(e,t){return function(e,t,r){var n=-1,i=e.criteria,o=t.criteria,a=i.length,s=r.length;for(;++n<a;){var l=fi(i[n],o[n]);if(l){if(n>=s)return l;var _=r[n];return l*("desc"==_?-1:1)}}return e.index-t.index}(e,t,r)}))}function Rn(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var a=t[n],s=pn(e,a);r(s,a)&&Fn(o,li(a,e),s)}return o}function Sn(e,t,r,n){var i=n?Ot:Et,o=-1,a=t.length,s=e;for(e===t&&(t=gi(t)),r&&(s=dt(e,At(r)));++o<a;)for(var l=0,_=t[o],u=r?r(_):_;(l=i(s,u,l,n))>-1;)s!==e&&Ze.call(s,l,1),Ze.call(e,l,1);return e}function Bn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==o){var o=i;so(i)?Ze.call(e,i,1):ei(e,i)}}return e}function Un(e,t){return e+er(ur()*(t-e+1))}function Wn(e,t){var r="";if(!e||t<1||t>9007199254740991)return r;do{t%2&&(r+=e),(t=er(t/2))&&(e+=e)}while(t);return r}function Kn(e,t){return Oo(mo(e,t,Vs),e+"")}function jn(e){return Kr(ks(e))}function zn(e,t){var r=ks(e);return xo(r,Xr(t,0,r.length))}function Fn(e,t,r,n){if(!Na(e))return e;for(var i=-1,o=(t=li(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var l=Co(t[i]),_=r;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=a){var u=s[l];void 0===(_=n?n(u,l,s):void 0)&&(_=Na(u)?u:so(t[i+1])?[]:{})}qr(s,l,_),s=s[l]}return e}var qn=gr?function(e,t){return gr.set(e,t),e}:Vs,Nn=gt?function(e,t){return gt(e,"toString",{configurable:!0,enumerable:!1,value:Ns(t),writable:!0})}:Vs;function Hn(e){return xo(ks(e))}function Gn(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=n(o);++i<o;)a[i]=e[i+t];return a}function Vn(e,t){var r;return en(e,(function(e,n,i){return!(r=t(e,n,i))})),!!r}function Zn(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;n<i;){var o=n+i>>>1,a=e[o];null!==a&&!Ja(a)&&(r?a<=t:a<t)?n=o+1:i=o}return i}return Xn(e,t,Vs,r)}function Xn(e,t,r,n){var i=0,o=null==e?0:e.length;if(0===o)return 0;for(var a=(t=r(t))!=t,s=null===t,l=Ja(t),_=void 0===t;i<o;){var u=er((i+o)/2),c=r(e[u]),p=void 0!==c,d=null===c,h=c==c,f=Ja(c);if(a)var m=n||h;else m=_?h&&(n||p):s?h&&p&&(n||!d):l?h&&p&&!d&&(n||!f):!d&&!f&&(n?c<=t:c<t);m?i=u+1:o=u}return sr(o,4294967294)}function $n(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var a=e[r],s=t?t(a):a;if(!r||!ka(s,l)){var l=s;o[i++]=0===a?0:a}}return o}function Yn(e){return"number"==typeof e?e:Ja(e)?NaN:+e}function Jn(e){if("string"==typeof e)return e;if(Ra(e))return dt(e,Jn)+"";if(Ja(e))return Cr?Cr.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Qn(e,t,r){var n=-1,i=ct,o=e.length,a=!0,s=[],l=s;if(r)a=!1,i=pt;else if(o>=200){var _=t?null:Wi(e);if(_)return Nt(_);a=!1,i=Lt,l=new Br}else l=t?[]:s;e:for(;++n<o;){var u=e[n],c=t?t(u):u;if(u=r||0!==u?u:0,a&&c==c){for(var p=l.length;p--;)if(l[p]===c)continue e;t&&l.push(c),s.push(u)}else i(l,c,r)||(l!==s&&l.push(c),s.push(u))}return s}function ei(e,t){return null==(e=yo(e,t=li(t,e)))||delete e[Co(jo(t))]}function ti(e,t,r,n){return Fn(e,t,r(pn(e,t)),n)}function ri(e,t,r,n){for(var i=e.length,o=n?i:-1;(n?o--:++o<i)&&t(e[o],o,e););return r?Gn(e,n?0:o,n?o+1:i):Gn(e,n?o+1:0,n?i:o)}function ni(e,t){var r=e;return r instanceof Ir&&(r=r.value()),ft(t,(function(e,t){return t.func.apply(t.thisArg,ht([e],t.args))}),r)}function ii(e,t,r){var i=e.length;if(i<2)return i?Qn(e[0]):[];for(var o=-1,a=n(i);++o<i;)for(var s=e[o],l=-1;++l<i;)l!=o&&(a[o]=Qr(a[o]||s,e[l],t,r));return Qn(an(a,1),t,r)}function oi(e,t,r){for(var n=-1,i=e.length,o=t.length,a={};++n<i;){var s=n<o?t[n]:void 0;r(a,e[n],s)}return a}function ai(e){return Ua(e)?e:[]}function si(e){return"function"==typeof e?e:Vs}function li(e,t){return Ra(e)?e:_o(e,t)?[e]:wo(ls(e))}var _i=Kn;function ui(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:Gn(e,t,r)}var ci=wt||function(e){return Ve.clearTimeout(e)};function pi(e,t){if(t)return e.slice();var r=e.length,n=Be?Be(r):new e.constructor(r);return e.copy(n),n}function di(e){var t=new e.constructor(e.byteLength);return new Re(t).set(new Re(e)),t}function hi(e,t){var r=t?di(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function fi(e,t){if(e!==t){var r=void 0!==e,n=null===e,i=e==e,o=Ja(e),a=void 0!==t,s=null===t,l=t==t,_=Ja(t);if(!s&&!_&&!o&&e>t||o&&a&&l&&!s&&!_||n&&a&&l||!r&&l||!i)return 1;if(!n&&!o&&!_&&e<t||_&&r&&i&&!n&&!o||s&&r&&i||!a&&i||!l)return-1}return 0}function mi(e,t,r,i){for(var o=-1,a=e.length,s=r.length,l=-1,_=t.length,u=ar(a-s,0),c=n(_+u),p=!i;++l<_;)c[l]=t[l];for(;++o<s;)(p||o<a)&&(c[r[o]]=e[o]);for(;u--;)c[l++]=e[o++];return c}function yi(e,t,r,i){for(var o=-1,a=e.length,s=-1,l=r.length,_=-1,u=t.length,c=ar(a-l,0),p=n(c+u),d=!i;++o<c;)p[o]=e[o];for(var h=o;++_<u;)p[h+_]=t[_];for(;++s<l;)(d||o<a)&&(p[h+r[s]]=e[o++]);return p}function gi(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function bi(e,t,r,n){var i=!r;r||(r={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=n?n(r[s],e[s],s,r,e):void 0;void 0===l&&(l=e[s]),i?Vr(r,s,l):qr(r,s,l)}return r}function vi(e,t){return function(r,n){var i=Ra(r)?at:Hr,o=t?t():{};return i(r,e,Yi(n,2),o)}}function Ei(e){return Kn((function(t,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&lo(r[0],r[1],a)&&(o=i<3?void 0:o,i=1),t=he(t);++n<i;){var s=r[n];s&&e(t,s,n,o)}return t}))}function Oi(e,t){return function(r,n){if(null==r)return r;if(!Ba(r))return e(r,n);for(var i=r.length,o=t?i:-1,a=he(r);(t?o--:++o<i)&&!1!==n(a[o],o,a););return r}}function Mi(e){return function(t,r,n){for(var i=-1,o=he(t),a=n(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===r(o[l],l,o))break}return t}}function Pi(e){return function(t){var r=jt(t=ls(t))?Vt(t):void 0,n=r?r[0]:t.charAt(0),i=r?ui(r,1).join(""):t.slice(1);return n[e]()+i}}function xi(e){return function(t){return ft(zs(Ls(t).replace(Ie,"")),e,"")}}function wi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Tr(e.prototype),n=e.apply(r,t);return Na(n)?n:r}}function Ci(e){return function(t,r,n){var i=he(t);if(!Ba(t)){var o=Yi(r,3);t=Es(t),r=function(e){return o(i[e],e,i)}}var a=e(t,r,n);return a>-1?i[o?t[a]:a]:void 0}}function Di(e){return Hi((function(t){var r=t.length,n=r,i=Ar.prototype.thru;for(e&&t.reverse();n--;){var a=t[n];if("function"!=typeof a)throw new ye(o);if(i&&!s&&"wrapper"==Xi(a))var s=new Ar([],!0)}for(n=s?n:r;++n<r;){var l=Xi(a=t[n]),_="wrapper"==l?Zi(a):void 0;s=_&&uo(_[0])&&424==_[1]&&!_[4].length&&1==_[9]?s[Xi(_[0])].apply(s,_[3]):1==a.length&&uo(a)?s[l]():s.thru(a)}return function(){var e=arguments,n=e[0];if(s&&1==e.length&&Ra(n))return s.plant(n).value();for(var i=0,o=r?t[i].apply(this,e):n;++i<r;)o=t[i].call(this,o);return o}}))}function Ti(e,t,r,i,o,a,s,l,_,u){var c=128&t,p=1&t,d=2&t,h=24&t,f=512&t,m=d?void 0:wi(e);return function y(){for(var g=arguments.length,b=n(g),v=g;v--;)b[v]=arguments[v];if(h)var E=$i(y),O=Bt(b,E);if(i&&(b=mi(b,i,o,h)),a&&(b=yi(b,a,s,h)),g-=O,h&&g<u){var M=qt(b,E);return Bi(e,t,Ti,y.placeholder,r,b,M,l,_,u-g)}var P=p?r:this,x=d?P[e]:e;return g=b.length,l?b=go(b,l):f&&g>1&&b.reverse(),c&&_<g&&(b.length=_),this&&this!==Ve&&this instanceof y&&(x=m||wi(x)),x.apply(P,b)}}function ki(e,t){return function(r,n){return function(e,t,r,n){return _n(e,(function(e,i,o){t(n,r(e),i,o)})),n}(r,e,t(n),{})}}function Ai(e,t){return function(r,n){var i;if(void 0===r&&void 0===n)return t;if(void 0!==r&&(i=r),void 0!==n){if(void 0===i)return n;"string"==typeof r||"string"==typeof n?(r=Jn(r),n=Jn(n)):(r=Yn(r),n=Yn(n)),i=e(r,n)}return i}}function Ii(e){return Hi((function(t){return t=dt(t,At(Yi())),Kn((function(r){var n=this;return e(t,(function(e){return ot(e,n,r)}))}))}))}function Li(e,t){var r=(t=void 0===t?" ":Jn(t)).length;if(r<2)return r?Wn(t,e):t;var n=Wn(t,Qt(e/Gt(t)));return jt(t)?ui(Vt(n),0,e).join(""):n.slice(0,e)}function Ri(e){return function(t,r,i){return i&&"number"!=typeof i&&lo(t,r,i)&&(r=i=void 0),t=ns(t),void 0===r?(r=t,t=0):r=ns(r),function(e,t,r,i){for(var o=-1,a=ar(Qt((t-e)/(r||1)),0),s=n(a);a--;)s[i?a:++o]=e,e+=r;return s}(t,r,i=void 0===i?t<r?1:-1:ns(i),e)}}function Si(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=as(t),r=as(r)),e(t,r)}}function Bi(e,t,r,n,i,o,a,s,l,_){var u=8&t;t|=u?32:64,4&(t&=~(u?64:32))||(t&=-4);var c=[e,t,i,u?o:void 0,u?a:void 0,u?void 0:o,u?void 0:a,s,l,_],p=r.apply(void 0,c);return uo(e)&&vo(p,c),p.placeholder=n,Mo(p,e,t)}function Ui(e){var t=de[e];return function(e,r){if(e=as(e),(r=null==r?0:sr(is(r),292))&&nr(e)){var n=(ls(e)+"e").split("e");return+((n=(ls(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var Wi=fr&&1/Nt(new fr([,-0]))[1]==1/0?function(e){return new fr(e)}:Js;function Ki(e){return function(t){var r=no(t);return r==f?zt(t):r==b?Ht(t):function(e,t){return dt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function ji(e,t,r,i,s,l,_,u){var c=2&t;if(!c&&"function"!=typeof e)throw new ye(o);var p=i?i.length:0;if(p||(t&=-97,i=s=void 0),_=void 0===_?_:ar(is(_),0),u=void 0===u?u:is(u),p-=s?s.length:0,64&t){var d=i,h=s;i=s=void 0}var f=c?void 0:Zi(e),m=[e,t,r,i,s,d,h,l,_,u];if(f&&function(e,t){var r=e[1],n=t[1],i=r|n,o=i<131,s=128==n&&8==r||128==n&&256==r&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!o&&!s)return e;1&n&&(e[2]=t[2],i|=1&r?0:4);var l=t[3];if(l){var _=e[3];e[3]=_?mi(_,l,t[4]):l,e[4]=_?qt(e[3],a):t[4]}(l=t[5])&&(_=e[5],e[5]=_?yi(_,l,t[6]):l,e[6]=_?qt(e[5],a):t[6]);(l=t[7])&&(e[7]=l);128&n&&(e[8]=null==e[8]?t[8]:sr(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(m,f),e=m[0],t=m[1],r=m[2],i=m[3],s=m[4],!(u=m[9]=void 0===m[9]?c?0:e.length:ar(m[9]-p,0))&&24&t&&(t&=-25),t&&1!=t)y=8==t||16==t?function(e,t,r){var i=wi(e);return function o(){for(var a=arguments.length,s=n(a),l=a,_=$i(o);l--;)s[l]=arguments[l];var u=a<3&&s[0]!==_&&s[a-1]!==_?[]:qt(s,_);if((a-=u.length)<r)return Bi(e,t,Ti,o.placeholder,void 0,s,u,void 0,void 0,r-a);var c=this&&this!==Ve&&this instanceof o?i:e;return ot(c,this,s)}}(e,t,u):32!=t&&33!=t||s.length?Ti.apply(void 0,m):function(e,t,r,i){var o=1&t,a=wi(e);return function t(){for(var s=-1,l=arguments.length,_=-1,u=i.length,c=n(u+l),p=this&&this!==Ve&&this instanceof t?a:e;++_<u;)c[_]=i[_];for(;l--;)c[_++]=arguments[++s];return ot(p,o?r:this,c)}}(e,t,r,i);else var y=function(e,t,r){var n=1&t,i=wi(e);return function t(){var o=this&&this!==Ve&&this instanceof t?i:e;return o.apply(n?r:this,arguments)}}(e,t,r);return Mo((f?qn:vo)(y,m),e,t)}function zi(e,t,r,n){return void 0===e||ka(e,ve[r])&&!Me.call(n,r)?t:e}function Fi(e,t,r,n,i,o){return Na(e)&&Na(t)&&(o.set(t,e),An(e,t,void 0,Fi,o),o.delete(t)),e}function qi(e){return Za(e)?void 0:e}function Ni(e,t,r,n,i,o){var a=1&r,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var _=o.get(e),u=o.get(t);if(_&&u)return _==t&&u==e;var c=-1,p=!0,d=2&r?new Br:void 0;for(o.set(e,t),o.set(t,e);++c<s;){var h=e[c],f=t[c];if(n)var m=a?n(f,h,c,t,e,o):n(h,f,c,e,t,o);if(void 0!==m){if(m)continue;p=!1;break}if(d){if(!yt(t,(function(e,t){if(!Lt(d,t)&&(h===e||i(h,e,r,n,o)))return d.push(t)}))){p=!1;break}}else if(h!==f&&!i(h,f,r,n,o)){p=!1;break}}return o.delete(e),o.delete(t),p}function Hi(e){return Oo(mo(e,void 0,So),e+"")}function Gi(e){return dn(e,Es,to)}function Vi(e){return dn(e,Os,ro)}var Zi=gr?function(e){return gr.get(e)}:Js;function Xi(e){for(var t=e.name+"",r=br[t],n=Me.call(br,t)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==e)return i.name}return t}function $i(e){return(Me.call(Dr,"placeholder")?Dr:e).placeholder}function Yi(){var e=Dr.iteratee||Zs;return e=e===Zs?Pn:e,arguments.length?e(arguments[0],arguments[1]):e}function Ji(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function Qi(e){for(var t=Es(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,ho(i)]}return t}function eo(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Mn(r)?r:void 0}var to=tr?function(e){return null==e?[]:(e=he(e),ut(tr(e),(function(t){return Ge.call(e,t)})))}:ol,ro=tr?function(e){for(var t=[];e;)ht(t,to(e)),e=Fe(e);return t}:ol,no=hn;function io(e,t,r){for(var n=-1,i=(t=li(t,e)).length,o=!1;++n<i;){var a=Co(t[n]);if(!(o=null!=e&&r(e,a)))break;e=e[a]}return o||++n!=i?o:!!(i=null==e?0:e.length)&&qa(i)&&so(a,i)&&(Ra(e)||La(e))}function oo(e){return"function"!=typeof e.constructor||po(e)?{}:Tr(Fe(e))}function ao(e){return Ra(e)||La(e)||!!(Xe&&e&&e[Xe])}function so(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&le.test(e))&&e>-1&&e%1==0&&e<t}function lo(e,t,r){if(!Na(r))return!1;var n=typeof t;return!!("number"==n?Ba(r)&&so(t,r.length):"string"==n&&t in r)&&ka(r[t],e)}function _o(e,t){if(Ra(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Ja(e))||(N.test(e)||!q.test(e)||null!=t&&e in he(t))}function uo(e){var t=Xi(e),r=Dr[t];if("function"!=typeof r||!(t in Ir.prototype))return!1;if(e===r)return!0;var n=Zi(r);return!!n&&e===n[0]}(pr&&no(new pr(new ArrayBuffer(1)))!=P||dr&&no(new dr)!=f||hr&&"[object Promise]"!=no(hr.resolve())||fr&&no(new fr)!=b||mr&&no(new mr)!=O)&&(no=function(e){var t=hn(e),r=t==y?e.constructor:void 0,n=r?Do(r):"";if(n)switch(n){case vr:return P;case Er:return f;case Or:return"[object Promise]";case Mr:return b;case Pr:return O}return t});var co=Ee?za:al;function po(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ve)}function ho(e){return e==e&&!Na(e)}function fo(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in he(r)))}}function mo(e,t,r){return t=ar(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=ar(i.length-t,0),s=n(a);++o<a;)s[o]=i[t+o];o=-1;for(var l=n(t+1);++o<t;)l[o]=i[o];return l[t]=r(s),ot(e,this,l)}}function yo(e,t){return t.length<2?e:pn(e,Gn(t,0,-1))}function go(e,t){for(var r=e.length,n=sr(t.length,r),i=gi(e);n--;){var o=t[n];e[n]=so(o,r)?i[o]:void 0}return e}function bo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var vo=Po(qn),Eo=Jt||function(e,t){return Ve.setTimeout(e,t)},Oo=Po(Nn);function Mo(e,t,r){var n=t+"";return Oo(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace($,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return st(s,(function(r){var n="_."+r[0];t&r[1]&&!ct(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(Y);return t?t[1].split(J):[]}(n),r)))}function Po(e){var t=0,r=0;return function(){var n=lr(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function xo(e,t){var r=-1,n=e.length,i=n-1;for(t=void 0===t?n:t;++r<t;){var o=Un(r,i),a=e[o];e[o]=e[r],e[r]=a}return e.length=t,e}var wo=function(e){var t=Pa(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(H,(function(e,r,n,i){t.push(n?i.replace(te,"$1"):r||e)})),t}));function Co(e){if("string"==typeof e||Ja(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Do(e){if(null!=e){try{return Oe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function To(e){if(e instanceof Ir)return e.clone();var t=new Ar(e.__wrapped__,e.__chain__);return t.__actions__=gi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var ko=Kn((function(e,t){return Ua(e)?Qr(e,an(t,1,Ua,!0)):[]})),Ao=Kn((function(e,t){var r=jo(t);return Ua(r)&&(r=void 0),Ua(e)?Qr(e,an(t,1,Ua,!0),Yi(r,2)):[]})),Io=Kn((function(e,t){var r=jo(t);return Ua(r)&&(r=void 0),Ua(e)?Qr(e,an(t,1,Ua,!0),void 0,r):[]}));function Lo(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:is(r);return i<0&&(i=ar(n+i,0)),vt(e,Yi(t,3),i)}function Ro(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n-1;return void 0!==r&&(i=is(r),i=r<0?ar(n+i,0):sr(i,n-1)),vt(e,Yi(t,3),i,!0)}function So(e){return(null==e?0:e.length)?an(e,1):[]}function Bo(e){return e&&e.length?e[0]:void 0}var Uo=Kn((function(e){var t=dt(e,ai);return t.length&&t[0]===e[0]?gn(t):[]})),Wo=Kn((function(e){var t=jo(e),r=dt(e,ai);return t===jo(r)?t=void 0:r.pop(),r.length&&r[0]===e[0]?gn(r,Yi(t,2)):[]})),Ko=Kn((function(e){var t=jo(e),r=dt(e,ai);return(t="function"==typeof t?t:void 0)&&r.pop(),r.length&&r[0]===e[0]?gn(r,void 0,t):[]}));function jo(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var zo=Kn(Fo);function Fo(e,t){return e&&e.length&&t&&t.length?Sn(e,t):e}var qo=Hi((function(e,t){var r=null==e?0:e.length,n=Zr(e,t);return Bn(e,dt(t,(function(e){return so(e,r)?+e:e})).sort(fi)),n}));function No(e){return null==e?e:cr.call(e)}var Ho=Kn((function(e){return Qn(an(e,1,Ua,!0))})),Go=Kn((function(e){var t=jo(e);return Ua(t)&&(t=void 0),Qn(an(e,1,Ua,!0),Yi(t,2))})),Vo=Kn((function(e){var t=jo(e);return t="function"==typeof t?t:void 0,Qn(an(e,1,Ua,!0),void 0,t)}));function Zo(e){if(!e||!e.length)return[];var t=0;return e=ut(e,(function(e){if(Ua(e))return t=ar(e.length,t),!0})),Tt(t,(function(t){return dt(e,xt(t))}))}function Xo(e,t){if(!e||!e.length)return[];var r=Zo(e);return null==t?r:dt(r,(function(e){return ot(t,void 0,e)}))}var $o=Kn((function(e,t){return Ua(e)?Qr(e,t):[]})),Yo=Kn((function(e){return ii(ut(e,Ua))})),Jo=Kn((function(e){var t=jo(e);return Ua(t)&&(t=void 0),ii(ut(e,Ua),Yi(t,2))})),Qo=Kn((function(e){var t=jo(e);return t="function"==typeof t?t:void 0,ii(ut(e,Ua),void 0,t)})),ea=Kn(Zo);var ta=Kn((function(e){var t=e.length,r=t>1?e[t-1]:void 0;return r="function"==typeof r?(e.pop(),r):void 0,Xo(e,r)}));function ra(e){var t=Dr(e);return t.__chain__=!0,t}function na(e,t){return t(e)}var ia=Hi((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,i=function(t){return Zr(t,e)};return!(t>1||this.__actions__.length)&&n instanceof Ir&&so(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:na,args:[i],thisArg:void 0}),new Ar(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(i)}));var oa=vi((function(e,t,r){Me.call(e,r)?++e[r]:Vr(e,r,1)}));var aa=Ci(Lo),sa=Ci(Ro);function la(e,t){return(Ra(e)?st:en)(e,Yi(t,3))}function _a(e,t){return(Ra(e)?lt:tn)(e,Yi(t,3))}var ua=vi((function(e,t,r){Me.call(e,r)?e[r].push(t):Vr(e,r,[t])}));var ca=Kn((function(e,t,r){var i=-1,o="function"==typeof t,a=Ba(e)?n(e.length):[];return en(e,(function(e){a[++i]=o?ot(t,e,r):bn(e,t,r)})),a})),pa=vi((function(e,t,r){Vr(e,r,t)}));function da(e,t){return(Ra(e)?dt:Dn)(e,Yi(t,3))}var ha=vi((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]}));var fa=Kn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&lo(e,t[0],t[1])?t=[]:r>2&&lo(t[0],t[1],t[2])&&(t=[t[0]]),Ln(e,an(t,1),[])})),ma=Yt||function(){return Ve.Date.now()};function ya(e,t,r){return t=r?void 0:t,ji(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function ga(e,t){var r;if("function"!=typeof t)throw new ye(o);return e=is(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=void 0),r}}var ba=Kn((function(e,t,r){var n=1;if(r.length){var i=qt(r,$i(ba));n|=32}return ji(e,n,t,r,i)})),va=Kn((function(e,t,r){var n=3;if(r.length){var i=qt(r,$i(va));n|=32}return ji(t,n,e,r,i)}));function Ea(e,t,r){var n,i,a,s,l,_,u=0,c=!1,p=!1,d=!0;if("function"!=typeof e)throw new ye(o);function h(t){var r=n,o=i;return n=i=void 0,u=t,s=e.apply(o,r)}function f(e){return u=e,l=Eo(y,t),c?h(e):s}function m(e){var r=e-_;return void 0===_||r>=t||r<0||p&&e-u>=a}function y(){var e=ma();if(m(e))return g(e);l=Eo(y,function(e){var r=t-(e-_);return p?sr(r,a-(e-u)):r}(e))}function g(e){return l=void 0,d&&n?h(e):(n=i=void 0,s)}function b(){var e=ma(),r=m(e);if(n=arguments,i=this,_=e,r){if(void 0===l)return f(_);if(p)return ci(l),l=Eo(y,t),h(_)}return void 0===l&&(l=Eo(y,t)),s}return t=as(t)||0,Na(r)&&(c=!!r.leading,a=(p="maxWait"in r)?ar(as(r.maxWait)||0,t):a,d="trailing"in r?!!r.trailing:d),b.cancel=function(){void 0!==l&&ci(l),u=0,n=_=i=l=void 0},b.flush=function(){return void 0===l?s:g(ma())},b}var Oa=Kn((function(e,t){return Jr(e,1,t)})),Ma=Kn((function(e,t,r){return Jr(e,as(t)||0,r)}));function Pa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ye(o);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(Pa.Cache||Sr),r}function xa(e){if("function"!=typeof e)throw new ye(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Pa.Cache=Sr;var wa=_i((function(e,t){var r=(t=1==t.length&&Ra(t[0])?dt(t[0],At(Yi())):dt(an(t,1),At(Yi()))).length;return Kn((function(n){for(var i=-1,o=sr(n.length,r);++i<o;)n[i]=t[i].call(this,n[i]);return ot(e,this,n)}))})),Ca=Kn((function(e,t){return ji(e,32,void 0,t,qt(t,$i(Ca)))})),Da=Kn((function(e,t){return ji(e,64,void 0,t,qt(t,$i(Da)))})),Ta=Hi((function(e,t){return ji(e,256,void 0,void 0,void 0,t)}));function ka(e,t){return e===t||e!=e&&t!=t}var Aa=Si(fn),Ia=Si((function(e,t){return e>=t})),La=vn(function(){return arguments}())?vn:function(e){return Ha(e)&&Me.call(e,"callee")&&!Ge.call(e,"callee")},Ra=n.isArray,Sa=Qe?At(Qe):function(e){return Ha(e)&&hn(e)==M};function Ba(e){return null!=e&&qa(e.length)&&!za(e)}function Ua(e){return Ha(e)&&Ba(e)}var Wa=rr||al,Ka=et?At(et):function(e){return Ha(e)&&hn(e)==c};function ja(e){if(!Ha(e))return!1;var t=hn(e);return t==p||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Za(e)}function za(e){if(!Na(e))return!1;var t=hn(e);return t==d||t==h||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Fa(e){return"number"==typeof e&&e==is(e)}function qa(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Na(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ha(e){return null!=e&&"object"==typeof e}var Ga=tt?At(tt):function(e){return Ha(e)&&no(e)==f};function Va(e){return"number"==typeof e||Ha(e)&&hn(e)==m}function Za(e){if(!Ha(e)||hn(e)!=y)return!1;var t=Fe(e);if(null===t)return!0;var r=Me.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Oe.call(r)==Ce}var Xa=rt?At(rt):function(e){return Ha(e)&&hn(e)==g};var $a=nt?At(nt):function(e){return Ha(e)&&no(e)==b};function Ya(e){return"string"==typeof e||!Ra(e)&&Ha(e)&&hn(e)==v}function Ja(e){return"symbol"==typeof e||Ha(e)&&hn(e)==E}var Qa=it?At(it):function(e){return Ha(e)&&qa(e.length)&&!!je[hn(e)]};var es=Si(Cn),ts=Si((function(e,t){return e<=t}));function rs(e){if(!e)return[];if(Ba(e))return Ya(e)?Vt(e):gi(e);if(Ye&&e[Ye])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[Ye]());var t=no(e);return(t==f?zt:t==b?Nt:ks)(e)}function ns(e){return e?(e=as(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function is(e){var t=ns(e),r=t%1;return t==t?r?t-r:t:0}function os(e){return e?Xr(is(e),0,4294967295):0}function as(e){if("number"==typeof e)return e;if(Ja(e))return NaN;if(Na(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Na(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=kt(e);var r=oe.test(e);return r||se.test(e)?Ne(e.slice(2),r?2:8):ie.test(e)?NaN:+e}function ss(e){return bi(e,Os(e))}function ls(e){return null==e?"":Jn(e)}var _s=Ei((function(e,t){if(po(t)||Ba(t))bi(t,Es(t),e);else for(var r in t)Me.call(t,r)&&qr(e,r,t[r])})),us=Ei((function(e,t){bi(t,Os(t),e)})),cs=Ei((function(e,t,r,n){bi(t,Os(t),e,n)})),ps=Ei((function(e,t,r,n){bi(t,Es(t),e,n)})),ds=Hi(Zr);var hs=Kn((function(e,t){e=he(e);var r=-1,n=t.length,i=n>2?t[2]:void 0;for(i&&lo(t[0],t[1],i)&&(n=1);++r<n;)for(var o=t[r],a=Os(o),s=-1,l=a.length;++s<l;){var _=a[s],u=e[_];(void 0===u||ka(u,ve[_])&&!Me.call(e,_))&&(e[_]=o[_])}return e})),fs=Kn((function(e){return e.push(void 0,Fi),ot(Ps,void 0,e)}));function ms(e,t,r){var n=null==e?void 0:pn(e,t);return void 0===n?r:n}function ys(e,t){return null!=e&&io(e,t,yn)}var gs=ki((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=we.call(t)),e[t]=r}),Ns(Vs)),bs=ki((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=we.call(t)),Me.call(e,t)?e[t].push(r):e[t]=[r]}),Yi),vs=Kn(bn);function Es(e){return Ba(e)?Wr(e):xn(e)}function Os(e){return Ba(e)?Wr(e,!0):wn(e)}var Ms=Ei((function(e,t,r){An(e,t,r)})),Ps=Ei((function(e,t,r,n){An(e,t,r,n)})),xs=Hi((function(e,t){var r={};if(null==e)return r;var n=!1;t=dt(t,(function(t){return t=li(t,e),n||(n=t.length>1),t})),bi(e,Vi(e),r),n&&(r=$r(r,7,qi));for(var i=t.length;i--;)ei(r,t[i]);return r}));var ws=Hi((function(e,t){return null==e?{}:function(e,t){return Rn(e,t,(function(t,r){return ys(e,r)}))}(e,t)}));function Cs(e,t){if(null==e)return{};var r=dt(Vi(e),(function(e){return[e]}));return t=Yi(t),Rn(e,r,(function(e,r){return t(e,r[0])}))}var Ds=Ki(Es),Ts=Ki(Os);function ks(e){return null==e?[]:It(e,Es(e))}var As=xi((function(e,t,r){return t=t.toLowerCase(),e+(r?Is(t):t)}));function Is(e){return js(ls(e).toLowerCase())}function Ls(e){return(e=ls(e))&&e.replace(_e,Ut).replace(Le,"")}var Rs=xi((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),Ss=xi((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),Bs=Pi("toLowerCase");var Us=xi((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));var Ws=xi((function(e,t,r){return e+(r?" ":"")+js(t)}));var Ks=xi((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),js=Pi("toUpperCase");function zs(e,t,r){return e=ls(e),void 0===(t=r?void 0:t)?function(e){return Ue.test(e)}(e)?function(e){return e.match(Se)||[]}(e):function(e){return e.match(Q)||[]}(e):e.match(t)||[]}var Fs=Kn((function(e,t){try{return ot(e,void 0,t)}catch(e){return ja(e)?e:new X(e)}})),qs=Hi((function(e,t){return st(t,(function(t){t=Co(t),Vr(e,t,ba(e[t],e))})),e}));function Ns(e){return function(){return e}}var Hs=Di(),Gs=Di(!0);function Vs(e){return e}function Zs(e){return Pn("function"==typeof e?e:$r(e,1))}var Xs=Kn((function(e,t){return function(r){return bn(r,e,t)}})),$s=Kn((function(e,t){return function(r){return bn(e,r,t)}}));function Ys(e,t,r){var n=Es(t),i=cn(t,n);null!=r||Na(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=cn(t,Es(t)));var o=!(Na(r)&&"chain"in r&&!r.chain),a=za(e);return st(i,(function(r){var n=t[r];e[r]=n,a&&(e.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=e(this.__wrapped__),i=r.__actions__=gi(this.__actions__);return i.push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,ht([this.value()],arguments))})})),e}function Js(){}var Qs=Ii(dt),el=Ii(_t),tl=Ii(yt);function rl(e){return _o(e)?xt(Co(e)):function(e){return function(t){return pn(t,e)}}(e)}var nl=Ri(),il=Ri(!0);function ol(){return[]}function al(){return!1}var sl=Ai((function(e,t){return e+t}),0),ll=Ui("ceil"),_l=Ai((function(e,t){return e/t}),1),ul=Ui("floor");var cl,pl=Ai((function(e,t){return e*t}),1),dl=Ui("round"),hl=Ai((function(e,t){return e-t}),0);return Dr.after=function(e,t){if("function"!=typeof t)throw new ye(o);return e=is(e),function(){if(--e<1)return t.apply(this,arguments)}},Dr.ary=ya,Dr.assign=_s,Dr.assignIn=us,Dr.assignInWith=cs,Dr.assignWith=ps,Dr.at=ds,Dr.before=ga,Dr.bind=ba,Dr.bindAll=qs,Dr.bindKey=va,Dr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ra(e)?e:[e]},Dr.chain=ra,Dr.chunk=function(e,t,r){t=(r?lo(e,t,r):void 0===t)?1:ar(is(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,a=0,s=n(Qt(i/t));o<i;)s[a++]=Gn(e,o,o+=t);return s},Dr.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var o=e[t];o&&(i[n++]=o)}return i},Dr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return ht(Ra(r)?gi(r):[r],an(t,1))},Dr.cond=function(e){var t=null==e?0:e.length,r=Yi();return e=t?dt(e,(function(e){if("function"!=typeof e[1])throw new ye(o);return[r(e[0]),e[1]]})):[],Kn((function(r){for(var n=-1;++n<t;){var i=e[n];if(ot(i[0],this,r))return ot(i[1],this,r)}}))},Dr.conforms=function(e){return function(e){var t=Es(e);return function(r){return Yr(r,e,t)}}($r(e,1))},Dr.constant=Ns,Dr.countBy=oa,Dr.create=function(e,t){var r=Tr(e);return null==t?r:Gr(r,t)},Dr.curry=function e(t,r,n){var i=ji(t,8,void 0,void 0,void 0,void 0,void 0,r=n?void 0:r);return i.placeholder=e.placeholder,i},Dr.curryRight=function e(t,r,n){var i=ji(t,16,void 0,void 0,void 0,void 0,void 0,r=n?void 0:r);return i.placeholder=e.placeholder,i},Dr.debounce=Ea,Dr.defaults=hs,Dr.defaultsDeep=fs,Dr.defer=Oa,Dr.delay=Ma,Dr.difference=ko,Dr.differenceBy=Ao,Dr.differenceWith=Io,Dr.drop=function(e,t,r){var n=null==e?0:e.length;return n?Gn(e,(t=r||void 0===t?1:is(t))<0?0:t,n):[]},Dr.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?Gn(e,0,(t=n-(t=r||void 0===t?1:is(t)))<0?0:t):[]},Dr.dropRightWhile=function(e,t){return e&&e.length?ri(e,Yi(t,3),!0,!0):[]},Dr.dropWhile=function(e,t){return e&&e.length?ri(e,Yi(t,3),!0):[]},Dr.fill=function(e,t,r,n){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&lo(e,t,r)&&(r=0,n=i),function(e,t,r,n){var i=e.length;for((r=is(r))<0&&(r=-r>i?0:i+r),(n=void 0===n||n>i?i:is(n))<0&&(n+=i),n=r>n?0:os(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},Dr.filter=function(e,t){return(Ra(e)?ut:on)(e,Yi(t,3))},Dr.flatMap=function(e,t){return an(da(e,t),1)},Dr.flatMapDeep=function(e,t){return an(da(e,t),1/0)},Dr.flatMapDepth=function(e,t,r){return r=void 0===r?1:is(r),an(da(e,t),r)},Dr.flatten=So,Dr.flattenDeep=function(e){return(null==e?0:e.length)?an(e,1/0):[]},Dr.flattenDepth=function(e,t){return(null==e?0:e.length)?an(e,t=void 0===t?1:is(t)):[]},Dr.flip=function(e){return ji(e,512)},Dr.flow=Hs,Dr.flowRight=Gs,Dr.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},Dr.functions=function(e){return null==e?[]:cn(e,Es(e))},Dr.functionsIn=function(e){return null==e?[]:cn(e,Os(e))},Dr.groupBy=ua,Dr.initial=function(e){return(null==e?0:e.length)?Gn(e,0,-1):[]},Dr.intersection=Uo,Dr.intersectionBy=Wo,Dr.intersectionWith=Ko,Dr.invert=gs,Dr.invertBy=bs,Dr.invokeMap=ca,Dr.iteratee=Zs,Dr.keyBy=pa,Dr.keys=Es,Dr.keysIn=Os,Dr.map=da,Dr.mapKeys=function(e,t){var r={};return t=Yi(t,3),_n(e,(function(e,n,i){Vr(r,t(e,n,i),e)})),r},Dr.mapValues=function(e,t){var r={};return t=Yi(t,3),_n(e,(function(e,n,i){Vr(r,n,t(e,n,i))})),r},Dr.matches=function(e){return Tn($r(e,1))},Dr.matchesProperty=function(e,t){return kn(e,$r(t,1))},Dr.memoize=Pa,Dr.merge=Ms,Dr.mergeWith=Ps,Dr.method=Xs,Dr.methodOf=$s,Dr.mixin=Ys,Dr.negate=xa,Dr.nthArg=function(e){return e=is(e),Kn((function(t){return In(t,e)}))},Dr.omit=xs,Dr.omitBy=function(e,t){return Cs(e,xa(Yi(t)))},Dr.once=function(e){return ga(2,e)},Dr.orderBy=function(e,t,r,n){return null==e?[]:(Ra(t)||(t=null==t?[]:[t]),Ra(r=n?void 0:r)||(r=null==r?[]:[r]),Ln(e,t,r))},Dr.over=Qs,Dr.overArgs=wa,Dr.overEvery=el,Dr.overSome=tl,Dr.partial=Ca,Dr.partialRight=Da,Dr.partition=ha,Dr.pick=ws,Dr.pickBy=Cs,Dr.property=rl,Dr.propertyOf=function(e){return function(t){return null==e?void 0:pn(e,t)}},Dr.pull=zo,Dr.pullAll=Fo,Dr.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?Sn(e,t,Yi(r,2)):e},Dr.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Sn(e,t,void 0,r):e},Dr.pullAt=qo,Dr.range=nl,Dr.rangeRight=il,Dr.rearg=Ta,Dr.reject=function(e,t){return(Ra(e)?ut:on)(e,xa(Yi(t,3)))},Dr.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],o=e.length;for(t=Yi(t,3);++n<o;){var a=e[n];t(a,n,e)&&(r.push(a),i.push(n))}return Bn(e,i),r},Dr.rest=function(e,t){if("function"!=typeof e)throw new ye(o);return Kn(e,t=void 0===t?t:is(t))},Dr.reverse=No,Dr.sampleSize=function(e,t,r){return t=(r?lo(e,t,r):void 0===t)?1:is(t),(Ra(e)?jr:zn)(e,t)},Dr.set=function(e,t,r){return null==e?e:Fn(e,t,r)},Dr.setWith=function(e,t,r,n){return n="function"==typeof n?n:void 0,null==e?e:Fn(e,t,r,n)},Dr.shuffle=function(e){return(Ra(e)?zr:Hn)(e)},Dr.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&lo(e,t,r)?(t=0,r=n):(t=null==t?0:is(t),r=void 0===r?n:is(r)),Gn(e,t,r)):[]},Dr.sortBy=fa,Dr.sortedUniq=function(e){return e&&e.length?$n(e):[]},Dr.sortedUniqBy=function(e,t){return e&&e.length?$n(e,Yi(t,2)):[]},Dr.split=function(e,t,r){return r&&"number"!=typeof r&&lo(e,t,r)&&(t=r=void 0),(r=void 0===r?4294967295:r>>>0)?(e=ls(e))&&("string"==typeof t||null!=t&&!Xa(t))&&!(t=Jn(t))&&jt(e)?ui(Vt(e),0,r):e.split(t,r):[]},Dr.spread=function(e,t){if("function"!=typeof e)throw new ye(o);return t=null==t?0:ar(is(t),0),Kn((function(r){var n=r[t],i=ui(r,0,t);return n&&ht(i,n),ot(e,this,i)}))},Dr.tail=function(e){var t=null==e?0:e.length;return t?Gn(e,1,t):[]},Dr.take=function(e,t,r){return e&&e.length?Gn(e,0,(t=r||void 0===t?1:is(t))<0?0:t):[]},Dr.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?Gn(e,(t=n-(t=r||void 0===t?1:is(t)))<0?0:t,n):[]},Dr.takeRightWhile=function(e,t){return e&&e.length?ri(e,Yi(t,3),!1,!0):[]},Dr.takeWhile=function(e,t){return e&&e.length?ri(e,Yi(t,3)):[]},Dr.tap=function(e,t){return t(e),e},Dr.throttle=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new ye(o);return Na(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Ea(e,t,{leading:n,maxWait:t,trailing:i})},Dr.thru=na,Dr.toArray=rs,Dr.toPairs=Ds,Dr.toPairsIn=Ts,Dr.toPath=function(e){return Ra(e)?dt(e,Co):Ja(e)?[e]:gi(wo(ls(e)))},Dr.toPlainObject=ss,Dr.transform=function(e,t,r){var n=Ra(e),i=n||Wa(e)||Qa(e);if(t=Yi(t,4),null==r){var o=e&&e.constructor;r=i?n?new o:[]:Na(e)&&za(o)?Tr(Fe(e)):{}}return(i?st:_n)(e,(function(e,n,i){return t(r,e,n,i)})),r},Dr.unary=function(e){return ya(e,1)},Dr.union=Ho,Dr.unionBy=Go,Dr.unionWith=Vo,Dr.uniq=function(e){return e&&e.length?Qn(e):[]},Dr.uniqBy=function(e,t){return e&&e.length?Qn(e,Yi(t,2)):[]},Dr.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Qn(e,void 0,t):[]},Dr.unset=function(e,t){return null==e||ei(e,t)},Dr.unzip=Zo,Dr.unzipWith=Xo,Dr.update=function(e,t,r){return null==e?e:ti(e,t,si(r))},Dr.updateWith=function(e,t,r,n){return n="function"==typeof n?n:void 0,null==e?e:ti(e,t,si(r),n)},Dr.values=ks,Dr.valuesIn=function(e){return null==e?[]:It(e,Os(e))},Dr.without=$o,Dr.words=zs,Dr.wrap=function(e,t){return Ca(si(t),e)},Dr.xor=Yo,Dr.xorBy=Jo,Dr.xorWith=Qo,Dr.zip=ea,Dr.zipObject=function(e,t){return oi(e||[],t||[],qr)},Dr.zipObjectDeep=function(e,t){return oi(e||[],t||[],Fn)},Dr.zipWith=ta,Dr.entries=Ds,Dr.entriesIn=Ts,Dr.extend=us,Dr.extendWith=cs,Ys(Dr,Dr),Dr.add=sl,Dr.attempt=Fs,Dr.camelCase=As,Dr.capitalize=Is,Dr.ceil=ll,Dr.clamp=function(e,t,r){return void 0===r&&(r=t,t=void 0),void 0!==r&&(r=(r=as(r))==r?r:0),void 0!==t&&(t=(t=as(t))==t?t:0),Xr(as(e),t,r)},Dr.clone=function(e){return $r(e,4)},Dr.cloneDeep=function(e){return $r(e,5)},Dr.cloneDeepWith=function(e,t){return $r(e,5,t="function"==typeof t?t:void 0)},Dr.cloneWith=function(e,t){return $r(e,4,t="function"==typeof t?t:void 0)},Dr.conformsTo=function(e,t){return null==t||Yr(e,t,Es(t))},Dr.deburr=Ls,Dr.defaultTo=function(e,t){return null==e||e!=e?t:e},Dr.divide=_l,Dr.endsWith=function(e,t,r){e=ls(e),t=Jn(t);var n=e.length,i=r=void 0===r?n:Xr(is(r),0,n);return(r-=t.length)>=0&&e.slice(r,i)==t},Dr.eq=ka,Dr.escape=function(e){return(e=ls(e))&&K.test(e)?e.replace(U,Wt):e},Dr.escapeRegExp=function(e){return(e=ls(e))&&V.test(e)?e.replace(G,"\\$&"):e},Dr.every=function(e,t,r){var n=Ra(e)?_t:rn;return r&&lo(e,t,r)&&(t=void 0),n(e,Yi(t,3))},Dr.find=aa,Dr.findIndex=Lo,Dr.findKey=function(e,t){return bt(e,Yi(t,3),_n)},Dr.findLast=sa,Dr.findLastIndex=Ro,Dr.findLastKey=function(e,t){return bt(e,Yi(t,3),un)},Dr.floor=ul,Dr.forEach=la,Dr.forEachRight=_a,Dr.forIn=function(e,t){return null==e?e:sn(e,Yi(t,3),Os)},Dr.forInRight=function(e,t){return null==e?e:ln(e,Yi(t,3),Os)},Dr.forOwn=function(e,t){return e&&_n(e,Yi(t,3))},Dr.forOwnRight=function(e,t){return e&&un(e,Yi(t,3))},Dr.get=ms,Dr.gt=Aa,Dr.gte=Ia,Dr.has=function(e,t){return null!=e&&io(e,t,mn)},Dr.hasIn=ys,Dr.head=Bo,Dr.identity=Vs,Dr.includes=function(e,t,r,n){e=Ba(e)?e:ks(e),r=r&&!n?is(r):0;var i=e.length;return r<0&&(r=ar(i+r,0)),Ya(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&Et(e,t,r)>-1},Dr.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:is(r);return i<0&&(i=ar(n+i,0)),Et(e,t,i)},Dr.inRange=function(e,t,r){return t=ns(t),void 0===r?(r=t,t=0):r=ns(r),function(e,t,r){return e>=sr(t,r)&&e<ar(t,r)}(e=as(e),t,r)},Dr.invoke=vs,Dr.isArguments=La,Dr.isArray=Ra,Dr.isArrayBuffer=Sa,Dr.isArrayLike=Ba,Dr.isArrayLikeObject=Ua,Dr.isBoolean=function(e){return!0===e||!1===e||Ha(e)&&hn(e)==u},Dr.isBuffer=Wa,Dr.isDate=Ka,Dr.isElement=function(e){return Ha(e)&&1===e.nodeType&&!Za(e)},Dr.isEmpty=function(e){if(null==e)return!0;if(Ba(e)&&(Ra(e)||"string"==typeof e||"function"==typeof e.splice||Wa(e)||Qa(e)||La(e)))return!e.length;var t=no(e);if(t==f||t==b)return!e.size;if(po(e))return!xn(e).length;for(var r in e)if(Me.call(e,r))return!1;return!0},Dr.isEqual=function(e,t){return En(e,t)},Dr.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:void 0)?r(e,t):void 0;return void 0===n?En(e,t,void 0,r):!!n},Dr.isError=ja,Dr.isFinite=function(e){return"number"==typeof e&&nr(e)},Dr.isFunction=za,Dr.isInteger=Fa,Dr.isLength=qa,Dr.isMap=Ga,Dr.isMatch=function(e,t){return e===t||On(e,t,Qi(t))},Dr.isMatchWith=function(e,t,r){return r="function"==typeof r?r:void 0,On(e,t,Qi(t),r)},Dr.isNaN=function(e){return Va(e)&&e!=+e},Dr.isNative=function(e){if(co(e))throw new X("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Mn(e)},Dr.isNil=function(e){return null==e},Dr.isNull=function(e){return null===e},Dr.isNumber=Va,Dr.isObject=Na,Dr.isObjectLike=Ha,Dr.isPlainObject=Za,Dr.isRegExp=Xa,Dr.isSafeInteger=function(e){return Fa(e)&&e>=-9007199254740991&&e<=9007199254740991},Dr.isSet=$a,Dr.isString=Ya,Dr.isSymbol=Ja,Dr.isTypedArray=Qa,Dr.isUndefined=function(e){return void 0===e},Dr.isWeakMap=function(e){return Ha(e)&&no(e)==O},Dr.isWeakSet=function(e){return Ha(e)&&"[object WeakSet]"==hn(e)},Dr.join=function(e,t){return null==e?"":ir.call(e,t)},Dr.kebabCase=Rs,Dr.last=jo,Dr.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n;return void 0!==r&&(i=(i=is(r))<0?ar(n+i,0):sr(i,n-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,i):vt(e,Mt,i,!0)},Dr.lowerCase=Ss,Dr.lowerFirst=Bs,Dr.lt=es,Dr.lte=ts,Dr.max=function(e){return e&&e.length?nn(e,Vs,fn):void 0},Dr.maxBy=function(e,t){return e&&e.length?nn(e,Yi(t,2),fn):void 0},Dr.mean=function(e){return Pt(e,Vs)},Dr.meanBy=function(e,t){return Pt(e,Yi(t,2))},Dr.min=function(e){return e&&e.length?nn(e,Vs,Cn):void 0},Dr.minBy=function(e,t){return e&&e.length?nn(e,Yi(t,2),Cn):void 0},Dr.stubArray=ol,Dr.stubFalse=al,Dr.stubObject=function(){return{}},Dr.stubString=function(){return""},Dr.stubTrue=function(){return!0},Dr.multiply=pl,Dr.nth=function(e,t){return e&&e.length?In(e,is(t)):void 0},Dr.noConflict=function(){return Ve._===this&&(Ve._=De),this},Dr.noop=Js,Dr.now=ma,Dr.pad=function(e,t,r){e=ls(e);var n=(t=is(t))?Gt(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return Li(er(i),r)+e+Li(Qt(i),r)},Dr.padEnd=function(e,t,r){e=ls(e);var n=(t=is(t))?Gt(e):0;return t&&n<t?e+Li(t-n,r):e},Dr.padStart=function(e,t,r){e=ls(e);var n=(t=is(t))?Gt(e):0;return t&&n<t?Li(t-n,r)+e:e},Dr.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),_r(ls(e).replace(Z,""),t||0)},Dr.random=function(e,t,r){if(r&&"boolean"!=typeof r&&lo(e,t,r)&&(t=r=void 0),void 0===r&&("boolean"==typeof t?(r=t,t=void 0):"boolean"==typeof e&&(r=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ns(e),void 0===t?(t=e,e=0):t=ns(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var i=ur();return sr(e+i*(t-e+qe("1e-"+((i+"").length-1))),t)}return Un(e,t)},Dr.reduce=function(e,t,r){var n=Ra(e)?ft:Ct,i=arguments.length<3;return n(e,Yi(t,4),r,i,en)},Dr.reduceRight=function(e,t,r){var n=Ra(e)?mt:Ct,i=arguments.length<3;return n(e,Yi(t,4),r,i,tn)},Dr.repeat=function(e,t,r){return t=(r?lo(e,t,r):void 0===t)?1:is(t),Wn(ls(e),t)},Dr.replace=function(){var e=arguments,t=ls(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Dr.result=function(e,t,r){var n=-1,i=(t=li(t,e)).length;for(i||(i=1,e=void 0);++n<i;){var o=null==e?void 0:e[Co(t[n])];void 0===o&&(n=i,o=r),e=za(o)?o.call(e):o}return e},Dr.round=dl,Dr.runInContext=e,Dr.sample=function(e){return(Ra(e)?Kr:jn)(e)},Dr.size=function(e){if(null==e)return 0;if(Ba(e))return Ya(e)?Gt(e):e.length;var t=no(e);return t==f||t==b?e.size:xn(e).length},Dr.snakeCase=Us,Dr.some=function(e,t,r){var n=Ra(e)?yt:Vn;return r&&lo(e,t,r)&&(t=void 0),n(e,Yi(t,3))},Dr.sortedIndex=function(e,t){return Zn(e,t)},Dr.sortedIndexBy=function(e,t,r){return Xn(e,t,Yi(r,2))},Dr.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=Zn(e,t);if(n<r&&ka(e[n],t))return n}return-1},Dr.sortedLastIndex=function(e,t){return Zn(e,t,!0)},Dr.sortedLastIndexBy=function(e,t,r){return Xn(e,t,Yi(r,2),!0)},Dr.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var r=Zn(e,t,!0)-1;if(ka(e[r],t))return r}return-1},Dr.startCase=Ws,Dr.startsWith=function(e,t,r){return e=ls(e),r=null==r?0:Xr(is(r),0,e.length),t=Jn(t),e.slice(r,r+t.length)==t},Dr.subtract=hl,Dr.sum=function(e){return e&&e.length?Dt(e,Vs):0},Dr.sumBy=function(e,t){return e&&e.length?Dt(e,Yi(t,2)):0},Dr.template=function(e,t,r){var n=Dr.templateSettings;r&&lo(e,t,r)&&(t=void 0),e=ls(e),t=cs({},t,n,zi);var i,o,a=cs({},t.imports,n.imports,zi),s=Es(a),l=It(a,s),_=0,u=t.interpolate||ue,c="__p += '",p=fe((t.escape||ue).source+"|"+u.source+"|"+(u===F?re:ue).source+"|"+(t.evaluate||ue).source+"|$","g"),d="//# sourceURL="+(Me.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ke+"]")+"\n";e.replace(p,(function(t,r,n,a,s,l){return n||(n=a),c+=e.slice(_,l).replace(ce,Kt),r&&(i=!0,c+="' +\n__e("+r+") +\n'"),s&&(o=!0,c+="';\n"+s+";\n__p += '"),n&&(c+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),_=l+t.length,t})),c+="';\n";var h=Me.call(t,"variable")&&t.variable;if(h){if(ee.test(h))throw new X("Invalid `variable` option passed into `_.template`")}else c="with (obj) {\n"+c+"\n}\n";c=(o?c.replace(L,""):c).replace(R,"$1").replace(S,"$1;"),c="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+c+"return __p\n}";var f=Fs((function(){return pe(s,d+"return "+c).apply(void 0,l)}));if(f.source=c,ja(f))throw f;return f},Dr.times=function(e,t){if((e=is(e))<1||e>9007199254740991)return[];var r=4294967295,n=sr(e,4294967295);e-=4294967295;for(var i=Tt(n,t=Yi(t));++r<e;)t(r);return i},Dr.toFinite=ns,Dr.toInteger=is,Dr.toLength=os,Dr.toLower=function(e){return ls(e).toLowerCase()},Dr.toNumber=as,Dr.toSafeInteger=function(e){return e?Xr(is(e),-9007199254740991,9007199254740991):0===e?e:0},Dr.toString=ls,Dr.toUpper=function(e){return ls(e).toUpperCase()},Dr.trim=function(e,t,r){if((e=ls(e))&&(r||void 0===t))return kt(e);if(!e||!(t=Jn(t)))return e;var n=Vt(e),i=Vt(t);return ui(n,Rt(n,i),St(n,i)+1).join("")},Dr.trimEnd=function(e,t,r){if((e=ls(e))&&(r||void 0===t))return e.slice(0,Zt(e)+1);if(!e||!(t=Jn(t)))return e;var n=Vt(e);return ui(n,0,St(n,Vt(t))+1).join("")},Dr.trimStart=function(e,t,r){if((e=ls(e))&&(r||void 0===t))return e.replace(Z,"");if(!e||!(t=Jn(t)))return e;var n=Vt(e);return ui(n,Rt(n,Vt(t))).join("")},Dr.truncate=function(e,t){var r=30,n="...";if(Na(t)){var i="separator"in t?t.separator:i;r="length"in t?is(t.length):r,n="omission"in t?Jn(t.omission):n}var o=(e=ls(e)).length;if(jt(e)){var a=Vt(e);o=a.length}if(r>=o)return e;var s=r-Gt(n);if(s<1)return n;var l=a?ui(a,0,s).join(""):e.slice(0,s);if(void 0===i)return l+n;if(a&&(s+=l.length-s),Xa(i)){if(e.slice(s).search(i)){var _,u=l;for(i.global||(i=fe(i.source,ls(ne.exec(i))+"g")),i.lastIndex=0;_=i.exec(u);)var c=_.index;l=l.slice(0,void 0===c?s:c)}}else if(e.indexOf(Jn(i),s)!=s){var p=l.lastIndexOf(i);p>-1&&(l=l.slice(0,p))}return l+n},Dr.unescape=function(e){return(e=ls(e))&&W.test(e)?e.replace(B,Xt):e},Dr.uniqueId=function(e){var t=++Pe;return ls(e)+t},Dr.upperCase=Ks,Dr.upperFirst=js,Dr.each=la,Dr.eachRight=_a,Dr.first=Bo,Ys(Dr,(cl={},_n(Dr,(function(e,t){Me.call(Dr.prototype,t)||(cl[t]=e)})),cl),{chain:!1}),Dr.VERSION="4.17.21",st(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Dr[e].placeholder=Dr})),st(["drop","take"],(function(e,t){Ir.prototype[e]=function(r){r=void 0===r?1:ar(is(r),0);var n=this.__filtered__&&!t?new Ir(this):this.clone();return n.__filtered__?n.__takeCount__=sr(r,n.__takeCount__):n.__views__.push({size:sr(r,4294967295),type:e+(n.__dir__<0?"Right":"")}),n},Ir.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),st(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;Ir.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Yi(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),st(["head","last"],(function(e,t){var r="take"+(t?"Right":"");Ir.prototype[e]=function(){return this[r](1).value()[0]}})),st(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");Ir.prototype[e]=function(){return this.__filtered__?new Ir(this):this[r](1)}})),Ir.prototype.compact=function(){return this.filter(Vs)},Ir.prototype.find=function(e){return this.filter(e).head()},Ir.prototype.findLast=function(e){return this.reverse().find(e)},Ir.prototype.invokeMap=Kn((function(e,t){return"function"==typeof e?new Ir(this):this.map((function(r){return bn(r,e,t)}))})),Ir.prototype.reject=function(e){return this.filter(xa(Yi(e)))},Ir.prototype.slice=function(e,t){e=is(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Ir(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),void 0!==t&&(r=(t=is(t))<0?r.dropRight(-t):r.take(t-e)),r)},Ir.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Ir.prototype.toArray=function(){return this.take(4294967295)},_n(Ir.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),i=Dr[n?"take"+("last"==t?"Right":""):t],o=n||/^find/.test(t);i&&(Dr.prototype[t]=function(){var t=this.__wrapped__,a=n?[1]:arguments,s=t instanceof Ir,l=a[0],_=s||Ra(t),u=function(e){var t=i.apply(Dr,ht([e],a));return n&&c?t[0]:t};_&&r&&"function"==typeof l&&1!=l.length&&(s=_=!1);var c=this.__chain__,p=!!this.__actions__.length,d=o&&!c,h=s&&!p;if(!o&&_){t=h?t:new Ir(this);var f=e.apply(t,a);return f.__actions__.push({func:na,args:[u],thisArg:void 0}),new Ar(f,c)}return d&&h?e.apply(this,a):(f=this.thru(u),d?n?f.value()[0]:f.value():f)})})),st(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ge[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Dr.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(Ra(i)?i:[],e)}return this[r]((function(r){return t.apply(Ra(r)?r:[],e)}))}})),_n(Ir.prototype,(function(e,t){var r=Dr[t];if(r){var n=r.name+"";Me.call(br,n)||(br[n]=[]),br[n].push({name:t,func:r})}})),br[Ti(void 0,2).name]=[{name:"wrapper",func:void 0}],Ir.prototype.clone=function(){var e=new Ir(this.__wrapped__);return e.__actions__=gi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=gi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=gi(this.__views__),e},Ir.prototype.reverse=function(){if(this.__filtered__){var e=new Ir(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Ir.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Ra(e),n=t<0,i=r?e.length:0,o=function(e,t,r){var n=-1,i=r.length;for(;++n<i;){var o=r[n],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=sr(t,e+a);break;case"takeRight":e=ar(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,l=s-a,_=n?s:a-1,u=this.__iteratees__,c=u.length,p=0,d=sr(l,this.__takeCount__);if(!r||!n&&i==l&&d==l)return ni(e,this.__actions__);var h=[];e:for(;l--&&p<d;){for(var f=-1,m=e[_+=t];++f<c;){var y=u[f],g=y.iteratee,b=y.type,v=g(m);if(2==b)m=v;else if(!v){if(1==b)continue e;break e}}h[p++]=m}return h},Dr.prototype.at=ia,Dr.prototype.chain=function(){return ra(this)},Dr.prototype.commit=function(){return new Ar(this.value(),this.__chain__)},Dr.prototype.next=function(){void 0===this.__values__&&(this.__values__=rs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},Dr.prototype.plant=function(e){for(var t,r=this;r instanceof kr;){var n=To(r);n.__index__=0,n.__values__=void 0,t?i.__wrapped__=n:t=n;var i=n;r=r.__wrapped__}return i.__wrapped__=e,t},Dr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Ir){var t=e;return this.__actions__.length&&(t=new Ir(this)),(t=t.reverse()).__actions__.push({func:na,args:[No],thisArg:void 0}),new Ar(t,this.__chain__)}return this.thru(No)},Dr.prototype.toJSON=Dr.prototype.valueOf=Dr.prototype.value=function(){return ni(this.__wrapped__,this.__actions__)},Dr.prototype.first=Dr.prototype.head,Ye&&(Dr.prototype[Ye]=function(){return this}),Dr}();Ve._=$t,void 0===(i=function(){return $t}.call(t,r,t,n))||(n.exports=i)}).call(this)}).call(this,r(50),r(101)(e))},function(e,t,r){"use strict";var n,i=r(54),o=r(5),a=r(63),s=r(13),l=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),_=function(e){function t(t,r){var n=e.call(this)||this;return n.setCoordinates(t,r),n}return l(t,e),t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,t,r,n){var i=this.flatCoordinates,o=Object(s.i)(e,t,i[0],i[1]);if(o<n){for(var a=this.stride,l=0;l<a;++l)r[l]=i[l];return r.length=a,o}return n},t.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},t.prototype.computeExtent=function(e){return Object(o.m)(this.flatCoordinates,e)},t.prototype.getType=function(){return"Point"},t.prototype.intersectsExtent=function(e){return Object(o.h)(e,this.flatCoordinates[0],this.flatCoordinates[1])},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(a.a)(this.flatCoordinates,0,e,this.stride),this.changed()},t}(i.a);t.a=_},function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}));var n=42,i=256},function(e,t,r){"use strict";r.d(t,"b",(function(){return _}));var n,i=r(70),o=r(18),a=r(16),s=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),l=function(e){function t(){var t=e.call(this)||this;return t.on=t.onInternal,t.once=t.onceInternal,t.un=t.unInternal,t.revision_=0,t}return s(t,e),t.prototype.changed=function(){++this.revision_,this.dispatchEvent(o.a.CHANGE)},t.prototype.getRevision=function(){return this.revision_},t.prototype.onInternal=function(e,t){if(Array.isArray(e)){for(var r=e.length,n=new Array(r),i=0;i<r;++i)n[i]=Object(a.a)(this,e[i],t);return n}return Object(a.a)(this,e,t)},t.prototype.onceInternal=function(e,t){var r;if(Array.isArray(e)){var n=e.length;r=new Array(n);for(var i=0;i<n;++i)r[i]=Object(a.b)(this,e[i],t)}else r=Object(a.b)(this,e,t);return t.ol_key=r,r},t.prototype.unInternal=function(e,t){var r=t.ol_key;if(r)_(r);else if(Array.isArray(e))for(var n=0,i=e.length;n<i;++n)this.removeEventListener(e[n],t);else this.removeEventListener(e,t)},t}(i.a);function _(e){if(Array.isArray(e))for(var t=0,r=e.length;t<r;++t)Object(a.c)(e[t]);else Object(a.c)(e)}l.prototype.on,l.prototype.once,l.prototype.un,t.a=l},function(e,t,r){"use strict";var n=r(34),i=function(){function e(e){this.code_=e.code,this.units_=e.units,this.extent_=void 0!==e.extent?e.extent:null,this.worldExtent_=void 0!==e.worldExtent?e.worldExtent:null,this.axisOrientation_=void 0!==e.axisOrientation?e.axisOrientation:"enu",this.global_=void 0!==e.global&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}return e.prototype.canWrapX=function(){return this.canWrapX_},e.prototype.getCode=function(){return this.code_},e.prototype.getExtent=function(){return this.extent_},e.prototype.getUnits=function(){return this.units_},e.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||n.a[this.units_]},e.prototype.getWorldExtent=function(){return this.worldExtent_},e.prototype.getAxisOrientation=function(){return this.axisOrientation_},e.prototype.isGlobal=function(){return this.global_},e.prototype.setGlobal=function(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)},e.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},e.prototype.setDefaultTileGrid=function(e){this.defaultTileGrid_=e},e.prototype.setExtent=function(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)},e.prototype.setWorldExtent=function(e){this.worldExtent_=e},e.prototype.setGetPointResolution=function(e){this.getPointResolutionFunc_=e},e.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},e}();t.a=i},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return l}));var n,i=r(116),o=r.n(i);(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var a,s;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function l(e){var t;return t=e.split("-").length>1?e.split("-").slice(1).join(" "):e,o()(t)}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(l,"labelFromFieldName","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\_labelFromFieldName.js"),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&s(e)}).call(this,r(14)(e))},function(e){e.exports=JSON.parse('{"mapbox":"pk.eyJ1IjoibW9yZ2Vua2FmZmVlIiwiYSI6ImNpeHJmNXNmZTAwNHIycXBid2NqdTJibjMifQ.Dv1-GDpTWi0NP6xW9Fct1w","openmaptiles":"KDhMfHvorAFkFe64wlZb","thunderforest":"b71f7f0ba4064f5eb9e903859a9cf5c6"}')},function(e,t,r){(function(e,r){var n="[object Arguments]",i="[object Function]",o="[object GeneratorFunction]",a="[object Map]",s="[object Set]",l=/\w*$/,_=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,c={};c[n]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object DataView]"]=c["[object Boolean]"]=c["[object Date]"]=c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c[a]=c["[object Number]"]=c["[object Object]"]=c["[object RegExp]"]=c[s]=c["[object String]"]=c["[object Symbol]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c["[object Error]"]=c[i]=c["[object WeakMap]"]=!1;var p="object"==typeof e&&e&&e.Object===Object&&e,d="object"==typeof self&&self&&self.Object===Object&&self,h=p||d||Function("return this")(),f=t&&!t.nodeType&&t,m=f&&"object"==typeof r&&r&&!r.nodeType&&r,y=m&&m.exports===f;function g(e,t){return e.set(t[0],t[1]),e}function b(e,t){return e.add(t),e}function v(e,t,r,n){var i=-1,o=e?e.length:0;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function E(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function O(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function M(e,t){return function(r){return e(t(r))}}function P(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var x,w=Array.prototype,C=Function.prototype,D=Object.prototype,T=h["__core-js_shared__"],k=(x=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+x:"",A=C.toString,I=D.hasOwnProperty,L=D.toString,R=RegExp("^"+A.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S=y?h.Buffer:void 0,B=h.Symbol,U=h.Uint8Array,W=M(Object.getPrototypeOf,Object),K=Object.create,j=D.propertyIsEnumerable,z=w.splice,F=Object.getOwnPropertySymbols,q=S?S.isBuffer:void 0,N=M(Object.keys,Object),H=me(h,"DataView"),G=me(h,"Map"),V=me(h,"Promise"),Z=me(h,"Set"),X=me(h,"WeakMap"),$=me(Object,"create"),Y=Ee(H),J=Ee(G),Q=Ee(V),ee=Ee(Z),te=Ee(X),re=B?B.prototype:void 0,ne=re?re.valueOf:void 0;function ie(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function oe(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ae(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function se(e){this.__data__=new oe(e)}function le(e,t){var r=Me(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Pe(e)}(e)&&I.call(e,"callee")&&(!j.call(e,"callee")||L.call(e)==n)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],i=r.length,o=!!i;for(var a in e)!t&&!I.call(e,a)||o&&("length"==a||be(a,i))||r.push(a);return r}function _e(e,t,r){var n=e[t];I.call(e,t)&&Oe(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function ue(e,t){for(var r=e.length;r--;)if(Oe(e[r][0],t))return r;return-1}function ce(e,t,r,_,u,p,d){var h;if(_&&(h=p?_(e,u,p,d):_(e)),void 0!==h)return h;if(!Ce(e))return e;var f=Me(e);if(f){if(h=function(e){var t=e.length,r=e.constructor(t);t&&"string"==typeof e[0]&&I.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!t)return function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(e,h)}else{var m=ge(e),y=m==i||m==o;if(xe(e))return function(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}(e,t);if("[object Object]"==m||m==n||y&&!p){if(E(e))return p?e:{};if(h=function(e){return"function"!=typeof e.constructor||ve(e)?{}:(t=W(e),Ce(t)?K(t):{});var t}(y?{}:e),!t)return function(e,t){return he(e,ye(e),t)}(e,function(e,t){return e&&he(t,De(t),e)}(h,e))}else{if(!c[m])return p?e:{};h=function(e,t,r,n){var i=e.constructor;switch(t){case"[object ArrayBuffer]":return de(e);case"[object Boolean]":case"[object Date]":return new i(+e);case"[object DataView]":return function(e,t){var r=t?de(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var r=t?de(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,n);case a:return function(e,t,r){return v(t?r(O(e),!0):O(e),g,new e.constructor)}(e,n,r);case"[object Number]":case"[object String]":return new i(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,l.exec(e));return t.lastIndex=e.lastIndex,t}(e);case s:return function(e,t,r){return v(t?r(P(e),!0):P(e),b,new e.constructor)}(e,n,r);case"[object Symbol]":return o=e,ne?Object(ne.call(o)):{}}var o}(e,m,ce,t)}}d||(d=new se);var M=d.get(e);if(M)return M;if(d.set(e,h),!f)var x=r?function(e){return function(e,t,r){var n=t(e);return Me(e)?n:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(n,r(e))}(e,De,ye)}(e):De(e);return function(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r,e););}(x||e,(function(n,i){x&&(n=e[i=n]),_e(h,i,ce(n,t,r,_,i,e,d))})),h}function pe(e){return!(!Ce(e)||(t=e,k&&k in t))&&(we(e)||E(e)?R:_).test(Ee(e));var t}function de(e){var t=new e.constructor(e.byteLength);return new U(t).set(new U(e)),t}function he(e,t,r,n){r||(r={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=n?n(r[a],e[a],a,r,e):void 0;_e(r,a,void 0===s?e[a]:s)}return r}function fe(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function me(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return pe(r)?r:void 0}ie.prototype.clear=function(){this.__data__=$?$(null):{}},ie.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},ie.prototype.get=function(e){var t=this.__data__;if($){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return I.call(t,e)?t[e]:void 0},ie.prototype.has=function(e){var t=this.__data__;return $?void 0!==t[e]:I.call(t,e)},ie.prototype.set=function(e,t){return this.__data__[e]=$&&void 0===t?"__lodash_hash_undefined__":t,this},oe.prototype.clear=function(){this.__data__=[]},oe.prototype.delete=function(e){var t=this.__data__,r=ue(t,e);return!(r<0)&&(r==t.length-1?t.pop():z.call(t,r,1),!0)},oe.prototype.get=function(e){var t=this.__data__,r=ue(t,e);return r<0?void 0:t[r][1]},oe.prototype.has=function(e){return ue(this.__data__,e)>-1},oe.prototype.set=function(e,t){var r=this.__data__,n=ue(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},ae.prototype.clear=function(){this.__data__={hash:new ie,map:new(G||oe),string:new ie}},ae.prototype.delete=function(e){return fe(this,e).delete(e)},ae.prototype.get=function(e){return fe(this,e).get(e)},ae.prototype.has=function(e){return fe(this,e).has(e)},ae.prototype.set=function(e,t){return fe(this,e).set(e,t),this},se.prototype.clear=function(){this.__data__=new oe},se.prototype.delete=function(e){return this.__data__.delete(e)},se.prototype.get=function(e){return this.__data__.get(e)},se.prototype.has=function(e){return this.__data__.has(e)},se.prototype.set=function(e,t){var r=this.__data__;if(r instanceof oe){var n=r.__data__;if(!G||n.length<199)return n.push([e,t]),this;r=this.__data__=new ae(n)}return r.set(e,t),this};var ye=F?M(F,Object):function(){return[]},ge=function(e){return L.call(e)};function be(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||u.test(e))&&e>-1&&e%1==0&&e<t}function ve(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||D)}function Ee(e){if(null!=e){try{return A.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Oe(e,t){return e===t||e!=e&&t!=t}(H&&"[object DataView]"!=ge(new H(new ArrayBuffer(1)))||G&&ge(new G)!=a||V&&"[object Promise]"!=ge(V.resolve())||Z&&ge(new Z)!=s||X&&"[object WeakMap]"!=ge(new X))&&(ge=function(e){var t=L.call(e),r="[object Object]"==t?e.constructor:void 0,n=r?Ee(r):void 0;if(n)switch(n){case Y:return"[object DataView]";case J:return a;case Q:return"[object Promise]";case ee:return s;case te:return"[object WeakMap]"}return t});var Me=Array.isArray;function Pe(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!we(e)}var xe=q||function(){return!1};function we(e){var t=Ce(e)?L.call(e):"";return t==i||t==o}function Ce(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function De(e){return Pe(e)?le(e):function(e){if(!ve(e))return N(e);var t=[];for(var r in Object(e))I.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}r.exports=function(e){return ce(e,!0,!0)}}).call(this,r(50),r(101)(e))},function(e,t,r){"use strict";e.exports=function(e,t,r,n,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var _=[r,n,i,o,a,s],u=0;(l=new Error(t.replace(/%s/g,(function(){return _[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){var n=r(118),i=r(391),o=r(392),a=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},function(e,t,r){var n=r(414),i=r(417);e.exports=function(e,t){var r=i(e,t);return n(r)?r:void 0}},function(e,t,r){var n=r(339),i=r(340),o=r(210),a=r(341);e.exports=function(e){return n(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return d}));var n,i=r(89),o=r.n(i),a=r(110),s=r.n(a),l=r(58);(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var _,u;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function c(){return(o.a.parse(window.location.href,!0).query||{}).style}function p(e,t){console.log("Loading style",e),fetch(e,{mode:"cors",credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){t(l.a.ensureStyleValidity(e))})).catch((function(){console.warn("Could not fetch default style",e),t(l.a.emptyStyle)}))}function d(){var e=o.a.parse(window.location.href,!0),t=s.a.parse(window.location.search.slice(1));delete t.style,t=0===Object.getOwnPropertyNames(t).length?"":"?"+s.a.stringify(t);var r=e.hash;null===r&&(r="");var n=e.protocol+"//"+e.host+e.pathname+t+r;window.history.replaceState({},document.title,n)}function h(e,t,r){fetch(e,{mode:"cors",credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){try{r(e)}catch(e){console.error(e),r(t)}})).catch((function(){console.error("Can not load JSON from "+e),r(t)}))}(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(_.register(c,"initialStyleUrl","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\urlopen.js"),_.register(p,"loadStyleUrl","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\urlopen.js"),_.register(d,"removeStyleQuerystring","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\urlopen.js"),_.register(h,"loadJSON","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\urlopen.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)}).call(this,r(14)(e))},function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return a}));var n=r(73),i=r(23);function o(e,t,r,o,a,s,l){for(var _,u,c,p,d,h,f,m=a[s+1],y=[],g=0,b=r.length;g<b;++g){var v=r[g];for(p=e[v-o],h=e[v-o+1],_=t;_<v;_+=o)d=e[_],f=e[_+1],(m<=h&&f<=m||h<=m&&m<=f)&&(c=(m-h)/(f-h)*(d-p)+p,y.push(c)),p=d,h=f}var E=NaN,O=-1/0;for(y.sort(i.f),p=y[0],_=1,u=y.length;_<u;++_){d=y[_];var M=Math.abs(d-p);M>O&&(c=(p+d)/2,Object(n.c)(e,t,r,o,c,m)&&(E=c,O=M)),p=d}return isNaN(E)&&(E=a[s]),l?(l.push(E,m,O),l):[E,m,O]}function a(e,t,r,n,i){for(var a=[],s=0,l=r.length;s<l;++s){var _=r[s];a=o(e,t,_,n,i,2*s,a),t=_[_.length-1]}return a}},function(e,t,r){"use strict";r.d(t,"a",(function(){return C})),r.d(t,"b",(function(){return B})),r.d(t,"c",(function(){return Z})),r.d(t,"d",(function(){return $})),r.d(t,"e",(function(){return Y}));var n=r(1);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?f(e):t}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var i=p(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m(this,r)}}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var O=function e(t){var r=this,n=t.expanded,o=void 0===n?[]:n,a=t.allowMultipleExpanded,l=void 0!==a&&a,_=t.allowZeroExpanded,c=void 0!==_&&_;i(this,e),s(this,"expanded",void 0),s(this,"allowMultipleExpanded",void 0),s(this,"allowZeroExpanded",void 0),s(this,"toggleExpanded",(function(e){return r.isItemDisabled(e)?r:r.isItemExpanded(e)?r.augment({expanded:r.expanded.filter((function(t){return t!==e}))}):r.augment({expanded:r.allowMultipleExpanded?[].concat(b(r.expanded),[e]):[e]})})),s(this,"isItemDisabled",(function(e){var t=r.isItemExpanded(e),n=1===r.expanded.length;return Boolean(t&&!r.allowZeroExpanded&&n)})),s(this,"isItemExpanded",(function(e){return-1!==r.expanded.indexOf(e)})),s(this,"getPanelAttributes",(function(e,t){var n=null!=t?t:r.isItemExpanded(e);return{role:r.allowMultipleExpanded?void 0:"region","aria-hidden":r.allowMultipleExpanded?!n:void 0,"aria-labelledby":r.getButtonId(e),id:r.getPanelId(e),hidden:!n||void 0}})),s(this,"getHeadingAttributes",(function(){return{role:"heading"}})),s(this,"getButtonAttributes",(function(e,t){var n=null!=t?t:r.isItemExpanded(e),i=r.isItemDisabled(e);return{id:r.getButtonId(e),"aria-disabled":i,"aria-expanded":n,"aria-controls":r.getPanelId(e),role:"button",tabIndex:0}})),s(this,"getPanelId",(function(e){return"accordion__panel-".concat(e)})),s(this,"getButtonId",(function(e){return"accordion__heading-".concat(e)})),s(this,"augment",(function(t){return new e(u({expanded:r.expanded,allowMultipleExpanded:r.allowMultipleExpanded,allowZeroExpanded:r.allowZeroExpanded},t))})),this.expanded=o,this.allowMultipleExpanded=l,this.allowZeroExpanded=c},M=Object(n.createContext)(null),P=function(e){c(r,e);var t=y(r);function r(){var e;i(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s(f(e=t.call.apply(t,[this].concat(o))),"state",new O({expanded:e.props.preExpanded,allowMultipleExpanded:e.props.allowMultipleExpanded,allowZeroExpanded:e.props.allowZeroExpanded})),s(f(e),"toggleExpanded",(function(t){e.setState((function(e){return e.toggleExpanded(t)}),(function(){e.props.onChange&&e.props.onChange(e.state.expanded)}))})),s(f(e),"isItemDisabled",(function(t){return e.state.isItemDisabled(t)})),s(f(e),"isItemExpanded",(function(t){return e.state.isItemExpanded(t)})),s(f(e),"getPanelAttributes",(function(t,r){return e.state.getPanelAttributes(t,r)})),s(f(e),"getHeadingAttributes",(function(){return e.state.getHeadingAttributes()})),s(f(e),"getButtonAttributes",(function(t,r){return e.state.getButtonAttributes(t,r)})),e}return a(r,[{key:"render",value:function(){var e=this.state,t=e.allowZeroExpanded,r=e.allowMultipleExpanded;return Object(n.createElement)(M.Provider,{value:{allowMultipleExpanded:r,allowZeroExpanded:t,toggleExpanded:this.toggleExpanded,isItemDisabled:this.isItemDisabled,isItemExpanded:this.isItemExpanded,getPanelAttributes:this.getPanelAttributes,getHeadingAttributes:this.getHeadingAttributes,getButtonAttributes:this.getButtonAttributes}},this.props.children||null)}}]),r}(n.PureComponent);s(P,"defaultProps",{allowMultipleExpanded:!1,allowZeroExpanded:!1});var x,w=function(e){c(r,e);var t=y(r);function r(){var e;i(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s(f(e=t.call.apply(t,[this].concat(o))),"renderChildren",(function(t){return t?e.props.children(t):null})),e}return a(r,[{key:"render",value:function(){return Object(n.createElement)(M.Consumer,null,this.renderChildren)}}]),r}(n.PureComponent),C=function(e){var t=e.className,r=void 0===t?"accordion":t,i=e.allowMultipleExpanded,o=e.allowZeroExpanded,a=e.onChange,s=e.preExpanded,_=h(e,["className","allowMultipleExpanded","allowZeroExpanded","onChange","preExpanded"]);return Object(n.createElement)(P,{preExpanded:s,allowMultipleExpanded:i,allowZeroExpanded:o,onChange:a},Object(n.createElement)("div",l({"data-accordion-component":"Accordion",className:r},_)))};!function(e){e.Accordion="Accordion",e.AccordionItem="AccordionItem",e.AccordionItemButton="AccordionItemButton",e.AccordionItemHeading="AccordionItemHeading",e.AccordionItemPanel="AccordionItemPanel"}(x||(x={}));var D=x,T=0;var k=/[\u0009\u000a\u000c\u000d\u0020]/g;function A(e){return""!==e&&!k.test(e)||(console.error('uuid must be a valid HTML5 id but was given "'.concat(e,'", ASCII whitespaces are forbidden')),!1)}var I=Object(n.createContext)(null),L=function(e){var t=e.children,r=e.uuid,i=e.accordionContext,o=e.dangerouslySetExpanded,a=function(){i.toggleExpanded(r)},s=function(e){var i=null!=o?o:e.isItemExpanded(r),s=e.isItemDisabled(r),l=e.getPanelAttributes(r,o),_=e.getHeadingAttributes(r),u=e.getButtonAttributes(r,o);return Object(n.createElement)(I.Provider,{value:{uuid:r,expanded:i,disabled:s,toggleExpanded:a,panelAttributes:l,headingAttributes:_,buttonAttributes:u}},t)};return Object(n.createElement)(w,null,s)},R=function(e){return Object(n.createElement)(w,null,(function(t){return Object(n.createElement)(L,l({},e,{accordionContext:t}))}))},S=function(e){var t=e.children,r=function(e){return e?t(e):null};return Object(n.createElement)(I.Consumer,null,r)},B=function(e){var t,r=e.uuid,i=e.dangerouslySetExpanded,o=e.className,a=void 0===o?"accordion__item":o,s=e.activeClassName,_=h(e,["uuid","dangerouslySetExpanded","className","activeClassName"]),u=g(Object(n.useState)((t=T,T+=1,"raa-".concat(t))),1)[0],c=null!=r?r:u,p=function(e){var t=e.expanded&&s?s:a;return Object(n.createElement)("div",l({"data-accordion-component":"AccordionItem",className:t},_))};return A(c.toString()),_.id&&A(_.id),Object(n.createElement)(R,{uuid:c,dangerouslySetExpanded:i},Object(n.createElement)(S,null,p))};function U(e){var t=function e(t){return t&&(t.matches('[data-accordion-component="Accordion"]')?t:e(t.parentElement))}(e);return t&&Array.from(t.querySelectorAll('[data-accordion-component="AccordionItemButton"]'))}B.displayName=D.AccordionItem;var W="End",K="Enter",j="Home",z=" ",F="Spacebar",q="ArrowUp",N="ArrowDown",H="ArrowLeft",G="ArrowRight",V=function(e){var t=e.toggleExpanded,r=e.className,i=void 0===r?"accordion__button":r,o=h(e,["toggleExpanded","className"]);return o.id&&A(o.id),Object(n.createElement)("div",l({className:i},o,{role:"button",tabIndex:0,onClick:t,onKeyDown:function(e){var r,n,i=e.key;if(i!==K&&i!==z&&i!==F||(e.preventDefault(),t()),e.target instanceof HTMLElement)switch(i){case j:e.preventDefault(),r=e.target,(n=(U(r)||[])[0])&&n.focus();break;case W:e.preventDefault(),function(e){var t=U(e)||[],r=t[t.length-1];r&&r.focus()}(e.target);break;case H:case q:e.preventDefault(),function(e){var t=U(e)||[],r=t.indexOf(e);if(-1!==r){var n=t[r-1];n&&n.focus()}}(e.target);break;case G:case N:e.preventDefault(),function(e){var t=U(e)||[],r=t.indexOf(e);if(-1!==r){var n=t[r+1];n&&n.focus()}}(e.target)}},"data-accordion-component":"AccordionItemButton"}))},Z=function(e){return Object(n.createElement)(S,null,(function(t){var r=t.toggleExpanded,i=t.buttonAttributes;return Object(n.createElement)(V,l({toggleExpanded:r},e,i))}))},X=function(e){c(r,e);var t=y(r);function r(){var e;i(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s(f(e=t.call.apply(t,[this].concat(o))),"ref",void 0),s(f(e),"setRef",(function(t){e.ref=t})),e}return a(r,[{key:"componentDidUpdate",value:function(){r.VALIDATE(this.ref)}},{key:"componentDidMount",value:function(){r.VALIDATE(this.ref)}},{key:"render",value:function(){return Object(n.createElement)("div",l({"data-accordion-component":"AccordionItemHeading"},this.props,{ref:this.setRef}))}}],[{key:"VALIDATE",value:function(e){if(void 0===e)throw new Error("ref is undefined");if(1!==e.childElementCount||!e.firstElementChild||"AccordionItemButton"!==e.firstElementChild.getAttribute("data-accordion-component"))throw new Error("AccordionItemButton may contain only one child element, which must be an instance of AccordionItemButton.\n\nFrom the WAI-ARIA spec (https://www.w3.org/TR/wai-aria-practices-1.1/#accordion):\n\n“The button element is the only element inside the heading element. That is, if there are other visually persistent elements, they are not included inside the heading element.”\n\n")}}]),r}(n.PureComponent);s(X,"defaultProps",{className:"accordion__heading","aria-level":3});var $=function(e){return Object(n.createElement)(S,null,(function(t){var r=t.headingAttributes;return e.id&&A(e.id),Object(n.createElement)(X,l({},e,r))}))};$.displayName=D.AccordionItemHeading;var Y=function(e){var t=e.className,r=void 0===t?"accordion__panel":t,i=e.region,o=e.id,a=h(e,["className","region","id"]),s=function(e){var t=e.panelAttributes;o&&A(o);var s=u(u({},t),{},{"aria-labelledby":i?t["aria-labelledby"]:void 0});return Object(n.createElement)("div",l({"data-accordion-component":"AccordionItemPanel",className:r},a,s,{role:i?"region":void 0}))};return Object(n.createElement)(S,null,s)}},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(41),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(26),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__),jszip__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(205),jszip__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(jszip__WEBPACK_IMPORTED_MODULE_5__),lodash_clonedeep__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(99),lodash_clonedeep__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(lodash_clonedeep__WEBPACK_IMPORTED_MODULE_6__),enterModule;function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _createForOfIteratorHelper(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},apiVersion="2022-09-01-preview",aliasRegex=new RegExp("^[a-zA-Z0-9_-]*$"),domains=[["us.atlas.microsoft.com","United States"],["eu.atlas.microsoft.com","Europe"]],indoorLayers=new Set(["facility","level","unit","vertical_penetration","opening","structure","area_element","line_element","labels_indoor"]),baseMapStyles={microsoft_light:"road",microsoft_dark:"night",microsoft_grayscale_dark:"grayscale_dark",microsoft_grayscale_light:"grayscale_light",microsoft_shaded_relief:"road_shaded_relief",microsoft_high_contrast_dark:"high_contrast_dark",microsoft_high_contrast_light:"high_contrast_light",microsoft_satellite:"satellite",microsoft_satellite_road:"satellite_road_labels"},fakeDomainForSprite="https://fake.domain.com/for/sprite";function getTilesetMetadataUrl(e,t){return"https://"+e+"/tilesets/"+t+"?api-version="+apiVersion}function createStyleUrl(e,t){return"https://"+e+"/styles?api-version="+apiVersion+"&styleFormat=azureMapsStyle&description="+t}function listStylesUrl(e){return"https://"+e+"/styles?api-version="+apiVersion}function getStyleUrl(e,t){return"https://"+e+"/styles/"+t+"?api-version="+apiVersion+"&styleFormat=azureMapsStyle"}function createMapConfigurationUrl(e,t,r){return"https://"+e+"/styles/mapConfigurations?api-version="+apiVersion+"&alias="+t+"&description="+r}function listMapConfigurationsUrl(e){return"https://"+e+"/styles/mapConfigurations?api-version="+apiVersion}function getMapConfigurationUrl(e,t){return"https://"+e+"/styles/mapConfigurations/"+t+"?api-version="+apiVersion}function deleteMapConfigurationUrl(e,t){return"https://"+e+"/styles/mapConfigurations/"+t+"?api-version="+apiVersion}function getMapConfigurationStyleUrl(e,t,r){return"https://"+e+"/styles/mapConfigurations/"+t+"/"+r+"?api-version="+apiVersion}function throwIfUserCanceled(e){if(e){var t=new Error("Canceled by the user.");throw t.reason="user",t}}function throwIfBadAlias(e){var t="";if(e.startsWith("microsoft")&&(t="Aliases starting with 'microsoft' are forbidden."),aliasRegex.test(e)||(t="The specified alias contains invalid characters."),t){var r=new Error(t);throw r.response={error:{message:t}},r}}function throwResponseJsonError(e){return _throwResponseJsonError.apply(this,arguments)}function _throwResponseJsonError(){return(_throwResponseJsonError=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function e(t){var r;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Error("Response is not OK. Check console"),e.next=3,t.json();case 3:throw r.response=e.sent,console.error(r.response),r;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function processResponse(e,t){return _processResponse.apply(this,arguments)}function _processResponse(){return(_processResponse=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function e(t,r){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(throwIfUserCanceled(r),t.ok){e.next=4;break}return e.next=4,throwResponseJsonError(t);case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function processJsonResponse(e,t){return _processJsonResponse.apply(this,arguments)}function _processJsonResponse(){return(_processJsonResponse=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function e(t,r){var n;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,processResponse(t,r);case 2:if(!(n=e.sent)){e.next=9;break}return e.next=6,n.json();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=n;case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function processBlobResponse(e,t){return _processBlobResponse.apply(this,arguments)}function _processBlobResponse(){return(_processBlobResponse=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function e(t,r){var n;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,processResponse(t,r);case 2:if(!(n=e.sent)){e.next=9;break}return e.next=6,n.blob();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=n;case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function getTilesetMetadata(e,t,r,n){return _getTilesetMetadata.apply(this,arguments)}function _getTilesetMetadata(){return(_getTilesetMetadata=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function e(t,r,n,i){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=processJsonResponse,e.next=3,fetch(getTilesetMetadataUrl(t,r),{mode:"cors",headers:{"subscription-key":n},credentials:"same-origin",cache:"reload"});case 3:return e.t1=e.sent,e.t2=i,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uploadStyleArtifact(e,t,r,n){return _uploadStyleArtifact.apply(this,arguments)}function _uploadStyleArtifact(){return(_uploadStyleArtifact=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function e(t,r,n,i){var o,a,s,l,_;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"POST",mode:"cors",headers:{"subscription-key":n},credentials:"same-origin",body:r,cache:"reload"});case 2:if(o=e.sent,throwIfUserCanceled(i),o.ok&&o.headers.has("operation-location")){e.next=7;break}return e.next=7,throwResponseJsonError(o);case 7:a=o.headers.get("operation-location");case 8:return e.next=11,delay(1e3);case 11:return e.next=13,fetch(a,{mode:"cors",headers:{"subscription-key":n},credentials:"same-origin",cache:"reload"});case 13:if(s=e.sent,throwIfUserCanceled(i),s.ok){e.next=18;break}return e.next=18,throwResponseJsonError(s);case 18:if(!s.headers.has("resource-location")){e.next=23;break}return l=s.headers.get("resource-location"),_=(_=l.split("?"))[0].split("/"),e.abrupt("return",_[_.length-1]);case 23:return e.next=25,s.json();case 25:if("Running"===e.sent.status){e.next=29;break}return e.next=29,throwResponseJsonError(s);case 29:e.next=8;break;case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function createStyle(e,t,r,n,i){return uploadStyleArtifact(createStyleUrl(e,t),r,n,i)}function listStyles(e,t,r){return _listStyles.apply(this,arguments)}function _listStyles(){return(_listStyles=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function e(t,r,n){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=processJsonResponse,e.next=3,fetch(listStylesUrl(t),{mode:"cors",headers:{"subscription-key":r},credentials:"same-origin",cache:"reload"});case 3:return e.t1=e.sent,e.t2=n,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function getStyle(e,t,r,n){return _getStyle.apply(this,arguments)}function _getStyle(){return(_getStyle=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function e(t,r,n,i){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=processBlobResponse,e.next=3,fetch(getStyleUrl(t,r),{mode:"cors",headers:{"subscription-key":n},credentials:"same-origin",cache:"reload"});case 3:return e.t1=e.sent,e.t2=i,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function createMapConfiguration(e,t,r,n,i,o){return uploadStyleArtifact(createMapConfigurationUrl(e,t,r),n,i,o)}function listMapConfigurations(e,t,r){return _listMapConfigurations.apply(this,arguments)}function _listMapConfigurations(){return(_listMapConfigurations=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function e(t,r,n){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=processJsonResponse,e.next=3,fetch(listMapConfigurationsUrl(t),{mode:"cors",headers:{"subscription-key":r},credentials:"same-origin",cache:"reload"});case 3:return e.t1=e.sent,e.t2=n,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function getMapConfiguration(e,t,r,n){return _getMapConfiguration.apply(this,arguments)}function _getMapConfiguration(){return(_getMapConfiguration=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function e(t,r,n,i){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=processBlobResponse,e.next=3,fetch(getMapConfigurationUrl(t,r),{mode:"cors",headers:{"subscription-key":n},credentials:"same-origin",cache:"reload"});case 3:return e.t1=e.sent,e.t2=i,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function deleteMapConfiguration(e,t,r,n){return _deleteMapConfiguration.apply(this,arguments)}function _deleteMapConfiguration(){return(_deleteMapConfiguration=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function e(t,r,n,i){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=processResponse,e.next=3,fetch(deleteMapConfigurationUrl(t,r),{method:"DELETE",mode:"cors",headers:{"subscription-key":n},credentials:"same-origin",cache:"reload"});case 3:return e.t1=e.sent,e.t2=i,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ensureMapConfigurationListValidity(e){return e}function ensureMapConfigurationValidity(e){return e}function checkBaseMapStyleName(e){var t=e||"";return Object.hasOwn(baseMapStyles,t)||(t=""),t}function loadBaseMapStyle(e,t,r,n){return _loadBaseMapStyle.apply(this,arguments)}function _loadBaseMapStyle(){return(_loadBaseMapStyle=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function e(t,r,n,i){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=processJsonResponse,e.next=3,fetch(getMapConfigurationStyleUrl(t,"microsoft-maps:default",baseMapStyles[r]),{mode:"cors",headers:{"subscription-key":n},credentials:"same-origin",cache:"reload"});case 3:return e.t1=e.sent,e.t2=i,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function updateBaseMapForStyle(e,t,r,n){return _updateBaseMapForStyle.apply(this,arguments)}function _updateBaseMapForStyle(){return(_updateBaseMapForStyle=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function e(t,r,n,i){var o,a,s,l,_;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=new Set,r.layers=r.layers.filter((function(e){return!e.metadata||"baseMap layer"!==e.metadata["azmaps:type"]||(o.add(e.source),!1)})),a=0,s=Object.keys(r.sources);a<s.length;a++)l=s[a],o.has(l)&&delete r.sources[l];if(t=checkBaseMapStyleName(t),o=new Set,!t){e.next=12;break}return e.next=8,loadBaseMapStyle(n,t,i);case 8:(_=e.sent).layers.forEach((function(e){e.metadata=_objectSpread({"azmaps:type":"baseMap layer"},e.metadata),o.add(e.source)})),o.forEach((function(e){e&&Object.hasOwn(_.sources,e)&&(r.sources[e]=_.sources[e])})),r.layers=_.layers.concat(r.layers);case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var AzureMapsStyle=function(){function AzureMapsStyle(){_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,AzureMapsStyle),this._zip=null,this._json=null,this._jsonFileName="",this._spriteSheets={}}var _load;return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(AzureMapsStyle,[{key:"json",get:function(){return this._json}},{key:"layers",get:function(){var e;return null===(e=this._json)||void 0===e?void 0:e.layers}},{key:"load",value:(_load=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function e(t,r){var n,i,o,a,s,l,_,u,c,p,d,h,f,m;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jszip__WEBPACK_IMPORTED_MODULE_5___default.a.loadAsync(t);case 2:for(a in n=e.sent,throwIfUserCanceled(r),i=new Set,o=new Set,n.files)a.toLowerCase().endsWith(".json")&&i.add(a.substring(0,a.length-5)),a.toLowerCase().endsWith(".png")&&o.add(a.substring(0,a.length-4));if(i.size-o.size==1){e.next=10;break}throw new Error("The number of JSON files ("+i.size+") must be greater than PNG files ("+o.size+") exactly by 1");case 10:s=_createForOfIteratorHelper(o);try{for(s.s();!(l=s.n()).done;)_=l.value,i.delete(_)}catch(e){s.e(e)}finally{s.f()}if(1==i.size){e.next=15;break}throw new Error("There must be a single JSON file being the style. "+i.size+" JSON files found.");case 15:u={},c=_createForOfIteratorHelper(o),e.prev=17,c.s();case 19:if((p=c.n()).done){e.next=35;break}return d=p.value,h=d.endsWith("@2x")?"2":"1",e.t0=URL,e.next=25,n.file(d+".json").async("blob");case 25:return e.t1=e.sent,u[h+".json"]=e.t0.createObjectURL.call(e.t0,e.t1),e.t2=URL,e.next=30,n.file(d+".png").async("blob");case 30:e.t3=e.sent,u[h+".png"]=e.t2.createObjectURL.call(e.t2,e.t3),throwIfUserCanceled(r);case 33:e.next=19;break;case 35:e.next=40;break;case 37:e.prev=37,e.t4=e.catch(17),c.e(e.t4);case 40:return e.prev=40,c.f(),e.finish(40);case 43:return f=i.values().next().value+".json",e.t5=JSON,e.next=47,n.file(f).async("string");case 47:e.t6=e.sent,m=e.t5.parse.call(e.t5,e.t6),throwIfUserCanceled(r),this._zip=n,this._jsonFileName=f,this._json=m,this._spriteSheets=u;case 54:case"end":return e.stop()}}),e,this,[[17,37,40,43]])}))),function(e,t){return _load.apply(this,arguments)})},{key:"getSpriteUrl",value:function(e){switch(e){case fakeDomainForSprite+".json":case fakeDomainForSprite+"@1x.json":return this._spriteSheets["1.json"];case fakeDomainForSprite+".png":case fakeDomainForSprite+"@1x.png":return this._spriteSheets["1.png"];case fakeDomainForSprite+"@2x.json":return this._spriteSheets["2.json"];case fakeDomainForSprite+"@2x.png":return this._spriteSheets["2.png"]}}},{key:"updateAndGenerateZip",value:function(e){return this._json=e,this.generateZip()}},{key:"generateZip",value:function(){return this._zip.file(this._jsonFileName,JSON.stringify(this._json)),this._zip.generateAsync({type:"blob"})}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),AzureMapsStyle}(),AzureMapsMapConfiguration=function(){function AzureMapsMapConfiguration(){_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,AzureMapsMapConfiguration),this._zip=null,this._json=null,this._jsonFileName="",this._styleTuples=[]}var _load2;return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(AzureMapsMapConfiguration,[{key:"styleTuples",get:function(){return this._styleTuples}},{key:"configurations",get:function(){return this._json.configurations}},{key:"load",value:(_load2=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function e(t,r){var n,i,o,a,s;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jszip__WEBPACK_IMPORTED_MODULE_5___default.a.loadAsync(t);case 2:for(o in n=e.sent,i=new Set,n.files)o.toLowerCase().endsWith(".json")&&i.add(o.substring(0,o.length-5));if(1==i.size){e.next=8;break}throw new Error("The number of JSON files ("+i.size+") must be exactly 1 which is map configuration");case 8:return a=i.values().next().value+".json",e.t0=ensureMapConfigurationValidity,e.t1=JSON,e.next=13,n.file(a).async("string");case 13:e.t2=e.sent,e.t3=e.t1.parse.call(e.t1,e.t2),s=(0,e.t0)(e.t3),throwIfUserCanceled(r),this._zip=n,this._jsonFileName=a,this._json=s,this._styleTuples=this.extractConfigTuples();case 21:case"end":return e.stop()}}),e,this)}))),function(e,t){return _load2.apply(this,arguments)})},{key:"generateZip",value:function(){return this._zip.file(this._jsonFileName,JSON.stringify(this._json)),this._zip.generateAsync({type:"blob"})}},{key:"extractConfigTuples",value:function(){var e,t=[],r=_createForOfIteratorHelper(this._json.configurations);try{for(r.s();!(e=r.n()).done;){var n,i=e.value,o=i.displayName||i.name,a=_createForOfIteratorHelper(i.layers);try{for(a.s();!(n=a.n()).done;){var s=n.value;t.push({name:1===i.layers.length?o:"".concat(o," (Tileset ID: ").concat(s.tilesetId,")"),tuple:"".concat(s.styleId," + ").concat(s.tilesetId),baseMap:i.baseMap,styleId:s.styleId,tilesetId:s.tilesetId})}}catch(e){a.e(e)}finally{a.f()}}}catch(e){r.e(e)}finally{r.f()}return t}},{key:"updateConfigTupleDetails",value:function(e,t){var r=t.newStyle,n=t.newBaseMap,i=t.tilesetId,o=t.styleId,a=0;for(var s in this._json.configurations)if(Object.hasOwn(this._json.configurations,s))for(var l in this._json.configurations[s].layers)if(Object.hasOwn(this._json.configurations[s].layers,l)){if(a==e)return r||(r=this._json.configurations[s]),void 0!==n&&(r.baseMap=n),i&&(r.layers[l].tilesetId=i),o&&(r.layers[l].styleId=o),this._json.configurations[s]=r,void(this._styleTuples=this.extractConfigTuples());++a}}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),AzureMapsMapConfiguration}(),AzureMapsTilesetMetadata=function(){function AzureMapsTilesetMetadata(e){_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,AzureMapsTilesetMetadata),this._json=e}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(AzureMapsTilesetMetadata,[{key:"json",get:function(){return this._json},set:function(e){this._json=e}},{key:"minZoom",get:function(){var e;return null===(e=this._json)||void 0===e?void 0:e.minZoom}},{key:"maxZoom",get:function(){var e;return null===(e=this._json)||void 0===e?void 0:e.maxZoom}},{key:"bbox",get:function(){var e;return null===(e=this._json)||void 0===e?void 0:e.bbox}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),AzureMapsTilesetMetadata}();function delay(e){return new Promise((function(t){return setTimeout(t,e)}))}var AzureMapsExtension=function(){function AzureMapsExtension(){_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,AzureMapsExtension),this._subscriptionKey="",this._domain=domains[0][0],this._mapConfigurationList=[],this._mapConfigurationName="",this._mapConfiguration=new AzureMapsMapConfiguration,this._configTupleIndex="",this._style=null,this._styleDescription="",this._language="en-us",this._view="Unified",this._tilesetMetadata,this._baseMap="microsoft_light"}var _uploadResultingMapConfiguration,_getUpdatedMapConfiguration,_getMapConfigurationId,_uploadResultingStyle,_updateBaseMap,_createResultingStyle;return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(AzureMapsExtension,[{key:"domains",get:function(){return domains}},{key:"subscriptionKey",get:function(){return this._subscriptionKey},set:function(e){this._subscriptionKey=e}},{key:"domain",get:function(){return this._domain},set:function(e){this._domain=e}},{key:"mapConfigurationList",get:function(){return this._mapConfigurationList},set:function(e){this._mapConfigurationList=e}},{key:"mapConfigurationName",get:function(){return this._mapConfigurationName},set:function(e){this._mapConfigurationName=e}},{key:"mapConfiguration",get:function(){return this._mapConfiguration},set:function(e){this._mapConfiguration=e}},{key:"configTupleIndex",get:function(){return this._configTupleIndex},set:function(e){this._configTupleIndex=e}},{key:"styleName",get:function(){return this._styleName},set:function(e){this._styleName=e}},{key:"styleDescription",get:function(){return this._styleDescription},set:function(e){this._styleDescription=e}},{key:"mapConfigurationAlias",get:function(){return this._mapConfigurationAlias},set:function(e){this._mapConfigurationAlias=e}},{key:"mapConfigurationDescription",get:function(){return this._mapConfigurationDescription},set:function(e){this._mapConfigurationDescription=e}},{key:"baseMap",get:function(){return this._baseMap}},{key:"requestHeaders",get:function(){return this._configTupleIndex?{"subscription-key":this._subscriptionKey}:{}}},{key:"transformUrl",value:function(e){if(this._configTupleIndex&&e){if(e.startsWith(fakeDomainForSprite))return this._style.getSpriteUrl(e);var t=e.replace("{{azMapsDomain}}",this._domain).replace("{{azMapsLanguage}}",this._language).replace("{{azMapsView}}",this._view);return t.includes("api-version")||(t=t+"?api-version="+apiVersion),t}return e}},{key:"transformRequest",value:function(e,t){return this._configTupleIndex?{url:this.transformUrl(e),headers:{"subscription-key":this._subscriptionKey}}:{url:e}}},{key:"updateMapConfigList",value:function(){var e=this;return listMapConfigurations(this.domain,this.subscriptionKey).then((function(t){e.mapConfigurationList=t.mapConfigurations}))}},{key:"createResultingStyle",value:(_createResultingStyle=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function e(t,r,n,i,o,a,s){var l,_,u,c,p,d,h,f,m,y,g,b,v,E,O,M;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=o.styleTuples[parseInt(a)]){e.next=3;break}throw new Error("Got invalid style tuple index: "+a);case 3:return _=l.styleId,u=new AzureMapsStyle,e.t0=u,e.next=8,getStyle(r,_,t,s);case 8:return e.t1=e.sent,e.next=11,e.t0.load.call(e.t0,e.t1);case 11:return c=l.tilesetId,e.t2=AzureMapsTilesetMetadata,e.next=15,getTilesetMetadata(r,c,t,s);case 15:return e.t3=e.sent,p=new e.t2(e.t3),d="Custom style created in Azure Maps style editor",e.t4=_createForOfIteratorHelper,e.next=21,listStyles(r,t,s);case 21:e.t5=e.sent.styles,h=(0,e.t4)(e.t5);try{for(h.s();!(f=h.n()).done;)(m=f.value).styleId!==_&&m.alias!==_||(d=m.description)}catch(e){h.e(e)}finally{h.f()}y="custom_map_configuration",g="Custom map configuration created in Azure Maps style editor",b=_createForOfIteratorHelper(n);try{for(b.s();!(v=b.n()).done;)(E=v.value).mapConfigurationId!==i&&E.alias!==i||(y=E.alias,g=E.description)}catch(e){b.e(e)}finally{b.f()}return(O={version:8,name:lodash_clonedeep__WEBPACK_IMPORTED_MODULE_6___default()(u.json.name)||o.styleTuples[parseInt(a)].tuple,sources:{},sprite:fakeDomainForSprite,glyphs:"https://"+r+"/styles/glyphs/{fontstack}/{range}.pbf",layers:[],metadata:_objectSpread({"azmaps:type":"Azure Maps style","azmaps:bbox":null==p?void 0:p.bbox,"azmaps:minZoom":null==p?void 0:p.minZoom,"azmaps:maxZoom":null==p?void 0:p.maxZoom},lodash_clonedeep__WEBPACK_IMPORTED_MODULE_6___default()(u.json.metadata))}).sources[c]={type:"vector",tiles:["https://"+r+"/map/tile?api-version=2.0&tilesetId="+c+"&zoom={z}&x={x}&y={y}"],minzoom:null==p?void 0:p.minZoom,maxzoom:null==p?void 0:p.maxZoom},lodash_clonedeep__WEBPACK_IMPORTED_MODULE_6___default()(u.layers).forEach((function(e){"fill-extrusion"!==e.type&&e.metadata&&indoorLayers.has(e.metadata["microsoft.maps:layerGroup"])&&(e.layout.visibility="visible"),e.source=c,O.layers.push(e)})),M=checkBaseMapStyleName(l.baseMap),e.next=34,updateBaseMapForStyle(M,O,r,t);case 34:if(O=e.sent,!s){e.next=37;break}return e.abrupt("return",null);case 37:return this._subscriptionKey=t,this._domain=r,this._mapConfigurationList=n,this._mapConfigurationName=i,this._mapConfiguration=o,this._mapConfigurationAlias=y,this._mapConfigurationDescription=g,this._configTupleIndex=a,this._style=u,this._styleName=l.name,this._styleDescription=d,this._tilesetMetadata=p,this._baseMap=M||"blank",e.abrupt("return",O);case 51:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,i,o,a){return _createResultingStyle.apply(this,arguments)})},{key:"updateBaseMap",value:(_updateBaseMap=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function e(t,r){var n,i;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=checkBaseMapStyleName(t),e.next=3,updateBaseMapForStyle(n,r,this._domain,this._subscriptionKey);case 3:return i=e.sent,this._mapConfiguration.updateConfigTupleDetails(this._configTupleIndex,{newBaseMap:n}),this._baseMap=n||"blank",e.abrupt("return",i);case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return _updateBaseMap.apply(this,arguments)})},{key:"getUpdatedStyle",value:function(e){var t=lodash_clonedeep__WEBPACK_IMPORTED_MODULE_6___default()(e);t.version&&delete t.version,t.glyphs&&delete t.glyphs,t.sprite&&delete t.sprite,t.sources&&delete t.sources;var r=[];return t.layers.forEach((function(e){e.metadata&&"baseMap layer"==e.metadata["azmaps:type"]||("fill-extrusion"!==e.type&&e.metadata&&indoorLayers.has(e.metadata["microsoft.maps:layerGroup"])&&(e.layout.visibility="none"),delete e.source,r.push(e))})),t.layers=r,this._style.updateAndGenerateZip(t)}},{key:"uploadResultingStyle",value:(_uploadResultingStyle=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function e(t,r,n){var i;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUpdatedStyle(t);case 2:return i=e.sent,throwIfUserCanceled(r),e.next=6,createStyle(this._domain,n,i,this._subscriptionKey,r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return _uploadResultingStyle.apply(this,arguments)})},{key:"getMapConfigurationId",value:(_getMapConfigurationId=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function e(t){var r,n,i;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=22;break}return e.t0=_createForOfIteratorHelper,e.next=4,listMapConfigurations(this._domain,this._subscriptionKey);case 4:e.t1=e.sent.mapConfigurations,r=(0,e.t0)(e.t1),e.prev=6,r.s();case 8:if((n=r.n()).done){e.next=14;break}if((i=n.value).alias!==t){e.next=12;break}return e.abrupt("return",i.mapConfigurationId);case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t2=e.catch(6),r.e(e.t2);case 19:return e.prev=19,r.f(),e.finish(19);case 22:return e.abrupt("return","");case 23:case"end":return e.stop()}}),e,this,[[6,16,19,22]])}))),function(e){return _getMapConfigurationId.apply(this,arguments)})},{key:"getUpdatedMapConfiguration",value:(_getUpdatedMapConfiguration=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function e(t){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._mapConfiguration.updateConfigTupleDetails(this._configTupleIndex,{styleId:t}),e.abrupt("return",this._mapConfiguration.generateZip());case 2:case"end":return e.stop()}}),e,this)}))),function(e){return _getUpdatedMapConfiguration.apply(this,arguments)})},{key:"uploadResultingMapConfiguration",value:(_uploadResultingMapConfiguration=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function e(t,r,n,i,o){var a,s,l;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return throwIfBadAlias(n),e.next=3,this.getUpdatedMapConfiguration(t);case 3:return a=e.sent,throwIfUserCanceled(r),e.next=7,this.getMapConfigurationId(this.mapConfigurationAlias);case 7:return s=e.sent,e.next=10,createMapConfiguration(this._domain,n,i,a,this._subscriptionKey,r);case 10:if(l=e.sent,!s||!o){e.next=14;break}return e.next=14,deleteMapConfiguration(this._domain,s,this._subscriptionKey);case 14:return e.abrupt("return",l);case 15:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,i){return _uploadResultingMapConfiguration.apply(this,arguments)})},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),AzureMapsExtension}(),_default={listMapConfigurations:listMapConfigurations,getMapConfiguration:getMapConfiguration,ensureMapConfigurationListValidity:ensureMapConfigurationListValidity,AzureMapsMapConfiguration:AzureMapsMapConfiguration,AzureMapsExtension:AzureMapsExtension},reactHotLoader,leaveModule;__webpack_exports__.a=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(apiVersion,"apiVersion","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(aliasRegex,"aliasRegex","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(domains,"domains","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(indoorLayers,"indoorLayers","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(baseMapStyles,"baseMapStyles","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(fakeDomainForSprite,"fakeDomainForSprite","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(getTilesetMetadataUrl,"getTilesetMetadataUrl","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(createStyleUrl,"createStyleUrl","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(listStylesUrl,"listStylesUrl","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(getStyleUrl,"getStyleUrl","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(createMapConfigurationUrl,"createMapConfigurationUrl","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(listMapConfigurationsUrl,"listMapConfigurationsUrl","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(getMapConfigurationUrl,"getMapConfigurationUrl","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(deleteMapConfigurationUrl,"deleteMapConfigurationUrl","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(getMapConfigurationStyleUrl,"getMapConfigurationStyleUrl","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(throwIfUserCanceled,"throwIfUserCanceled","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(throwIfBadAlias,"throwIfBadAlias","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(throwResponseJsonError,"throwResponseJsonError","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(processResponse,"processResponse","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(processJsonResponse,"processJsonResponse","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(processBlobResponse,"processBlobResponse","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(getTilesetMetadata,"getTilesetMetadata","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(uploadStyleArtifact,"uploadStyleArtifact","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(createStyle,"createStyle","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(listStyles,"listStyles","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(getStyle,"getStyle","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(createMapConfiguration,"createMapConfiguration","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(listMapConfigurations,"listMapConfigurations","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(getMapConfiguration,"getMapConfiguration","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(deleteMapConfiguration,"deleteMapConfiguration","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(ensureMapConfigurationListValidity,"ensureMapConfigurationListValidity","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(ensureMapConfigurationValidity,"ensureMapConfigurationValidity","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(checkBaseMapStyleName,"checkBaseMapStyleName","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(loadBaseMapStyle,"loadBaseMapStyle","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(updateBaseMapForStyle,"updateBaseMapForStyle","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(AzureMapsStyle,"AzureMapsStyle","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(AzureMapsMapConfiguration,"AzureMapsMapConfiguration","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(AzureMapsTilesetMetadata,"AzureMapsTilesetMetadata","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(delay,"delay","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(AzureMapsExtension,"AzureMapsExtension","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js"),reactHotLoader.register(_default,"default","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\azure-maps-ext.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(e,t,r){var n=r(178),i=r(174);e.exports=function(e){return null!=e&&i(e.length)&&!n(e)}},function(e,t,r){"use strict";t.decode=t.parse=r(349),t.encode=t.stringify=r(350)},function(e,t,r){(function(e,r){var n="[object Arguments]",i="[object Map]",o="[object Object]",a="[object Set]",s=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,_={};_["[object Float32Array]"]=_["[object Float64Array]"]=_["[object Int8Array]"]=_["[object Int16Array]"]=_["[object Int32Array]"]=_["[object Uint8Array]"]=_["[object Uint8ClampedArray]"]=_["[object Uint16Array]"]=_["[object Uint32Array]"]=!0,_[n]=_["[object Array]"]=_["[object ArrayBuffer]"]=_["[object Boolean]"]=_["[object DataView]"]=_["[object Date]"]=_["[object Error]"]=_["[object Function]"]=_[i]=_["[object Number]"]=_[o]=_["[object RegExp]"]=_[a]=_["[object String]"]=_["[object WeakMap]"]=!1;var u="object"==typeof e&&e&&e.Object===Object&&e,c="object"==typeof self&&self&&self.Object===Object&&self,p=u||c||Function("return this")(),d=t&&!t.nodeType&&t,h=d&&"object"==typeof r&&r&&!r.nodeType&&r,f=h&&h.exports===d,m=f&&u.process,y=function(){try{return m&&m.binding&&m.binding("util")}catch(e){}}(),g=y&&y.isTypedArray;function b(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function v(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function E(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var O,M,P,x=Array.prototype,w=Function.prototype,C=Object.prototype,D=p["__core-js_shared__"],T=w.toString,k=C.hasOwnProperty,A=(O=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||""))?"Symbol(src)_1."+O:"",I=C.toString,L=RegExp("^"+T.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=f?p.Buffer:void 0,S=p.Symbol,B=p.Uint8Array,U=C.propertyIsEnumerable,W=x.splice,K=S?S.toStringTag:void 0,j=Object.getOwnPropertySymbols,z=R?R.isBuffer:void 0,F=(M=Object.keys,P=Object,function(e){return M(P(e))}),q=ye(p,"DataView"),N=ye(p,"Map"),H=ye(p,"Promise"),G=ye(p,"Set"),V=ye(p,"WeakMap"),Z=ye(Object,"create"),X=Ee(q),$=Ee(N),Y=Ee(H),J=Ee(G),Q=Ee(V),ee=S?S.prototype:void 0,te=ee?ee.valueOf:void 0;function re(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ne(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ie(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function oe(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new ie;++t<r;)this.add(e[t])}function ae(e){var t=this.__data__=new ne(e);this.size=t.size}function se(e,t){var r=Pe(e),n=!r&&Me(e),i=!r&&!n&&xe(e),o=!r&&!n&&!i&&ke(e),a=r||n||i||o,s=a?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],l=s.length;for(var _ in e)!t&&!k.call(e,_)||a&&("length"==_||i&&("offset"==_||"parent"==_)||o&&("buffer"==_||"byteLength"==_||"byteOffset"==_)||ve(_,l))||s.push(_);return s}function le(e,t){for(var r=e.length;r--;)if(Oe(e[r][0],t))return r;return-1}function _e(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":K&&K in Object(e)?function(e){var t=k.call(e,K),r=e[K];try{e[K]=void 0;var n=!0}catch(e){}var i=I.call(e);n&&(t?e[K]=r:delete e[K]);return i}(e):function(e){return I.call(e)}(e)}function ue(e){return Te(e)&&_e(e)==n}function ce(e,t,r,s,l){return e===t||(null==e||null==t||!Te(e)&&!Te(t)?e!=e&&t!=t:function(e,t,r,s,l,_){var u=Pe(e),c=Pe(t),p=u?"[object Array]":be(e),d=c?"[object Array]":be(t),h=(p=p==n?o:p)==o,f=(d=d==n?o:d)==o,m=p==d;if(m&&xe(e)){if(!xe(t))return!1;u=!0,h=!1}if(m&&!h)return _||(_=new ae),u||ke(e)?he(e,t,r,s,l,_):function(e,t,r,n,o,s,l){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!s(new B(e),new B(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Oe(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case i:var _=v;case a:var u=1&n;if(_||(_=E),e.size!=t.size&&!u)return!1;var c=l.get(e);if(c)return c==t;n|=2,l.set(e,t);var p=he(_(e),_(t),n,o,s,l);return l.delete(e),p;case"[object Symbol]":if(te)return te.call(e)==te.call(t)}return!1}(e,t,p,r,s,l,_);if(!(1&r)){var y=h&&k.call(e,"__wrapped__"),g=f&&k.call(t,"__wrapped__");if(y||g){var b=y?e.value():e,O=g?t.value():t;return _||(_=new ae),l(b,O,r,s,_)}}if(!m)return!1;return _||(_=new ae),function(e,t,r,n,i,o){var a=1&r,s=fe(e),l=s.length,_=fe(t).length;if(l!=_&&!a)return!1;var u=l;for(;u--;){var c=s[u];if(!(a?c in t:k.call(t,c)))return!1}var p=o.get(e);if(p&&o.get(t))return p==t;var d=!0;o.set(e,t),o.set(t,e);var h=a;for(;++u<l;){c=s[u];var f=e[c],m=t[c];if(n)var y=a?n(m,f,c,t,e,o):n(f,m,c,e,t,o);if(!(void 0===y?f===m||i(f,m,r,n,o):y)){d=!1;break}h||(h="constructor"==c)}if(d&&!h){var g=e.constructor,b=t.constructor;g==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof b&&b instanceof b||(d=!1)}return o.delete(e),o.delete(t),d}(e,t,r,s,l,_)}(e,t,r,s,ce,l))}function pe(e){return!(!De(e)||function(e){return!!A&&A in e}(e))&&(we(e)?L:s).test(Ee(e))}function de(e){if(!function(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||C;return e===r}(e))return F(e);var t=[];for(var r in Object(e))k.call(e,r)&&"constructor"!=r&&t.push(r);return t}function he(e,t,r,n,i,o){var a=1&r,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var _=o.get(e);if(_&&o.get(t))return _==t;var u=-1,c=!0,p=2&r?new oe:void 0;for(o.set(e,t),o.set(t,e);++u<s;){var d=e[u],h=t[u];if(n)var f=a?n(h,d,u,t,e,o):n(d,h,u,e,t,o);if(void 0!==f){if(f)continue;c=!1;break}if(p){if(!b(t,(function(e,t){if(a=t,!p.has(a)&&(d===e||i(d,e,r,n,o)))return p.push(t);var a}))){c=!1;break}}else if(d!==h&&!i(d,h,r,n,o)){c=!1;break}}return o.delete(e),o.delete(t),c}function fe(e){return function(e,t,r){var n=t(e);return Pe(e)?n:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(n,r(e))}(e,Ae,ge)}function me(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function ye(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return pe(r)?r:void 0}re.prototype.clear=function(){this.__data__=Z?Z(null):{},this.size=0},re.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},re.prototype.get=function(e){var t=this.__data__;if(Z){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return k.call(t,e)?t[e]:void 0},re.prototype.has=function(e){var t=this.__data__;return Z?void 0!==t[e]:k.call(t,e)},re.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Z&&void 0===t?"__lodash_hash_undefined__":t,this},ne.prototype.clear=function(){this.__data__=[],this.size=0},ne.prototype.delete=function(e){var t=this.__data__,r=le(t,e);return!(r<0)&&(r==t.length-1?t.pop():W.call(t,r,1),--this.size,!0)},ne.prototype.get=function(e){var t=this.__data__,r=le(t,e);return r<0?void 0:t[r][1]},ne.prototype.has=function(e){return le(this.__data__,e)>-1},ne.prototype.set=function(e,t){var r=this.__data__,n=le(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},ie.prototype.clear=function(){this.size=0,this.__data__={hash:new re,map:new(N||ne),string:new re}},ie.prototype.delete=function(e){var t=me(this,e).delete(e);return this.size-=t?1:0,t},ie.prototype.get=function(e){return me(this,e).get(e)},ie.prototype.has=function(e){return me(this,e).has(e)},ie.prototype.set=function(e,t){var r=me(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},oe.prototype.add=oe.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},oe.prototype.has=function(e){return this.__data__.has(e)},ae.prototype.clear=function(){this.__data__=new ne,this.size=0},ae.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},ae.prototype.get=function(e){return this.__data__.get(e)},ae.prototype.has=function(e){return this.__data__.has(e)},ae.prototype.set=function(e,t){var r=this.__data__;if(r instanceof ne){var n=r.__data__;if(!N||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ie(n)}return r.set(e,t),this.size=r.size,this};var ge=j?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}(j(e),(function(t){return U.call(e,t)})))}:function(){return[]},be=_e;function ve(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||l.test(e))&&e>-1&&e%1==0&&e<t}function Ee(e){if(null!=e){try{return T.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Oe(e,t){return e===t||e!=e&&t!=t}(q&&"[object DataView]"!=be(new q(new ArrayBuffer(1)))||N&&be(new N)!=i||H&&"[object Promise]"!=be(H.resolve())||G&&be(new G)!=a||V&&"[object WeakMap]"!=be(new V))&&(be=function(e){var t=_e(e),r=t==o?e.constructor:void 0,n=r?Ee(r):"";if(n)switch(n){case X:return"[object DataView]";case $:return i;case Y:return"[object Promise]";case J:return a;case Q:return"[object WeakMap]"}return t});var Me=ue(function(){return arguments}())?ue:function(e){return Te(e)&&k.call(e,"callee")&&!U.call(e,"callee")},Pe=Array.isArray;var xe=z||function(){return!1};function we(e){if(!De(e))return!1;var t=_e(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ce(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function De(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Te(e){return null!=e&&"object"==typeof e}var ke=g?function(e){return function(t){return e(t)}}(g):function(e){return Te(e)&&Ce(e.length)&&!!_[_e(e)]};function Ae(e){return function(e){return null!=e&&Ce(e.length)&&!we(e)}(e)?se(e):de(e)}r.exports=function(e,t){return ce(e,t)}}).call(this,r(50),r(101)(e))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return FieldDocLabel}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),react_icons_md__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(29),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},FieldDocLabel=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(FieldDocLabel,_React$Component);var _super=_createSuper(FieldDocLabel);function FieldDocLabel(e){var t;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,FieldDocLabel),t=_super.call(this,e),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"onToggleDoc",(function(e){t.setState({open:e},(function(){t.props.onToggleDoc&&t.props.onToggleDoc(t.state.open)}))})),t.state={open:!1},t}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(FieldDocLabel,[{key:"render",value:function(){var e=this,t=this.props,r=t.label;return t.doc?react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("label",{className:"maputnik-doc-wrapper"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-doc-target"},r," ",react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{"aria-label":this.state.open?"close property documentation":"open property documentation",className:"maputnik-doc-button maputnik-doc-button--".concat(this.state.open?"open":"closed"),onClick:function(){return e.onToggleDoc(!e.state.open)}},this.state.open?react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_9__.h,null):react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_9__.i,null)))):r?react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("label",{className:"maputnik-doc-wrapper"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-doc-target"},r)):void 0}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),FieldDocLabel}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(FieldDocLabel,"propTypes",{label:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object,prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string]).isRequired,doc:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object,prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string]),onToggleDoc:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(FieldDocLabel,"FieldDocLabel","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\FieldDocLabel.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return Doc}));var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(31),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},Doc=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(Doc,_React$Component);var _super=_createSuper(Doc);function Doc(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,Doc),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(Doc,[{key:"render",value:function(){var e=this.props.fieldSpec,t=e.doc,r=e.values,n=e["sdk-support"],i={js:"JS",android:"Android",ios:"iOS",macos:"macOS"},o=!!r&&!Array.isArray(r);return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_7___default.a.Fragment,null,t&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"SpecDoc"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"SpecDoc__doc"},t),o&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("ul",{className:"SpecDoc__values"},Object.entries(r).map((function(e){var t=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(e,2),r=t[0],n=t[1];return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("li",{key:r},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("code",null,JSON.stringify(r)),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",null,n.doc))})))),n&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"SpecDoc__sdk-support"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("table",{className:"SpecDoc__sdk-support__table"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("thead",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("th",null),Object.values(i).map((function(e){return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("th",{key:e},e)})))),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("tbody",null,Object.entries(n).map((function(e){var t=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(e,2),r=t[0],n=t[1];return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("tr",{key:r},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("td",null,r),Object.keys(i).map((function(e){n[e];return n.hasOwnProperty(e)?react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("td",{key:e},n[e]):react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("td",{key:e},"no")})))}))))))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),Doc}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(Doc,"propTypes",{fieldSpec:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object.isRequired}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(Doc,"Doc","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\Doc.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(e,t,r){"use strict";var n=function(){function e(){this.disposed=!1}return e.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},e.prototype.disposeInternal=function(){},e}();t.a=n},function(e,t,r){"use strict";function n(e,t,r,n){for(var i=0,o=e[r-n],a=e[r-n+1];t<r;t+=n){var s=e[t],l=e[t+1];i+=a*s-o*l,o=s,a=l}return i/2}function i(e,t,r,i){for(var o=0,a=0,s=r.length;a<s;++a){var l=r[a];o+=n(e,t,l,i),t=l}return o}function o(e,t,r,n){for(var o=0,a=0,s=r.length;a<s;++a){var l=r[a];o+=i(e,t,l,n),t=l[l.length-1]}return o}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return o}))},function(e,t,r){(function(t){var r="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",i="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+n+"|"+i+")"+"?",_="[\\ufe0e\\ufe0f]?"+l+("(?:\\u200d(?:"+[o,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+l+")*"),u="(?:"+[o+n+"?",n,a,s,r].join("|")+")",c=RegExp(i+"(?="+i+")|"+u+_,"g"),p=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),d="object"==typeof t&&t&&t.Object===Object&&t,h="object"==typeof self&&self&&self.Object===Object&&self,f=d||h||Function("return this")();function m(e){return p.test(e)}function y(e){return m(e)?function(e){return e.match(c)||[]}(e):function(e){return e.split("")}(e)}var g=Object.prototype.toString,b=f.Symbol,v=b?b.prototype:void 0,E=v?v.toString:void 0;function O(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==g.call(e)}(e))return E?E.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function M(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}(e,t,r)}function P(e){return null==e?"":O(e)}var x,w=(x="toUpperCase",function(e){var t=m(e=P(e))?y(e):void 0,r=t?t[0]:e.charAt(0),n=t?M(t,1).join(""):e.slice(1);return r[x]()+n});e.exports=function(e){return w(P(e).toLowerCase())}}).call(this,r(50))},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(68),i=function(){function e(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return e.prototype.clear=function(){this.cache_={},this.cacheSize_=0},e.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},e.prototype.expire=function(){if(this.canExpireCache()){var e=0;for(var t in this.cache_){var r=this.cache_[t];0!=(3&e++)||r.hasListener()||(delete this.cache_[t],--this.cacheSize_)}}},e.prototype.get=function(e,t,r){var n=o(e,t,r);return n in this.cache_?this.cache_[n]:null},e.prototype.set=function(e,t,r,n){var i=o(e,t,r);this.cache_[i]=n,++this.cacheSize_},e.prototype.setSize=function(e){this.maxCacheSize_=e,this.expire()},e}();function o(e,t,r){return t+":"+e+":"+(r?Object(n.b)(r):"null")}var a=new i},function(e,t,r){var n=r(78).Symbol;e.exports=n},function(e,t,r){var n=r(221),i=r(398),o=r(109);e.exports=function(e){return o(e)?n(e):i(e)}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,r){var n=r(240),i=r(184);e.exports=function(e,t,r,o){var a=!r;r||(r={});for(var s=-1,l=t.length;++s<l;){var _=t[s],u=o?o(r[_],e[_],_,r,e):void 0;void 0===u&&(u=e[_]),a?i(r,_,u):n(r,_,u)}return r}},function(e,t,r){var n=r(221),i=r(466),o=r(109);e.exports=function(e){return o(e)?n(e,!0):i(e)}},function(e,t,r){var n=r(354);t.brightColor=function(e,t){var r="bright",i=null;return/water|ocean|lake|sea|river/.test(e)&&(i="blue"),/state|country|place/.test(e)&&(i="pink"),/road|highway|transport/.test(e)&&(i="orange"),/contour|building/.test(e)&&(i="monochrome"),/building/.test(e)&&(r="dark"),/contour|landuse/.test(e)&&(i="yellow"),/wood|forest|park|landcover/.test(e)&&(i="green"),"rgba("+n({luminosity:r,hue:i,seed:e,format:"rgbArray"}).concat([t||1]).join(", ")+")"}},function(e,t){function r(e,t,r){var n={id:[t,r,"circle"].join("_"),source:t,type:"circle",paint:{"circle-color":e,"circle-radius":2},filter:["==","$type","Point"]};return r&&(n["source-layer"]=r),n}function n(e,t,r,n){var i={id:[r,n,"polygon"].join("_"),source:r,type:"fill",paint:{"fill-color":e,"fill-antialias":!0,"fill-outline-color":e},filter:["==","$type","Polygon"]};return n&&(i["source-layer"]=n),i}function i(e,t,r){var n={id:[t,r,"line"].join("_"),source:t,layout:{"line-join":"round","line-cap":"round"},type:"line",paint:{"line-color":e},filter:["==","$type","LineString"]};return r&&(n["source-layer"]=r),n}t.polygonLayer=n,t.lineLayer=i,t.circleLayer=r,t.generateInspectStyle=function(e,t,r){var n={id:"background",type:"background",paint:{"background-color":(r=Object.assign({backgroundColor:"#fff"},r)).backgroundColor}},i={};return Object.keys(e.sources).forEach((function(t){var r=e.sources[t];"vector"!==r.type&&"geojson"!==r.type||(i[t]=r)})),Object.assign(e,{layers:[n].concat(t),soources:i})},t.generateColoredLayers=function(e,t){var o=[],a=[],s=[];function l(e){var r=t.bind(null,e);return{circle:r(.8),line:r(.6),polygon:r(.3),polygonOutline:r(.6),default:r(1)}}return Object.keys(e).forEach((function(t){var _=e[t];if(_&&0!==_.length)_.forEach((function(e){var _=l(e);a.push(r(_.circle,t,e)),s.push(i(_.line,t,e)),o.push(n(_.polygon,_.polygonOutline,t,e))}));else{var u=l(t);a.push(r(u.circle,t)),s.push(i(u.line,t)),o.push(n(u.polygon,u.polygonOutline,t))}})),o.concat(s).concat(a)}},function(e,t,r){const n=r(362),i=r(365),o=["keyword","gray","hex"],a={};for(const e of Object.keys(i))a[[...i[e].labels].sort().join("")]=e;const s={};function l(e,t){if(!(this instanceof l))return new l(e,t);if(t&&t in o&&(t=null),t&&!(t in i))throw new Error("Unknown model: "+t);let r,_;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof l)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if("string"==typeof e){const t=n.get(e);if(null===t)throw new Error("Unable to parse color from string: "+e);this.model=t.model,_=i[this.model].channels,this.color=t.value.slice(0,_),this.valpha="number"==typeof t.value[_]?t.value[_]:1}else if(e.length>0){this.model=t||"rgb",_=i[this.model].channels;const r=Array.prototype.slice.call(e,0,_);this.color=d(r,_),this.valpha="number"==typeof e[_]?e[_]:1}else if("number"==typeof e)this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;const t=Object.keys(e);"alpha"in e&&(t.splice(t.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);const n=t.sort().join("");if(!(n in a))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=a[n];const{labels:o}=i[this.model],s=[];for(r=0;r<o.length;r++)s.push(e[o[r]]);this.color=d(s)}if(s[this.model])for(_=i[this.model].channels,r=0;r<_;r++){const e=s[this.model][r];e&&(this.color[r]=e(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}l.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in n.to?this:this.rgb();t=t.round("number"==typeof e?e:1);const r=1===t.valpha?t.color:[...t.color,this.valpha];return n.to[t.model](r)},percentString(e){const t=this.rgb().round("number"==typeof e?e:1),r=1===t.valpha?t.color:[...t.color,this.valpha];return n.to.rgb.percent(r)},array(){return 1===this.valpha?[...this.color]:[...this.color,this.valpha]},object(){const e={},{channels:t}=i[this.model],{labels:r}=i[this.model];for(let n=0;n<t;n++)e[r[n]]=this.color[n];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new l([...this.color.map(_(e)),this.valpha],this.model)},alpha(e){return void 0!==e?new l([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:u("rgb",0,c(255)),green:u("rgb",1,c(255)),blue:u("rgb",2,c(255)),hue:u(["hsl","hsv","hsl","hwb","hcg"],0,e=>(e%360+360)%360),saturationl:u("hsl",1,c(100)),lightness:u("hsl",2,c(100)),saturationv:u("hsv",1,c(100)),value:u("hsv",2,c(100)),chroma:u("hcg",1,c(100)),gray:u("hcg",2,c(100)),white:u("hwb",1,c(100)),wblack:u("hwb",2,c(100)),cyan:u("cmyk",0,c(100)),magenta:u("cmyk",1,c(100)),yellow:u("cmyk",2,c(100)),black:u("cmyk",3,c(100)),x:u("xyz",0,c(95.047)),y:u("xyz",1,c(100)),z:u("xyz",2,c(108.833)),l:u("lab",0,c(100)),a:u("lab",1),b:u("lab",2),keyword(e){return void 0!==e?new l(e):i[this.model].keyword(this.color)},hex(e){return void 0!==e?new l(e):n.to.hex(this.rgb().round().color)},hexa(e){if(void 0!==e)return new l(e);const t=this.rgb().round().color;let r=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===r.length&&(r="0"+r),n.to.hex(t)+r},rgbNumber(){const e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity(){const e=this.rgb().color,t=[];for(const[r,n]of e.entries()){const e=n/255;t[r]=e<=.04045?e/12.92:((e+.055)/1.055)**2.4}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){const t=this.luminosity(),r=e.luminosity();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)},level(e){const t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(2126*e[0]+7152*e[1]+722*e[2])/1e4<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){const t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){const t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){const t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){const t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){const t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){const t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){const e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return l.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const t=this.hsl();let r=t.color[0];return r=(r+e)%360,r=r<0?360+r:r,t.color[0]=r,t},mix(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const r=e.rgb(),n=this.rgb(),i=void 0===t?.5:t,o=2*i-1,a=r.alpha()-n.alpha(),s=((o*a==-1?o:(o+a)/(1+o*a))+1)/2,_=1-s;return l.rgb(s*r.red()+_*n.red(),s*r.green()+_*n.green(),s*r.blue()+_*n.blue(),r.alpha()*i+n.alpha()*(1-i))}};for(const e of Object.keys(i)){if(o.includes(e))continue;const{channels:t}=i[e];l.prototype[e]=function(...t){return this.model===e?new l(this):t.length>0?new l(t,e):new l([...p(i[this.model][e].raw(this.color)),this.valpha],e)},l[e]=function(...r){let n=r[0];return"number"==typeof n&&(n=d(r,t)),new l(n,e)}}function _(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}function u(e,t,r){e=Array.isArray(e)?e:[e];for(const n of e)(s[n]||(s[n]=[]))[t]=r;return e=e[0],function(n){let i;return void 0!==n?(r&&(n=r(n)),i=this[e](),i.color[t]=n,i):(i=this[e]().color[t],r&&(i=r(i)),i)}}function c(e){return function(t){return Math.max(0,Math.min(e,t))}}function p(e){return Array.isArray(e)?e:[e]}function d(e,t){for(let r=0;r<t;r++)"number"!=typeof e[r]&&(e[r]=0);return e}e.exports=l},function(e,t){var r={thin:100,hairline:100,"ultra-light":100,"extra-light":100,light:200,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,heavy:800,black:800,"extra-bold":800,"ultra-black":900,"extra-black":900,"ultra-bold":900,"heavy-black":900,fat:900,poster:900},n=/(italic|oblique)$/i,i={};e.exports=function(e,t,o){var a=i[e];if(!a){Array.isArray(e)||(e=[e]);for(var s=400,l="normal",_=[],u=0,c=e.length;u<c;++u){var p=e[u].split(" "),d=p[p.length-1].toLowerCase();for(var h in"normal"==d||"italic"==d||"oblique"==d?(l=d,p.pop(),d=p[p.length-1].toLowerCase()):n.test(d)&&(d=d.replace(n,""),l=p[p.length-1].replace(d,"")),r){var f=p.length>1?p[p.length-2].toLowerCase():"";if(d==h||d==h.replace("-","")||f+"-"+d==h){s=r[h],p.pop(),f&&h.startsWith(f)&&p.pop();break}}"number"==typeof d&&(s=d);var m=p.join(" ").replace("Klokantech Noto Sans","Noto Sans");-1!==m.indexOf(" ")&&(m='"'+m+'"'),_.push(m)}a=i[e]=[l,s,_]}return a[0]+" "+a[1]+" "+t+"px"+(o?"/"+o:"")+" "+a[2]}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o}));var n=r(13);function i(e,t,r){var i=r||6371008.8,o=Object(n.l)(e[1]),a=Object(n.l)(t[1]),s=(a-o)/2,l=Object(n.l)(t[0]-e[0])/2,_=Math.sin(s)*Math.sin(s)+Math.sin(l)*Math.sin(l)*Math.cos(o)*Math.cos(a);return 2*i*Math.atan2(Math.sqrt(_),Math.sqrt(1-_))}function o(e,t,r,i){var o=i||6371008.8,a=Object(n.l)(e[1]),s=Object(n.l)(e[0]),l=t/o,_=Math.asin(Math.sin(a)*Math.cos(l)+Math.cos(a)*Math.sin(l)*Math.cos(r)),u=s+Math.atan2(Math.sin(r)*Math.sin(l)*Math.cos(a),Math.cos(l)-Math.sin(a)*Math.sin(_));return[Object(n.k)(u),Object(n.k)(_)]}},function(e,t,r){var n,i,o=(n={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(e,t,r,n,i,o,a){var s=o.length-1;switch(i){case 1:this.$=e.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(e);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=o[s-1];case 13:this.$={};break;case 14:this.$=o[s-1];break;case 15:this.$=[o[s-2],o[s]];break;case 16:this.$={},this.$[o[s][0]]=o[s][1];break;case 17:this.$=o[s-2],o[s-2][o[s][0]]=o[s][1];break;case 18:this.$=[];break;case 19:this.$=o[s-1];break;case 20:this.$=[o[s]];break;case 21:this.$=o[s-2],o[s-2].push(o[s])}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(e,t){throw new Error(e)},parse:function(e){var t=this,r=[0],n=[null],i=[],o=this.table,a="",s=0,l=0,_=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;function c(){var e;return"number"!=typeof(e=t.lexer.lex()||1)&&(e=t.symbols_[e]||e),e}i.push(u),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,d,h,f,m,y,g,b,v,E,O={};;){if(h=r[r.length-1],this.defaultActions[h]?f=this.defaultActions[h]:(null==p&&(p=c()),f=o[h]&&o[h][p]),void 0===f||!f.length||!f[0]){if(!_){for(y in v=[],o[h])this.terminals_[y]&&y>2&&v.push("'"+this.terminals_[y]+"'");var M="";M=this.lexer.showPosition?"Parse error on line "+(s+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+v.join(", ")+", got '"+this.terminals_[p]+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(M,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:u,expected:v})}if(3==_){if(1==p)throw new Error(M||"Parsing halted.");l=this.lexer.yyleng,a=this.lexer.yytext,s=this.lexer.yylineno,u=this.lexer.yylloc,p=c()}for(;!(2..toString()in o[h]);){if(0==h)throw new Error(M||"Parsing halted.");E=1,r.length=r.length-2*E,n.length=n.length-E,i.length=i.length-E,h=r[r.length-1]}d=p,p=2,f=o[h=r[r.length-1]]&&o[h][2],_=3}if(f[0]instanceof Array&&f.length>1)throw new Error("Parse Error: multiple actions possible at state: "+h+", token: "+p);switch(f[0]){case 1:r.push(p),n.push(this.lexer.yytext),i.push(this.lexer.yylloc),r.push(f[1]),p=null,d?(p=d,d=null):(l=this.lexer.yyleng,a=this.lexer.yytext,s=this.lexer.yylineno,u=this.lexer.yylloc,_>0&&_--);break;case 2:if(g=this.productions_[f[1]][1],O.$=n[n.length-g],O._$={first_line:i[i.length-(g||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(g||1)].first_column,last_column:i[i.length-1].last_column},void 0!==(m=this.performAction.call(O,a,l,s,this.yy,f[1],n,i)))return m;g&&(r=r.slice(0,-1*g*2),n=n.slice(0,-1*g),i=i.slice(0,-1*g)),r.push(this.productions_[f[1]][0]),n.push(O.$),i.push(O._$),b=o[r[r.length-2]][r[r.length-1]],r.push(b);break;case 3:return!0}}return!0}},i=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parseError)throw new Error(e);this.yy.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.match+=e,this.matched+=e,e.match(/\n/)&&this.yylineno++,this._input=this._input.slice(1),e},unput:function(e){return this._input=e+this._input,this},more:function(){return this._more=!0,this},less:function(e){this._input=this.match.slice(e)+this._input},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t,r,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),a=0;a<o.length&&(!(r=this._input.match(this.rules[o[a]]))||t&&!(r[0].length>t[0].length)||(t=r,n=a,this.options.flex));a++);return t?((i=t[0].match(/\n.*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-1:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,o[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)},options:{},performAction:function(e,t,r,n){switch(r){case 0:break;case 1:return 6;case 2:return t.yytext=t.yytext.substr(1,t.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return e}(),n.lexer=i,n);t.parser=o,t.parse=o.parse.bind(o)},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return _}));var n,i=r(22);(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var o,a,s=["all","any","none"],l=["in","!in"],_=Object.keys(i.h.filter_operator.values).filter((function(e){return s.indexOf(e)<0}));(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(o.register(s,"combiningFilterOps","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\filterops.js"),o.register(l,"setFilterOps","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\filterops.js"),o.register(_,"otherFilterOps","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\filterops.js")),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)}).call(this,r(14)(e))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return InputCheckbox}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},InputCheckbox=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(InputCheckbox,_React$Component);var _super=_createSuper(InputCheckbox);function InputCheckbox(){var e;_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,InputCheckbox);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=_super.call.apply(_super,[this].concat(r)),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(e),"onChange",(function(){e.props.onChange(!e.props.value)})),e}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(InputCheckbox,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-checkbox-wrapper"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("input",{className:"maputnik-checkbox",type:"checkbox",style:this.props.style,onChange:this.onChange,onClick:this.onChange,checked:this.props.value}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-checkbox-box"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("svg",{style:{display:this.props.value?"inline":"none"},className:"maputnik-checkbox-icon",viewBox:"0 0 32 32"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("path",{d:"M1 14 L5 10 L13 18 L27 4 L31 8 L13 26 z"}))))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),InputCheckbox}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(InputCheckbox,"propTypes",{value:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.bool,style:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object,onChange:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(InputCheckbox,"defaultProps",{value:!1}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(InputCheckbox,"InputCheckbox","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\InputCheckbox.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(e,t,r){"use strict";function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach((function(t){s(e,t,r[t])}))}return e}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}r.d(t,"a",(function(){return ye})),r.d(t,"b",(function(){return ve})),r.d(t,"c",(function(){return se}));var g=r(1),b=r(79),v=r(100),E=r.n(v);function O(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var M=r(2),P=r.n(M),x=function(){function e(){_(this,e),s(this,"refs",{})}return c(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var r=this.getIndex(e,t);-1!==r&&this.refs[e].splice(r,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return this.refs[this.active.collection].find((function(t){return t.node.sortableInfo.index==e.active.index}))}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[e].sort(w)}}]),e}();function w(e,t){return e.node.sortableInfo.index-t.node.sortableInfo.index}function C(e,t){return Object.keys(e).reduce((function(r,n){return-1===t.indexOf(n)&&(r[n]=e[n]),r}),{})}var D={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},T=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}}();function k(e,t){Object.keys(t).forEach((function(r){e.style[r]=t[r]}))}function A(e,t){e.style["".concat(T,"Transform")]=null==t?"":"translate3d(".concat(t.x,"px,").concat(t.y,"px,0)")}function I(e,t){e.style["".concat(T,"TransitionDuration")]=null==t?"":"".concat(t,"ms")}function L(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function R(e,t,r){return Math.max(e,Math.min(r,t))}function S(e){return"px"===e.substr(-2)?parseFloat(e):0}function B(e){var t=window.getComputedStyle(e);return{bottom:S(t.marginBottom),left:S(t.marginLeft),right:S(t.marginRight),top:S(t.marginTop)}}function U(e,t){var r=t.displayName||t.name;return r?"".concat(e,"(").concat(r,")"):e}function W(e,t){var r=e.getBoundingClientRect();return{top:r.top+t.top,left:r.left+t.left}}function K(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function j(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}function z(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{left:0,top:0};if(e){var n={left:r.left+e.offsetLeft,top:r.top+e.offsetTop};return e.parentNode===t?n:z(e.parentNode,t,n)}}function F(e,t,r){return e<r&&e>t?e-1:e>r&&e<t?e+1:e}function q(e){var t=e.lockOffset,r=e.width,n=e.height,i=t,o=t,a="px";if("string"==typeof t){var s=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);E()(null!==s,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),i=parseFloat(t),o=parseFloat(t),a=s[1]}return E()(isFinite(i)&&isFinite(o),"lockOffset value should be a finite. Given %s",t),"%"===a&&(i=i*r/100,o=o*n/100),{x:i,y:o}}function N(e){var t=e.height,r=e.width,n=e.lockOffset,i=Array.isArray(n)?n:[n,n];E()(2===i.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",n);var o=a(i,2),s=o[0],l=o[1];return[q({height:t,lockOffset:s,width:r}),q({height:t,lockOffset:l,width:r})]}function H(e){return e instanceof HTMLElement?function(e){var t=window.getComputedStyle(e),r=/(auto|scroll)/;return["overflow","overflowX","overflowY"].find((function(e){return r.test(t[e])}))}(e)?e:H(e.parentNode):null}function G(e){var t=window.getComputedStyle(e);return"grid"===t.display?{x:S(t.gridColumnGap),y:S(t.gridRowGap)}:{x:0,y:0}}var V=27,Z=32,X=37,$=38,Y=39,J=40,Q="A",ee="BUTTON",te="CANVAS",re="INPUT",ne="OPTION",ie="TEXTAREA",oe="SELECT";function ae(e){var t="input, textarea, select, canvas, [contenteditable]",r=e.querySelectorAll(t),n=e.cloneNode(!0);return O(n.querySelectorAll(t)).forEach((function(e,t){("file"!==e.type&&(e.value=r[t].value),"radio"===e.type&&e.name&&(e.name="__sortableClone__".concat(e.name)),e.tagName===te&&r[t].width>0&&r[t].height>0)&&e.getContext("2d").drawImage(r[t],0,0)})),n}function se(e){var t,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return r=t=function(t){function r(){var e,t;_(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return s(d(d(t=h(this,(e=f(r)).call.apply(e,[this].concat(i))))),"wrappedInstance",Object(g.createRef)()),t}return y(r,t),c(r,[{key:"componentDidMount",value:function(){Object(b.findDOMNode)(this).sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return E()(i.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.wrappedInstance.current}},{key:"render",value:function(){var t=i.withRef?this.wrappedInstance:null;return Object(g.createElement)(e,n({ref:t},this.props))}}]),r}(g.Component),s(t,"displayName",U("sortableHandle",e)),r}function le(e){return null!=e.sortableHandle}var _e=function(){function e(t,r){_(this,e),this.container=t,this.onScrollCallback=r}return c(e,[{key:"clear",value:function(){null!=this.interval&&(clearInterval(this.interval),this.interval=null)}},{key:"update",value:function(e){var t=this,r=e.translate,n=e.minTranslate,i=e.maxTranslate,o=e.width,a=e.height,s={x:0,y:0},l={x:1,y:1},_=10,u=10,c=this.container,p=c.scrollTop,d=c.scrollLeft,h=c.scrollHeight,f=c.scrollWidth,m=0===p,y=h-p-c.clientHeight==0,g=0===d,b=f-d-c.clientWidth==0;r.y>=i.y-a/2&&!y?(s.y=1,l.y=u*Math.abs((i.y-a/2-r.y)/a)):r.x>=i.x-o/2&&!b?(s.x=1,l.x=_*Math.abs((i.x-o/2-r.x)/o)):r.y<=n.y+a/2&&!m?(s.y=-1,l.y=u*Math.abs((r.y-a/2-n.y)/a)):r.x<=n.x+o/2&&!g&&(s.x=-1,l.x=_*Math.abs((r.x-o/2-n.x)/o)),this.interval&&(this.clear(),this.isAutoScrolling=!1),0===s.x&&0===s.y||(this.interval=setInterval((function(){t.isAutoScrolling=!0;var e={left:l.x*s.x,top:l.y*s.y};t.container.scrollTop+=e.top,t.container.scrollLeft+=e.left,t.onScrollCallback(e)}),5))}}]),e}();var ue={axis:P.a.oneOf(["x","y","xy"]),contentWindow:P.a.any,disableAutoscroll:P.a.bool,distance:P.a.number,getContainer:P.a.func,getHelperDimensions:P.a.func,helperClass:P.a.string,helperContainer:P.a.oneOfType([P.a.func,"undefined"==typeof HTMLElement?P.a.any:P.a.instanceOf(HTMLElement)]),hideSortableGhost:P.a.bool,keyboardSortingTransitionDuration:P.a.number,lockAxis:P.a.string,lockOffset:P.a.oneOfType([P.a.number,P.a.string,P.a.arrayOf(P.a.oneOfType([P.a.number,P.a.string]))]),lockToContainerEdges:P.a.bool,onSortEnd:P.a.func,onSortMove:P.a.func,onSortOver:P.a.func,onSortStart:P.a.func,pressDelay:P.a.number,pressThreshold:P.a.number,keyCodes:P.a.shape({lift:P.a.arrayOf(P.a.number),drop:P.a.arrayOf(P.a.number),cancel:P.a.arrayOf(P.a.number),up:P.a.arrayOf(P.a.number),down:P.a.arrayOf(P.a.number)}),shouldCancelStart:P.a.func,transitionDuration:P.a.number,updateBeforeSortStart:P.a.func,useDragHandle:P.a.bool,useWindowAsScrollContainer:P.a.bool},ce={lift:[Z],drop:[Z],cancel:[V],up:[$,X],down:[J,Y]},pe={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:function(e){var t=e.node;return{height:t.offsetHeight,width:t.offsetWidth}},hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:ce,shouldCancelStart:function(e){return-1!==[re,ie,oe,ne,ee].indexOf(e.target.tagName)||!!L(e.target,(function(e){return"true"===e.contentEditable}))},transitionDuration:300,useWindowAsScrollContainer:!1},de=Object.keys(ue);function he(e){E()(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}function fe(e,t){try{var r=e()}catch(e){return t(!0,e)}return r&&r.then?r.then(t.bind(null,!1),t.bind(null,!0)):t(!1,value)}var me=Object(g.createContext)({manager:{}});function ye(e){var t,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return r=t=function(t){function r(e){var t;_(this,r),s(d(d(t=h(this,f(r).call(this,e)))),"state",{}),s(d(d(t)),"handleStart",(function(e){var r=t.props,n=r.distance,i=r.shouldCancelStart;if(2!==e.button&&!i(e)){t.touched=!0,t.position=K(e);var o=L(e.target,(function(e){return null!=e.sortableInfo}));if(o&&o.sortableInfo&&t.nodeIsChild(o)&&!t.state.sorting){var a=t.props.useDragHandle,s=o.sortableInfo,l=s.index,_=s.collection;if(s.disabled)return;if(a&&!L(e.target,le))return;t.manager.active={collection:_,index:l},j(e)||e.target.tagName!==Q||e.preventDefault(),n||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout((function(){return t.handlePress(e)}),t.props.pressDelay))}}})),s(d(d(t)),"nodeIsChild",(function(e){return e.sortableInfo.manager===t.manager})),s(d(d(t)),"handleMove",(function(e){var r=t.props,n=r.distance,i=r.pressThreshold;if(!t.state.sorting&&t.touched&&!t._awaitingUpdateBeforeSortStart){var o=K(e),a={x:t.position.x-o.x,y:t.position.y-o.y},s=Math.abs(a.x)+Math.abs(a.y);t.delta=a,n||i&&!(s>=i)?n&&s>=n&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}})),s(d(d(t)),"handleEnd",(function(){t.touched=!1,t.cancel()})),s(d(d(t)),"cancel",(function(){var e=t.props.distance;t.state.sorting||(e||clearTimeout(t.pressTimer),t.manager.active=null)})),s(d(d(t)),"handlePress",(function(e){try{var r=t.manager.getActive(),n=function(){if(r){var n=function(){var r=d.sortableInfo.index,n=B(d),i=G(t.container),u=t.scrollContainer.getBoundingClientRect(),m=a({index:r,node:d,collection:h});if(t.node=d,t.margin=n,t.gridGap=i,t.width=m.width,t.height=m.height,t.marginOffset={x:t.margin.left+t.margin.right+t.gridGap.x,y:Math.max(t.margin.top,t.margin.bottom,t.gridGap.y)},t.boundingClientRect=d.getBoundingClientRect(),t.containerBoundingRect=u,t.index=r,t.newIndex=r,t.axis={x:o.indexOf("x")>=0,y:o.indexOf("y")>=0},t.offsetEdge=z(d,t.container),t.initialOffset=K(f?l({},e,{pageX:t.boundingClientRect.left,pageY:t.boundingClientRect.top}):e),t.initialScroll={left:t.scrollContainer.scrollLeft,top:t.scrollContainer.scrollTop},t.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},t.helper=t.helperContainer.appendChild(ae(d)),k(t.helper,{boxSizing:"border-box",height:"".concat(t.height,"px"),left:"".concat(t.boundingClientRect.left-n.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(t.boundingClientRect.top-n.top,"px"),width:"".concat(t.width,"px")}),f&&t.helper.focus(),_&&(t.sortableGhost=d,k(d,{opacity:0,visibility:"hidden"})),t.minTranslate={},t.maxTranslate={},f){var y=p?{top:0,left:0,width:t.contentWindow.innerWidth,height:t.contentWindow.innerHeight}:t.containerBoundingRect,g=y.top,b=y.left,v=y.width,E=g+y.height,O=b+v;t.axis.x&&(t.minTranslate.x=b-t.boundingClientRect.left,t.maxTranslate.x=O-(t.boundingClientRect.left+t.width)),t.axis.y&&(t.minTranslate.y=g-t.boundingClientRect.top,t.maxTranslate.y=E-(t.boundingClientRect.top+t.height))}else t.axis.x&&(t.minTranslate.x=(p?0:u.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(p?t.contentWindow.innerWidth:u.left+u.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(p?0:u.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(p?t.contentWindow.innerHeight:u.top+u.height)-t.boundingClientRect.top-t.height/2);s&&s.split(" ").forEach((function(e){return t.helper.classList.add(e)})),t.listenerNode=e.touches?e.target:t.contentWindow,f?(t.listenerNode.addEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.addEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.addEventListener("keydown",t.handleKeyDown)):(D.move.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)})),D.end.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}))),t.setState({sorting:!0,sortingIndex:r}),c&&c({node:d,index:r,collection:h,isKeySorting:f,nodes:t.manager.getOrderedRefs(),helper:t.helper},e),f&&t.keyMove(0)},i=t.props,o=i.axis,a=i.getHelperDimensions,s=i.helperClass,_=i.hideSortableGhost,u=i.updateBeforeSortStart,c=i.onSortStart,p=i.useWindowAsScrollContainer,d=r.node,h=r.collection,f=t.manager.isKeySorting,m=function(){if("function"==typeof u){t._awaitingUpdateBeforeSortStart=!0;var r=fe((function(){var t=d.sortableInfo.index;return Promise.resolve(u({collection:h,index:t,node:d,isKeySorting:f},e)).then((function(){}))}),(function(e,r){if(t._awaitingUpdateBeforeSortStart=!1,e)throw r;return r}));if(r&&r.then)return r.then((function(){}))}}();return m&&m.then?m.then(n):n()}}();return Promise.resolve(n&&n.then?n.then((function(){})):void 0)}catch(e){return Promise.reject(e)}})),s(d(d(t)),"handleSortMove",(function(e){var r=t.props.onSortMove;"function"==typeof e.preventDefault&&e.cancelable&&e.preventDefault(),t.updateHelperPosition(e),t.animateNodes(),t.autoscroll(),r&&r(e)})),s(d(d(t)),"handleSortEnd",(function(e){var r=t.props,n=r.hideSortableGhost,i=r.onSortEnd,o=t.manager,a=o.active.collection,s=o.isKeySorting,l=t.manager.getOrderedRefs();t.listenerNode&&(s?(t.listenerNode.removeEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("keydown",t.handleKeyDown)):(D.move.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)})),D.end.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})))),t.helper.parentNode.removeChild(t.helper),n&&t.sortableGhost&&k(t.sortableGhost,{opacity:"",visibility:""});for(var _=0,u=l.length;_<u;_++){var c=l[_],p=c.node;c.edgeOffset=null,c.boundingClientRect=null,A(p,null),I(p,null),c.translate=null}t.autoScroller.clear(),t.manager.active=null,t.manager.isKeySorting=!1,t.setState({sorting:!1,sortingIndex:null}),"function"==typeof i&&i({collection:a,newIndex:t.newIndex,oldIndex:t.index,isKeySorting:s,nodes:l},e),t.touched=!1})),s(d(d(t)),"autoscroll",(function(){var e=t.props.disableAutoscroll,r=t.manager.isKeySorting;if(e)t.autoScroller.clear();else{if(r){var n=l({},t.translate),i=0,o=0;return t.axis.x&&(n.x=Math.min(t.maxTranslate.x,Math.max(t.minTranslate.x,t.translate.x)),i=t.translate.x-n.x),t.axis.y&&(n.y=Math.min(t.maxTranslate.y,Math.max(t.minTranslate.y,t.translate.y)),o=t.translate.y-n.y),t.translate=n,A(t.helper,t.translate),t.scrollContainer.scrollLeft+=i,void(t.scrollContainer.scrollTop+=o)}t.autoScroller.update({height:t.height,maxTranslate:t.maxTranslate,minTranslate:t.minTranslate,translate:t.translate,width:t.width})}})),s(d(d(t)),"onAutoScroll",(function(e){t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()})),s(d(d(t)),"handleKeyDown",(function(e){var r=e.keyCode,n=t.props,i=n.shouldCancelStart,o=n.keyCodes,a=l({},ce,void 0===o?{}:o);t.manager.active&&!t.manager.isKeySorting||!(t.manager.active||a.lift.includes(r)&&!i(e)&&t.isValidSortingTarget(e))||(e.stopPropagation(),e.preventDefault(),a.lift.includes(r)&&!t.manager.active?t.keyLift(e):a.drop.includes(r)&&t.manager.active?t.keyDrop(e):a.cancel.includes(r)?(t.newIndex=t.manager.active.index,t.keyDrop(e)):a.up.includes(r)?t.keyMove(-1):a.down.includes(r)&&t.keyMove(1))})),s(d(d(t)),"keyLift",(function(e){var r=e.target,n=L(r,(function(e){return null!=e.sortableInfo})).sortableInfo,i=n.index,o=n.collection;t.initialFocusedNode=r,t.manager.isKeySorting=!0,t.manager.active={index:i,collection:o},t.handlePress(e)})),s(d(d(t)),"keyMove",(function(e){var r=t.manager.getOrderedRefs(),n=r[r.length-1].node.sortableInfo.index,i=t.newIndex+e,o=t.newIndex;if(!(i<0||i>n)){t.prevIndex=o,t.newIndex=i;var a=F(t.newIndex,t.prevIndex,t.index),s=r.find((function(e){return e.node.sortableInfo.index===a})),l=s.node,_=t.containerScrollDelta,u=s.boundingClientRect||W(l,_),c=s.translate||{x:0,y:0},p=u.top+c.y-_.top,d=u.left+c.x-_.left,h=o<i,f=h&&t.axis.x?l.offsetWidth-t.width:0,m=h&&t.axis.y?l.offsetHeight-t.height:0;t.handleSortMove({pageX:d+f,pageY:p+m,ignoreTransition:0===e})}})),s(d(d(t)),"keyDrop",(function(e){t.handleSortEnd(e),t.initialFocusedNode&&t.initialFocusedNode.focus()})),s(d(d(t)),"handleKeyEnd",(function(e){t.manager.active&&t.keyDrop(e)})),s(d(d(t)),"isValidSortingTarget",(function(e){var r=t.props.useDragHandle,n=e.target,i=L(n,(function(e){return null!=e.sortableInfo}));return i&&i.sortableInfo&&!i.sortableInfo.disabled&&(r?le(n):n.sortableInfo)}));var n=new x;return he(e),t.manager=n,t.wrappedInstance=Object(g.createRef)(),t.sortableContextValue={manager:n},t.events={end:t.handleEnd,move:t.handleMove,start:t.handleStart},t}return y(r,t),c(r,[{key:"componentDidMount",value:function(){var e=this,t=this.props.useWindowAsScrollContainer,r=this.getContainer();Promise.resolve(r).then((function(r){e.container=r,e.document=e.container.ownerDocument||document;var n=e.props.contentWindow||e.document.defaultView||window;e.contentWindow="function"==typeof n?n():n,e.scrollContainer=t?e.document.scrollingElement||e.document.documentElement:H(e.container)||e.container,e.autoScroller=new _e(e.scrollContainer,e.onAutoScroll),Object.keys(e.events).forEach((function(t){return D[t].forEach((function(r){return e.container.addEventListener(r,e.events[t],!1)}))})),e.container.addEventListener("keydown",e.handleKeyDown)}))}},{key:"componentWillUnmount",value:function(){var e=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach((function(t){return D[t].forEach((function(r){return e.container.removeEventListener(r,e.events[t])}))})),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(e){var t=this.props,r=t.lockAxis,n=t.lockOffset,i=t.lockToContainerEdges,o=t.transitionDuration,s=t.keyboardSortingTransitionDuration,l=void 0===s?o:s,_=this.manager.isKeySorting,u=e.ignoreTransition,c=K(e),p={x:c.x-this.initialOffset.x,y:c.y-this.initialOffset.y};if(p.y-=window.pageYOffset-this.initialWindowScroll.top,p.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=p,i){var d=a(N({height:this.height,lockOffset:n,width:this.width}),2),h=d[0],f=d[1],m={x:this.width/2-h.x,y:this.height/2-h.y},y={x:this.width/2-f.x,y:this.height/2-f.y};p.x=R(this.minTranslate.x+m.x,this.maxTranslate.x-y.x,p.x),p.y=R(this.minTranslate.y+m.y,this.maxTranslate.y-y.y,p.y)}"x"===r?p.y=0:"y"===r&&(p.x=0),_&&l&&!u&&I(this.helper,l),A(this.helper,p)}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,r=e.hideSortableGhost,n=e.onSortOver,i=this.containerScrollDelta,o=this.windowScrollDelta,a=this.manager.getOrderedRefs(),s=this.offsetEdge.left+this.translate.x+i.left,l=this.offsetEdge.top+this.translate.y+i.top,_=this.manager.isKeySorting,u=this.newIndex;this.newIndex=null;for(var c=0,p=a.length;c<p;c++){var d=a[c].node,h=d.sortableInfo.index,f=d.offsetWidth,m=d.offsetHeight,y={height:this.height>m?m/2:this.height/2,width:this.width>f?f/2:this.width/2},g=_&&h>this.index&&h<=u,b=_&&h<this.index&&h>=u,v={x:0,y:0},E=a[c].edgeOffset;E||(E=z(d,this.container),a[c].edgeOffset=E,_&&(a[c].boundingClientRect=W(d,i)));var O=c<a.length-1&&a[c+1],M=c>0&&a[c-1];O&&!O.edgeOffset&&(O.edgeOffset=z(O.node,this.container),_&&(O.boundingClientRect=W(O.node,i))),h!==this.index?(t&&I(d,t),this.axis.x?this.axis.y?b||h<this.index&&(s+o.left-y.width<=E.left&&l+o.top<=E.top+y.height||l+o.top+y.height<=E.top)?(v.x=this.width+this.marginOffset.x,E.left+v.x>this.containerBoundingRect.width-y.width&&O&&(v.x=O.edgeOffset.left-E.left,v.y=O.edgeOffset.top-E.top),null===this.newIndex&&(this.newIndex=h)):(g||h>this.index&&(s+o.left+y.width>=E.left&&l+o.top+y.height>=E.top||l+o.top+y.height>=E.top+m))&&(v.x=-(this.width+this.marginOffset.x),E.left+v.x<this.containerBoundingRect.left+y.width&&M&&(v.x=M.edgeOffset.left-E.left,v.y=M.edgeOffset.top-E.top),this.newIndex=h):g||h>this.index&&s+o.left+y.width>=E.left?(v.x=-(this.width+this.marginOffset.x),this.newIndex=h):(b||h<this.index&&s+o.left<=E.left+y.width)&&(v.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=h)):this.axis.y&&(g||h>this.index&&l+o.top+y.height>=E.top?(v.y=-(this.height+this.marginOffset.y),this.newIndex=h):(b||h<this.index&&l+o.top<=E.top+y.height)&&(v.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=h))),A(d,v),a[c].translate=v):r&&(this.sortableGhost=d,k(d,{opacity:0,visibility:"hidden"}))}null==this.newIndex&&(this.newIndex=this.index),_&&(this.newIndex=u);var P=_?this.prevIndex:u;n&&this.newIndex!==P&&n({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:P,isKeySorting:_,nodes:a,helper:this.helper})}},{key:"getWrappedInstance",value:function(){return E()(i.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.wrappedInstance.current}},{key:"getContainer",value:function(){var e=this.props.getContainer;return"function"!=typeof e?Object(b.findDOMNode)(this):e(i.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var t=i.withRef?this.wrappedInstance:null;return Object(g.createElement)(me.Provider,{value:this.sortableContextValue},Object(g.createElement)(e,n({ref:t},C(this.props,de))))}},{key:"helperContainer",get:function(){var e=this.props.helperContainer;return"function"==typeof e?e():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){return this.props.useWindowAsScrollContainer?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),r}(g.Component),s(t,"displayName",U("sortableList",e)),s(t,"defaultProps",pe),s(t,"propTypes",ue),r}var ge={index:P.a.number.isRequired,collection:P.a.oneOfType([P.a.number,P.a.string]),disabled:P.a.bool},be=Object.keys(ge);function ve(e){var t,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return r=t=function(t){function r(){var e,t;_(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return s(d(d(t=h(this,(e=f(r)).call.apply(e,[this].concat(i))))),"wrappedInstance",Object(g.createRef)()),t}return y(r,t),c(r,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(e){this.node&&(e.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),e.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),e.collection!==this.props.collection&&(this.unregister(e.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var e=this.props,t=e.collection,r=e.disabled,n=e.index,i=Object(b.findDOMNode)(this);i.sortableInfo={collection:t,disabled:r,index:n,manager:this.context.manager},this.node=i,this.ref={node:i},this.context.manager.add(t,this.ref)}},{key:"unregister",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.collection;this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return E()(i.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.wrappedInstance.current}},{key:"render",value:function(){var t=i.withRef?this.wrappedInstance:null;return Object(g.createElement)(e,n({ref:t},C(this.props,be)))}}]),r}(g.Component),s(t,"displayName",U("sortableElement",e)),s(t,"contextType",me),s(t,"propTypes",ge),s(t,"defaultProps",{collection:0}),r}},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return IconFill}));var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(33),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),react_icon_base__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(85),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},IconFill=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(IconFill,_React$Component);var _super=_createSuper(IconFill);function IconFill(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,IconFill),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(IconFill,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_icon_base__WEBPACK_IMPORTED_MODULE_7__.a,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({viewBox:"0 0 20 20"},this.props),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("path",{d:"M 2.84978,9.763512 9.462149,4.7316391 16.47225,9.478015 9.859886,14.509879 2.84978,9.763512 m -1.028761,0.492069 7.414535,5.020197 c 0.372277,0.25206 0.958697,0.239771 1.30985,-0.02745 L 17.539255,9.926162 C 17.89041,9.658941 17.873288,9.238006 17.501015,8.985946 L 10.08648,3.9657402 C 9.714204,3.7136802 9.127782,3.7259703 8.776627,3.9931918 L 1.782775,9.315365 c -0.3511551,0.267221 -0.3340331,0.688156 0.03824,0.940216 l 0,0 z"}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),IconFill}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(IconFill,"IconFill","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\IconFill.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(e,t,r){"use strict";var n=r(217);e.exports={Wrapper:r(376),Button:r(379),Menu:r(380),MenuItem:r(382),openMenu:n.openMenu,closeMenu:n.closeMenu}},function(e,t,r){"use strict";(function(e){var n,i=r(110),o=r.n(i);(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a={};function s(){var e=o.a.parse(window.location.search.slice(1));return!!e.hasOwnProperty("debug")&&!!e.debug.match(/^(|1|true)$/)}function l(){return new Error("Debug not enabled, enable by appending '?debug' to your query string")}function _(e,t,r){if(!s())throw l();a[e]=a[e]||{},a[e][t]=r}function u(e,t){if(!s())throw l();if(a.hasOwnProperty(e))return a[e][t]}var c={enabled:s,get:u,set:_};window.debug=c;var p,d,h=c;t.a=h,(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(p.register(a,"debugStore","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\debug.js"),p.register(s,"enabled","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\debug.js"),p.register(l,"genErr","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\debug.js"),p.register(_,"set","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\debug.js"),p.register(u,"get","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\debug.js"),p.register(c,"mod","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\debug.js"),p.register(h,"default","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\debug.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}).call(this,r(14)(e))},function(e,t,r){"use strict";var n=r(1).createContext();e.exports=n},function(e,t,r){"use strict";var n=r(2);e.exports={refType:n.oneOfType([n.func,n.shape({current:n.elementType})])}},function(e,t,r){"use strict";e.exports=function(e,t,r){for(var n in r=r||{},t)t.hasOwnProperty(n)&&(r[n]||(e[n]=t[n]))}},function(e,t,r){(function(e){var n=r(78),i=r(396),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?n.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l}).call(this,r(101)(e))},function(e,t){e.exports=function(e){return e}},function(e,t,r){var n=r(141),i=r(409),o=r(410),a=r(411),s=r(412),l=r(413);function _(e){var t=this.__data__=new n(e);this.size=t.size}_.prototype.clear=i,_.prototype.delete=o,_.prototype.get=a,_.prototype.has=s,_.prototype.set=l,e.exports=_},function(e,t,r){var n=r(404),i=r(405),o=r(406),a=r(407),s=r(408);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,r){var n=r(120);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},function(e,t,r){var n=r(103)(Object,"create");e.exports=n},function(e,t,r){var n=r(426);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},function(e,t,r){var n=r(441),i=r(180),o=r(442),a=r(443),s=r(444),l=r(102),_=r(226),u=_(n),c=_(i),p=_(o),d=_(a),h=_(s),f=l;(n&&"[object DataView]"!=f(new n(new ArrayBuffer(1)))||i&&"[object Map]"!=f(new i)||o&&"[object Promise]"!=f(o.resolve())||a&&"[object Set]"!=f(new a)||s&&"[object WeakMap]"!=f(new s))&&(f=function(e){var t=l(e),r="[object Object]"==t?e.constructor:void 0,n=r?_(r):"";if(n)switch(n){case u:return"[object DataView]";case c:return"[object Map]";case p:return"[object Promise]";case d:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=f},function(e,t,r){var n=r(102),i=r(84);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==n(e)}},function(e,t,r){var n=r(146);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),_IconLayer__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(149),_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(22),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};function groupFeaturesBySourceLayer(e){var t={},r={};return e.forEach((function(e){r.hasOwnProperty(e.layer.id)?(r[e.layer.id]++,t[e.layer["source-layer"]].find((function(t){return t.layer.id===e.layer.id})).counter=r[e.layer.id]):(t[e.layer["source-layer"]]=t[e.layer["source-layer"]]||[],t[e.layer["source-layer"]].push(e),r[e.layer.id]=1)})),t}var FeatureLayerPopup=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(FeatureLayerPopup,_React$Component);var _super=_createSuper(FeatureLayerPopup);function FeatureLayerPopup(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,FeatureLayerPopup),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(FeatureLayerPopup,[{key:"_getFeatureColor",value:function(e,t){if(e.layer.paint)try{var r,n=e.layer.paint;if(n.hasOwnProperty("text-color")&&n["text-color"]?r="text-color":n.hasOwnProperty("fill-color")&&n["fill-color"]?r="fill-color":n.hasOwnProperty("line-color")&&n["line-color"]?r="line-color":n.hasOwnProperty("fill-extrusion-color")&&n["fill-extrusion-color"]&&(r="fill-extrusion-color"),r){_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_9__.h["paint_"+e.layer.type][r];var i=e.layer.paint[r];return String(i)}return"black"}catch(e){return console.warn("Unable to get feature color, error:",e),"black"}}},{key:"render",value:function(){var e=this,t=groupFeaturesBySourceLayer(this.props.features),r=Object.keys(t).map((function(r){var n=t[r].map((function(t,r){var n=e._getFeatureColor(t,e.props.zoom);return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{key:r,className:"maputnik-popup-layer"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"maputnik-popup-layer__swatch",style:{background:n}}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("label",{className:"maputnik-popup-layer__label",onClick:function(){e.props.onLayerSelect(t.layer.id)}},t.layer.type&&react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_IconLayer__WEBPACK_IMPORTED_MODULE_8__.a,{type:t.layer.type,style:{width:14,height:14,paddingRight:3}}),t.layer.id,t.counter&&react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("span",null," × ",t.counter)))}));return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{key:r},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"maputnik-popup-layer-id"},r),n)}));return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"maputnik-feature-layer-popup"},r)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),FeatureLayerPopup}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component);_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(FeatureLayerPopup,"propTypes",{onLayerSelect:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,features:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.array,zoom:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.number});var _default=FeatureLayerPopup,reactHotLoader,leaveModule;__webpack_exports__.a=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(groupFeaturesBySourceLayer,"groupFeaturesBySourceLayer","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\MapMapboxGlLayerPopup.jsx"),reactHotLoader.register(FeatureLayerPopup,"FeatureLayerPopup","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\MapMapboxGlLayerPopup.jsx"),reactHotLoader.register(_default,"default","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\MapMapboxGlLayerPopup.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return IconLayer}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),_IconLine_jsx__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(261),_IconFill_jsx__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(132),_IconSymbol_jsx__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),_IconBackground_jsx__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(192),_IconCircle_jsx__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(263),_IconMissing_jsx__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(264),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},IconLayer=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(IconLayer,_React$Component);var _super=_createSuper(IconLayer);function IconLayer(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,IconLayer),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(IconLayer,[{key:"render",value:function(){var e={style:this.props.style};switch(this.props.type){case"fill-extrusion":return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_IconBackground_jsx__WEBPACK_IMPORTED_MODULE_11__.a,e);case"raster":case"hillshade":case"heatmap":case"fill":return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_IconFill_jsx__WEBPACK_IMPORTED_MODULE_9__.a,e);case"background":return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_IconBackground_jsx__WEBPACK_IMPORTED_MODULE_11__.a,e);case"line":return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_IconLine_jsx__WEBPACK_IMPORTED_MODULE_8__.a,e);case"symbol":return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_IconSymbol_jsx__WEBPACK_IMPORTED_MODULE_10__.a,e);case"circle":return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_IconCircle_jsx__WEBPACK_IMPORTED_MODULE_12__.a,e);default:return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_IconMissing_jsx__WEBPACK_IMPORTED_MODULE_13__.a,e)}}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),IconLayer}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(IconLayer,"propTypes",{type:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string.isRequired,style:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.object}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(IconLayer,"IconLayer","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\IconLayer.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(e,t,r){"use strict";var n,i=r(10),o=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(e){function t(t){var r=this,n="Assertion failed. See https://openlayers.org/en/"+("latest"===i.a?i.a:"v"+i.a.split("-")[0])+"/doc/errors/#"+t+" for details.";return(r=e.call(this,n)||this).code=t,r.name="AssertionError",r.message=n,r}return o(t,e),t}(Error);t.a=a},function(e,t,r){"use strict";var n,i=r(38),o=r(34),a=r(10),s=r(19),l=r(5),_=r(12),u=r(30),c=r(45),p=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),d=Object(s.c)(),h=function(e){function t(){var t=e.call(this)||this;return t.extent_=Object(l.j)(),t.extentRevision_=-1,t.simplifiedGeometryMaxMinSquaredTolerance=0,t.simplifiedGeometryRevision=0,t.simplifyTransformedInternal=Object(u.d)((function(e,t,r){if(!r)return this.getSimplifiedGeometry(t);var n=this.clone();return n.applyTransform(r),n.getSimplifiedGeometry(t)})),t}return p(t,e),t.prototype.simplifyTransformed=function(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)},t.prototype.clone=function(){return Object(a.b)()},t.prototype.closestPointXY=function(e,t,r,n){return Object(a.b)()},t.prototype.containsXY=function(e,t){var r=this.getClosestPoint([e,t]);return r[0]===e&&r[1]===t},t.prototype.getClosestPoint=function(e,t){var r=t||[NaN,NaN];return this.closestPointXY(e[0],e[1],r,1/0),r},t.prototype.intersectsCoordinate=function(e){return this.containsXY(e[0],e[1])},t.prototype.computeExtent=function(e){return Object(a.b)()},t.prototype.getExtent=function(e){if(this.extentRevision_!=this.getRevision()){var t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&Object(l.l)(t),this.extentRevision_=this.getRevision()}return Object(l.I)(this.extent_,e)},t.prototype.rotate=function(e,t){Object(a.b)()},t.prototype.scale=function(e,t,r){Object(a.b)()},t.prototype.simplify=function(e){return this.getSimplifiedGeometry(e*e)},t.prototype.getSimplifiedGeometry=function(e){return Object(a.b)()},t.prototype.getType=function(){return Object(a.b)()},t.prototype.applyTransform=function(e){Object(a.b)()},t.prototype.intersectsExtent=function(e){return Object(a.b)()},t.prototype.translate=function(e,t){Object(a.b)()},t.prototype.transform=function(e,t){var r=Object(_.i)(e),n=r.getUnits()==o.b.TILE_PIXELS?function(e,n,i){var o=r.getExtent(),a=r.getWorldExtent(),u=Object(l.z)(a)/Object(l.z)(o);return Object(s.b)(d,a[0],a[3],u,-u,0,0,0),Object(c.c)(e,0,e.length,i,d,n),Object(_.k)(r,t)(e,n,i)}:Object(_.k)(r,t);return this.applyTransform(n),this},t}(i.a);t.a=h},function(e,t,r){"use strict";function n(e,t,r,n,i){var o;for(t+=n;t<r;t+=n)if(o=i(e.slice(t-n,t),e.slice(t,t+n)))return o;return!1}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";var n,i=r(47),o=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o.inversePixelTransform=r,o.frameState=n,o.context=i,o}return o(t,e),t}(i.a);t.a=a},function(e,t,r){e.exports=function(){"use strict";function e(e,n,i,o,a){!function e(r,n,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,l=n-i+1,_=Math.log(s),u=.5*Math.exp(2*_/3),c=.5*Math.sqrt(_*u*(s-u)/s)*(l-s/2<0?-1:1);e(r,n,Math.max(i,Math.floor(n-l*u/s+c)),Math.min(o,Math.floor(n+(s-l)*u/s+c)),a)}var p=r[n],d=i,h=o;for(t(r,i,n),a(r[o],p)>0&&t(r,i,o);d<h;){for(t(r,d,h),d++,h--;a(r[d],p)<0;)d++;for(;a(r[h],p)>0;)h--}0===a(r[i],p)?t(r,i,h):t(r,++h,o),h<=n&&(i=h+1),n<=h&&(o=h-1)}}(e,n,i||0,o||e.length-1,a||r)}function t(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function r(e,t){return e<t?-1:e>t?1:0}var n=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(e,t,r){if(!r)return t.indexOf(e);for(var n=0;n<t.length;n++)if(r(e,t[n]))return n;return-1}function o(e,t){a(e,0,e.children.length,t,e)}function a(e,t,r,n,i){i||(i=h(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=t;o<r;o++){var a=e.children[o];s(i,e.leaf?n(a):a)}return i}function s(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function l(e,t){return e.minX-t.minX}function _(e,t){return e.minY-t.minY}function u(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function c(e){return e.maxX-e.minX+(e.maxY-e.minY)}function p(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function d(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function h(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function f(t,r,n,i,o){for(var a=[r,n];a.length;)if(!((n=a.pop())-(r=a.pop())<=i)){var s=r+Math.ceil((n-r)/i/2)*i;e(t,s,r,n,o),a.push(r,s,s,n)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(e){var t=this.data,r=[];if(!d(e,t))return r;for(var n=this.toBBox,i=[];t;){for(var o=0;o<t.children.length;o++){var a=t.children[o],s=t.leaf?n(a):a;d(e,s)&&(t.leaf?r.push(a):p(e,s)?this._all(a,r):i.push(a))}t=i.pop()}return r},n.prototype.collides=function(e){var t=this.data;if(!d(e,t))return!1;for(var r=[];t;){for(var n=0;n<t.children.length;n++){var i=t.children[n],o=t.leaf?this.toBBox(i):i;if(d(e,o)){if(t.leaf||p(e,o))return!0;r.push(i)}}t=r.pop()}return!1},n.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var n=this.data;this.data=r,r=n}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},n.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},n.prototype.clear=function(){return this.data=h([]),this},n.prototype.remove=function(e,t){if(!e)return this;for(var r,n,o,a=this.data,s=this.toBBox(e),l=[],_=[];a||l.length;){if(a||(a=l.pop(),n=l[l.length-1],r=_.pop(),o=!0),a.leaf){var u=i(e,a.children,t);if(-1!==u)return a.children.splice(u,1),l.push(a),this._condense(l),this}o||a.leaf||!p(a,s)?n?(r++,a=n.children[r],o=!1):a=null:(l.push(a),_.push(r),r=0,n=a,a=a.children[0])}return this},n.prototype.toBBox=function(e){return e},n.prototype.compareMinX=function(e,t){return e.minX-t.minX},n.prototype.compareMinY=function(e,t){return e.minY-t.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(e){return this.data=e,this},n.prototype._all=function(e,t){for(var r=[];e;)e.leaf?t.push.apply(t,e.children):r.push.apply(r,e.children),e=r.pop();return t},n.prototype._build=function(e,t,r,n){var i,a=r-t+1,s=this._maxEntries;if(a<=s)return o(i=h(e.slice(t,r+1)),this.toBBox),i;n||(n=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,n-1))),(i=h([])).leaf=!1,i.height=n;var l=Math.ceil(a/s),_=l*Math.ceil(Math.sqrt(s));f(e,t,r,_,this.compareMinX);for(var u=t;u<=r;u+=_){var c=Math.min(u+_-1,r);f(e,u,c,l,this.compareMinY);for(var p=u;p<=c;p+=l){var d=Math.min(p+l-1,c);i.children.push(this._build(e,p,d,n-1))}}return o(i,this.toBBox),i},n.prototype._chooseSubtree=function(e,t,r,n){for(;n.push(t),!t.leaf&&n.length-1!==r;){for(var i=1/0,o=1/0,a=void 0,s=0;s<t.children.length;s++){var l=t.children[s],_=u(l),c=(p=e,d=l,(Math.max(d.maxX,p.maxX)-Math.min(d.minX,p.minX))*(Math.max(d.maxY,p.maxY)-Math.min(d.minY,p.minY))-_);c<o?(o=c,i=_<i?_:i,a=l):c===o&&_<i&&(i=_,a=l)}t=a||t.children[0]}var p,d;return t},n.prototype._insert=function(e,t,r){var n=r?e:this.toBBox(e),i=[],o=this._chooseSubtree(n,this.data,t,i);for(o.children.push(e),s(o,n);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(n,i,t)},n.prototype._split=function(e,t){var r=e[t],n=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,n);var a=this._chooseSplitIndex(r,i,n),s=h(r.children.splice(a,r.children.length-a));s.height=r.height,s.leaf=r.leaf,o(r,this.toBBox),o(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(r,s)},n.prototype._splitRoot=function(e,t){this.data=h([e,t]),this.data.height=e.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(e,t,r){for(var n,i,o,s,l,_,c,p=1/0,d=1/0,h=t;h<=r-t;h++){var f=a(e,0,h,this.toBBox),m=a(e,h,r,this.toBBox),y=(i=f,o=m,s=Math.max(i.minX,o.minX),l=Math.max(i.minY,o.minY),_=Math.min(i.maxX,o.maxX),c=Math.min(i.maxY,o.maxY),Math.max(0,_-s)*Math.max(0,c-l)),g=u(f)+u(m);y<p?(p=y,n=h,d=g<d?g:d):y===p&&g<d&&(d=g,n=h)}return n||r-t},n.prototype._chooseSplitAxis=function(e,t,r){var n=e.leaf?this.compareMinX:l,i=e.leaf?this.compareMinY:_;this._allDistMargin(e,t,r,n)<this._allDistMargin(e,t,r,i)&&e.children.sort(n)},n.prototype._allDistMargin=function(e,t,r,n){e.children.sort(n);for(var i=this.toBBox,o=a(e,0,t,i),l=a(e,r-t,r,i),_=c(o)+c(l),u=t;u<r-t;u++){var p=e.children[u];s(o,e.leaf?i(p):p),_+=c(o)}for(var d=r-t-1;d>=t;d--){var h=e.children[d];s(l,e.leaf?i(h):h),_+=c(l)}return _},n.prototype._adjustParentBBoxes=function(e,t,r){for(var n=r;n>=0;n--)s(t[n],e)},n.prototype._condense=function(e){for(var t=e.length-1,r=void 0;t>=0;t--)0===e[t].children.length?t>0?(r=e[t-1].children).splice(r.indexOf(e[t]),1):this.clear():o(e[t],this.toBBox)},n}()},function(e,t,r){"use strict";var n,i=r(38),o=r(32),a=r(10),s=r(20),l=r(21),_=r(13),u=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),c=function(e){function t(t){var r=e.call(this)||this;r.on,r.once,r.un,r.background_=t.background;var n=Object(l.a)({},t);return"object"==typeof t.properties&&(delete n.properties,Object(l.a)(n,t.properties)),n[o.a.OPACITY]=void 0!==t.opacity?t.opacity:1,Object(s.a)("number"==typeof n[o.a.OPACITY],64),n[o.a.VISIBLE]=void 0===t.visible||t.visible,n[o.a.Z_INDEX]=t.zIndex,n[o.a.MAX_RESOLUTION]=void 0!==t.maxResolution?t.maxResolution:1/0,n[o.a.MIN_RESOLUTION]=void 0!==t.minResolution?t.minResolution:0,n[o.a.MIN_ZOOM]=void 0!==t.minZoom?t.minZoom:-1/0,n[o.a.MAX_ZOOM]=void 0!==t.maxZoom?t.maxZoom:1/0,r.className_=void 0!==n.className?n.className:"ol-layer",delete n.className,r.setProperties(n),r.state_=null,r}return u(t,e),t.prototype.getBackground=function(){return this.background_},t.prototype.getClassName=function(){return this.className_},t.prototype.getLayerState=function(e){var t=this.state_||{layer:this,managed:void 0===e||e},r=this.getZIndex();return t.opacity=Object(_.b)(Math.round(100*this.getOpacity())/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=void 0!==r||t.managed?r:1/0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t},t.prototype.getLayersArray=function(e){return Object(a.b)()},t.prototype.getLayerStatesArray=function(e){return Object(a.b)()},t.prototype.getExtent=function(){return this.get(o.a.EXTENT)},t.prototype.getMaxResolution=function(){return this.get(o.a.MAX_RESOLUTION)},t.prototype.getMinResolution=function(){return this.get(o.a.MIN_RESOLUTION)},t.prototype.getMinZoom=function(){return this.get(o.a.MIN_ZOOM)},t.prototype.getMaxZoom=function(){return this.get(o.a.MAX_ZOOM)},t.prototype.getOpacity=function(){return this.get(o.a.OPACITY)},t.prototype.getSourceState=function(){return Object(a.b)()},t.prototype.getVisible=function(){return this.get(o.a.VISIBLE)},t.prototype.getZIndex=function(){return this.get(o.a.Z_INDEX)},t.prototype.setBackground=function(e){this.background_=e,this.changed()},t.prototype.setExtent=function(e){this.set(o.a.EXTENT,e)},t.prototype.setMaxResolution=function(e){this.set(o.a.MAX_RESOLUTION,e)},t.prototype.setMinResolution=function(e){this.set(o.a.MIN_RESOLUTION,e)},t.prototype.setMaxZoom=function(e){this.set(o.a.MAX_ZOOM,e)},t.prototype.setMinZoom=function(e){this.set(o.a.MIN_ZOOM,e)},t.prototype.setOpacity=function(e){Object(s.a)("number"==typeof e,64),this.set(o.a.OPACITY,e)},t.prototype.setVisible=function(e){this.set(o.a.VISIBLE,e)},t.prototype.setZIndex=function(e){this.set(o.a.Z_INDEX,e)},t.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),e.prototype.disposeInternal.call(this)},t}(i.a);t.a=c},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return FieldType}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(22),_Block__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(24),_InputSelect__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(52),_InputString__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(37),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},FieldType=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(FieldType,_React$Component);var _super=_createSuper(FieldType);function FieldType(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,FieldType),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(FieldType,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_Block__WEBPACK_IMPORTED_MODULE_9__.a,{label:"Type",fieldSpec:_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_8__.h.layer.type,"data-wd-key":this.props.wdKey,error:this.props.error},this.props.disabled&&react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_InputString__WEBPACK_IMPORTED_MODULE_11__.a,{value:this.props.value,disabled:!0}),!this.props.disabled&&react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_InputSelect__WEBPACK_IMPORTED_MODULE_10__.a,{options:[["background","Background"],["fill","Fill"],["line","Line"],["symbol","Symbol"],["raster","Raster"],["circle","Circle"],["fill-extrusion","Fill Extrusion"],["hillshade","Hillshade"],["heatmap","Heatmap"]],onChange:this.props.onChange,value:this.props.value}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),FieldType}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(FieldType,"propTypes",{value:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string.isRequired,wdKey:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string,onChange:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,error:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.object,disabled:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(FieldType,"defaultProps",{disabled:!1}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(FieldType,"FieldType","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\FieldType.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return FieldId}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(22),_Block__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(24),_InputString__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(37),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},FieldId=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(FieldId,_React$Component);var _super=_createSuper(FieldId);function FieldId(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,FieldId),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(FieldId,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_Block__WEBPACK_IMPORTED_MODULE_9__.a,{label:"ID",fieldSpec:_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_8__.h.layer.id,"data-wd-key":this.props.wdKey,error:this.props.error},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_InputString__WEBPACK_IMPORTED_MODULE_10__.a,{value:this.props.value,onInput:this.props.onChange}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),FieldId}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(FieldId,"propTypes",{value:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string.isRequired,wdKey:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string.isRequired,onChange:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,error:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.object}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(FieldId,"FieldId","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\FieldId.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return FieldSource}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(22),_Block__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(24),_InputAutocomplete__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(87),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},FieldSource=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(FieldSource,_React$Component);var _super=_createSuper(FieldSource);function FieldSource(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,FieldSource),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(FieldSource,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_Block__WEBPACK_IMPORTED_MODULE_9__.a,{label:"Source",fieldSpec:_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_8__.h.layer.source,"data-wd-key":this.props.wdKey},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_InputAutocomplete__WEBPACK_IMPORTED_MODULE_10__.a,{value:this.props.value,onChange:this.props.onChange,options:this.props.sourceIds.map((function(e){return[e,e]}))}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),FieldSource}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(FieldSource,"propTypes",{value:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string,wdKey:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string,onChange:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func,sourceIds:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.array,error:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.object}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(FieldSource,"defaultProps",{onChange:function(){},sourceIds:[]}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(FieldSource,"FieldSource","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\FieldSource.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return FieldSourceLayer}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(22),_Block__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(24),_InputAutocomplete__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(87),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},FieldSourceLayer=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(FieldSourceLayer,_React$Component);var _super=_createSuper(FieldSourceLayer);function FieldSourceLayer(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,FieldSourceLayer),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(FieldSourceLayer,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_Block__WEBPACK_IMPORTED_MODULE_9__.a,{label:"Source Layer",fieldSpec:_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_8__.h.layer["source-layer"],"data-wd-key":"layer-source-layer"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_InputAutocomplete__WEBPACK_IMPORTED_MODULE_10__.a,{keepMenuWithinWindowBounds:!!this.props.isFixed,value:this.props.value,onChange:this.props.onChange,options:this.props.sourceLayerIds.map((function(e){return[e,e]}))}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),FieldSourceLayer}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(FieldSourceLayer,"propTypes",{value:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string,onChange:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func,sourceLayerIds:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.array,isFixed:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(FieldSourceLayer,"defaultProps",{onChange:function(){},sourceLayerIds:[],isFixed:!1}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(FieldSourceLayer,"FieldSourceLayer","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\FieldSourceLayer.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return FieldJson}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),_InputJson__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(196),enterModule;function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},FieldJson=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(FieldJson,_React$Component);var _super=_createSuper(FieldJson);function FieldJson(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,FieldJson),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(FieldJson,[{key:"render",value:function(){var e=this.props;return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_InputJson__WEBPACK_IMPORTED_MODULE_7__.a,e)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),FieldJson}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(FieldJson,"propTypes",_objectSpread({},_InputJson__WEBPACK_IMPORTED_MODULE_7__.a.propTypes)),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(FieldJson,"FieldJson","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\FieldJson.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(e,t,r){"use strict";var n=/("(?:[^\\"]|\\.)*")|[:,]/g;e.exports=function(e,t){var r,i,o;return t=t||{},r=JSON.stringify([1],void 0,void 0===t.indent?2:t.indent).slice(2,-3),i=""===r?1/0:void 0===t.maxLength?80:t.maxLength,o=t.replacer,function e(t,a,s){var l,_,u,c,p,d,h,f,m,y,g,b;if(t&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0===(g=JSON.stringify(t,o)))return g;if(h=i-a.length-s,g.length<=h&&(m=g.replace(n,(function(e,t){return t||e+" "}))).length<=h)return m;if(null!=o&&(t=JSON.parse(g),o=void 0),"object"==typeof t&&null!==t){if(f=a+r,u=[],_=0,Array.isArray(t))for(y="[",l="]",h=t.length;_<h;_++)u.push(e(t[_],f,_===h-1?0:1)||"null");else for(y="{",l="}",h=(d=Object.keys(t)).length;_<h;_++)c=d[_],p=JSON.stringify(c)+": ",void 0!==(b=e(t[c],f,p.length+(_===h-1?0:1)))&&u.push(p+b);if(u.length>0)return[y,r+u.join(",\n"+f),l].join("\n"+a)}return g}(e,"",0)}},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return ExpressionProperty}));var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(31),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(11),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__),react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__),prop_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__),_Block__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(24),_InputButton__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(28),react_icons_md__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(29),_FieldString__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(88),_labelFromFieldName__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(97),json_stringify_pretty_compact__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(161),json_stringify_pretty_compact__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(json_stringify_pretty_compact__WEBPACK_IMPORTED_MODULE_15__),_FieldJson__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(160),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},ExpressionProperty=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(ExpressionProperty,_React$Component);var _super=_createSuper(ExpressionProperty);function ExpressionProperty(e){var t;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,ExpressionProperty),t=_super.call(this),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(t),"onJSONInvalid",(function(e){t.setState({jsonError:!0})})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(t),"onJSONValid",(function(){t.setState({jsonError:!1})})),t.state={jsonError:!1},t}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(ExpressionProperty,[{key:"render",value:function(){var e=this.props,t=e.errors,r=e.fieldName,n=e.fieldType,i=e.value,o=e.canUndo,a=this.state.jsonError,s=!o||!o(),l=react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_8___default.a.Fragment,null,this.props.onUndo&&react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_InputButton__WEBPACK_IMPORTED_MODULE_11__.a,{key:"undo_action",onClick:this.props.onUndo,disabled:s,className:"maputnik-delete-stop",title:"Revert from expression"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_12__.p,null)),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_InputButton__WEBPACK_IMPORTED_MODULE_11__.a,{key:"delete_action",onClick:this.props.onDelete,className:"maputnik-delete-stop",title:"Delete expression"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_12__.f,null))),_=void 0===n?r:"".concat(n,".").concat(r),u=t[_],c="".concat(_,"["),p=[];return a?p.push({message:"Invalid JSON"}):(Object.entries(t).filter((function(e){var t=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(e,2),r=t[0];t[1];return r.startsWith(c)})).forEach((function(e){var t=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(e,2),r=(t[0],t[1]);return p.push(r)})),u&&p.push(u)),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_Block__WEBPACK_IMPORTED_MODULE_10__.a,{error:p,fieldSpec:this.props.fieldSpec,label:Object(_labelFromFieldName__WEBPACK_IMPORTED_MODULE_14__.a)(this.props.fieldName),action:l,wideMode:!0},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_FieldJson__WEBPACK_IMPORTED_MODULE_16__.a,{mode:{name:"mgl"},lint:{context:"expression",spec:this.props.fieldSpec},className:"maputnik-expression-editor",onFocus:this.props.onFocus,onBlur:this.props.onBlur,onJSONInvalid:this.onJSONInvalid,onJSONValid:this.onJSONValid,layer:i,lineNumbers:!1,maxHeight:200,lineWrapping:!0,getValue:function(e){return json_stringify_pretty_compact__WEBPACK_IMPORTED_MODULE_15___default()(e,{indent:2,maxLength:38})},onChange:this.props.onChange}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ExpressionProperty}(react__WEBPACK_IMPORTED_MODULE_8___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(ExpressionProperty,"propTypes",{onDelete:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func,fieldName:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string,fieldType:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string,fieldSpec:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object,value:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.any,errors:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object,onChange:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func,onUndo:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func,canUndo:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func,onFocus:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func,onBlur:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(ExpressionProperty,"defaultProps",{errors:{},onFocus:function(){},onBlur:function(){}}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(ExpressionProperty,"ExpressionProperty","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\_ExpressionProperty.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return InputEnum}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(31),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),_InputSelect__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(52),_InputMultiInput__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(187),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};function optionsLabelLength(e){var t=0;return e.forEach((function(e){var r=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6___default()(e,2),n=(r[0],r[1]);t+=n.length})),t}var InputEnum=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(InputEnum,_React$Component);var _super=_createSuper(InputEnum);function InputEnum(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,InputEnum),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(InputEnum,[{key:"render",value:function(){var e=this.props,t=e.options,r=e.value,n=e.onChange,i=e.name,o=e.label;return t.length<=3&&optionsLabelLength(t)<=20?react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_InputMultiInput__WEBPACK_IMPORTED_MODULE_10__.a,{name:i,options:t,value:r||this.props.default,onChange:n,"aria-label":this.props["aria-label"]||o}):react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_InputSelect__WEBPACK_IMPORTED_MODULE_9__.a,{options:t,value:r||this.props.default,onChange:n,"aria-label":this.props["aria-label"]||o})}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),InputEnum}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(InputEnum,"propTypes",{"data-wd-key":prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string,value:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string,style:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object,default:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string,name:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string,onChange:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func,options:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.array,"aria-label":prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(optionsLabelLength,"optionsLabelLength","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\InputEnum.jsx"),reactHotLoader.register(InputEnum,"InputEnum","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\InputEnum.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(e,t,r){"use strict";(function(e){var r;(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var n,i,o=0,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e+ ++o};t.a=a,(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(n.register(o,"REF","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\document-uid.js"),n.register(a,"default","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\document-uid.js")),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,r(14)(e))},function(e,t,r){"use strict";(function(e){var r;(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var n,i,o=function(e,t){return(e=parseFloat(e,10))<(t=parseFloat(t,10))?-1:e>t?1:0};t.a=o,(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(o,"default","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\sort-numerically.js"),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,r(14)(e))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return DeleteStopButton}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),_InputButton__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(28),react_icons_md__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(29),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},DeleteStopButton=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(DeleteStopButton,_React$Component);var _super=_createSuper(DeleteStopButton);function DeleteStopButton(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,DeleteStopButton),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(DeleteStopButton,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_InputButton__WEBPACK_IMPORTED_MODULE_8__.a,{className:"maputnik-delete-stop",onClick:this.props.onClick,title:"Remove zoom level from stop"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_9__.f,null))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),DeleteStopButton}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(DeleteStopButton,"propTypes",{onClick:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(DeleteStopButton,"DeleteStopButton","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\_DeleteStopButton.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return ModalLoading}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),_InputButton__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(28),_Modal__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(55),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},ModalLoading=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(ModalLoading,_React$Component);var _super=_createSuper(ModalLoading);function ModalLoading(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,ModalLoading),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(ModalLoading,[{key:"underlayOnClick",value:function(e){e.stopPropagation()}},{key:"render",value:function(){var e=this;return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_Modal__WEBPACK_IMPORTED_MODULE_9__.a,{"data-wd-key":"modal:loading",isOpen:this.props.isOpen,underlayClickExits:!1,underlayProps:{onClick:function(t){return e.underlayOnClick(t)}},closeable:!1,title:this.props.title,onOpenToggle:function(){return e.props.onCancel()}},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("p",null,this.props.message),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("p",{className:"maputnik-dialog__buttons"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_InputButton__WEBPACK_IMPORTED_MODULE_8__.a,{onClick:function(t){return e.props.onCancel(t)}},"Cancel")))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ModalLoading}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(ModalLoading,"propTypes",{isOpen:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool.isRequired,onCancel:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,title:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string.isRequired,message:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.node.isRequired}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(ModalLoading,"ModalLoading","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\ModalLoading.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(e){e.exports=JSON.parse('{"line":{"groups":[{"title":"Paint properties","type":"properties","fields":["line-opacity","line-color","line-width","line-offset","line-blur","line-dasharray","line-pattern","line-translate","line-translate-anchor","line-gap-width"]},{"title":"Layout properties","type":"properties","fields":["line-cap","line-join","line-miter-limit","line-round-limit"]}]},"background":{"groups":[{"title":"Paint properties","type":"properties","fields":["background-color","background-pattern","background-opacity"]}]},"fill":{"groups":[{"title":"Paint properties","type":"properties","fields":["fill-opacity","fill-color","fill-antialias","fill-outline-color","fill-pattern","fill-translate","fill-translate-anchor"]}]},"fill-extrusion":{"groups":[{"title":"Paint properties","type":"properties","fields":["fill-extrusion-opacity","fill-extrusion-color","fill-extrusion-translate","fill-extrusion-translate-anchor","fill-extrusion-pattern","fill-extrusion-height","fill-extrusion-base","fill-extrusion-vertical-gradient"]}]},"circle":{"groups":[{"title":"Paint properties","type":"properties","fields":["circle-color","circle-opacity","circle-stroke-color","circle-stroke-opacity","circle-blur","circle-radius","circle-stroke-width","circle-pitch-scale","circle-translate","circle-translate-anchor","circle-pitch-alignment"]}]},"symbol":{"groups":[{"title":"General layout properties","type":"properties","fields":["symbol-placement","symbol-spacing","symbol-avoid-edges","symbol-z-order"]},{"title":"Text layout properties","type":"properties","fields":["text-field","text-font","text-size","text-line-height","text-padding","text-allow-overlap","text-ignore-placement","text-pitch-alignment","text-rotation-alignment","text-max-width","text-letter-spacing","text-justify","text-anchor","text-max-angle","text-writing-mode","text-rotate","text-keep-upright","text-transform","text-offset","text-optional","text-variable-anchor","text-radial-offset"]},{"title":"Icon layout properties","type":"properties","fields":["icon-image","icon-allow-overlap","icon-ignore-placement","icon-optional","icon-rotation-alignment","icon-size","icon-text-fit","icon-text-fit-padding","icon-rotate","icon-padding","icon-keep-upright","icon-offset","icon-anchor","icon-pitch-alignment"]},{"title":"Text paint properties","type":"properties","fields":["text-color","text-opacity","text-halo-color","text-halo-width","text-halo-blur","text-translate","text-translate-anchor"]},{"title":"Icon paint properties","type":"properties","fields":["icon-color","icon-opacity","icon-halo-color","icon-halo-width","icon-halo-blur","icon-translate","icon-translate-anchor"]}]},"raster":{"groups":[{"title":"Paint properties","type":"properties","fields":["raster-opacity","raster-hue-rotate","raster-brightness-min","raster-brightness-max","raster-saturation","raster-contrast","raster-fade-duration","raster-resampling"]}]},"hillshade":{"groups":[{"title":"Paint properties","type":"properties","fields":["hillshade-illumination-direction","hillshade-illumination-anchor","hillshade-exaggeration","hillshade-shadow-color","hillshade-highlight-color","hillshade-accent-color"]}]},"heatmap":{"groups":[{"title":"Paint properties","type":"properties","fields":["heatmap-radius","heatmap-weight","heatmap-intensity","heatmap-opacity"]}]},"invalid":{"groups":[]}}')},function(e,t,r){"use strict";var n,i=r(114),o=r(30),a=r(10),s=r(19),l=r(5),_=r(117),u=r(64),c=r(42),p=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});function d(e,t){_.a.expire()}var h=function(e){function t(t){var r=e.call(this)||this;return r.map_=t,r}return p(t,e),t.prototype.dispatchRenderEvent=function(e,t){Object(a.b)()},t.prototype.calculateMatrices2D=function(e){var t=e.viewState,r=e.coordinateToPixelTransform,n=e.pixelToCoordinateTransform;Object(s.b)(r,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),Object(s.d)(n,r)},t.prototype.forEachFeatureAtCoordinate=function(e,t,r,n,i,o,a,s){var _,p=t.viewState;function d(e,t,r,n){return i.call(o,t,e?r:null,n)}var h=p.projection,f=Object(c.f)(e.slice(),h),m=[[0,0]];if(h.canWrapX()&&n){var y=h.getExtent(),g=Object(l.E)(y);m.push([-g,0],[g,0])}for(var b=t.layerStatesArray,v=b.length,E=[],O=[],M=0;M<m.length;M++)for(var P=v-1;P>=0;--P){var x=b[P],w=x.layer;if(w.hasRenderer()&&Object(u.b)(x,p)&&a.call(s,w)){var C=w.getRenderer(),D=w.getSource();if(C&&D){var T=D.getWrapX()?f:e,k=d.bind(null,x.managed);O[0]=T[0]+m[M][0],O[1]=T[1]+m[M][1],_=C.forEachFeatureAtCoordinate(O,t,r,k,E)}if(_)return _}}if(0!==E.length){var A=1/E.length;return E.forEach((function(e,t){return e.distanceSq+=t*A})),E.sort((function(e,t){return e.distanceSq-t.distanceSq})),E.some((function(e){return _=e.callback(e.feature,e.layer,e.geometry)})),_}},t.prototype.forEachLayerAtPixel=function(e,t,r,n,i){return Object(a.b)()},t.prototype.hasFeatureAtCoordinate=function(e,t,r,n,i,a){return void 0!==this.forEachFeatureAtCoordinate(e,t,r,n,o.b,this,i,a)},t.prototype.getMap=function(){return this.map_},t.prototype.renderFrame=function(e){Object(a.b)()},t.prototype.scheduleExpireIconCache=function(e){_.a.canExpireCache()&&e.postRenderFunctions.push(d)},t}(i.a),f=r(80),m=r(153),y=r(74),g=r(40),b=r(17),v=r(16),E=r(25),O=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),M=function(e){function t(t){var r=e.call(this,t)||this;r.fontChangeListenerKey_=Object(v.a)(b.a,f.a.PROPERTYCHANGE,t.redrawText.bind(t)),r.element_=document.createElement("div");var n=r.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",r.element_.className=g.e+" ol-layers";var i=t.getViewport();return i.insertBefore(r.element_,i.firstChild||null),r.children_=[],r.renderedVisible_=!0,r}return O(t,e),t.prototype.dispatchRenderEvent=function(e,t){var r=this.getMap();if(r.hasListener(e)){var n=new m.a(e,void 0,t);r.dispatchEvent(n)}},t.prototype.disposeInternal=function(){Object(v.c)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),e.prototype.disposeInternal.call(this)},t.prototype.renderFrame=function(e){if(e){this.calculateMatrices2D(e),this.dispatchRenderEvent(y.a.PRECOMPOSE,e);var t=e.layerStatesArray.sort((function(e,t){return e.zIndex-t.zIndex})),r=e.viewState;this.children_.length=0;for(var n=[],i=null,o=0,a=t.length;o<a;++o){var s=t[o];e.layerIndex=o;var l=s.layer,_=l.getSourceState();if(!Object(u.b)(s,r)||"ready"!=_&&"undefined"!=_)l.unrender();else{var c=l.render(e,i);c&&(c!==i&&(this.children_.push(c),i=c),"getDeclutter"in l&&n.push(l))}}for(o=n.length-1;o>=0;--o)n[o].renderDeclutter(e);Object(E.g)(this.element_,this.children_),this.dispatchRenderEvent(y.a.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},t.prototype.forEachLayerAtPixel=function(e,t,r,n,i){for(var o=t.viewState,a=t.layerStatesArray,s=a.length-1;s>=0;--s){var l=a[s],_=l.layer;if(_.hasRenderer()&&Object(u.b)(l,o)&&i(_)){var c=_.getRenderer().getDataAtPixel(e,t,r);if(c){var p=n(_,c);if(p)return p}}}},t}(h),P=r(38),x=r(53),w=r(49),C=r(18),D=r(155),T=r(47),k=r(20),A=r(21),I=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),L=function(e){function t(t,r){var n=e.call(this,t)||this;return n.layer=r,n}return I(t,e),t}(T.a),R="layers",S=function(e){function t(t){var r=this,n=t||{},i=Object(A.a)({},n);delete i.layers;var o=n.layers;return(r=e.call(this,i)||this).on,r.once,r.un,r.layersListenerKeys_=[],r.listenerKeys_={},r.addChangeListener(R,r.handleLayersChanged_),o?Array.isArray(o)?o=new x.a(o.slice(),{unique:!0}):Object(k.a)("function"==typeof o.getArray,43):o=new x.a(void 0,{unique:!0}),r.setLayers(o),r}return I(t,e),t.prototype.handleLayerChange_=function(){this.changed()},t.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(v.c),this.layersListenerKeys_.length=0;var e=this.getLayers();for(var t in this.layersListenerKeys_.push(Object(v.a)(e,w.a.ADD,this.handleLayersAdd_,this),Object(v.a)(e,w.a.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[t].forEach(v.c);Object(A.b)(this.listenerKeys_);for(var r=e.getArray(),n=0,i=r.length;n<i;n++){var o=r[n];this.registerLayerListeners_(o),this.dispatchEvent(new L("addlayer",o))}this.changed()},t.prototype.registerLayerListeners_=function(e){var r=[Object(v.a)(e,f.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(v.a)(e,C.a.CHANGE,this.handleLayerChange_,this)];e instanceof t&&r.push(Object(v.a)(e,"addlayer",this.handleLayerGroupAdd_,this),Object(v.a)(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Object(a.c)(e)]=r},t.prototype.handleLayerGroupAdd_=function(e){this.dispatchEvent(new L("addlayer",e.layer))},t.prototype.handleLayerGroupRemove_=function(e){this.dispatchEvent(new L("removelayer",e.layer))},t.prototype.handleLayersAdd_=function(e){var t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new L("addlayer",t)),this.changed()},t.prototype.handleLayersRemove_=function(e){var t=e.element,r=Object(a.c)(t);this.listenerKeys_[r].forEach(v.c),delete this.listenerKeys_[r],this.dispatchEvent(new L("removelayer",t)),this.changed()},t.prototype.getLayers=function(){return this.get(R)},t.prototype.setLayers=function(e){var t=this.getLayers();if(t)for(var r=t.getArray(),n=0,i=r.length;n<i;++n)this.dispatchEvent(new L("removelayer",r[n]));this.set(R,e)},t.prototype.getLayersArray=function(e){var t=void 0!==e?e:[];return this.getLayers().forEach((function(e){e.getLayersArray(t)})),t},t.prototype.getLayerStatesArray=function(e){var t=void 0!==e?e:[],r=t.length;this.getLayers().forEach((function(e){e.getLayerStatesArray(t)}));var n=this.getLayerState(),i=n.zIndex;e||void 0!==n.zIndex||(i=0);for(var o=r,a=t.length;o<a;o++){var s=t[o];s.opacity*=n.opacity,s.visible=s.visible&&n.visible,s.maxResolution=Math.min(s.maxResolution,n.maxResolution),s.minResolution=Math.max(s.minResolution,n.minResolution),s.minZoom=Math.max(s.minZoom,n.minZoom),s.maxZoom=Math.min(s.maxZoom,n.maxZoom),void 0!==n.extent&&(void 0!==s.extent?s.extent=Object(l.A)(s.extent,n.extent):s.extent=n.extent),void 0===s.zIndex&&(s.zIndex=i)}return t},t.prototype.getSourceState=function(){return"ready"},t}(D.a),B=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),U=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.map=r,i.frameState=void 0!==n?n:null,i}return B(t,e),t}(T.a),W=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),K=function(e){function t(t,r,n,i,o,a){var s=e.call(this,t,r,o)||this;return s.originalEvent=n,s.pixel_=null,s.coordinate_=null,s.dragging=void 0!==i&&i,s.activePointers=a,s}return W(t,e),Object.defineProperty(t.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(e){this.pixel_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(e){this.coordinate_=e},enumerable:!1,configurable:!0}),t.prototype.preventDefault=function(){e.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){e.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},t}(U),j={SINGLECLICK:"singleclick",CLICK:C.a.CLICK,DBLCLICK:C.a.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},z="pointermove",F="pointerdown",q=r(70),N=r(39),H=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),G=function(e){function t(t,r){var n=e.call(this,t)||this;n.map_=t,n.clickTimeoutId_,n.emulateClicks_=!1,n.dragging_=!1,n.dragListenerKeys_=[],n.moveTolerance_=void 0===r?1:r,n.down_=null;var i=n.map_.getViewport();return n.activePointers_=[],n.trackedTouches_={},n.element_=i,n.pointerdownListenerKey_=Object(v.a)(i,F,n.handlePointerDown_,n),n.originalPointerMoveEvent_,n.relayedListenerKey_=Object(v.a)(i,z,n.relayMoveEvent_,n),n.boundHandleTouchMove_=n.handleTouchMove_.bind(n),n.element_.addEventListener(C.a.TOUCHMOVE,n.boundHandleTouchMove_,!!N.e&&{passive:!1}),n}return H(t,e),t.prototype.emulateClick_=function(e){var t=new K(j.CLICK,this.map_,e);this.dispatchEvent(t),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new K(j.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var t=new K(j.SINGLECLICK,this.map_,e);this.dispatchEvent(t)}.bind(this),250)},t.prototype.updateActivePointers_=function(e){var t=e,r=t.pointerId;if(t.type==j.POINTERUP||t.type==j.POINTERCANCEL){for(var n in delete this.trackedTouches_[r],this.trackedTouches_)if(this.trackedTouches_[n].target!==t.target){delete this.trackedTouches_[n];break}}else t.type!=j.POINTERDOWN&&t.type!=j.POINTERMOVE||(this.trackedTouches_[r]=t);this.activePointers_=Object(A.c)(this.trackedTouches_)},t.prototype.handlePointerUp_=function(e){this.updateActivePointers_(e);var t=new K(j.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(v.c),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},t.prototype.isMouseActionButton_=function(e){return 0===e.button},t.prototype.handlePointerDown_=function(e){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(e);var t=new K(j.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);for(var r in this.dispatchEvent(t),this.down_={},e){var n=e[r];this.down_[r]="function"==typeof n?o.c:n}if(0===this.dragListenerKeys_.length){var i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Object(v.a)(i,j.POINTERMOVE,this.handlePointerMove_,this),Object(v.a)(i,j.POINTERUP,this.handlePointerUp_,this),Object(v.a)(this.element_,j.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(Object(v.a)(this.element_.getRootNode(),j.POINTERUP,this.handlePointerUp_,this))}},t.prototype.handlePointerMove_=function(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;var t=new K(j.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}},t.prototype.relayMoveEvent_=function(e){this.originalPointerMoveEvent_=e;var t=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new K(j.POINTERMOVE,this.map_,e,t))},t.prototype.handleTouchMove_=function(e){var t=this.originalPointerMoveEvent_;t&&!t.defaultPrevented||"boolean"==typeof e.cancelable&&!0!==e.cancelable||e.preventDefault()},t.prototype.isMoving_=function(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_},t.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Object(v.c)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(C.a.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Object(v.c)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(v.c),this.dragListenerKeys_.length=0,this.element_=null,e.prototype.disposeInternal.call(this)},t}(q.a),V=r(76),Z="layergroup",X="size",$="target",Y="view",J=function(){function e(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return e.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Object(A.b)(this.queuedElements_)},e.prototype.dequeue=function(){var e=this.elements_,t=this.priorities_,r=e[0];1==e.length?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));var n=this.keyFunction_(r);return delete this.queuedElements_[n],r},e.prototype.enqueue=function(e){Object(k.a)(!(this.keyFunction_(e)in this.queuedElements_),31);var t=this.priorityFunction_(e);return t!=1/0&&(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},e.prototype.getCount=function(){return this.elements_.length},e.prototype.getLeftChildIndex_=function(e){return 2*e+1},e.prototype.getRightChildIndex_=function(e){return 2*e+2},e.prototype.getParentIndex_=function(e){return e-1>>1},e.prototype.heapify_=function(){var e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)},e.prototype.isEmpty=function(){return 0===this.elements_.length},e.prototype.isKeyQueued=function(e){return e in this.queuedElements_},e.prototype.isQueued=function(e){return this.isKeyQueued(this.keyFunction_(e))},e.prototype.siftUp_=function(e){for(var t=this.elements_,r=this.priorities_,n=t.length,i=t[e],o=r[e],a=e;e<n>>1;){var s=this.getLeftChildIndex_(e),l=this.getRightChildIndex_(e),_=l<n&&r[l]<r[s]?l:s;t[e]=t[_],r[e]=r[_],e=_}t[e]=i,r[e]=o,this.siftDown_(a,e)},e.prototype.siftDown_=function(e,t){for(var r=this.elements_,n=this.priorities_,i=r[t],o=n[t];t>e;){var a=this.getParentIndex_(t);if(!(n[a]>o))break;r[t]=r[a],n[t]=n[a],t=a}r[t]=i,n[t]=o},e.prototype.reprioritize=function(){var e,t,r,n=this.priorityFunction_,i=this.elements_,o=this.priorities_,a=0,s=i.length;for(t=0;t<s;++t)(r=n(e=i[t]))==1/0?delete this.queuedElements_[this.keyFunction_(e)]:(o[a]=r,i[a++]=e);i.length=a,o.length=a,this.heapify_()},e}(),Q=r(15),ee=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),te=function(e){function t(t,r){var n=e.call(this,(function(e){return t.apply(null,e)}),(function(e){return e[0].getKey()}))||this;return n.boundHandleTileChange_=n.handleTileChange.bind(n),n.tileChangeCallback_=r,n.tilesLoading_=0,n.tilesLoadingKeys_={},n}return ee(t,e),t.prototype.enqueue=function(t){var r=e.prototype.enqueue.call(this,t);r&&t[0].addEventListener(C.a.CHANGE,this.boundHandleTileChange_);return r},t.prototype.getTilesLoading=function(){return this.tilesLoading_},t.prototype.handleTileChange=function(e){var t=e.target,r=t.getState();if(r===Q.a.LOADED||r===Q.a.ERROR||r===Q.a.EMPTY){t.removeEventListener(C.a.CHANGE,this.boundHandleTileChange_);var n=t.getKey();n in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[n],--this.tilesLoading_),this.tileChangeCallback_()}},t.prototype.loadMoreTiles=function(e,t){for(var r,n,i=0;this.tilesLoading_<e&&i<t&&this.getCount()>0;)n=(r=this.dequeue()[0]).getKey(),r.getState()!==Q.a.IDLE||n in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[n]=!0,++this.tilesLoading_,++i,r.load())},t}(J);var re=r(83),ne=r(36),ie=r(12),oe=r(35),ae=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function se(e){e instanceof u.a?e.setMapInternal(null):e instanceof S&&e.getLayers().forEach(se)}var le=function(e){function t(t){var r=e.call(this)||this;r.on,r.once,r.un;var n=function(e){var t=null;void 0!==e.keyboardEventTarget&&(t="string"==typeof e.keyboardEventTarget?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);var r,n,i,o={},a=e.layers&&"function"==typeof e.layers.getLayers?e.layers:new S({layers:e.layers});o[Z]=a,o[$]=e.target,o[Y]=e.view instanceof re.a?e.view:new re.a,void 0!==e.controls&&(Array.isArray(e.controls)?r=new x.a(e.controls.slice()):(Object(k.a)("function"==typeof e.controls.getArray,47),r=e.controls));void 0!==e.interactions&&(Array.isArray(e.interactions)?n=new x.a(e.interactions.slice()):(Object(k.a)("function"==typeof e.interactions.getArray,48),n=e.interactions));void 0!==e.overlays?Array.isArray(e.overlays)?i=new x.a(e.overlays.slice()):(Object(k.a)("function"==typeof e.overlays.getArray,49),i=e.overlays):i=new x.a;return{controls:r,interactions:n,keyboardEventTarget:t,overlays:i,values:o}}(t);r.renderComplete_,r.loaded_=!0,r.boundHandleBrowserEvent_=r.handleBrowserEvent.bind(r),r.maxTilesLoading_=void 0!==t.maxTilesLoading?t.maxTilesLoading:16,r.pixelRatio_=void 0!==t.pixelRatio?t.pixelRatio:N.a,r.postRenderTimeoutHandle_,r.animationDelayKey_,r.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(r),r.coordinateToPixelTransform_=Object(s.c)(),r.pixelToCoordinateTransform_=Object(s.c)(),r.frameIndex_=0,r.frameState_=null,r.previousExtent_=null,r.viewPropertyListenerKey_=null,r.viewChangeListenerKey_=null,r.layerGroupPropertyListenerKeys_=null,r.viewport_=document.createElement("div"),r.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),r.viewport_.style.position="relative",r.viewport_.style.overflow="hidden",r.viewport_.style.width="100%",r.viewport_.style.height="100%",r.overlayContainer_=document.createElement("div"),r.overlayContainer_.style.position="absolute",r.overlayContainer_.style.zIndex="0",r.overlayContainer_.style.width="100%",r.overlayContainer_.style.height="100%",r.overlayContainer_.style.pointerEvents="none",r.overlayContainer_.className="ol-overlaycontainer",r.viewport_.appendChild(r.overlayContainer_),r.overlayContainerStopEvent_=document.createElement("div"),r.overlayContainerStopEvent_.style.position="absolute",r.overlayContainerStopEvent_.style.zIndex="0",r.overlayContainerStopEvent_.style.width="100%",r.overlayContainerStopEvent_.style.height="100%",r.overlayContainerStopEvent_.style.pointerEvents="none",r.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",r.viewport_.appendChild(r.overlayContainerStopEvent_),r.mapBrowserEventHandler_=null,r.moveTolerance_=t.moveTolerance,r.keyboardEventTarget_=n.keyboardEventTarget,r.targetChangeHandlerKeys_=null,r.controls=n.controls||new x.a,r.interactions=n.interactions||new x.a,r.overlays_=n.overlays,r.overlayIdIndex_={},r.renderer_=null,r.postRenderFunctions_=[],r.tileQueue_=new te(r.getTilePriority.bind(r),r.handleTileChange_.bind(r)),r.addChangeListener(Z,r.handleLayerGroupChanged_),r.addChangeListener(Y,r.handleViewChanged_),r.addChangeListener(X,r.handleSizeChanged_),r.addChangeListener($,r.handleTargetChanged_),r.setProperties(n.values);var i=r;return!t.view||t.view instanceof re.a||t.view.then((function(e){i.setView(new re.a(e))})),r.controls.addEventListener(w.a.ADD,function(e){e.element.setMap(this)}.bind(r)),r.controls.addEventListener(w.a.REMOVE,function(e){e.element.setMap(null)}.bind(r)),r.interactions.addEventListener(w.a.ADD,function(e){e.element.setMap(this)}.bind(r)),r.interactions.addEventListener(w.a.REMOVE,function(e){e.element.setMap(null)}.bind(r)),r.overlays_.addEventListener(w.a.ADD,function(e){this.addOverlayInternal_(e.element)}.bind(r)),r.overlays_.addEventListener(w.a.REMOVE,function(e){var t=e.element.getId();void 0!==t&&delete this.overlayIdIndex_[t.toString()],e.element.setMap(null)}.bind(r)),r.controls.forEach(function(e){e.setMap(this)}.bind(r)),r.interactions.forEach(function(e){e.setMap(this)}.bind(r)),r.overlays_.forEach(r.addOverlayInternal_.bind(r)),r}return ae(t,e),t.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},t.prototype.addControl=function(e){this.getControls().push(e)},t.prototype.addInteraction=function(e){this.getInteractions().push(e)},t.prototype.addLayer=function(e){this.getLayerGroup().getLayers().push(e)},t.prototype.handleLayerAdd_=function(e){!function e(t,r){if(t instanceof u.a)t.setMapInternal(r);else if(t instanceof S)for(var n=t.getLayers().getArray(),i=0,o=n.length;i<o;++i)e(n[i],r)}(e.layer,this)},t.prototype.addOverlay=function(e){this.getOverlays().push(e)},t.prototype.addOverlayInternal_=function(e){var t=e.getId();void 0!==t&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)},t.prototype.disposeInternal=function(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.setTarget(null),e.prototype.disposeInternal.call(this)},t.prototype.forEachFeatureAtPixel=function(e,t,r){if(this.frameState_&&this.renderer_){var n=this.getCoordinateFromPixelInternal(e),i=void 0!==(r=void 0!==r?r:{}).hitTolerance?r.hitTolerance:0,a=void 0!==r.layerFilter?r.layerFilter:o.b,s=!1!==r.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(n,this.frameState_,i,s,t,null,a,null)}},t.prototype.getFeaturesAtPixel=function(e,t){var r=[];return this.forEachFeatureAtPixel(e,(function(e){r.push(e)}),t),r},t.prototype.getAllLayers=function(){var e=[];return function t(r){r.forEach((function(r){r instanceof S?t(r.getLayers()):e.push(r)}))}(this.getLayers()),e},t.prototype.forEachLayerAtPixel=function(e,t,r){if(this.frameState_&&this.renderer_){var n=r||{},i=void 0!==n.hitTolerance?n.hitTolerance:0,a=n.layerFilter||o.b;return this.renderer_.forEachLayerAtPixel(e,this.frameState_,i,t,a)}},t.prototype.hasFeatureAtPixel=function(e,t){if(!this.frameState_||!this.renderer_)return!1;var r=this.getCoordinateFromPixelInternal(e),n=void 0!==(t=void 0!==t?t:{}).layerFilter?t.layerFilter:o.b,i=void 0!==t.hitTolerance?t.hitTolerance:0,a=!1!==t.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,i,a,n,null)},t.prototype.getEventCoordinate=function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))},t.prototype.getEventCoordinateInternal=function(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))},t.prototype.getEventPixel=function(e){var t=this.viewport_.getBoundingClientRect(),r="changedTouches"in e?e.changedTouches[0]:e;return[r.clientX-t.left,r.clientY-t.top]},t.prototype.getTarget=function(){return this.get($)},t.prototype.getTargetElement=function(){var e=this.getTarget();return void 0!==e?"string"==typeof e?document.getElementById(e):e:null},t.prototype.getCoordinateFromPixel=function(e){return Object(ie.o)(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())},t.prototype.getCoordinateFromPixelInternal=function(e){var t=this.frameState_;return t?Object(s.a)(t.pixelToCoordinateTransform,e.slice()):null},t.prototype.getControls=function(){return this.controls},t.prototype.getOverlays=function(){return this.overlays_},t.prototype.getOverlayById=function(e){var t=this.overlayIdIndex_[e.toString()];return void 0!==t?t:null},t.prototype.getInteractions=function(){return this.interactions},t.prototype.getLayerGroup=function(){return this.get(Z)},t.prototype.setLayers=function(e){var t=this.getLayerGroup();if(e instanceof x.a)t.setLayers(e);else{var r=t.getLayers();r.clear(),r.extend(e)}},t.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},t.prototype.getLoadingOrNotReady=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),t=0,r=e.length;t<r;++t){var n=e[t];if(n.visible){var i=n.layer.getRenderer();if(i&&!i.ready)return!0;var o=n.layer.getSource();if(o&&o.loading)return!0}}return!1},t.prototype.getPixelFromCoordinate=function(e){var t=Object(ie.f)(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)},t.prototype.getPixelFromCoordinateInternal=function(e){var t=this.frameState_;return t?Object(s.a)(t.coordinateToPixelTransform,e.slice(0,2)):null},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.getSize=function(){return this.get(X)},t.prototype.getView=function(){return this.get(Y)},t.prototype.getViewport=function(){return this.viewport_},t.prototype.getOverlayContainer=function(){return this.overlayContainer_},t.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},t.prototype.getOwnerDocument=function(){var e=this.getTargetElement();return e?e.ownerDocument:document},t.prototype.getTilePriority=function(e,t,r,n){return function(e,t,r,n,i){if(!e||!(r in e.wantedTiles))return 1/0;if(!e.wantedTiles[r][t.getKey()])return 1/0;var o=e.viewState.center,a=n[0]-o[0],s=n[1]-o[1];return 65536*Math.log(i)+Math.sqrt(a*a+s*s)/i}(this.frameState_,e,t,r,n)},t.prototype.handleBrowserEvent=function(e,t){var r=t||e.type,n=new K(r,this,e);this.handleMapBrowserEvent(n)},t.prototype.handleMapBrowserEvent=function(e){if(this.frameState_){var t=e.originalEvent,r=t.type;if(r===F||r===C.a.WHEEL||r===C.a.KEYDOWN){var n=this.getOwnerDocument(),i=this.viewport_.getRootNode?this.viewport_.getRootNode():n,o=t.target;if(this.overlayContainerStopEvent_.contains(o)||!(i===n?n.documentElement:i).contains(o))return}if(e.frameState=this.frameState_,!1!==this.dispatchEvent(e))for(var a=this.getInteractions().getArray().slice(),s=a.length-1;s>=0;s--){var l=a[s];if(l.getMap()===this&&l.getActive()&&this.getTargetElement())if(!l.handleEvent(e)||e.propagationStopped)break}}},t.prototype.handlePostRender=function(){var e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){var r=this.maxTilesLoading_,n=r;if(e){var i=e.viewHints;if(i[ne.a.ANIMATING]||i[ne.a.INTERACTING]){var o=Date.now()-e.time>8;r=o?0:8,n=o?0:2}}t.getTilesLoading()<r&&(t.reprioritize(),t.loadMoreTiles(r,n))}e&&this.renderer_&&!e.animate&&(!0===this.renderComplete_?(this.hasListener(y.a.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(y.a.RENDERCOMPLETE,e),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new U(V.a.LOADEND,this,e)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new U(V.a.LOADSTART,this,e))));for(var a=this.postRenderFunctions_,s=0,l=a.length;s<l;++s)a[s](this,e);a.length=0},t.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},t.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var e=0,t=this.targetChangeHandlerKeys_.length;e<t;++e)Object(v.c)(this.targetChangeHandlerKeys_[e]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(C.a.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(C.a.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Object(E.f)(this.viewport_)}var r=this.getTargetElement();if(r){for(var n in r.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new G(this,this.moveTolerance_),j)this.mapBrowserEventHandler_.addEventListener(j[n],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(C.a.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(C.a.WHEEL,this.boundHandleBrowserEvent_,!!N.e&&{passive:!1});var i=this.getOwnerDocument().defaultView,o=this.keyboardEventTarget_?this.keyboardEventTarget_:r;this.targetChangeHandlerKeys_=[Object(v.a)(o,C.a.KEYDOWN,this.handleBrowserEvent,this),Object(v.a)(o,C.a.KEYPRESS,this.handleBrowserEvent,this),Object(v.a)(i,C.a.RESIZE,this.updateSize,this)]}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},t.prototype.handleTileChange_=function(){this.render()},t.prototype.handleViewPropertyChanged_=function(){this.render()},t.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Object(v.c)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Object(v.c)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Object(v.a)(e,f.a.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Object(v.a)(e,C.a.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()},t.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(v.c),this.layerGroupPropertyListenerKeys_=null);var e=this.getLayerGroup();e&&(this.handleLayerAdd_(new L("addlayer",e)),this.layerGroupPropertyListenerKeys_=[Object(v.a)(e,f.a.PROPERTYCHANGE,this.render,this),Object(v.a)(e,C.a.CHANGE,this.render,this),Object(v.a)(e,"addlayer",this.handleLayerAdd_,this),Object(v.a)(e,"removelayer",this.handleLayerRemove_,this)]),this.render()},t.prototype.isRendered=function(){return!!this.frameState_},t.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},t.prototype.redrawText=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),t=0,r=e.length;t<r;++t){var n=e[t].layer;n.hasRenderer()&&n.getRenderer().handleFontsChanged()}},t.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},t.prototype.removeControl=function(e){return this.getControls().remove(e)},t.prototype.removeInteraction=function(e){return this.getInteractions().remove(e)},t.prototype.removeLayer=function(e){return this.getLayerGroup().getLayers().remove(e)},t.prototype.handleLayerRemove_=function(e){se(e.layer)},t.prototype.removeOverlay=function(e){return this.getOverlays().remove(e)},t.prototype.renderFrame_=function(e){var t=this,r=this.getSize(),n=this.getView(),i=this.frameState_,o=null;if(void 0!==r&&Object(oe.a)(r)&&n&&n.isDef()){var s=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),_=n.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:Object(l.y)(_.center,_.resolution,_.rotation,r),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:r,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:_,viewHints:s,wantedTiles:{},mapId:Object(a.c)(this),renderTargets:{}},_.nextCenter&&_.nextResolution){var u=isNaN(_.nextRotation)?_.rotation:_.nextRotation;o.nextExtent=Object(l.y)(_.nextCenter,_.nextResolution,u,r)}}if(this.frameState_=o,this.renderer_.renderFrame(o),o){if(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),i)(!this.previousExtent_||!Object(l.H)(this.previousExtent_)&&!Object(l.o)(o.extent,this.previousExtent_))&&(this.dispatchEvent(new U(V.a.MOVESTART,this,i)),this.previousExtent_=Object(l.l)(this.previousExtent_));this.previousExtent_&&!o.viewHints[ne.a.ANIMATING]&&!o.viewHints[ne.a.INTERACTING]&&!Object(l.o)(o.extent,this.previousExtent_)&&(this.dispatchEvent(new U(V.a.MOVEEND,this,o)),Object(l.d)(o.extent,this.previousExtent_))}this.dispatchEvent(new U(V.a.POSTRENDER,this,o)),this.renderComplete_=this.hasListener(V.a.LOADSTART)||this.hasListener(V.a.LOADEND)||this.hasListener(y.a.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((function(){t.postRenderTimeoutHandle_=void 0,t.handlePostRender()}),0))},t.prototype.setLayerGroup=function(e){var t=this.getLayerGroup();t&&this.handleLayerRemove_(new L("removelayer",t)),this.set(Z,e)},t.prototype.setSize=function(e){this.set(X,e)},t.prototype.setTarget=function(e){this.set($,e)},t.prototype.setView=function(e){if(!e||e instanceof re.a)this.set(Y,e);else{this.set(Y,new re.a);var t=this;e.then((function(e){t.setView(new re.a(e))}))}},t.prototype.updateSize=function(){var e=this.getTargetElement(),t=void 0;if(e){var r=getComputedStyle(e),n=e.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),i=e.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);isNaN(n)||isNaN(i)||(t=[n,i],!Object(oe.a)(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(t),this.updateViewportSize_()},t.prototype.updateViewportSize_=function(){var e=this.getView();if(e){var t=void 0,r=getComputedStyle(this.viewport_);r.width&&r.height&&(t=[parseInt(r.width,10),parseInt(r.height,10)]),e.setViewportSize(t)}},t}(P.a),_e=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ue=function(e){function t(t){var r=e.call(this)||this,n=t.element;return!n||t.target||n.style.pointerEvents||(n.style.pointerEvents="auto"),r.element=n||null,r.target_=null,r.map_=null,r.listenerKeys=[],t.render&&(r.render=t.render),t.target&&r.setTarget(t.target),r}return _e(t,e),t.prototype.disposeInternal=function(){Object(E.f)(this.element),e.prototype.disposeInternal.call(this)},t.prototype.getMap=function(){return this.map_},t.prototype.setMap=function(e){this.map_&&Object(E.f)(this.element);for(var t=0,r=this.listenerKeys.length;t<r;++t)Object(v.c)(this.listenerKeys[t]);(this.listenerKeys.length=0,this.map_=e,e)&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==o.c&&this.listenerKeys.push(Object(v.a)(e,V.a.POSTRENDER,this.render,this)),e.render())},t.prototype.render=function(e){},t.prototype.setTarget=function(e){this.target_="string"==typeof e?document.getElementById(e):e},t}(P.a),ce=r(23),pe=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),de=function(e){function t(t){var r=this,n=t||{};(r=e.call(this,{element:document.createElement("div"),render:n.render,target:n.target})||this).ulElement_=document.createElement("ul"),r.collapsed_=void 0===n.collapsed||n.collapsed,r.userCollapsed_=r.collapsed_,r.overrideCollapsible_=void 0!==n.collapsible,r.collapsible_=void 0===n.collapsible||n.collapsible,r.collapsible_||(r.collapsed_=!1);var i=void 0!==n.className?n.className:"ol-attribution",o=void 0!==n.tipLabel?n.tipLabel:"Attributions",a=void 0!==n.expandClassName?n.expandClassName:i+"-expand",s=void 0!==n.collapseLabel?n.collapseLabel:"›",l=void 0!==n.collapseClassName?n.collapseClassName:i+"-collapse";"string"==typeof s?(r.collapseLabel_=document.createElement("span"),r.collapseLabel_.textContent=s,r.collapseLabel_.className=l):r.collapseLabel_=s;var _=void 0!==n.label?n.label:"i";"string"==typeof _?(r.label_=document.createElement("span"),r.label_.textContent=_,r.label_.className=a):r.label_=_;var u=r.collapsible_&&!r.collapsed_?r.collapseLabel_:r.label_;r.toggleButton_=document.createElement("button"),r.toggleButton_.setAttribute("type","button"),r.toggleButton_.setAttribute("aria-expanded",String(!r.collapsed_)),r.toggleButton_.title=o,r.toggleButton_.appendChild(u),r.toggleButton_.addEventListener(C.a.CLICK,r.handleClick_.bind(r),!1);var c=i+" "+g.e+" "+g.b+(r.collapsed_&&r.collapsible_?" "+g.a:"")+(r.collapsible_?"":" ol-uncollapsible"),p=r.element;return p.className=c,p.appendChild(r.toggleButton_),p.appendChild(r.ulElement_),r.renderedAttributions_=[],r.renderedVisible_=!0,r}return pe(t,e),t.prototype.collectSourceAttributions_=function(e){for(var t={},r=[],n=!0,i=e.layerStatesArray,o=0,a=i.length;o<a;++o){var s=i[o];if(Object(u.b)(s,e.viewState)){var l=s.layer.getSource();if(l){var _=l.getAttributions();if(_){var c=_(e);if(c)if(n=n&&!1!==l.getAttributionsCollapsible(),Array.isArray(c))for(var p=0,d=c.length;p<d;++p)c[p]in t||(r.push(c[p]),t[c[p]]=!0);else c in t||(r.push(c),t[c]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(n),r},t.prototype.updateElement_=function(e){if(e){var t=this.collectSourceAttributions_(e),r=t.length>0;if(this.renderedVisible_!=r&&(this.element.style.display=r?"":"none",this.renderedVisible_=r),!Object(ce.b)(t,this.renderedAttributions_)){Object(E.e)(this.ulElement_);for(var n=0,i=t.length;n<i;++n){var o=document.createElement("li");o.innerHTML=t[n],this.ulElement_.appendChild(o)}this.renderedAttributions_=t}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},t.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},t.prototype.handleToggle_=function(){this.element.classList.toggle(g.a),this.collapsed_?Object(E.h)(this.collapseLabel_,this.label_):Object(E.h)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},t.prototype.getCollapsible=function(){return this.collapsible_},t.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},t.prototype.setCollapsed=function(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},t.prototype.getCollapsed=function(){return this.collapsed_},t.prototype.render=function(e){this.updateElement_(e.frameState)},t}(ue),he=r(56),fe=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),me=function(e){function t(t){var r=this,n=t||{};r=e.call(this,{element:document.createElement("div"),render:n.render,target:n.target})||this;var i=void 0!==n.className?n.className:"ol-rotate",o=void 0!==n.label?n.label:"⇧",a=void 0!==n.compassClassName?n.compassClassName:"ol-compass";r.label_=null,"string"==typeof o?(r.label_=document.createElement("span"),r.label_.className=a,r.label_.textContent=o):(r.label_=o,r.label_.classList.add(a));var s=n.tipLabel?n.tipLabel:"Reset rotation",l=document.createElement("button");l.className=i+"-reset",l.setAttribute("type","button"),l.title=s,l.appendChild(r.label_),l.addEventListener(C.a.CLICK,r.handleClick_.bind(r),!1);var _=i+" "+g.e+" "+g.b,u=r.element;return u.className=_,u.appendChild(l),r.callResetNorth_=n.resetNorth?n.resetNorth:void 0,r.duration_=void 0!==n.duration?n.duration:250,r.autoHide_=void 0===n.autoHide||n.autoHide,r.rotation_=void 0,r.autoHide_&&r.element.classList.add(g.c),r}return fe(t,e),t.prototype.handleClick_=function(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},t.prototype.resetNorth_=function(){var e=this.getMap().getView();if(e){var t=e.getRotation();void 0!==t&&(this.duration_>0&&t%(2*Math.PI)!=0?e.animate({rotation:0,duration:this.duration_,easing:he.b}):e.setRotation(0))}},t.prototype.render=function(e){var t=e.frameState;if(t){var r=t.viewState.rotation;if(r!=this.rotation_){var n="rotate("+r+"rad)";if(this.autoHide_){var i=this.element.classList.contains(g.c);i||0!==r?i&&0!==r&&this.element.classList.remove(g.c):this.element.classList.add(g.c)}this.label_.style.transform=n}this.rotation_=r}},t}(ue),ye=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ge=function(e){function t(t){var r=this,n=t||{};r=e.call(this,{element:document.createElement("div"),target:n.target})||this;var i=void 0!==n.className?n.className:"ol-zoom",o=void 0!==n.delta?n.delta:1,a=void 0!==n.zoomInClassName?n.zoomInClassName:i+"-in",s=void 0!==n.zoomOutClassName?n.zoomOutClassName:i+"-out",l=void 0!==n.zoomInLabel?n.zoomInLabel:"+",_=void 0!==n.zoomOutLabel?n.zoomOutLabel:"–",u=void 0!==n.zoomInTipLabel?n.zoomInTipLabel:"Zoom in",c=void 0!==n.zoomOutTipLabel?n.zoomOutTipLabel:"Zoom out",p=document.createElement("button");p.className=a,p.setAttribute("type","button"),p.title=u,p.appendChild("string"==typeof l?document.createTextNode(l):l),p.addEventListener(C.a.CLICK,r.handleClick_.bind(r,o),!1);var d=document.createElement("button");d.className=s,d.setAttribute("type","button"),d.title=c,d.appendChild("string"==typeof _?document.createTextNode(_):_),d.addEventListener(C.a.CLICK,r.handleClick_.bind(r,-o),!1);var h=i+" "+g.e+" "+g.b,f=r.element;return f.className=h,f.appendChild(p),f.appendChild(d),r.duration_=void 0!==n.duration?n.duration:250,r}return ye(t,e),t.prototype.handleClick_=function(e,t){t.preventDefault(),this.zoomByDelta_(e)},t.prototype.zoomByDelta_=function(e){var t=this.getMap().getView();if(t){var r=t.getZoom();if(void 0!==r){var n=t.getConstrainedZoom(r+e);this.duration_>0?(t.getAnimating()&&t.cancelAnimations(),t.animate({zoom:n,duration:this.duration_,easing:he.b})):t.setZoom(n)}}},t}(ue);var be="active",ve=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function Ee(e,t,r,n){var i=e.getZoom();if(void 0!==i){var o=e.getConstrainedZoom(i+t),a=e.getResolutionForZoom(o);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:a,anchor:r,duration:void 0!==n?n:250,easing:he.b})}}var Oe=function(e){function t(t){var r=e.call(this)||this;return r.on,r.once,r.un,t&&t.handleEvent&&(r.handleEvent=t.handleEvent),r.map_=null,r.setActive(!0),r}return ve(t,e),t.prototype.getActive=function(){return this.get(be)},t.prototype.getMap=function(){return this.map_},t.prototype.handleEvent=function(e){return!0},t.prototype.setActive=function(e){this.set(be,e)},t.prototype.setMap=function(e){this.map_=e},t}(P.a),Me=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pe=function(e){function t(t){var r=e.call(this)||this,n=t||{};return r.delta_=n.delta?n.delta:1,r.duration_=void 0!==n.duration?n.duration:250,r}return Me(t,e),t.prototype.handleEvent=function(e){var t=!1;if(e.type==j.DBLCLICK){var r=e.originalEvent,n=e.map,i=e.coordinate,o=r.shiftKey?-this.delta_:this.delta_;Ee(n.getView(),o,i,this.duration_),r.preventDefault(),t=!0}return!t},t}(Oe),xe=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function we(e){for(var t=e.length,r=0,n=0,i=0;i<t;i++)r+=e[i].clientX,n+=e[i].clientY;return[r/t,n/t]}var Ce=function(e){function t(t){var r=this,n=t||{};return r=e.call(this,n)||this,n.handleDownEvent&&(r.handleDownEvent=n.handleDownEvent),n.handleDragEvent&&(r.handleDragEvent=n.handleDragEvent),n.handleMoveEvent&&(r.handleMoveEvent=n.handleMoveEvent),n.handleUpEvent&&(r.handleUpEvent=n.handleUpEvent),n.stopDown&&(r.stopDown=n.stopDown),r.handlingDownUpSequence=!1,r.targetPointers=[],r}return xe(t,e),t.prototype.getPointerCount=function(){return this.targetPointers.length},t.prototype.handleDownEvent=function(e){return!1},t.prototype.handleDragEvent=function(e){},t.prototype.handleEvent=function(e){if(!e.originalEvent)return!0;var t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==j.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==j.POINTERUP){var r=this.handleUpEvent(e);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(e.type==j.POINTERDOWN){var n=this.handleDownEvent(e);this.handlingDownUpSequence=n,t=this.stopDown(n)}else e.type==j.POINTERMOVE&&this.handleMoveEvent(e);return!t},t.prototype.handleMoveEvent=function(e){},t.prototype.handleUpEvent=function(e){return!1},t.prototype.stopDown=function(e){return e},t.prototype.updateTrackedPointers_=function(e){e.activePointers&&(this.targetPointers=e.activePointers)},t}(Oe);function De(e){var t=arguments;return function(e){for(var r=!0,n=0,i=t.length;n<i&&(r=r&&t[n](e));++n);return r}}var Te=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},ke=function(e){return!e.map.getTargetElement().hasAttribute("tabindex")||function(e){var t=e.map.getTargetElement(),r=e.map.getOwnerDocument().activeElement;return t.contains(r)}(e)},Ae=o.b,Ie=function(e){var t=e.originalEvent;return 0==t.button&&!(N.f&&N.d&&t.ctrlKey)},Le=(o.a,function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}),Re=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},Se=function(e){var t=e.originalEvent,r=t.target.tagName;return"INPUT"!==r&&"SELECT"!==r&&"TEXTAREA"!==r&&!t.target.isContentEditable},Be=function(e){var t=e.originalEvent;return Object(k.a)(void 0!==t,56),"mouse"==t.pointerType},Ue=function(e){var t=e.originalEvent;return Object(k.a)(void 0!==t,56),t.isPrimary&&0===t.button},We=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ke=function(e){function t(t){var r=e.call(this,{stopDown:o.a})||this,n=t||{};r.kinetic_=n.kinetic,r.lastCentroid=null,r.lastPointersCount_,r.panning_=!1;var i=n.condition?n.condition:De(Le,Ue);return r.condition_=n.onFocusOnly?De(ke,i):i,r.noKinetic_=!1,r}return We(t,e),t.prototype.handleDragEvent=function(e){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var t=this.targetPointers,r=we(t);if(t.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){var n=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],i=e.map.getView();Object(c.e)(n,i.getResolution()),Object(c.d)(n,i.getRotation()),i.adjustCenterInternal(n)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=t.length,e.originalEvent.preventDefault()},t.prototype.handleUpEvent=function(e){var t=e.map,r=t.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var n=this.kinetic_.getDistance(),i=this.kinetic_.getAngle(),o=r.getCenterInternal(),a=t.getPixelFromCoordinateInternal(o),s=t.getCoordinateFromPixelInternal([a[0]-n*Math.cos(i),a[1]-n*Math.sin(i)]);r.animateInternal({center:r.getConstrainedCenter(s),duration:500,easing:he.b})}return this.panning_&&(this.panning_=!1,r.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},t.prototype.handleDownEvent=function(e){if(this.targetPointers.length>0&&this.condition_(e)){var t=e.map.getView();return this.lastCentroid=null,t.getAnimating()&&t.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},t}(Ce),je=r(90),ze=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fe=function(e){function t(t){var r=this,n=t||{};return(r=e.call(this,{stopDown:o.a})||this).condition_=n.condition?n.condition:Te,r.lastAngle_=void 0,r.duration_=void 0!==n.duration?n.duration:250,r}return ze(t,e),t.prototype.handleDragEvent=function(e){if(Be(e)){var t=e.map,r=t.getView();if(r.getConstraints().rotation!==je.c){var n=t.getSize(),i=e.pixel,o=Math.atan2(n[1]/2-i[1],i[0]-n[0]/2);if(void 0!==this.lastAngle_){var a=o-this.lastAngle_;r.adjustRotationInternal(-a)}this.lastAngle_=o}}},t.prototype.handleUpEvent=function(e){return!Be(e)||(e.map.getView().endInteraction(this.duration_),!1)},t.prototype.handleDownEvent=function(e){return!!Be(e)&&(!(!Ie(e)||!this.condition_(e))&&(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))},t}(Ce),qe=r(72),Ne=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),He=function(e){function t(t){var r=e.call(this)||this;return r.geometry_=null,r.element_=document.createElement("div"),r.element_.style.position="absolute",r.element_.style.pointerEvents="auto",r.element_.className="ol-box "+t,r.map_=null,r.startPixel_=null,r.endPixel_=null,r}return Ne(t,e),t.prototype.disposeInternal=function(){this.setMap(null)},t.prototype.render_=function(){var e=this.startPixel_,t=this.endPixel_,r=this.element_.style;r.left=Math.min(e[0],t[0])+"px",r.top=Math.min(e[1],t[1])+"px",r.width=Math.abs(t[0]-e[0])+"px",r.height=Math.abs(t[1]-e[1])+"px"},t.prototype.setMap=function(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},t.prototype.setPixels=function(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()},t.prototype.createOrUpdateGeometry=function(){var e=this.startPixel_,t=this.endPixel_,r=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new qe.a([r])},t.prototype.getGeometry=function(){return this.geometry_},t}(i.a),Ge=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ve="boxstart",Ze="boxdrag",Xe="boxend",$e="boxcancel",Ye=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.coordinate=r,i.mapBrowserEvent=n,i}return Ge(t,e),t}(T.a),Je=function(e){function t(t){var r=e.call(this)||this;r.on,r.once,r.un;var n=t||{};return r.box_=new He(n.className||"ol-dragbox"),r.minArea_=void 0!==n.minArea?n.minArea:64,n.onBoxEnd&&(r.onBoxEnd=n.onBoxEnd),r.startPixel_=null,r.condition_=n.condition?n.condition:Ie,r.boxEndCondition_=n.boxEndCondition?n.boxEndCondition:r.defaultBoxEndCondition,r}return Ge(t,e),t.prototype.defaultBoxEndCondition=function(e,t,r){var n=r[0]-t[0],i=r[1]-t[1];return n*n+i*i>=this.minArea_},t.prototype.getGeometry=function(){return this.box_.getGeometry()},t.prototype.handleDragEvent=function(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new Ye(Ze,e.coordinate,e))},t.prototype.handleUpEvent=function(e){this.box_.setMap(null);var t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new Ye(t?Xe:$e,e.coordinate,e)),!1},t.prototype.handleDownEvent=function(e){return!!this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Ye(Ve,e.coordinate,e)),!0)},t.prototype.onBoxEnd=function(e){},t}(Ce),Qe=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),et=function(e){function t(t){var r=this,n=t||{},i=n.condition?n.condition:Re;return(r=e.call(this,{condition:i,className:n.className||"ol-dragzoom",minArea:n.minArea})||this).duration_=void 0!==n.duration?n.duration:200,r.out_=void 0!==n.out&&n.out,r}return Qe(t,e),t.prototype.onBoxEnd=function(e){var t=this.getMap().getView(),r=this.getGeometry();if(this.out_){var n=t.rotatedExtentForGeometry(r),i=t.getResolutionForExtentInternal(n),o=t.getResolution()/i;(r=r.clone()).scale(o*o)}t.fitInternal(r,{duration:this.duration_,easing:he.b})},t}(Je),tt=37,rt=38,nt=39,it=40,ot=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),at=function(e){function t(t){var r=e.call(this)||this,n=t||{};return r.defaultCondition_=function(e){return Le(e)&&Se(e)},r.condition_=void 0!==n.condition?n.condition:r.defaultCondition_,r.duration_=void 0!==n.duration?n.duration:100,r.pixelDelta_=void 0!==n.pixelDelta?n.pixelDelta:128,r}return ot(t,e),t.prototype.handleEvent=function(e){var t=!1;if(e.type==C.a.KEYDOWN){var r=e.originalEvent,n=r.keyCode;if(this.condition_(e)&&(n==it||n==tt||n==nt||n==rt)){var i=e.map.getView(),o=i.getResolution()*this.pixelDelta_,a=0,s=0;n==it?s=-o:n==tt?a=-o:n==nt?a=o:s=o;var l=[a,s];Object(c.d)(l,i.getRotation()),function(e,t,r){var n=e.getCenterInternal();if(n){var i=[n[0]+t[0],n[1]+t[1]];e.animateInternal({duration:void 0!==r?r:250,easing:he.d,center:e.getConstrainedCenter(i)})}}(i,l,this.duration_),r.preventDefault(),t=!0}}return!t},t}(Oe),st=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),lt=function(e){function t(t){var r=e.call(this)||this,n=t||{};return r.condition_=n.condition?n.condition:Se,r.delta_=n.delta?n.delta:1,r.duration_=void 0!==n.duration?n.duration:100,r}return st(t,e),t.prototype.handleEvent=function(e){var t=!1;if(e.type==C.a.KEYDOWN||e.type==C.a.KEYPRESS){var r=e.originalEvent,n=r.charCode;if(this.condition_(e)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var i=e.map,o=n=="+".charCodeAt(0)?this.delta_:-this.delta_;Ee(i.getView(),o,void 0,this.duration_),r.preventDefault(),t=!0}}return!t},t}(Oe),_t=function(){function e(e,t,r){this.decay_=e,this.minVelocity_=t,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}return e.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},e.prototype.update=function(e,t){this.points_.push(e,t,Date.now())},e.prototype.end=function(){if(this.points_.length<6)return!1;var e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;for(var r=t-3;r>0&&this.points_[r+2]>e;)r-=3;var n=this.points_[t+2]-this.points_[r+2];if(n<1e3/60)return!1;var i=this.points_[t]-this.points_[r],o=this.points_[t+1]-this.points_[r+1];return this.angle_=Math.atan2(o,i),this.initialVelocity_=Math.sqrt(i*i+o*o)/n,this.initialVelocity_>this.minVelocity_},e.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},e.prototype.getAngle=function(){return this.angle_},e}(),ut=r(13),ct=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),pt="trackpad",dt="wheel",ht=function(e){function t(t){var r=this,n=t||{};(r=e.call(this,n)||this).totalDelta_=0,r.lastDelta_=0,r.maxDelta_=void 0!==n.maxDelta?n.maxDelta:1,r.duration_=void 0!==n.duration?n.duration:250,r.timeout_=void 0!==n.timeout?n.timeout:80,r.useAnchor_=void 0===n.useAnchor||n.useAnchor,r.constrainResolution_=void 0!==n.constrainResolution&&n.constrainResolution;var i=n.condition?n.condition:Ae;return r.condition_=n.onFocusOnly?De(ke,i):i,r.lastAnchor_=null,r.startTime_=void 0,r.timeoutId_,r.mode_=void 0,r.trackpadEventGap_=400,r.trackpadTimeoutId_,r.deltaPerZoom_=300,r}return ct(t,e),t.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var e=this.getMap();e&&e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},t.prototype.handleEvent=function(e){if(!this.condition_(e))return!0;if(e.type!==C.a.WHEEL)return!0;var t,r=e.map,n=e.originalEvent;if(n.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate),e.type==C.a.WHEEL&&(t=n.deltaY,N.b&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(t/=N.a),n.deltaMode===WheelEvent.DOM_DELTA_LINE&&(t*=40)),0===t)return!1;this.lastDelta_=t;var i=Date.now();void 0===this.startTime_&&(this.startTime_=i),(!this.mode_||i-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(t)<4?pt:dt);var o=r.getView();if(this.mode_===pt&&!o.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(o.getAnimating()&&o.cancelAnimations(),o.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),o.adjustZoom(-t/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=i,!1;this.totalDelta_+=t;var a=Math.max(this.timeout_-(i-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),a),!1},t.prototype.handleWheelZoom_=function(e){var t=e.getView();t.getAnimating()&&t.cancelAnimations();var r=-Object(ut.b)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(r=r?r>0?1:-1:0),Ee(t,r,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},t.prototype.setMouseAnchor=function(e){this.useAnchor_=e,e||(this.lastAnchor_=null)},t}(Oe),ft=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),mt=function(e){function t(t){var r=this,n=t||{},i=n;return i.stopDown||(i.stopDown=o.a),(r=e.call(this,i)||this).anchor_=null,r.lastAngle_=void 0,r.rotating_=!1,r.rotationDelta_=0,r.threshold_=void 0!==n.threshold?n.threshold:.3,r.duration_=void 0!==n.duration?n.duration:250,r}return ft(t,e),t.prototype.handleDragEvent=function(e){var t=0,r=this.targetPointers[0],n=this.targetPointers[1],i=Math.atan2(n.clientY-r.clientY,n.clientX-r.clientX);if(void 0!==this.lastAngle_){var o=i-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=o}this.lastAngle_=i;var a=e.map,s=a.getView();if(s.getConstraints().rotation!==je.c){var l=a.getViewport().getBoundingClientRect(),_=we(this.targetPointers);_[0]-=l.left,_[1]-=l.top,this.anchor_=a.getCoordinateFromPixelInternal(_),this.rotating_&&(a.render(),s.adjustRotationInternal(t,this.anchor_))}},t.prototype.handleUpEvent=function(e){return!(this.targetPointers.length<2)||(e.map.getView().endInteraction(this.duration_),!1)},t.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1},t}(Ce),yt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),gt=function(e){function t(t){var r=this,n=t||{},i=n;return i.stopDown||(i.stopDown=o.a),(r=e.call(this,i)||this).anchor_=null,r.duration_=void 0!==n.duration?n.duration:400,r.lastDistance_=void 0,r.lastScaleDelta_=1,r}return yt(t,e),t.prototype.handleDragEvent=function(e){var t=1,r=this.targetPointers[0],n=this.targetPointers[1],i=r.clientX-n.clientX,o=r.clientY-n.clientY,a=Math.sqrt(i*i+o*o);void 0!==this.lastDistance_&&(t=this.lastDistance_/a),this.lastDistance_=a;var s=e.map,l=s.getView();1!=t&&(this.lastScaleDelta_=t);var _=s.getViewport().getBoundingClientRect(),u=we(this.targetPointers);u[0]-=_.left,u[1]-=_.top,this.anchor_=s.getCoordinateFromPixelInternal(u),s.render(),l.adjustResolutionInternal(t,this.anchor_)},t.prototype.handleUpEvent=function(e){if(this.targetPointers.length<2){var t=e.map.getView(),r=this.lastScaleDelta_>1?1:-1;return t.endInteraction(this.duration_,r),!1}return!0},t.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1},t}(Ce);var bt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),vt=function(e){function t(t){return(t=Object(A.a)({},t)).controls||(t.controls=function(e){var t=e||{},r=new x.a;return(void 0===t.zoom||t.zoom)&&r.push(new ge(t.zoomOptions)),(void 0===t.rotate||t.rotate)&&r.push(new me(t.rotateOptions)),(void 0===t.attribution||t.attribution)&&r.push(new de(t.attributionOptions)),r}()),t.interactions||(t.interactions=function(e){var t=e||{},r=new x.a,n=new _t(-.005,.05,100);return(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&r.push(new Fe),(void 0===t.doubleClickZoom||t.doubleClickZoom)&&r.push(new Pe({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0===t.dragPan||t.dragPan)&&r.push(new Ke({onFocusOnly:t.onFocusOnly,kinetic:n})),(void 0===t.pinchRotate||t.pinchRotate)&&r.push(new mt),(void 0===t.pinchZoom||t.pinchZoom)&&r.push(new gt({duration:t.zoomDuration})),(void 0===t.keyboard||t.keyboard)&&(r.push(new at),r.push(new lt({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&r.push(new ht({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(void 0===t.shiftDragZoom||t.shiftDragZoom)&&r.push(new et({duration:t.zoomDuration})),r}({onFocusOnly:!0})),e.call(this,t)||this}return bt(t,e),t.prototype.createRenderer=function(){return new M(this)},t}(le);t.a=vt},function(e,t,r){var n=r(219),i=r(223);e.exports=function(e,t){return e&&n(e,i(t))}},function(e,t,r){var n=r(395),i=r(84),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t){var r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,r){var n=r(397),i=r(175),o=r(176),a=o&&o.isTypedArray,s=a?i(a):n;e.exports=s},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,r){(function(e){var n=r(218),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&n.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,r(101)(e))},function(e,t){var r=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},function(e,t,r){var n=r(102),i=r(69);e.exports=function(e){if(!i(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,r){var n=r(222)(Object.getPrototypeOf,Object);e.exports=n},function(e,t,r){var n=r(103)(r(78),"Map");e.exports=n},function(e,t,r){var n=r(418),i=r(425),o=r(427),a=r(428),s=r(429);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,r){var n=r(440),i=r(233),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),n(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},function(e,t,r){var n=r(67),i=r(146),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},function(e,t,r){var n=r(241);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},function(e,t,r){var n=r(229);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Checkboard=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(1),o=l(i),a=l(r(77)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(500));function l(e){return e&&e.__esModule?e:{default:e}}var _=t.Checkboard=function(e){var t=e.white,r=e.grey,l=e.size,_=e.renderers,u=e.borderRadius,c=e.boxShadow,p=e.children,d=(0,a.default)({default:{grid:{borderRadius:u,boxShadow:c,absolute:"0px 0px 0px 0px",background:"url("+s.get(t,r,l,_.canvas)+") center left"}}});return(0,i.isValidElement)(p)?o.default.cloneElement(p,n({},p.props,{style:n({},p.props.style,d.grid)})):o.default.createElement("div",{style:d.grid})};_.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}},t.default=_},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return InputMultiInput}));var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(31),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),classnames__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(51),classnames__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_9__),_InputButton__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(28),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},InputMultiInput=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(InputMultiInput,_React$Component);var _super=_createSuper(InputMultiInput);function InputMultiInput(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,InputMultiInput),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(InputMultiInput,[{key:"render",value:function(){var e=this,t=this.props.options;t.length>0&&!Array.isArray(t[0])&&(t=t.map((function(e){return[e,e]})));var r=this.props.value||t[0][0],n=t.map((function(t){var n=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(t,2),i=n[0],o=n[1];return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("label",{key:i,className:classnames__WEBPACK_IMPORTED_MODULE_9___default()("maputnik-radio-as-button",{"maputnik-button-selected":i===r})},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("input",{type:"radio",name:e.props.name,onChange:function(t){return e.props.onChange(i)},value:i,checked:i===r}),o)}));return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("fieldset",{className:"maputnik-multibutton","aria-label":this.props["aria-label"]},n)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),InputMultiInput}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(InputMultiInput,"propTypes",{name:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string.isRequired,value:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string.isRequired,options:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.array.isRequired,onChange:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(InputMultiInput,"InputMultiInput","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\InputMultiInput.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(e,t,r){"use strict";var n=r(62),i=r.n(n),o=r(189),a=r.n(o),s=r(253),l=r(254),_=i()((function(e){return e[1]})),u=a()(s.a),c=a()(l.a);_.push([e.i,'html{background-color:#1c1f24}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:"";content:none}table{border-collapse:collapse;border-spacing:0}@font-face{font-family:"Roboto";src:url('+u+') format("truetype");font-weight:normal;font-style:normal;font-display:swap}@font-face{font-family:"Roboto";src:url('+c+") format(\"truetype\");font-weight:bold;font-style:normal;font-display:swap}html{color:#f0f0f0;font-size:14px;box-sizing:border-box}body{overflow:hidden}*,*::before,*::after{box-sizing:inherit}p{font-size:12px;margin-top:5px;margin-bottom:5px;color:#a4a4a4;line-height:1.3}h1{font-size:20px;margin-bottom:10px;font-weight:bold}h2{font-size:18px;margin-bottom:10px;font-weight:bold}h3{font-size:16px;margin-bottom:10px;font-weight:bold}h4{font-size:14px;margin-bottom:10px}input:focus,textarea:focus,*[role=button]:focus,button:focus,.maputnik-toolbar-link:focus,.maputnik-toolbar-select:focus,.maputnik-toolbar-action:focus,select:focus{color:#f0f0f0;outline:#8e8e8e auto 1px}label:hover{color:#f0f0f0}.clearfix::after,.maputnik-zoom-spec-property::after,.maputnik-filter-editor::after,.maputnik-add-source::after,.maputnik-add-layer::after{content:\"\";display:table;clear:both}a{color:#fff}.hide{display:none !important}.maputnik-map__container{background:#fff;display:flex;position:fixed !important;top:40px;right:0;bottom:0;height:calc(100% - 40px);width:calc(100% - 570px)}.maputnik-map__container--error{align-items:center;justify-content:center}.maputnik-map__container__error-message{margin:16px;text-align:center}.maputnik-map__map{width:100%;height:100%}.maputnik-input-block:hover .maputnik-doc-button,.maputnik-filter-editor-compound-select:hover .maputnik-doc-button{opacity:1;pointer-events:all;cursor:pointer}.maputnik-doc-wrapper{display:inline-block;box-sizing:border-box;font-size:12px;line-height:2;user-select:none;position:relative;vertical-align:top}.maputnik-doc-popup{display:none;color:#a4a4a4;background-color:#222429;padding:5px;font-size:10px;position:absolute;top:20px;left:0;width:120px;z-index:10;pointer-events:none}.maputnik-doc-button{opacity:0;pointer-events:none;background:#191b20;color:#fff;border:none;padding:4px}.maputnik-doc-button svg{pointer-events:none}.maputnik-doc-button--open{opacity:1;pointer-events:all}.maputnik-doc-inline{color:#a4a4a4;background-color:#222429;padding:5px;font-size:12px;margin-top:10px;line-height:1.5;flex:1 0}.maputnik-doc-target:hover .maputnik-doc-popup{display:block;text-align:left}.maputnik-button,.maputnik-radio-as-button{display:inline-block;cursor:pointer;background-color:#303237;color:#a4a4a4;font-size:12px;padding:5px;user-select:none;border-width:0;border-radius:2px;box-sizing:border-box;text-decoration:none}.maputnik-button:hover,.maputnik-radio-as-button:hover{background-color:#4d5058;color:#f0f0f0}.maputnik-button:disabled,.maputnik-radio-as-button:disabled{background-color:#242629;color:#303237;cursor:not-allowed}.maputnik-big-button,.maputnik-add-source-button,.maputnik-add-layer-button,.maputnik-upload-button{margin-top:10px;display:inline-block;padding:10px;font-size:14px}.maputnik-wide-button{padding:5px 10px}.maputnik-green-button{background-color:#53b972;color:#191b20}.maputnik-white-button{background-color:#f0f0f0;color:#191b20}.maputnik-icon-button,.maputnik-make-data-function,.maputnik-delete-stop,.maputnik-make-zoom-function,.maputnik-delete-filter{background-color:rgba(0,0,0,0)}.maputnik-icon-button:hover:not(:disabled),.maputnik-make-data-function:hover:not(:disabled),.maputnik-delete-stop:hover:not(:disabled),.maputnik-make-zoom-function:hover:not(:disabled),.maputnik-delete-filter:hover:not(:disabled){background-color:rgba(0,0,0,0)}.maputnik-icon-button:hover:not(:disabled) label,.maputnik-make-data-function:hover:not(:disabled) label,.maputnik-delete-stop:hover:not(:disabled) label,.maputnik-make-zoom-function:hover:not(:disabled) label,.maputnik-delete-filter:hover:not(:disabled) label,.maputnik-icon-button:hover:not(:disabled) svg,.maputnik-make-data-function:hover:not(:disabled) svg,.maputnik-delete-stop:hover:not(:disabled) svg,.maputnik-make-zoom-function:hover:not(:disabled) svg,.maputnik-delete-filter:hover:not(:disabled) svg{cursor:pointer}.maputnik-icon-button:hover:not(:disabled) svg,.maputnik-make-data-function:hover:not(:disabled) svg,.maputnik-delete-stop:hover:not(:disabled) svg,.maputnik-make-zoom-function:hover:not(:disabled) svg,.maputnik-delete-filter:hover:not(:disabled) svg{fill:#f0f0f0}.maputnik-input-block{margin:10px;display:flex;flex-wrap:wrap}.maputnik-input-block-label{color:#a4a4a4;user-select:none;width:32%;vertical-align:top;font-size:12px}.maputnik-input-block-action{color:#a4a4a4;user-select:none;width:18%;vertical-align:top;font-size:12px;text-align:right}.maputnik-input-block-content{width:50%}.maputnik-action-block .maputnik-input-block-label{display:inline-block;width:32%;margin-bottom:10px}.maputnik-action-block .maputnik-input-block-action{vertical-align:top;display:inline-block;width:18%}.maputnik-action-block .maputnik-input-block-action>div{text-align:right}.maputnik-data-spec-block .maputnik-inline-error,.maputnik-zoom-spec-property .maputnik-inline-error{margin-left:32%}.maputnik-space,.maputnik-modal-header-space{-webkit-flex-grow:1;-ms-flex-grow:1;-moz-flex-grow:1;-o-flex-grow:1;flex-grow:1}.maputnik-message-panel{padding:5px}.maputnik-message-panel-error{color:#cf4a4a}.maputnik-message-panel__switch-button{all:unset;text-decoration:underline;cursor:pointer}.maputnik-dialog__buttons{text-align:right}.map-state-menu{display:inline-block}.map-state-menu__menu{position:absolute;z-index:999999;background:#191b20;display:flex;flex-direction:column;align-content:stretch}.map-state-menu__menu li{display:flex;flex-direction:column}.map-state-menu__menu li button{width:100%;text-align:left}.maputnik-inline-error{color:#a4a4a4;padding:.4em .4em;font-size:.9em;border:solid 1px #cf4a4a;border-radius:2px;margin:5px 0px}.maputnik-expression-editor{border:solid 1px #222429}.maputnik-input-block--wide .maputnik-input-block-content{display:block;width:auto;flex:1}.maputnik-input-block--wide .maputnik-input-block-label{width:82%}.maputnik-input-block--wide .maputnik-input-block-action{text-align:right}.maputnik-expr-infobox{font-size:12px;background:#303237;padding:5px;border-radius:2px;border-top-right-radius:0px;border-top-left-radius:0px;color:#f0f0f0}.maputnik-expr-infobox__button{background:none;border:none;padding:0;text-decoration:underline;color:currentColor;cursor:pointer}*:not(select){scrollbar-width:thin;scrollbar-color:#666 #26282e}*:not(select)::-webkit-scrollbar{background-color:#26282e;width:8px;height:8px}*:not(select)::-webkit-scrollbar-thumb{border-radius:6px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#666;padding-left:2px;padding-right:2px}.chrome-picker{background-color:#1c1f24 !important;font-family:inherit !important}.chrome-picker input{background-color:#26282e !important;color:#8e8e8e !important;box-shadow:none !important}.maputnik-toolbar{position:fixed;height:40px;width:100%;z-index:100;left:0;top:0;background-color:#191b20}.maputnik-toolbar-logo-container{position:relative}.maputnik-toolbar-logo{text-decoration:none;display:block;flex:0 0 190px;width:200px;text-align:left;background-color:#191b20;padding:5px;height:40px;position:relative;overflow:hidden}.maputnik-toolbar-logo h1{display:inline;line-height:26px}.maputnik-toolbar-logo svg{width:30px;padding-right:5px;vertical-align:top}.maputnik-toolbar-link,.maputnik-toolbar-select,.maputnik-toolbar-action{vertical-align:top;height:40px;display:inline-block;padding:10px;font-size:14px;cursor:pointer;color:#f0f0f0;text-decoration:none;line-height:20px}.maputnik-toolbar-link h1,.maputnik-toolbar-select h1,.maputnik-toolbar-action h1{position:relative}.maputnik-toolbar-link:hover,.maputnik-toolbar-select:hover,.maputnik-toolbar-action:hover{background-color:#303237}.maputnik-toolbar-link--highlighted{line-height:1;padding:5px 10px}.maputnik-toolbar-link--highlighted .maputnik-toolbar-link-wrapper{background-color:#f0f0f0;border-radius:2px;padding:5px;margin-top:3px;color:#191b20;display:block}.maputnik-toolbar-link--highlighted:hover{background-color:#191b20}.maputnik-toolbar-link--highlighted:hover .maputnik-toolbar-link-wrapper{background-color:#4d5058;color:#f0f0f0}.maputnik-toolbar-name{text-transform:capitalize}.maputnik-toolbar-version{font-size:10px;margin-left:4px;white-space:nowrap}.maputnik-toolbar-action{background:inherit;border-width:0}.maputnik-toolbar-select{background:inherit;border-width:0}.maputnik-toolbar-select select{margin-left:6px;border-width:0;display:inline;width:auto;border:solid 1px #303237;vertical-align:inherit;margin-top:-2px}.maputnik-icon-text{padding-left:3px}.maputnik-icon-action{display:inline;margin-left:3px}.maputnik-toolbar__inner{display:flex}.maputnik-toolbar__actions{white-space:nowrap;overflow-y:auto}.maputnik-toolbar-skip{all:unset;border:solid 1px rgba(0,0,0,0);position:absolute;overflow:hidden;width:0px;height:100%;text-align:center;display:block;background-color:#191b20;z-index:999;line-height:40px;left:0;top:0}.maputnik-toolbar-skip:active,.maputnik-toolbar-skip:focus{width:100%;border-color:#a4a4a4}.maputnik-toolbar-info{display:flex;flex-direction:row;align-items:center;gap:16px;font-family:monospace;white-space:break-spaces}.maputnik-toolbar-info-map-config-container{display:flex;flex-direction:column}.maputnik-modal{min-width:350px;max-width:1000px;overflow:hidden;background-color:#191b20;box-shadow:0 0 5px 0 rgba(0,0,0,.3);z-index:3;position:relative;font-family:Roboto,sans-serif;display:flex;flex-direction:column;max-height:100vh;border-color:#a4a4a4;border-width:2px;border-style:solid}.maputnik-modal-section{padding-top:10px;padding-bottom:10px;min-height:0;display:flex;display:-ms-flexbox;-webkit-flex-direction:column;-ms-flex-direction:column;-moz-flex-direction:column;-o-flex-direction:column;flex-direction:column;flex-shrink:0}.maputnik-modal-section h1{font-size:16px}.maputnik-modal-section h2{font-size:14px}.maputnik-modal-sub-section{margin-top:3px}.maputnik-modal-section--shrink{flex-shrink:1}.maputnik-modal-header{background-color:#222429;padding:10px;display:flex;display:-ms-flexbox;-webkit-flex-direction:row;-ms-flex-direction:row;-moz-flex-direction:row;-o-flex-direction:row;flex-direction:row}.maputnik-modal-header-title{font-size:14px;margin:0}.maputnik-modal-header-toggle{border:none;background:initial;color:#fff;padding:0}.maputnik-modal-scroller{flex:1;overflow-y:auto}.maputnik-modal-content{padding:10px;display:flex;display:-ms-flexbox;-webkit-flex-direction:column;-ms-flex-direction:column;-moz-flex-direction:column;-o-flex-direction:column;flex-direction:column}.maputnik-style-gallery-container{flex-shrink:1}.maputnik-public-style{vertical-align:top;margin-top:10px;margin-right:10px;background-color:#222429;display:inline-block;width:180px;font-size:20px;color:#a4a4a4}.maputnik-public-style-button{background-color:#222429;padding:10px;display:block;width:100%}.maputnik-public-style-button:hover{background-color:#303237}.maputnik-public-style-header{display:flex;display:-ms-flexbox;-webkit-flex-direction:row;-ms-flex-direction:row;-moz-flex-direction:row;-o-flex-direction:row;flex-direction:row}.maputnik-public-style-thumbnail{display:block;margin-top:5px;width:100%;padding-top:66.6666666667%;background-size:cover;background-color:#303237}.maputnik-add-modal{width:400px;max-width:100%}.maputnik-export-modal{width:550px;max-width:100%}.maputnik-export-modal .maputnik-input-block-label{width:50%;align-self:center}.maputnik-export-modal .maputnik-input-block-action{width:0}.maputnik-add-layer-button{margin-right:10px;float:right;display:inline-block;margin-top:3;margin-bottom:10px;text-align:right}.maputnik-public-sources{margin-bottom:1.5%}.maputnik-public-source{vertical-align:top;margin-top:1.5%;margin-right:1.5%;background-color:#222429;width:48.5%;display:inline-block}.maputnik-public-source-select{padding:10px;font-size:14px;color:#a4a4a4;background-color:rgba(0,0,0,0);width:100%;display:flex;display:-ms-flexbox;-webkit-flex-direction:row;-ms-flex-direction:row;-moz-flex-direction:row;-o-flex-direction:row;flex-direction:row}.maputnik-public-source-name{font-weight:700}.maputnik-public-source-id{font-weight:400;text-align:left}.maputnik-active-source-type-editor{min-width:500px}.maputnik-active-source-type-editor-header{background-color:#222429;color:#a4a4a4;padding:5px;display:flex;display:-ms-flexbox;-webkit-flex-direction:row;-ms-flex-direction:row;-moz-flex-direction:row;-o-flex-direction:row;flex-direction:row}.maputnik-active-source-type-editor-header-id{font-weight:700;line-height:2;font-size:14px}.maputnik-active-source-type-editor-content{border-color:#222429;border-width:2px;border-style:solid;padding:5px}.maputnik-active-source-type-editor-content .maputnik-input-block-label{width:30%}.maputnik-active-source-type-editor-content .maputnik-input-block-action{width:20%}.maputnik-add-source .maputnik-input-block-label{width:30%}.maputnik-add-source .maputnik-input-block-action{width:20%}.maputnik-add-source-button{display:inline-block;margin-top:0;margin-right:10px;float:right}.maputnik-export-gist{font-size:12px}.maputnik-export-gist .maputnik-input-block{margin-left:0;margin-right:0}.maputnik-export-gist .maputnik-input-block label{vertical-align:middle}.maputnik-export-gist span{color:#a4a4a4}.maputnik-modal-error{border:solid 2px #ef5350;color:#ef5350;padding:8px;padding-right:32px;position:relative}.maputnik-modal-error-close{position:absolute;right:8px;top:8px;text-decoration:none;color:#ef5350}.maputnik-modal-shortcuts{position:relative;overflow:hidden;max-width:30em}.maputnik-modal-shortcuts kbd{color:#fff;background:#3c3c3c;padding:2px 6px;display:inline-block;text-align:center;border-radius:2px;font-family:monospace}.maputnik-modal-shortcuts__shortcut{margin-bottom:5px}.maputnik-modal-shortcuts dt{display:inline;margin-right:5px}.maputnik-modal-shortcuts dd{display:inline}.maputnik-modal-shortcuts li{margin-bottom:4px}.maputnik-modal-survey{width:400px}.maputnik-modal-survey__logo{display:block;margin:0 auto;height:128px;width:128px}.maputnik-modal-survey__description{line-height:1.5}.maputnik-modal-survey__footnote{color:#53b972;margin-top:16px}.modal-settings{width:400px}.maputnik-modal-export-buttons{display:flex;justify-content:flex-end}.maputnik-modal-export-buttons .maputnik-button,.maputnik-modal-export-buttons .maputnik-radio-as-button{margin-left:4px}.maputnik-export-gist label.maputnik-checkbox-wrapper{display:inline-block}.maputnik-render-gist p{margin:10px 0}.maputnik-render-gist input.maputnik-string{margin-left:5px;width:60%;display:inline-block}.maputnik-scroll-container{overflow-x:hidden;overflow-y:scroll;bottom:0;left:0;right:0;top:1px;position:absolute}.maputnik-layout{font-family:Roboto,sans-serif;color:#f0f0f0}.maputnik-layout-list{position:fixed;bottom:0;height:calc(100% - 40px);top:40px;left:0;z-index:3;width:245px;background-color:#191b20}.maputnik-layout-drawer{position:fixed;bottom:0;height:calc(100% - 40px);top:40px;left:245px;z-index:1;width:325px;background-color:#191b20}.maputnik-layout-bottom{position:fixed;bottom:0;right:0;z-index:1;width:calc(100% - 570px);background-color:#191b20}.maputnik-layer-list{height:100%;overflow:auto;display:flex;flex-direction:column}.maputnik-layer-list-header{padding:5px 5px 10px;display:flex;display:-ms-flexbox;-webkit-flex-direction:row;-ms-flex-direction:row;-moz-flex-direction:row;-o-flex-direction:row;flex-direction:row;flex:0 0}.maputnik-layer-list-header>*{vertical-align:middle;margin-bottom:0}.maputnik-layer-list-header-title{font-size:14px;color:#f0f0f0;font-weight:bold;line-height:1.3}.maputnik-layer-list-container{padding:0;margin:0;padding-bottom:40px;flex:1;overflow-x:hidden;overflow-y:auto}.maputnik-layer-list-item-handle{flex:1;display:flex;cursor:grab}.maputnik-layer-list-item-handle svg{margin-right:4px}.maputnik-layer-list-item{border:solid 1px rgba(0,0,0,0);font-weight:400;color:#a4a4a4;font-size:12px;border-bottom-color:#191b20;user-select:none;list-style:none;z-index:2000;cursor:pointer;position:relative;padding:5px;line-height:1.3;max-height:50px;opacity:1;-webkit-transition:opacity 600ms,visibility 600ms;transition:opacity 600ms,visibility 600ms;display:flex;display:-ms-flexbox;-webkit-flex-direction:row;-ms-flex-direction:row;-moz-flex-direction:row;-o-flex-direction:row;flex-direction:row}.maputnik-layer-list-item:focus-within{border:solid 1px #a4a4a4}@media screen and (prefers-reduced-motion: reduce){.maputnik-layer-list-item{transition-duration:0}}.maputnik-layer-list-icon-action{display:none}.maputnik-layer-list-icon-action svg{fill:#191b20}.maputnik-layer-list .maputnik-layer-list-icon-action{background:initial;border:none;padding:0 2px;height:15px}.maputnik-layer-list .maputnik-layer-list-icon-action svg{fill:#717171}.maputnik-layer-list .maputnik-layer-list-icon-action svg:hover{fill:#f0f0f0}.maputnik-layer-list .maputnik-layer-list-icon-action__visibility--show{display:block}.maputnik-layer-list .maputnik-layer-list-item:hover,.maputnik-layer-list .maputnik-layer-list-item-selected{background-color:#1d2026}.maputnik-layer-list .maputnik-layer-list-item:hover .maputnik-layer-list-icon-action,.maputnik-layer-list .maputnik-layer-list-item-selected .maputnik-layer-list-icon-action{display:block}.maputnik-layer-list .maputnik-layer-list-item:hover .maputnik-layer-list-icon-action svg,.maputnik-layer-list .maputnik-layer-list-item-selected .maputnik-layer-list-icon-action svg{fill:#a3a3a3}.maputnik-layer-list .maputnik-layer-list-item--error{color:#cf4a4a}.maputnik-layer-list-item-selected{color:#f0f0f0}.maputnik-layer-list-item-collapsed{position:absolute;max-height:0;overflow:hidden;padding:0;opacity:0;visibility:hidden}.maputnik-layer-list-item-group-last{border-bottom:2px solid #222429}.maputnik-layer-list-item-id{all:inherit;width:160px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:inherit;text-decoration:none;cursor:pointer;outline:none !important}.maputnik-layer-list-group-header{border:solid 1px rgba(0,0,0,0);font-size:12px;color:#a4a4a4;background-color:#1d2026;user-select:none;padding:5px;display:flex;display:-ms-flexbox;-webkit-flex-direction:row;-ms-flex-direction:row;-moz-flex-direction:row;-o-flex-direction:row;flex-direction:row}.maputnik-layer-list-group-header:focus-within{border:solid 1px #a4a4a4}.maputnik-layer-list-group-header button{all:unset;cursor:pointer}.maputnik-layer-list-group-header svg{width:14px;height:14px}.maputnik-layer-list-group-title{vertical-align:middle}.maputnik-layer-list-group-content{margin-left:10px}.maputnik-layer-editor-group{font-weight:bold;font-size:14px;background-color:#1d2026;color:#f0f0f0;cursor:pointer;user-select:none;line-height:20px;border-top:solid 1px #36383e;display:flex;display:-ms-flexbox;-webkit-flex-direction:row;-ms-flex-direction:row;-moz-flex-direction:row;-o-flex-direction:row;flex-direction:row}.maputnik-layer-editor-group__button{flex:1;display:flex;padding:5px}.maputnik-layer-editor-group__button__icon{fill:#fff}.maputnik-layer-editor-group__button__icon--up{display:block}.maputnik-layer-editor-group__button__icon--down{display:none}.maputnik-layer-editor-group__button[aria-expanded=true] .maputnik-layer-editor-group__button__icon--up{display:none}.maputnik-layer-editor-group__button[aria-expanded=true] .maputnik-layer-editor-group__button__icon--down{display:block}.maputnik-layer-editor-group:hover{background-color:#222429}.maputnik-default-property .maputnik-input-block-label{color:#717171}.maputnik-default-property .maputnik-string,.maputnik-default-property .maputnik-number,.maputnik-default-property .maputnik-color,.maputnik-default-property .maputnik-select,.maputnik-default-property .maputnik-checkbox-wrapper{background-color:#1d1f23;color:#717171}.maputnik-default-property .maputnik-make-zoom-function svg{opacity:.4}.maputnik-default-property .maputnik-multibutton .maputnik-button,.maputnik-default-property .maputnik-multibutton .maputnik-radio-as-button{background-color:#18191c;color:#717171}.maputnik-default-property .maputnik-multibutton .maputnik-button:hover,.maputnik-default-property .maputnik-multibutton .maputnik-radio-as-button:hover{background-color:#4d5058;color:#f0f0f0}.maputnik-default-property .maputnik-multibutton .maputnik-button-selected{background-color:#2b2d32;color:#a4a4a4}.more-menu{position:relative}.more-menu svg{width:22px;height:22px}.more-menu__menu{position:absolute;z-index:9999;background:#191b20;border:solid 1px #303237;right:0;min-width:120px}.more-menu__button__svg{width:24px;height:24px}.more-menu__menu__item{padding:4px}.layer-header{display:flex;padding:6px;background:#191b20}.layer-header__title{flex:1;margin:0;line-height:24px}.layer-header__info{min-width:28px}.sortableHelper{font-family:Roboto,sans-serif;z-index:9999;border:none}.maputnik-input,.maputnik-checkbox-wrapper,.maputnik-select,.maputnik-color,.maputnik-number,.maputnik-string{height:24px;width:100%;display:block;box-sizing:border-box;font-size:12px;line-height:2;padding-left:5px;padding-right:5px;border:none;background-color:#222429;color:#c3c3c3}.maputnik-input:invalid,.maputnik-checkbox-wrapper:invalid,.maputnik-select:invalid,.maputnik-color:invalid,.maputnik-number:invalid,.maputnik-string:invalid{border:solid 1px #b71c1c;border-radius:2px}.maputnik-string--multi{resize:vertical;height:78px}.maputnik-string--disabled{background:rgba(0,0,0,0);border:none}.maputnik-string--error{border:solid 1px #cf4a4a;border-radius:2px}.maputnik-number-container{display:flex}.maputnik-number-range{width:calc(100% - 4.5em);margin-right:.5em;flex-shrink:0}.maputnik-color{height:26px}.maputnik-color-wrapper{position:relative;display:flex;display:-ms-flexbox;-webkit-flex-direction:row;-ms-flex-direction:row;-moz-flex-direction:row;-o-flex-direction:row;flex-direction:row}.maputnik-color-swatch{height:26px;width:14px;flex-shrink:0;flex-grow:0}.maputnik-array>*{margin-bottom:10px}.maputnik-array .maputnik-array-block .maputnik-array-block-action{vertical-align:top;display:inline-block;width:2em}.maputnik-array .maputnik-array-block .maputnik-array-block-content{vertical-align:top;display:inline-block;width:calc(100% - 2em)}.maputnik-array .maputnik-array-add-value{display:inline-block;float:right}.maputnik-select{-moz-appearance:none;-webkit-appearance:none;background:#222429 url(\"data:image/svg+xml;charset=utf-8,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24'><path fill='white' d='M7,10L12,15L17,10H7Z' /></svg>\") right center no-repeat;color:#f0f0f0;background-position:calc(100% - 2px) center;padding-right:20px;height:24px}.maputnik-multibutton{padding:0}.maputnik-multibutton .maputnik-button,.maputnik-multibutton .maputnik-radio-as-button{margin-right:3px}.maputnik-button-selected{background-color:#4d5058;color:#fff}.maputnik-checkbox{position:absolute;z-index:1;width:100%;height:100%;margin:0;left:0;top:0;outline:none}.maputnik-checkbox-wrapper{padding-left:0;padding-right:0;position:relative;text-align:center;vertical-align:middle;cursor:pointer;max-width:24px}.maputnik-checkbox-box{z-index:2;display:inline-block;text-align:center;height:24px;width:24px;margin-right:5px;background-color:#222429;border-radius:2px;border-style:solid;border-width:2px;border-color:#222429;transition:background-color .1s ease-out;position:absolute;top:0;left:0;pointer-events:none}@media screen and (prefers-reduced-motion: reduce){.maputnik-checkbox-box{transition-duration:0ms}}.maputnik-checkbox:focus{z-index:8}.maputnik-checkbox:focus+.maputnik-checkbox-box{z-index:9}.maputnik-checkbox-icon{width:50%;height:50%;margin-top:1px;fill:#a4a4a4}.maputnik-autocomplete-menu{border:none;padding:2px 0;margin-right:10px;position:absolute;overflow:auto;max-height:50%;background:#222429;z-index:3}.maputnik-autocomplete-menu-item{user-select:none;color:#a4a4a4;cursor:default;padding:3px;font-size:12px;z-index:3;background:#222429}.maputnik-autocomplete-menu-item-selected{background:#303237}.maputnik-font .maputnik-autocomplete:not(:last-child){margin-bottom:10px}.maputnik-input-block-content{position:relative}.SpecDoc__sdk-support{position:relative;max-width:100%;overflow-x:auto}.SpecDoc__sdk-support__table{width:100%;margin-top:10px}.SpecDoc__sdk-support__table td,.SpecDoc__sdk-support__table th{border:solid 1px #303237;padding:4px 6px;white-space:nowrap}.SpecDoc__values li{margin-top:10px}.SpecDoc__values code{background:#303237;padding:.1em .3em;border-radius:2px}.maputnik-filter-editor-wrapper{padding:10px;overflow:hidden}.maputnik-filter-editor-wrapper .maputnik-input-block{margin:0}.maputnik-filter-editor{color:#a4a4a4}.maputnik-filter-editor-property{display:inline-block;width:25%}.maputnik-filter-editor-operator{margin-left:2%;display:inline-block;width:17%}.maputnik-filter-editor-operator .maputnik-select{width:100%}.maputnik-filter-editor-args{display:inline-block;width:54%;margin-left:2%}.maputnik-filter-editor-args .maputnik-string,.maputnik-filter-editor-args .maputnik-number{width:100%}.maputnik-filter-editor-compound-select{margin-bottom:5px}.maputnik-filter-editor-compound-select .maputnik-doc-wrapper{width:50%}.maputnik-filter-editor-compound-select .maputnik-select{display:inline-block;width:50%}.maputnik-filter-editor-unsupported{color:#303237}.maputnik-add-filter{display:inline-block;float:right;margin-top:10px}.maputnik-filter-editor-block-action{margin-top:5px;margin-bottom:5px;display:inline-block;width:6%;margin-right:1.5%}.maputnik-filter-editor-block-content{display:inline-block;width:92.5%}.maputnik-radio-as-button{border:solid 1px rgba(0,0,0,0)}.maputnik-radio-as-button:focus-within{border:solid 1px #f0f0f0}.maputnik-radio-as-button input{width:0;overflow:hidden;opacity:0;margin:0}.maputnik-make-zoom-function{background-color:rgba(0,0,0,0);display:inline-block;vertical-align:middle;padding:0 5px 0 0}.maputnik-zoom-spec-property-label{display:inline-block;width:41%}.maputnik-zoom-spec-property-stop-item{margin-bottom:5px;margin-top:5px}.maputnik-zoom-spec-property-stop-edit{display:inline-block;vertical-align:top;width:16%;margin-right:3%}.maputnik-zoom-spec-property-stop-edit>*{width:100%}.maputnik-zoom-spec-property-stop-value{display:inline-block;width:81%}.maputnik-zoom-spec-property-stop-value>*{width:100%}.maputnik-delete-stop{display:inline-block;padding-bottom:0;padding-top:0;vertical-align:middle}.maputnik-add-stop{display:inline-block;float:right;margin-right:10px}.maputnik-make-data-function{background-color:rgba(0,0,0,0);display:inline-block;vertical-align:middle;padding:0 5px 0 0}.maputnik-data-spec-property .maputnik-input-block-label{width:30%}.maputnik-data-spec-property .maputnik-input-block-action{display:none}.maputnik-data-spec-property .maputnik-input-block-content{width:70%}.maputnik-data-spec-property .maputnik-data-spec-property-group{margin-bottom:3%}.maputnik-data-spec-property .maputnik-data-spec-property-group .maputnik-doc-wrapper{width:25%;color:#a4a4a4}.maputnik-data-spec-property .maputnik-data-spec-property-group .maputnik-doc-wrapper:hover{color:inherit}.maputnik-data-spec-property .maputnik-data-spec-property-group .maputnik-data-spec-property-input{width:75%;display:inline-block}.maputnik-data-spec-block{overflow:auto}.maputnik-data-spec-block .maputnik-data-spec-property-stop-edit,.maputnik-data-spec-block .maputnik-data-spec-property-stop-data{display:inline-block;margin-bottom:3%}.maputnik-data-spec-block .maputnik-data-spec-property-stop-edit{width:18%;margin-right:3%}.maputnik-data-spec-block .maputnik-data-spec-property-stop-data{width:100%}.maputnik-data-spec-block .maputnik-data-spec-property-stop-edit+.maputnik-data-spec-property-stop-data{width:78%}.maputnik-popup-layer{display:flex;flex-direction:row}.maputnik-popup-layer__swatch{display:inline-block;width:5px;align-content:stretch}.maputnik-popup-layer__label{display:block;color:#a4a4a4;cursor:pointer;user-select:none;line-height:1.2;padding:5px;padding-top:3px;padding-bottom:3px}.maputnik-popup-layer-id{padding-left:5px;padding-right:1.6em;background-color:#303237;color:#f0f0f0}.maputnik-feature-property-popup{max-height:calc(50vh - 40px);overflow-y:auto}.maputnik-feature-property-popup .maputnik-input-block{margin:0;margin-left:5px;margin-top:5px}.maputnik-layout .ol-zoom{top:40px;right:10px;left:auto}.maputnik-layout .ol-rotate{top:94px;right:10px;left:auto}.maputnik-layout .ol-attribution.ol-logo-only{height:20px}.maputnik-layout .ol-attribution a{color:rgba(0,0,0,.75);text-decoration:none}.maputnik-layout .ol-control button{background-color:#1c1f24}.maputnik-layout .ol-control button:hover{background-color:#565353}.maputnik-ol{width:100%;height:100%}.maputnik-ol-popup{background:#191b20}.maputnik-coords{font-family:monospace}.maputnik-coords:before{content:\"[\";color:#888}.maputnik-coords:after{content:\"]\";color:#888}.maputnik-ol-debug{font-family:monospace;font-size:smaller;position:absolute;bottom:10px;left:10px;background:#1c1f24;padding:6px 8px;border-radius:2px;z-index:9999}.maputnik-ol-zoom{position:absolute;right:10px;top:10px;background:#1c1f24;border-radius:2px;padding:6px 8px;color:#a4a4a4;z-index:9999;font-size:12px;font-weight:bold}.maputnik-ol-container{display:flex;flex:1;position:relative}.CodeMirror-lint-tooltip{z-index:2000 !important}.codemirror-container{max-width:100%;position:relative;overflow:auto}.cm-s-maputnik.CodeMirror{height:100%;font-size:12px;background:rgba(0,0,0,0)}.cm-s-maputnik.CodeMirror,.cm-s-maputnik .CodeMirror-gutters{color:#8e8e8e;border:none}.cm-s-maputnik .CodeMirror-gutters{background:#212328}.cm-s-maputnik .CodeMirror-cursor{border-left:solid thin #f0f0f0 !important}.cm-s-maputnik.CodeMirror-focused div.CodeMirror-selected{background:rgba(255,255,255,.1)}.cm-s-maputnik .CodeMirror-line::selection,.cm-s-maputnik .CodeMirror-line>span::selection,.cm-s-maputnik .CodeMirror-line>span>span::selection{background:rgba(255,255,255,.1)}.cm-s-maputnik .CodeMirror-line::-moz-selection,.cm-s-maputnik .CodeMirror-line>span::-moz-selection,.cm-s-maputnik .CodeMirror-line>span>span::-moz-selection{background:rgba(255,255,255,.1)}.cm-s-maputnik span.cm-string,.cm-s-maputnik span.cm-string-2{color:#8f9d6a}.cm-s-maputnik span.cm-number{color:#91675f}.cm-s-maputnik span.cm-property{color:#b8a077}.cm-s-maputnik .CodeMirror-activeline-background{background:rgba(255,255,255,.1)}.cm-s-maputnik .CodeMirror-matchingbracket{background:#4f5564;color:#f0f0f0 !important}.cm-s-maputnik .CodeMirror-nonmatchingbracket{background-color:#b00;color:#fff !important}@keyframes JSONEditor__animation-fade{from{opacity:1}to{opacity:0}}.JSONEditor__message{position:absolute;right:0;font-size:.85em;z-index:99999;padding:.3em .5em;background:rgba(0,0,0,.3);color:#a4a4a4;border-bottom-left-radius:2px;transition:opacity 320ms ease;opacity:0;pointer-events:none}.JSONEditor__message--on{opacity:1;animation:320ms ease 0s JSONEditor__animation-fade;animation-delay:2000ms;animation-fill-mode:forwards}.JSONEditor__message kbd{font-family:monospace}.react-collapse-container{display:flex;max-width:100%}.react-collapse-container>*{flex:1}.ReactCollapse--collapse{transition:height 180ms}#app{height:100vh}.maputnik-layout{height:100vh}.react-icons{vertical-align:middle;width:14px;height:14px}.maputnik-data-fieldset-inner{background:#191b20;border:solid 1px #303237;border-radius:2px;position:relative}.maputnik-data-fieldset-inner .maputnik-input-block{margin:5px}.maputnik-data-fieldset-inner .maputnik-add-stop{display:inline-block;float:none}.maputnik-data-fieldset-inner .maputnik-add-stop:last-child{margin-right:0}.maputnik-data-fieldset-inner .maputnik-toolbox{margin:10px;margin-top:10px;text-align:right}.maputnik-data-spec-property legend{font-size:12px;color:#a4a4a4;margin-bottom:10px}.maputnik-data-spec-property .maputnik-data-spec-property-group{margin-bottom:5px}.maputnik-data-spec-block{margin:10px}.maputnik-function-stop{padding-left:5px;padding-right:5px}.maputnik-function-stop-table{text-align:left;margin-bottom:5px;box-sizing:border-box;width:100%}.maputnik-function-stop-table thead th{padding:3px 5px;padding-left:0;color:#a4a4a4}.maputnik-function-stop-table td,.maputnik-function-stop-table th{font-size:12px;color:#f0f0f0}.maputnik-function-stop-table td>*,.maputnik-function-stop-table th>*{display:inline-block;width:100%;vertical-align:text-top}.maputnik-function-stop-table td:not(:first-child),.maputnik-function-stop-table th:not(:first-child){padding-top:3px;padding-left:5px}.maputnik-function-stop-table td:nth-child(1),.maputnik-function-stop-table th:nth-child(1){width:2em}.maputnik-function-stop-table td:nth-child(2),.maputnik-function-stop-table th:nth-child(2){width:6em}.maputnik-function-stop-table td:nth-child(3),.maputnik-function-stop-table th:nth-child(3){width:auto}.maputnik-function-stop-table td:nth-child(4),.maputnik-function-stop-table th:nth-child(4){width:1.8em}.maputnik-function-stop-table td:nth-child(4) .maputnik-delete-stop,.maputnik-function-stop-table th:nth-child(4) .maputnik-delete-stop{padding:0;width:1em}.maputnik-function-stop-table--zoom td:nth-child(2),.maputnik-function-stop-table--zoom th:nth-child(2){width:auto}.maputnik-function-stop-table--zoom td:nth-child(3),.maputnik-function-stop-table--zoom th:nth-child(3){width:1.8em}.maputnik-function-stop-table--zoom td:nth-child(3) .maputnik-delete-stop,.maputnik-function-stop-table--zoom th:nth-child(3) .maputnik-delete-stop{padding:0;width:1em}.maputnik-function-stop-table caption{color:#a4a4a4;text-align:left;border-top:solid 1px #191b20;font-size:12px;height:0px;overflow:hidden}",""]),t.a=_},function(e,t,r){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,t){var r=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,s=Object.prototype.toString;function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function _(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==s.call(e)}(e))return NaN;if(l(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=l(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var _=i.test(e);return _||o.test(e)?a(e.slice(2),_?2:8):n.test(e)?NaN:+e}e.exports=function(e,t,r){return void 0===r&&(r=t,t=void 0),void 0!==r&&(r=(r=_(r))==r?r:0),void 0!==t&&(t=(t=_(t))==t?t:0),function(e,t,r){return e==e&&(void 0!==r&&(e=e<=r?e:r),void 0!==t&&(e=e>=t?e:t)),e}(_(e),t,r)}},function(e,t,r){"use strict";e.exports=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0}},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return IconBackground}));var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(33),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),react_icon_base__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(85),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},IconBackground=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(IconBackground,_React$Component);var _super=_createSuper(IconBackground);function IconBackground(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,IconBackground),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(IconBackground,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_icon_base__WEBPACK_IMPORTED_MODULE_7__.a,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({viewBox:"0 0 20 20"},this.props),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("path",{d:"m 1.821019,10.255581 7.414535,5.020197 c 0.372277,0.25206 0.958697,0.239771 1.30985,-0.02745 L 17.539255,9.926162 C 17.89041,9.658941 17.873288,9.238006 17.501015,8.985946 L 10.08648,3.9657402 C 9.714204,3.7136802 9.127782,3.7259703 8.776627,3.9931918 L 1.782775,9.315365 c -0.3511551,0.267221 -0.3340331,0.688156 0.03824,0.940216 z"}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),IconBackground}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(IconBackground,"IconBackground","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\IconBackground.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(e,t,r){"use strict";var n=r(62),i=r.n(n)()((function(e){return e[1]}));i.push([e.i,".mapboxgl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mapboxgl-canvas{position:absolute;left:0;top:0}.mapboxgl-map:-webkit-full-screen{width:100%;height:100%}.mapboxgl-canary{background-color:salmon}.mapboxgl-canvas-container.mapboxgl-interactive,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass{cursor:-webkit-grab;cursor:-moz-grab;cursor:grab;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.mapboxgl-canvas-container.mapboxgl-interactive.mapboxgl-track-pointer{cursor:pointer}.mapboxgl-canvas-container.mapboxgl-interactive:active,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass:active{cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas{touch-action:pan-x pan-y}.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:pinch-zoom}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:none}.mapboxgl-ctrl-bottom-left,.mapboxgl-ctrl-bottom-right,.mapboxgl-ctrl-top-left,.mapboxgl-ctrl-top-right{position:absolute;pointer-events:none;z-index:2}.mapboxgl-ctrl-top-left{top:0;left:0}.mapboxgl-ctrl-top-right{top:0;right:0}.mapboxgl-ctrl-bottom-left{bottom:0;left:0}.mapboxgl-ctrl-bottom-right{right:0;bottom:0}.mapboxgl-ctrl{clear:both;pointer-events:auto;transform:translate(0)}.mapboxgl-ctrl-top-left .mapboxgl-ctrl{margin:10px 0 0 10px;float:left}.mapboxgl-ctrl-top-right .mapboxgl-ctrl{margin:10px 10px 0 0;float:right}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{margin:0 0 10px 10px;float:left}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl{margin:0 10px 10px 0;float:right}.mapboxgl-ctrl-group{border-radius:4px;background:#fff}.mapboxgl-ctrl-group:not(:empty){-moz-box-shadow:0 0 2px rgba(0,0,0,.1);-webkit-box-shadow:0 0 2px rgba(0,0,0,.1);box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (-ms-high-contrast:active){.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.mapboxgl-ctrl-group button{width:29px;height:29px;display:block;padding:0;outline:none;border:0;box-sizing:border-box;background-color:transparent;cursor:pointer}.mapboxgl-ctrl-group button+button{border-top:1px solid #ddd}.mapboxgl-ctrl button .mapboxgl-ctrl-icon{display:block;width:100%;height:100%;background-repeat:no-repeat;background-position:50%}@media (-ms-high-contrast:active){.mapboxgl-ctrl-icon{background-color:transparent}.mapboxgl-ctrl-group button+button{border-top:1px solid ButtonText}}.mapboxgl-ctrl button::-moz-focus-inner{border:0;padding:0}.mapboxgl-ctrl-attrib-button:focus,.mapboxgl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl button:disabled{cursor:not-allowed}.mapboxgl-ctrl button:disabled .mapboxgl-ctrl-icon{opacity:.25}.mapboxgl-ctrl button:not(:disabled):hover{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.mapboxgl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.mapboxgl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.mapboxgl-ctrl-group button:focus:only-child{border-radius:inherit}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23999'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23aaa'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting .mapboxgl-ctrl-icon{-webkit-animation:mapboxgl-spin 2s linear infinite;-moz-animation:mapboxgl-spin 2s infinite linear;-o-animation:mapboxgl-spin 2s infinite linear;-ms-animation:mapboxgl-spin 2s infinite linear;animation:mapboxgl-spin 2s linear infinite}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23999'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23666'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E\")}}@-webkit-keyframes mapboxgl-spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}@-moz-keyframes mapboxgl-spin{0%{-moz-transform:rotate(0deg)}to{-moz-transform:rotate(1turn)}}@-o-keyframes mapboxgl-spin{0%{-o-transform:rotate(0deg)}to{-o-transform:rotate(1turn)}}@-ms-keyframes mapboxgl-spin{0%{-ms-transform:rotate(0deg)}to{-ms-transform:rotate(1turn)}}@keyframes mapboxgl-spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}a.mapboxgl-ctrl-logo{width:88px;height:23px;margin:0 0 -4px -4px;display:block;background-repeat:no-repeat;cursor:pointer;overflow:hidden;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg opacity='.3' stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cg opacity='.9' fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/g%3E%3C/svg%3E\")}a.mapboxgl-ctrl-logo.mapboxgl-compact{width:23px}@media (-ms-high-contrast:active){a.mapboxgl-ctrl-logo{background-color:transparent;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cg fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/g%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){a.mapboxgl-ctrl-logo{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg stroke='%23fff' stroke-width='3' fill='%23fff'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl.mapboxgl-ctrl-attrib{padding:0 5px;background-color:hsla(0,0%,100%,.5);margin:0}@media screen{.mapboxgl-ctrl-attrib.mapboxgl-compact{min-height:20px;padding:2px 24px 2px 0;margin:10px;position:relative;background-color:#fff;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show,.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 8px 2px 28px;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner{display:none}.mapboxgl-ctrl-attrib-button{display:none;cursor:pointer;position:absolute;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E\");background-color:hsla(0,0%,100%,.5);width:24px;height:24px;box-sizing:border-box;border-radius:12px;outline:none;top:0;right:0;border:0}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl-attrib-button,.mapboxgl-ctrl-top-left .mapboxgl-ctrl-attrib-button{left:0}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-inner,.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-button{display:block}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-button{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-bottom-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;right:0}.mapboxgl-ctrl-top-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;right:0}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;left:0}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;left:0}}@media screen and (-ms-high-contrast:active){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' fill='%23fff'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E\")}}@media screen and (-ms-high-contrast:black-on-white){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.mapboxgl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.mapboxgl-ctrl-attrib .mapbox-improve-map{font-weight:700;margin-left:2px}.mapboxgl-attrib-empty{display:none}.mapboxgl-ctrl-scale{background-color:hsla(0,0%,100%,.75);font-size:10px;border:2px solid #333;border-top:#333;padding:0 5px;color:#333;box-sizing:border-box}.mapboxgl-popup{position:absolute;top:0;left:0;display:-webkit-flex;display:flex;will-change:transform;pointer-events:none}.mapboxgl-popup-anchor-top,.mapboxgl-popup-anchor-top-left,.mapboxgl-popup-anchor-top-right{-webkit-flex-direction:column;flex-direction:column}.mapboxgl-popup-anchor-bottom,.mapboxgl-popup-anchor-bottom-left,.mapboxgl-popup-anchor-bottom-right{-webkit-flex-direction:column-reverse;flex-direction:column-reverse}.mapboxgl-popup-anchor-left{-webkit-flex-direction:row;flex-direction:row}.mapboxgl-popup-anchor-right{-webkit-flex-direction:row-reverse;flex-direction:row-reverse}.mapboxgl-popup-tip{width:0;height:0;border:10px solid transparent;z-index:1}.mapboxgl-popup-anchor-top .mapboxgl-popup-tip{-webkit-align-self:center;align-self:center;border-top:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip{-webkit-align-self:flex-start;align-self:flex-start;border-top:none;border-left:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{-webkit-align-self:flex-end;align-self:flex-end;border-top:none;border-right:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{-webkit-align-self:center;align-self:center;border-bottom:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip{-webkit-align-self:flex-start;align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip{-webkit-align-self:flex-end;align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.mapboxgl-popup-anchor-left .mapboxgl-popup-tip{-webkit-align-self:center;align-self:center;border-left:none;border-right-color:#fff}.mapboxgl-popup-anchor-right .mapboxgl-popup-tip{-webkit-align-self:center;align-self:center;border-right:none;border-left-color:#fff}.mapboxgl-popup-close-button{position:absolute;right:0;top:0;border:0;border-radius:0 3px 0 0;cursor:pointer;background-color:transparent}.mapboxgl-popup-close-button:hover{background-color:rgba(0,0,0,.05)}.mapboxgl-popup-content{position:relative;background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,.1);padding:10px 10px 15px;pointer-events:auto}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content{border-top-left-radius:0}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content{border-top-right-radius:0}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content{border-bottom-left-radius:0}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content{border-bottom-right-radius:0}.mapboxgl-popup-track-pointer{display:none}.mapboxgl-popup-track-pointer *{pointer-events:none;user-select:none}.mapboxgl-map:hover .mapboxgl-popup-track-pointer{display:flex}.mapboxgl-map:active .mapboxgl-popup-track-pointer{display:none}.mapboxgl-marker{position:absolute;top:0;left:0;will-change:transform}.mapboxgl-user-location-dot,.mapboxgl-user-location-dot:before{background-color:#1da1f2;width:15px;height:15px;border-radius:50%}.mapboxgl-user-location-dot:before{content:\"\";position:absolute;-webkit-animation:mapboxgl-user-location-dot-pulse 2s infinite;-moz-animation:mapboxgl-user-location-dot-pulse 2s infinite;-ms-animation:mapboxgl-user-location-dot-pulse 2s infinite;animation:mapboxgl-user-location-dot-pulse 2s infinite}.mapboxgl-user-location-dot:after{border-radius:50%;border:2px solid #fff;content:\"\";height:19px;left:-2px;position:absolute;top:-2px;width:19px;box-sizing:border-box;box-shadow:0 0 3px rgba(0,0,0,.35)}@-webkit-keyframes mapboxgl-user-location-dot-pulse{0%{-webkit-transform:scale(1);opacity:1}70%{-webkit-transform:scale(3);opacity:0}to{-webkit-transform:scale(1);opacity:0}}@-ms-keyframes mapboxgl-user-location-dot-pulse{0%{-ms-transform:scale(1);opacity:1}70%{-ms-transform:scale(3);opacity:0}to{-ms-transform:scale(1);opacity:0}}@keyframes mapboxgl-user-location-dot-pulse{0%{transform:scale(1);opacity:1}70%{transform:scale(3);opacity:0}to{transform:scale(1);opacity:0}}.mapboxgl-user-location-dot-stale{background-color:#aaa}.mapboxgl-user-location-dot-stale:after{display:none}.mapboxgl-user-location-accuracy-circle{background-color:rgba(29,161,242,.2);width:1px;height:1px;border-radius:100%}.mapboxgl-crosshair,.mapboxgl-crosshair .mapboxgl-interactive,.mapboxgl-crosshair .mapboxgl-interactive:active{cursor:crosshair}.mapboxgl-boxzoom{position:absolute;top:0;left:0;width:0;height:0;background:#fff;border:2px dotted #202020;opacity:.5}@media print{.mapbox-improve-map{display:none}}",""]),t.a=i},function(e,t,r){"use strict";var n=r(62),i=r.n(n)()((function(e){return e[1]}));i.push([e.i,'.mapboxgl-popup-anchor-top .mapboxgl-popup-tip {\r\n border-bottom-color: rgb(28, 31, 36);\r\n}\r\n\r\n.mapboxgl-popup-anchor-left .mapboxgl-popup-tip {\r\n  border-right-color: rgb(28, 31, 36);\r\n}\r\n\r\n.mapboxgl-popup-anchor-right .mapboxgl-popup-tip {\r\n  border-left-color: rgb(28, 31, 36);\r\n}\r\n\r\n.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip {\r\n  border-top-color: rgb(28, 31, 36);\r\n}\r\n\r\n.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip {\r\n border-bottom-color: rgb(28, 31, 36);\r\n}\r\n\r\n.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip {\r\n  border-bottom-color: rgb(28, 31, 36);\r\n}\r\n\r\n.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip {\r\n  border-top-color: rgb(28, 31, 36);\r\n}\r\n\r\n.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip {\r\n  border-top-color: rgb(28, 31, 36);\r\n}\r\n\r\n.mapboxgl-popup-content {\r\n  background-color: rgb(28, 31, 36);\r\n  box-shadow: rgba(0, 0, 0, 0.298039) 0px 0px 5px 0px;\r\n  padding: 0px;\r\n}\r\n\r\n.mapboxgl-popup-close-button {\r\n  color: white;\r\n}\r\n\r\n.mapboxgl-ctrl-zoom {\r\n  color: #a4a4a4;\r\n  font-weight: bold;\r\n  padding: 4px 8px;\r\n  user-select: none;\r\n}\r\n\r\n.mapboxgl-ctrl-group {\r\n  background: rgb(28, 31, 36);\r\n}\r\n\r\n.mapboxgl-ctrl-group > button {\r\n  background-color: rgb(28, 31, 36);\r\n  border-color: rgb(28, 31, 36);\r\n}\r\n\r\n.mapboxgl-ctrl button:not(:disabled):hover {\r\n  background-color: rgb(86, 83, 83);\r\n}\r\n\r\n.mapboxgl-ctrl-zoom-in {\r\n  border-radius: 4px 4px 0 0;\r\n}\r\n\r\n.mapboxgl-ctrl-compass {\r\n  border-radius: 0 0 4px 4px;\r\n}\r\n\r\n.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon {\r\n    background-image: url("data:image/svg+xml;charset=utf8,%3Csvg%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%0A%20%20%3Cpath%20style%3D%27fill%3A%23a4a4a4%3B%27%20d%3D%27M%2010%206%20C%209.446%206%209%206.4459904%209%207%20L%209%209%20L%207%209%20C%206.446%209%206%209.446%206%2010%20C%206%2010.554%206.446%2011%207%2011%20L%209%2011%20L%209%2013%20C%209%2013.55401%209.446%2014%2010%2014%20C%2010.554%2014%2011%2013.55401%2011%2013%20L%2011%2011%20L%2013%2011%20C%2013.554%2011%2014%2010.554%2014%2010%20C%2014%209.446%2013.554%209%2013%209%20L%2011%209%20L%2011%207%20C%2011%206.4459904%2010.554%206%2010%206%20z%27%20%2F%3E%0A%3C%2Fsvg%3E%0A")\r\n}\r\n\r\n.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon {\r\n    background-image: url("data:image/svg+xml;charset=utf8,%3Csvg%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%0A%20%20%3Cpath%20style%3D%27fill%3A%23a4a4a4%3B%27%20d%3D%27m%207%2C9%20c%20-0.554%2C0%20-1%2C0.446%20-1%2C1%200%2C0.554%200.446%2C1%201%2C1%20l%206%2C0%20c%200.554%2C0%201%2C-0.446%201%2C-1%200%2C-0.554%20-0.446%2C-1%20-1%2C-1%20z%27%20%2F%3E%0A%3C%2Fsvg%3E%0A")\r\n}\r\n\r\n.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon {\r\n    background-image: url("data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%20viewBox%3D%270%200%2020%2020%27%3E%0A%09%3Cpolygon%20fill%3D%27%23a4a4a4%27%20points%3D%276%2C9%2010%2C1%2014%2C9%27%2F%3E%0A%09%3Cpolygon%20fill%3D%27%23545454%27%20points%3D%276%2C11%2010%2C19%2014%2C11%20%27%2F%3E%0A%3C%2Fsvg%3E");\r\n    background-size: 18px;\r\n}\r\n\r\n.mapboxgl-ctrl-inspect {\r\n  background-image: url(\'data:image/svg+xml;charset=utf8,<svg%20xmlns="http://www.w3.org/2000/svg"%20fill="#8e8e8e%22%20preserveAspectRatio=%22xMidYMid%20meet%22%20viewBox=%22-10%20-10%2060%2060%22%3E%3Cg%3E%3Cpath%20d=%22m15%2021.6q0-2%201.5-3.5t3.5-1.5%203.5%201.5%201.5%203.5-1.5%203.6-3.5%201.4-3.5-1.4-1.5-3.6z%20m18.4%2011.1l-6.4-6.5q1.4-2.1%201.4-4.6%200-3.4-2.5-5.8t-5.9-2.4-5.9%202.4-2.5%205.8%202.5%205.9%205.9%202.5q2.4%200%204.6-1.4l7.4%207.4q-0.9%200.6-2%200.6h-20q-1.3%200-2.3-0.9t-1.1-2.3l0.1-26.8q0-1.3%201-2.3t2.3-0.9h13.4l10%2010v19.3z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E\');\r\n}\r\n\r\n.mapboxgl-ctrl-map {\r\n  background-image: url(\'data:image/svg+xml;charset=utf8,<svg%20xmlns="http://www.w3.org/2000/svg"%20fill="#8e8e8e%22%20viewBox=%22-10%20-10%2060%2060%22%20preserveAspectRatio=%22xMidYMid%20meet%22%3E%3Cg%3E%3Cpath%20d=%22m25%2031.640000000000004v-19.766666666666673l-10-3.511666666666663v19.766666666666666z%20m9.140000000000008-26.640000000000004q0.8599999999999923%200%200.8599999999999923%200.8600000000000003v25.156666666666666q0%200.625-0.625%200.783333333333335l-9.375%203.1999999999999993-10-3.5133333333333354-8.906666666666668%203.4383333333333326-0.2333333333333334%200.07833333333333314q-0.8616666666666664%200-0.8616666666666664-0.8599999999999994v-25.156666666666663q0-0.625%200.6233333333333331-0.7833333333333332l9.378333333333334-3.198333333333334%2010%203.5133333333333336%208.905000000000001-3.4383333333333344z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E\');\r\n}\r\n\r\n',""]),t.a=i},function(e,t,r){"use strict";var n=r(62),i=r.n(n)()((function(e){return e[1]}));i.push([e.i,'.ol-box {\n  box-sizing: border-box;\n  border-radius: 2px;\n  border: 1.5px solid rgb(179,197,219);\n  background-color: rgba(255,255,255,0.4);\n}\n\n.ol-mouse-position {\n  top: 8px;\n  right: 8px;\n  position: absolute;\n}\n\n.ol-scale-line {\n  background: rgba(0,60,136,0.3);\n  border-radius: 4px;\n  bottom: 8px;\n  left: 8px;\n  padding: 2px;\n  position: absolute;\n}\n.ol-scale-line-inner {\n  border: 1px solid #eee;\n  border-top: none;\n  color: #eee;\n  font-size: 10px;\n  text-align: center;\n  margin: 1px;\n  will-change: contents, width;\n  transition: all 0.25s;\n}\n.ol-scale-singlebar-even{\n  background-color: #000000;\n}\n.ol-scale-singlebar-odd{\n  background-color: #ffffff;\n}\n.ol-scale-bar {\n  position: absolute;\n  bottom: 8px;\n  left: 8px;\n}\n.ol-scale-step-marker {\n  width: 1px;\n  height: 15px;\n  background-color: #000000;\n  float: right;\n  z-index: 10;\n}\n.ol-scale-step-text {\n  position: absolute;\n  bottom: -5px;\n  font-size: 12px;\n  z-index: 11;\n  color: #000000;\n  text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\n}\n.ol-scale-text {\n  position: absolute;\n  font-size: 14px;\n  text-align: center;\n  bottom: 25px;\n  color: #000000;\n  text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\n}\n.ol-scale-singlebar {\n  position: relative;\n  height: 10px;\n  z-index: 9;\n  box-sizing: border-box;\n  border: 1px solid black;\n}\n\n.ol-unsupported {\n  display: none;\n}\n.ol-viewport, .ol-unselectable {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: rgba(0,0,0,0);\n}\n.ol-viewport canvas {\n  all: unset;\n}\n.ol-selectable {\n  -webkit-touch-callout: default;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}\n.ol-grabbing {\n  cursor: -webkit-grabbing;\n  cursor: -moz-grabbing;\n  cursor: grabbing;\n}\n.ol-grab {\n  cursor: move;\n  cursor: -webkit-grab;\n  cursor: -moz-grab;\n  cursor: grab;\n}\n.ol-control {\n  position: absolute;\n  background-color: rgba(255,255,255,0.4);\n  border-radius: 4px;\n  padding: 2px;\n}\n.ol-control:hover {\n  background-color: rgba(255,255,255,0.6);\n}\n.ol-zoom {\n  top: .5em;\n  left: .5em;\n}\n.ol-rotate {\n  top: .5em;\n  right: .5em;\n  transition: opacity .25s linear, visibility 0s linear;\n}\n.ol-rotate.ol-hidden {\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity .25s linear, visibility 0s linear .25s;\n}\n.ol-zoom-extent {\n  top: 4.643em;\n  left: .5em;\n}\n.ol-full-screen {\n  right: .5em;\n  top: .5em;\n}\n\n.ol-control button {\n  display: block;\n  margin: 1px;\n  padding: 0;\n  color: white;\n  font-weight: bold;\n  text-decoration: none;\n  font-size: inherit;\n  text-align: center;\n  height: 1.375em;\n  width: 1.375em;\n  line-height: .4em;\n  background-color: rgba(0,60,136,0.5);\n  border: none;\n  border-radius: 2px;\n}\n.ol-control button::-moz-focus-inner {\n  border: none;\n  padding: 0;\n}\n.ol-zoom-extent button {\n  line-height: 1.4em;\n}\n.ol-compass {\n  display: block;\n  font-weight: normal;\n  font-size: 1.2em;\n  will-change: transform;\n}\n.ol-touch .ol-control button {\n  font-size: 1.5em;\n}\n.ol-touch .ol-zoom-extent {\n  top: 5.5em;\n}\n.ol-control button:hover,\n.ol-control button:focus {\n  text-decoration: none;\n  background-color: rgba(0,60,136,0.7);\n}\n.ol-zoom .ol-zoom-in {\n  border-radius: 2px 2px 0 0;\n}\n.ol-zoom .ol-zoom-out {\n  border-radius: 0 0 2px 2px;\n}\n\n\n.ol-attribution {\n  text-align: right;\n  bottom: .5em;\n  right: .5em;\n  max-width: calc(100% - 1.3em);\n  display: flex;\n  flex-flow: row-reverse;\n  align-items: center;\n}\n.ol-attribution a {\n  color: rgba(0,60,136,0.7);\n  text-decoration: none;\n}\n.ol-attribution ul {\n  margin: 0;\n  padding: 1px .5em;\n  color: #000;\n  text-shadow: 0 0 2px #fff;\n  font-size: 12px;\n}\n.ol-attribution li {\n  display: inline;\n  list-style: none;\n}\n.ol-attribution li:not(:last-child):after {\n  content: " ";\n}\n.ol-attribution img {\n  max-height: 2em;\n  max-width: inherit;\n  vertical-align: middle;\n}\n.ol-attribution button {\n  flex-shrink: 0;\n}\n.ol-attribution.ol-collapsed ul {\n  display: none;\n}\n.ol-attribution:not(.ol-collapsed) {\n  background: rgba(255,255,255,0.8);\n}\n.ol-attribution.ol-uncollapsible {\n  bottom: 0;\n  right: 0;\n  border-radius: 4px 0 0;\n}\n.ol-attribution.ol-uncollapsible img {\n  margin-top: -.2em;\n  max-height: 1.6em;\n}\n.ol-attribution.ol-uncollapsible button {\n  display: none;\n}\n\n.ol-zoomslider {\n  top: 4.5em;\n  left: .5em;\n  height: 200px;\n}\n.ol-zoomslider button {\n  position: relative;\n  height: 10px;\n}\n\n.ol-touch .ol-zoomslider {\n  top: 5.5em;\n}\n\n.ol-overviewmap {\n  left: 0.5em;\n  bottom: 0.5em;\n}\n.ol-overviewmap.ol-uncollapsible {\n  bottom: 0;\n  left: 0;\n  border-radius: 0 4px 0 0;\n}\n.ol-overviewmap .ol-overviewmap-map,\n.ol-overviewmap button {\n  display: block;\n}\n.ol-overviewmap .ol-overviewmap-map {\n  border: 1px solid #7b98bc;\n  height: 150px;\n  margin: 2px;\n  width: 150px;\n}\n.ol-overviewmap:not(.ol-collapsed) button {\n  bottom: 2px;\n  left: 2px;\n  position: absolute;\n}\n.ol-overviewmap.ol-collapsed .ol-overviewmap-map,\n.ol-overviewmap.ol-uncollapsible button {\n  display: none;\n}\n.ol-overviewmap:not(.ol-collapsed) {\n  background: rgba(255,255,255,0.8);\n}\n.ol-overviewmap-box {\n  border: 2px dotted rgba(0,60,136,0.7);\n}\n\n.ol-overviewmap .ol-overviewmap-box:hover {\n  cursor: move;\n}\n',""]),t.a=i},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return InputJson}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),classnames__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(51),classnames__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_9__),_Block__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(24),_FieldString__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(88),codemirror__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(48),codemirror__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(codemirror__WEBPACK_IMPORTED_MODULE_12__),codemirror_mode_javascript_javascript__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(383),codemirror_mode_javascript_javascript__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(codemirror_mode_javascript_javascript__WEBPACK_IMPORTED_MODULE_13__),codemirror_addon_lint_lint__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(384),codemirror_addon_lint_lint__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(codemirror_addon_lint_lint__WEBPACK_IMPORTED_MODULE_14__),codemirror_addon_edit_matchbrackets__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(385),codemirror_addon_edit_matchbrackets__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(codemirror_addon_edit_matchbrackets__WEBPACK_IMPORTED_MODULE_15__),codemirror_lib_codemirror_css__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(386),codemirror_addon_lint_lint_css__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(387),jsonlint__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(128),jsonlint__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(jsonlint__WEBPACK_IMPORTED_MODULE_18__),json_stringify_pretty_compact__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(161),json_stringify_pretty_compact__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(json_stringify_pretty_compact__WEBPACK_IMPORTED_MODULE_19__),_util_codemirror_mgl__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(388),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},InputJson=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(InputJson,_React$Component);var _super=_createSuper(InputJson);function InputJson(e){var t;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,InputJson),t=_super.call(this,e),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"onPointerDown",(function(e,r){t._keyEvent="pointer"})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"onFocus",(function(e,r){t.props.onFocus(),t.setState({isEditing:!0,showMessage:"keyboard"===t._keyEvent})})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"onBlur",(function(){t._keyEvent="keyboard",t.props.onBlur(),t.setState({isEditing:!1,showMessage:!1})})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"onChange",(function(e){if(t._cancelNextChange)return t._cancelNextChange=!1,void t.setState({prevValue:t._doc.getValue()});var r=t._doc.getValue();if(t.state.prevValue!==r){var n,i;try{n=JSON.parse(r)}catch(e){i=e,console.warn(e)}i?t.props.onJSONInvalid():(t.props.onChange(n),t.props.onJSONValid())}t.setState({prevValue:r})})),t._keyEvent="keyboard",t.state={isEditing:!1,showMessage:!1,prevValue:t.props.getValue(t.props.layer)},t}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(InputJson,[{key:"componentDidMount",value:function(){this._doc=codemirror__WEBPACK_IMPORTED_MODULE_12___default()(this._el,{value:this.props.getValue(this.props.layer),mode:this.props.mode||{name:"mgl"},lineWrapping:this.props.lineWrapping,tabSize:2,theme:"maputnik",viewportMargin:1/0,lineNumbers:this.props.lineNumbers,lint:this.props.lint||{context:"layer"},matchBrackets:!0,gutters:this.props.gutters,scrollbarStyle:"null"}),this._doc.on("change",this.onChange),this._doc.on("focus",this.onFocus),this._doc.on("blur",this.onBlur)}},{key:"componentWillUnMount",value:function(){this._doc.off("change",this.onChange),this._doc.off("focus",this.onFocus),this._doc.off("blur",this.onBlur)}},{key:"componentDidUpdate",value:function(e){this.state.isEditing||e.layer===this.props.layer||(this._cancelNextChange=!0,this._doc.setValue(this.props.getValue(this.props.layer)))}},{key:"render",value:function(){var e=this,t=this.state.showMessage,r={};return this.props.maxHeight&&(r.maxHeight=this.props.maxHeight),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"JSONEditor",onPointerDown:this.onPointerDown,"aria-hidden":"true"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_9___default()("JSONEditor__message",{"JSONEditor__message--on":t})},"Press ",react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("kbd",null,"ESC")," to lose focus"),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_9___default()("codemirror-container",this.props.className),ref:function(t){return e._el=t},style:r}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),InputJson}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(InputJson,"propTypes",{layer:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.any.isRequired,maxHeight:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.number,onChange:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func,lineNumbers:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.bool,lineWrapping:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.bool,getValue:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func,gutters:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.array,className:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string,onFocus:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func,onBlur:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func,onJSONValid:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func,onJSONInvalid:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func,mode:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object,lint:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.bool,prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object])}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(InputJson,"defaultProps",{lineNumbers:!0,lineWrapping:!1,gutters:["CodeMirror-lint-markers"],getValue:function(e){return json_stringify_pretty_compact__WEBPACK_IMPORTED_MODULE_19___default()(e,{indent:2,maxLength:40})},onFocus:function(){},onBlur:function(){},onJSONInvalid:function(){},onJSONValid:function(){}}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(InputJson,"InputJson","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\InputJson.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(e,t,r){"use strict";var n=r(62),i=r.n(n)()((function(e){return e[1]}));i.push([e.i,"/* BASICS */\n\n.CodeMirror {\n  /* Set height, width, borders, and global font properties here */\n  font-family: monospace;\n  height: 300px;\n  color: black;\n  direction: ltr;\n}\n\n/* PADDING */\n\n.CodeMirror-lines {\n  padding: 4px 0; /* Vertical padding around content */\n}\n.CodeMirror pre.CodeMirror-line,\n.CodeMirror pre.CodeMirror-line-like {\n  padding: 0 4px; /* Horizontal padding of content */\n}\n\n.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  background-color: white; /* The little square between H and V scrollbars */\n}\n\n/* GUTTER */\n\n.CodeMirror-gutters {\n  border-right: 1px solid #ddd;\n  background-color: #f7f7f7;\n  white-space: nowrap;\n}\n.CodeMirror-linenumbers {}\n.CodeMirror-linenumber {\n  padding: 0 3px 0 5px;\n  min-width: 20px;\n  text-align: right;\n  color: #999;\n  white-space: nowrap;\n}\n\n.CodeMirror-guttermarker { color: black; }\n.CodeMirror-guttermarker-subtle { color: #999; }\n\n/* CURSOR */\n\n.CodeMirror-cursor {\n  border-left: 1px solid black;\n  border-right: none;\n  width: 0;\n}\n/* Shown when moving in bi-directional text */\n.CodeMirror div.CodeMirror-secondarycursor {\n  border-left: 1px solid silver;\n}\n.cm-fat-cursor .CodeMirror-cursor {\n  width: auto;\n  border: 0 !important;\n  background: #7e7;\n}\n.cm-fat-cursor div.CodeMirror-cursors {\n  z-index: 1;\n}\n.cm-fat-cursor .CodeMirror-line::selection,\n.cm-fat-cursor .CodeMirror-line > span::selection, \n.cm-fat-cursor .CodeMirror-line > span > span::selection { background: transparent; }\n.cm-fat-cursor .CodeMirror-line::-moz-selection,\n.cm-fat-cursor .CodeMirror-line > span::-moz-selection,\n.cm-fat-cursor .CodeMirror-line > span > span::-moz-selection { background: transparent; }\n.cm-fat-cursor { caret-color: transparent; }\n@-moz-keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n@-webkit-keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n@keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n\n/* Can style cursor different in overwrite (non-insert) mode */\n.CodeMirror-overwrite .CodeMirror-cursor {}\n\n.cm-tab { display: inline-block; text-decoration: inherit; }\n\n.CodeMirror-rulers {\n  position: absolute;\n  left: 0; right: 0; top: -50px; bottom: 0;\n  overflow: hidden;\n}\n.CodeMirror-ruler {\n  border-left: 1px solid #ccc;\n  top: 0; bottom: 0;\n  position: absolute;\n}\n\n/* DEFAULT THEME */\n\n.cm-s-default .cm-header {color: blue;}\n.cm-s-default .cm-quote {color: #090;}\n.cm-negative {color: #d44;}\n.cm-positive {color: #292;}\n.cm-header, .cm-strong {font-weight: bold;}\n.cm-em {font-style: italic;}\n.cm-link {text-decoration: underline;}\n.cm-strikethrough {text-decoration: line-through;}\n\n.cm-s-default .cm-keyword {color: #708;}\n.cm-s-default .cm-atom {color: #219;}\n.cm-s-default .cm-number {color: #164;}\n.cm-s-default .cm-def {color: #00f;}\n.cm-s-default .cm-variable,\n.cm-s-default .cm-punctuation,\n.cm-s-default .cm-property,\n.cm-s-default .cm-operator {}\n.cm-s-default .cm-variable-2 {color: #05a;}\n.cm-s-default .cm-variable-3, .cm-s-default .cm-type {color: #085;}\n.cm-s-default .cm-comment {color: #a50;}\n.cm-s-default .cm-string {color: #a11;}\n.cm-s-default .cm-string-2 {color: #f50;}\n.cm-s-default .cm-meta {color: #555;}\n.cm-s-default .cm-qualifier {color: #555;}\n.cm-s-default .cm-builtin {color: #30a;}\n.cm-s-default .cm-bracket {color: #997;}\n.cm-s-default .cm-tag {color: #170;}\n.cm-s-default .cm-attribute {color: #00c;}\n.cm-s-default .cm-hr {color: #999;}\n.cm-s-default .cm-link {color: #00c;}\n\n.cm-s-default .cm-error {color: #f00;}\n.cm-invalidchar {color: #f00;}\n\n.CodeMirror-composing { border-bottom: 2px solid; }\n\n/* Default styles for common addons */\n\ndiv.CodeMirror span.CodeMirror-matchingbracket {color: #0b0;}\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket {color: #a22;}\n.CodeMirror-matchingtag { background: rgba(255, 150, 0, .3); }\n.CodeMirror-activeline-background {background: #e8f2ff;}\n\n/* STOP */\n\n/* The rest of this file contains styles related to the mechanics of\n   the editor. You probably shouldn't touch them. */\n\n.CodeMirror {\n  position: relative;\n  overflow: hidden;\n  background: white;\n}\n\n.CodeMirror-scroll {\n  overflow: scroll !important; /* Things will break if this is overridden */\n  /* 50px is the magic margin used to hide the element's real scrollbars */\n  /* See overflow: hidden in .CodeMirror */\n  margin-bottom: -50px; margin-right: -50px;\n  padding-bottom: 50px;\n  height: 100%;\n  outline: none; /* Prevent dragging from highlighting the element */\n  position: relative;\n  z-index: 0;\n}\n.CodeMirror-sizer {\n  position: relative;\n  border-right: 50px solid transparent;\n}\n\n/* The fake, visible scrollbars. Used to force redraw during scrolling\n   before actual scrolling happens, thus preventing shaking and\n   flickering artifacts. */\n.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  position: absolute;\n  z-index: 6;\n  display: none;\n  outline: none;\n}\n.CodeMirror-vscrollbar {\n  right: 0; top: 0;\n  overflow-x: hidden;\n  overflow-y: scroll;\n}\n.CodeMirror-hscrollbar {\n  bottom: 0; left: 0;\n  overflow-y: hidden;\n  overflow-x: scroll;\n}\n.CodeMirror-scrollbar-filler {\n  right: 0; bottom: 0;\n}\n.CodeMirror-gutter-filler {\n  left: 0; bottom: 0;\n}\n\n.CodeMirror-gutters {\n  position: absolute; left: 0; top: 0;\n  min-height: 100%;\n  z-index: 3;\n}\n.CodeMirror-gutter {\n  white-space: normal;\n  height: 100%;\n  display: inline-block;\n  vertical-align: top;\n  margin-bottom: -50px;\n}\n.CodeMirror-gutter-wrapper {\n  position: absolute;\n  z-index: 4;\n  background: none !important;\n  border: none !important;\n}\n.CodeMirror-gutter-background {\n  position: absolute;\n  top: 0; bottom: 0;\n  z-index: 4;\n}\n.CodeMirror-gutter-elt {\n  position: absolute;\n  cursor: default;\n  z-index: 4;\n}\n.CodeMirror-gutter-wrapper ::selection { background-color: transparent }\n.CodeMirror-gutter-wrapper ::-moz-selection { background-color: transparent }\n\n.CodeMirror-lines {\n  cursor: text;\n  min-height: 1px; /* prevents collapsing before first draw */\n}\n.CodeMirror pre.CodeMirror-line,\n.CodeMirror pre.CodeMirror-line-like {\n  /* Reset some styles that the rest of the page might have set */\n  -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0;\n  border-width: 0;\n  background: transparent;\n  font-family: inherit;\n  font-size: inherit;\n  margin: 0;\n  white-space: pre;\n  word-wrap: normal;\n  line-height: inherit;\n  color: inherit;\n  z-index: 2;\n  position: relative;\n  overflow: visible;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-font-variant-ligatures: contextual;\n  font-variant-ligatures: contextual;\n}\n.CodeMirror-wrap pre.CodeMirror-line,\n.CodeMirror-wrap pre.CodeMirror-line-like {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  word-break: normal;\n}\n\n.CodeMirror-linebackground {\n  position: absolute;\n  left: 0; right: 0; top: 0; bottom: 0;\n  z-index: 0;\n}\n\n.CodeMirror-linewidget {\n  position: relative;\n  z-index: 2;\n  padding: 0.1px; /* Force widget margins to stay inside of the container */\n}\n\n.CodeMirror-widget {}\n\n.CodeMirror-rtl pre { direction: rtl; }\n\n.CodeMirror-code {\n  outline: none;\n}\n\n/* Force content-box sizing for the elements where we expect it */\n.CodeMirror-scroll,\n.CodeMirror-sizer,\n.CodeMirror-gutter,\n.CodeMirror-gutters,\n.CodeMirror-linenumber {\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n\n.CodeMirror-measure {\n  position: absolute;\n  width: 100%;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden;\n}\n\n.CodeMirror-cursor {\n  position: absolute;\n  pointer-events: none;\n}\n.CodeMirror-measure pre { position: static; }\n\ndiv.CodeMirror-cursors {\n  visibility: hidden;\n  position: relative;\n  z-index: 3;\n}\ndiv.CodeMirror-dragcursors {\n  visibility: visible;\n}\n\n.CodeMirror-focused div.CodeMirror-cursors {\n  visibility: visible;\n}\n\n.CodeMirror-selected { background: #d9d9d9; }\n.CodeMirror-focused .CodeMirror-selected { background: #d7d4f0; }\n.CodeMirror-crosshair { cursor: crosshair; }\n.CodeMirror-line::selection, .CodeMirror-line > span::selection, .CodeMirror-line > span > span::selection { background: #d7d4f0; }\n.CodeMirror-line::-moz-selection, .CodeMirror-line > span::-moz-selection, .CodeMirror-line > span > span::-moz-selection { background: #d7d4f0; }\n\n.cm-searching {\n  background-color: #ffa;\n  background-color: rgba(255, 255, 0, .4);\n}\n\n/* Used to force a border model for a node */\n.cm-force-border { padding-right: .1px; }\n\n@media print {\n  /* Hide the cursor when printing */\n  .CodeMirror div.CodeMirror-cursors {\n    visibility: hidden;\n  }\n}\n\n/* See issue #2901 */\n.cm-tab-wrap-hack:after { content: ''; }\n\n/* Help users use markselection to safely style text background */\nspan.CodeMirror-selectedtext { background: none; }\n",""]),t.a=i},function(e,t,r){"use strict";var n=r(62),i=r.n(n)()((function(e){return e[1]}));i.push([e.i,'/* The lint marker gutter */\n.CodeMirror-lint-markers {\n  width: 16px;\n}\n\n.CodeMirror-lint-tooltip {\n  background-color: #ffd;\n  border: 1px solid black;\n  border-radius: 4px 4px 4px 4px;\n  color: black;\n  font-family: monospace;\n  font-size: 10pt;\n  overflow: hidden;\n  padding: 2px 5px;\n  position: fixed;\n  white-space: pre;\n  white-space: pre-wrap;\n  z-index: 100;\n  max-width: 600px;\n  opacity: 0;\n  transition: opacity .4s;\n  -moz-transition: opacity .4s;\n  -webkit-transition: opacity .4s;\n  -o-transition: opacity .4s;\n  -ms-transition: opacity .4s;\n}\n\n.CodeMirror-lint-mark {\n  background-position: left bottom;\n  background-repeat: repeat-x;\n}\n\n.CodeMirror-lint-mark-warning {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJFhQXEbhTg7YAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAMklEQVQI12NkgIIvJ3QXMjAwdDN+OaEbysDA4MPAwNDNwMCwiOHLCd1zX07o6kBVGQEAKBANtobskNMAAAAASUVORK5CYII=");\n}\n\n.CodeMirror-lint-mark-error {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJDw4cOCW1/KIAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAHElEQVQI12NggIL/DAz/GdA5/xkY/qPKMDAwAADLZwf5rvm+LQAAAABJRU5ErkJggg==");\n}\n\n.CodeMirror-lint-marker {\n  background-position: center center;\n  background-repeat: no-repeat;\n  cursor: pointer;\n  display: inline-block;\n  height: 16px;\n  width: 16px;\n  vertical-align: middle;\n  position: relative;\n}\n\n.CodeMirror-lint-message {\n  padding-left: 18px;\n  background-position: top left;\n  background-repeat: no-repeat;\n}\n\n.CodeMirror-lint-marker-warning, .CodeMirror-lint-message-warning {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAANlBMVEX/uwDvrwD/uwD/uwD/uwD/uwD/uwD/uwD/uwD6twD/uwAAAADurwD2tQD7uAD+ugAAAAD/uwDhmeTRAAAADHRSTlMJ8mN1EYcbmiixgACm7WbuAAAAVklEQVR42n3PUQqAIBBFUU1LLc3u/jdbOJoW1P08DA9Gba8+YWJ6gNJoNYIBzAA2chBth5kLmG9YUoG0NHAUwFXwO9LuBQL1giCQb8gC9Oro2vp5rncCIY8L8uEx5ZkAAAAASUVORK5CYII=");\n}\n\n.CodeMirror-lint-marker-error, .CodeMirror-lint-message-error {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAHlBMVEW7AAC7AACxAAC7AAC7AAAAAAC4AAC5AAD///+7AAAUdclpAAAABnRSTlMXnORSiwCK0ZKSAAAATUlEQVR42mWPOQ7AQAgDuQLx/z8csYRmPRIFIwRGnosRrpamvkKi0FTIiMASR3hhKW+hAN6/tIWhu9PDWiTGNEkTtIOucA5Oyr9ckPgAWm0GPBog6v4AAAAASUVORK5CYII=");\n}\n\n.CodeMirror-lint-marker-multiple {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAMAAADzjKfhAAAACVBMVEUAAAAAAAC/v7914kyHAAAAAXRSTlMAQObYZgAAACNJREFUeNo1ioEJAAAIwmz/H90iFFSGJgFMe3gaLZ0od+9/AQZ0ADosbYraAAAAAElFTkSuQmCC");\n  background-repeat: no-repeat;\n  background-position: right bottom;\n  width: 100%; height: 100%;\n}\n\n.CodeMirror-lint-line-error {\n  background-color: rgba(183, 76, 81, 0.08);\n}\n\n.CodeMirror-lint-line-warning {\n  background-color: rgba(255, 211, 0, 0.1);\n}\n',""]),t.a=i},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return SmallError}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),_SmallError_scss__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(523),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},SmallError=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(SmallError,_React$Component);var _super=_createSuper(SmallError);function SmallError(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,SmallError),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(SmallError,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"SmallError"},"Error: ",this.props.children)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),SmallError}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(SmallError,"propTypes",{children:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.node}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(SmallError,"SmallError","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\SmallError.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(e,t,r){"use strict";var n=r(62),i=r.n(n)()((function(e){return e[1]}));i.push([e.i,".SmallError{color:#e57373;font-size:12px;margin-top:5px}",""]),t.a=i},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return Fieldset}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),_FieldDocLabel__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(112),_Doc__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(113),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},IDX=0,Fieldset=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(Fieldset,_React$Component);var _super=_createSuper(Fieldset);function Fieldset(e){var t;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,Fieldset),t=_super.call(this,e),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"onToggleDoc",(function(e){t.setState({showDoc:e})})),t._labelId="fieldset_label_".concat(IDX++),t.state={showDoc:!1},t}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Fieldset,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-input-block",role:"group","aria-labelledby":this._labelId},this.props.fieldSpec&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-input-block-label"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_FieldDocLabel__WEBPACK_IMPORTED_MODULE_8__.a,{label:this.props.label,doc:this.props.fieldSpec.doc,onToggleDoc:this.onToggleDoc})),!this.props.fieldSpec&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-input-block-label"},this.props.label),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-input-block-action"},this.props.action),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-input-block-content"},this.props.children),this.props.fieldSpec&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-doc-inline",style:{display:this.state.showDoc?"":"none"}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_Doc__WEBPACK_IMPORTED_MODULE_9__.a,{fieldSpec:this.props.fieldSpec})))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),Fieldset}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(IDX,"IDX","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\Fieldset.jsx"),reactHotLoader.register(Fieldset,"Fieldset","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\Fieldset.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(e,t,r){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t){e.exports=r(2)},function(e,t){e.exports=r(1)},function(e,t,r){"use strict";r.r(t);var n=r(1),i=r(0),o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=0,s=n.forwardRef((function(e,t){var r=e.title,i=void 0===r?null:r,s=e.description,l=void 0===s?null:s,_=e.size,u=void 0===_?null:_,c=e.color,p=void 0===c?"currentColor":c,d=e.horizontal,h=void 0===d?null:d,f=e.vertical,m=void 0===f?null:f,y=e.rotate,g=void 0===y?null:y,b=e.spin,v=void 0===b?null:b,E=e.style,O=void 0===E?{}:E,M=e.children,P=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}(e,["title","description","size","color","horizontal","vertical","rotate","spin","style","children"]);a++;var x,w=null!==v&&v,C=n.Children.map(M,(function(e){var t=e;!0!==w&&(w=!0===(null===v?t.props.spin:v));var r=t.props.size;"number"==typeof u&&"number"==typeof t.props.size&&(r=t.props.size/u);var i={size:r,color:null===p?t.props.color:p,horizontal:null===h?t.props.horizontal:h,vertical:null===m?t.props.vertical:m,rotate:null===g?t.props.rotate:g,spin:null===v?t.props.spin:v,inStack:!0};return n.cloneElement(t,i)}));null!==u&&(O.width="string"==typeof u?u:1.5*u+"rem");var D,T="stack_labelledby_"+a,k="stack_describedby_"+a;if(i)x=l?T+" "+k:T;else if(D="presentation",l)throw new Error("title attribute required when description is set");return n.createElement("svg",o({ref:t,viewBox:"0 0 24 24",style:O,role:D,"aria-labelledby":x},P),i&&n.createElement("title",{id:T},i),l&&n.createElement("desc",{id:k},l),w&&n.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }","@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"),C)}));s.displayName="Stack",s.propTypes={size:i.oneOfType([i.number,i.string]),color:i.string,horizontal:i.bool,vertical:i.bool,rotate:i.number,spin:i.oneOfType([i.bool,i.number]),children:i.oneOfType([i.arrayOf(i.node),i.node]).isRequired,className:i.string,style:i.object},s.defaultProps={size:null,color:null,horizontal:null,vertical:null,rotate:null,spin:null};var l=s;r.d(t,"Icon",(function(){return c})),r.d(t,"Stack",(function(){return l}));var _=function(){return(_=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},u=0,c=n.forwardRef((function(e,t){var r=e.path,i=e.id,o=void 0===i?++u:i,a=e.title,s=void 0===a?null:a,l=e.description,c=void 0===l?null:l,p=e.size,d=void 0===p?null:p,h=e.color,f=void 0===h?"currentColor":h,m=e.horizontal,y=void 0!==m&&m,g=e.vertical,b=void 0!==g&&g,v=e.rotate,E=void 0===v?0:v,O=e.spin,M=void 0!==O&&O,P=e.style,x=void 0===P?{}:P,w=e.inStack,C=void 0!==w&&w,D=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}(e,["path","id","title","description","size","color","horizontal","vertical","rotate","spin","style","inStack"]),T={},k=[];null!==d&&(C?k.push("scale("+d+")"):(x.width="string"==typeof d?d:1.5*d+"rem",x.height=x.width)),y&&k.push("scaleX(-1)"),b&&k.push("scaleY(-1)"),0!==E&&k.push("rotate("+E+"deg)"),null!==f&&(T.fill=f);var A=n.createElement("path",_({d:r,style:T},C?D:{})),I=A;k.length>0&&(x.transform=k.join(" "),x.transformOrigin="center",C&&(I=n.createElement("g",{style:x},A,n.createElement("rect",{width:"24",height:"24",fill:"transparent"}))));var L,R=I,S=!0===M||"number"!=typeof M?2:M,B=!C&&(y||b);if(S<0&&(B=!B),M&&(R=n.createElement("g",{style:{animation:"spin"+(B?"-inverse":"")+" linear "+Math.abs(S)+"s infinite",transformOrigin:"center"}},I,!(y||b||0!==E)&&n.createElement("rect",{width:"24",height:"24",fill:"transparent"}))),C)return R;var U,W="icon_labelledby_"+o,K="icon_describedby_"+o;if(s)L=c?W+" "+K:W;else if(U="presentation",c)throw new Error("title attribute required when description is set");return n.createElement("svg",_({ref:t,viewBox:"0 0 24 24",style:x,role:U,"aria-labelledby":L},D),s&&n.createElement("title",{id:W},s),c&&n.createElement("desc",{id:K},c),!C&&M&&(B?n.createElement("style",null,"@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"):n.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }")),R)}));c.displayName="Icon",c.propTypes={path:i.string.isRequired,size:i.oneOfType([i.number,i.string]),color:i.string,horizontal:i.bool,vertical:i.bool,rotate:i.number,spin:i.oneOfType([i.bool,i.number]),style:i.object,inStack:i.bool,className:i.string},c.defaultProps={size:null,color:"currentColor",horizontal:!1,vertical:!1,rotate:0,spin:!1},t.default=c}])},function(e,t,r){"use strict";(function(e){r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return p}));var n,i=r(3),o=r.n(i),a=r(22);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var _,u;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function c(e,t){var r=l({},e.paint);Object.keys(r).forEach((function(e){e in a.h["paint_"+t]||delete r[e]}));var n=l({},e.layout);return Object.keys(n).forEach((function(e){e in a.h["layout_"+t]||delete n[e]})),l(l({},e),{},{paint:r,layout:n,type:t})}function p(e,t,r,n){if(void 0===n){if(t){var i=l(l({},e),{},o()({},t,l({},e[t])));return delete i[t][r],Object.keys(i[t]).length<1&&delete i[t],i}var a=l({},e);return delete a[r],a}return l(l({},e),{},t?o()({},t,l(l({},e[t]),{},o()({},r,n))):o()({},r,n))}(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(_.register(c,"changeType","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\layer.js"),_.register(p,"changeProperty","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\layer.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)}).call(this,r(14)(e))},function(e){e.exports=JSON.parse('{"name":"maputnik","version":"1.7.0","description":"A MapboxGL visual style editor","main":"\'\'","scripts":{"stats":"webpack --config config/webpack.production.config.js --progress=profile --json > stats.json","build":"webpack --config config/webpack.production.config.js --progress=profile --color","profiling-build":"webpack --config config/webpack.profiling.config.js --progress=profile --color","test":"cross-env NODE_ENV=test wdio config/wdio.conf.js","test-watch":"cross-env NODE_ENV=test wdio config/wdio.conf.js --watch","start":"webpack-dev-server --progress=profile --color --config config/webpack.config.js","start-prod":"webpack-dev-server --progress=profile --color --config config/webpack.production.config.js","start-sandbox":"webpack-dev-server --disable-host-check --host 0.0.0.0 --progress=profile --color --config config/webpack.production.config.js","lint-js":"eslint --ext js --ext jsx src test","lint-css":"stylelint \\"src/styles/*.scss\\"","lint":"npm run lint-js && npm run lint-css","storybook":"start-storybook -h 0.0.0.0 -p 6006","build-storybook":"build-storybook -o build/storybook"},"repository":{"type":"git","url":"https://github.com/maputnik/editor"},"author":"Lukas Martinelli","license":"MIT","homepage":"https://github.com/maputnik/editor#readme","dependencies":{"@babel/runtime":"^7.20.1","@mapbox/mapbox-gl-rtl-text":"^0.2.3","@mapbox/mapbox-gl-style-spec":"13.23.1","@mdi/react":"^1.5.0","array-move":"^4.0.0","classnames":"^2.3.2","codemirror":"^5.65.9","color":"^4.2.3","detect-browser":"^5.3.0","file-saver":"^2.0.5","json-stringify-pretty-compact":"^3.0.0","json-to-ast":"^2.1.0","jsonlint":"github:josdejong/jsonlint#85a19d7","jszip":"^3.10.1","lodash":"^4.17.21","lodash.capitalize":"^4.2.1","lodash.clamp":"^4.0.3","lodash.clonedeep":"^4.5.0","lodash.get":"^4.4.2","lodash.isequal":"^4.5.0","lodash.throttle":"^4.1.1","mapbox-gl":"^1.13.2","mapbox-gl-inspect":"^1.3.1","maputnik-design":"github:maputnik/design#172b06c","ol":"^6.15.1","ol-mapbox-style":"^7.1.1","pako":"^2.1.0","prop-types":"^15.8.1","react":"^16.14.0","react-accessible-accordion":"^4.0.0","react-aria-menubutton":"^7.0.3","react-aria-modal":"^4.0.2","react-autobind":"^1.0.6","react-autocomplete":"^1.8.1","react-collapse":"^5.1.1","react-color":"^2.19.3","react-dom":"^16.14.0","react-file-reader-input":"^2.0.0","react-icon-base":"^2.1.2","react-icons":"^4.6.0","react-sortable-hoc":"^2.0.0","reconnecting-websocket":"^4.4.0","sass":"^1.56.0","slugify":"^1.6.5","string-hash":"^1.1.3","url":"^0.11.0"},"jshintConfig":{"esversion":6},"stylelint":{"extends":"stylelint-config-recommended-scss","rules":{"no-descending-specificity":null,"media-feature-name-no-unknown":[true,{"ignoreMediaFeatureNames":["prefers-reduced-motion"]}]}},"eslintConfig":{"plugins":["react"],"extends":["plugin:react/recommended"],"env":{"browser":true,"node":true,"es6":true},"parser":"babel-eslint","parserOptions":{"ecmaVersion":6,"sourceType":"module","ecmaFeatures":{"impliedStrict":true,"experimentalObjectRestSpread":true,"jsx":true}},"settings":{"react":{"version":"detect"}}},"devDependencies":{"@babel/core":"^7.20.2","@babel/plugin-proposal-class-properties":"^7.18.6","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-flow":"^7.18.6","@babel/preset-react":"^7.18.6","@mdi/js":"^6.6.96","@storybook/addon-a11y":"^6.5.13","@storybook/addon-actions":"^6.5.13","@storybook/addon-links":"^6.5.13","@storybook/addon-storysource":"^6.5.13","@storybook/addons":"^6.5.13","@storybook/react":"^6.5.13","@storybook/theming":"^6.5.13","@wdio/cli":"^7.19.7","@wdio/local-runner":"^7.19.7","@wdio/mocha-framework":"^7.19.7","@wdio/selenium-standalone-service":"^7.19.5","@wdio/spec-reporter":"^7.19.7","babel-eslint":"^10.1.0","babel-loader":"^8.3.0","babel-plugin-istanbul":"^6.1.1","babel-plugin-static-fs":"^3.0.0","copy-webpack-plugin":"^6.4.1","cors":"^2.8.5","cross-env":"^7.0.3","css-loader":"^5.2.7","eslint":"^8.27.0","eslint-plugin-react":"^7.31.10","express":"^4.18.2","html-webpack-plugin":"^4.5.2","istanbul":"^0.4.5","istanbul-lib-coverage":"^3.2.0","mkdirp":"^1.0.4","mocha":"^9.2.2","postcss":"^8.4.18","react-hot-loader":"^4.13.0","sass-loader":"^10.3.1","style-loader":"^2.0.0","stylelint":"^14.14.1","stylelint-config-recommended-scss":"^6.0.0","stylelint-scss":"^4.3.0","svg-inline-loader":"^0.8.2","transform-loader":"^0.2.4","typescript":"^4.8.4","uuid":"^8.3.2","webdriverio":"^7.25.4","webpack":"^4.46.0","webpack-bundle-analyzer":"^4.7.0","webpack-cleanup-plugin":"^0.5.1","webpack-cli":"^4.10.0","webpack-dev-server":"^4.11.1"},"overrides":{"nomnom":{"underscore":"^1.13.6"}}}')},function(e,t,r){(function(t,r,n,i){e.exports=function e(t,r,n){function i(a,s){if(!r[a]){if(!t[a]){if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var _=r[a]={exports:{}};t[a][0].call(_.exports,(function(e){return i(t[a][1][e]||e)}),_,_.exports,e,t,r,n)}return r[a].exports}for(var o=!1,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,r){"use strict";var n=e("./utils"),i=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(e){for(var t,r,i,a,s,l,_,u=[],c=0,p=e.length,d=p,h="string"!==n.getTypeOf(e);c<e.length;)d=p-c,i=h?(t=e[c++],r=c<p?e[c++]:0,c<p?e[c++]:0):(t=e.charCodeAt(c++),r=c<p?e.charCodeAt(c++):0,c<p?e.charCodeAt(c++):0),a=t>>2,s=(3&t)<<4|r>>4,l=1<d?(15&r)<<2|i>>6:64,_=2<d?63&i:64,u.push(o.charAt(a)+o.charAt(s)+o.charAt(l)+o.charAt(_));return u.join("")},r.decode=function(e){var t,r,n,a,s,l,_=0,u=0,c="data:";if(e.substr(0,c.length)===c)throw new Error("Invalid base64 input, it looks like a data url.");var p,d=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&d--,e.charAt(e.length-2)===o.charAt(64)&&d--,d%1!=0)throw new Error("Invalid base64 input, bad content length.");for(p=i.uint8array?new Uint8Array(0|d):new Array(0|d);_<e.length;)t=o.indexOf(e.charAt(_++))<<2|(a=o.indexOf(e.charAt(_++)))>>4,r=(15&a)<<4|(s=o.indexOf(e.charAt(_++)))>>2,n=(3&s)<<6|(l=o.indexOf(e.charAt(_++))),p[u++]=t,64!==s&&(p[u++]=r),64!==l&&(p[u++]=n);return p}},{"./support":30,"./utils":32}],2:[function(e,t,r){"use strict";var n=e("./external"),i=e("./stream/DataWorker"),o=e("./stream/Crc32Probe"),a=e("./stream/DataLengthProbe");function s(e,t,r,n,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=n,this.compressedContent=i}s.prototype={getContentWorker:function(){var e=new i(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new i(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,r){return e.pipe(new o).pipe(new a("uncompressedSize")).pipe(t.compressWorker(r)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,r){"use strict";var n=e("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},r.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,r){"use strict";var n=e("./utils"),i=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==n.getTypeOf(e)?function(e,t,r,n){var o=i,a=0+r;e^=-1;for(var s=0;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}(0|t,e,e.length):function(e,t,r,n){var o=i,a=0+r;e^=-1;for(var s=0;s<a;s++)e=e>>>8^o[255&(e^t.charCodeAt(s))];return-1^e}(0|t,e,e.length):0}},{"./utils":32}],5:[function(e,t,r){"use strict";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(e,t,r){"use strict";var n;n="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:n}},{lie:37}],7:[function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=e("pako"),o=e("./utils"),a=e("./stream/GenericWorker"),s=n?"uint8array":"array";function l(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}r.magic="\b\0",o.inherits(l,a),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(s,e.data),!1)},l.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},r.compressWorker=function(e){return new l("Deflate",e)},r.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,r){"use strict";function n(e,t){var r,n="";for(r=0;r<t;r++)n+=String.fromCharCode(255&e),e>>>=8;return n}function i(e,t,r,i,a,u){var c,p,d=e.file,h=e.compression,f=u!==s.utf8encode,m=o.transformTo("string",u(d.name)),y=o.transformTo("string",s.utf8encode(d.name)),g=d.comment,b=o.transformTo("string",u(g)),v=o.transformTo("string",s.utf8encode(g)),E=y.length!==d.name.length,O=v.length!==g.length,M="",P="",x="",w=d.dir,C=d.date,D={crc32:0,compressedSize:0,uncompressedSize:0};t&&!r||(D.crc32=e.crc32,D.compressedSize=e.compressedSize,D.uncompressedSize=e.uncompressedSize);var T=0;t&&(T|=8),f||!E&&!O||(T|=2048);var k=0,A=0;w&&(k|=16),"UNIX"===a?(A=798,k|=function(e,t){var r=e;return e||(r=t?16893:33204),(65535&r)<<16}(d.unixPermissions,w)):(A=20,k|=function(e){return 63&(e||0)}(d.dosPermissions)),c=C.getUTCHours(),c<<=6,c|=C.getUTCMinutes(),c<<=5,c|=C.getUTCSeconds()/2,p=C.getUTCFullYear()-1980,p<<=4,p|=C.getUTCMonth()+1,p<<=5,p|=C.getUTCDate(),E&&(P=n(1,1)+n(l(m),4)+y,M+="up"+n(P.length,2)+P),O&&(x=n(1,1)+n(l(b),4)+v,M+="uc"+n(x.length,2)+x);var I="";return I+="\n\0",I+=n(T,2),I+=h.magic,I+=n(c,2),I+=n(p,2),I+=n(D.crc32,4),I+=n(D.compressedSize,4),I+=n(D.uncompressedSize,4),I+=n(m.length,2),I+=n(M.length,2),{fileRecord:_.LOCAL_FILE_HEADER+I+m+M,dirRecord:_.CENTRAL_FILE_HEADER+n(A,2)+I+n(b.length,2)+"\0\0\0\0"+n(k,4)+n(i,4)+m+M+b}}var o=e("../utils"),a=e("../stream/GenericWorker"),s=e("../utf8"),l=e("../crc32"),_=e("../signature");function u(e,t,r,n){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(u,a),u.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,a.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-n-1))/r:100}}))},u.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var r=i(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,r=i(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),t)this.push({data:function(e){return _.DATA_DESCRIPTOR+n(e.crc32,4)+n(e.compressedSize,4)+n(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var r=this.bytesWritten-e,i=function(e,t,r,i,a){var s=o.transformTo("string",a(i));return _.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(e,2)+n(e,2)+n(t,4)+n(r,4)+n(s.length,2)+s}(this.dirRecords.length,r,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},u.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(e){var t=this._sources;if(!a.prototype.error.call(this,e))return!1;for(var r=0;r<t.length;r++)try{t[r].error(e)}catch(e){}return!0},u.prototype.lock=function(){a.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,r){"use strict";var n=e("../compressions"),i=e("./ZipFileWorker");r.generateWorker=function(e,t,r){var o=new i(t.streamFiles,r,t.platform,t.encodeFileName),a=0;try{e.forEach((function(e,r){a++;var i=function(e,t){var r=e||t,i=n[r];if(!i)throw new Error(r+" is not a valid compression method !");return i}(r.options.compression,t.compression),s=r.options.compressionOptions||t.compressionOptions||{},l=r.dir,_=r.date;r._compressWorker(i,s).withStreamInfo("file",{name:e,dir:l,date:_,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(o)})),o.entriesCount=a}catch(e){o.error(e)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,r){"use strict";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new n;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(n.prototype=e("./object")).loadAsync=e("./load"),n.support=e("./support"),n.defaults=e("./defaults"),n.version="3.10.1",n.loadAsync=function(e,t){return(new n).loadAsync(e,t)},n.external=e("./external"),t.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,r){"use strict";var n=e("./utils"),i=e("./external"),o=e("./utf8"),a=e("./zipEntries"),s=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function _(e){return new i.Promise((function(t,r){var n=e.decompressed.getContentWorker().pipe(new s);n.on("error",(function(e){r(e)})).on("end",(function(){n.streamInfo.crc32!==e.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var r=this;return t=n.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var r=new a(t);return r.load(e),r})).then((function(e){var r=[i.Promise.resolve(e)],n=e.files;if(t.checkCRC32)for(var o=0;o<n.length;o++)r.push(_(n[o]));return i.Promise.all(r)})).then((function(e){for(var i=e.shift(),o=i.files,a=0;a<o.length;a++){var s=o[a],l=s.fileNameStr,_=n.resolve(s.fileNameStr);r.file(_,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders}),s.dir||(r.file(_).unsafeOriginalName=l)}return i.zipComment.length&&(r.comment=i.zipComment),r}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../stream/GenericWorker");function o(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}n.inherits(o,i),o.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,r){"use strict";var n=e("readable-stream").Readable;function i(e,t,r){n.call(this,t),this._helper=e;var i=this;e.on("data",(function(e,t){i.push(e)||i._helper.pause(),r&&r(t)})).on("error",(function(e){i.emit("error",e)})).on("end",(function(){i.push(null)}))}e("../utils").inherits(i,n),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,r,n){"use strict";r.exports={isNode:void 0!==t,newBufferFrom:function(e,r){if(t.from&&t.from!==Uint8Array.from)return t.from(e,r);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new t(e,r)},allocBuffer:function(e){if(t.alloc)return t.alloc(e);var r=new t(e);return r.fill(0),r},isBuffer:function(e){return t.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,r){"use strict";function n(e,t,r){var n,i=o.getTypeOf(t),s=o.extend(r||{},l);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=f(e)),s.createFolders&&(n=h(e))&&m.call(this,n,!0);var c,y="string"===i&&!1===s.binary&&!1===s.base64;r&&void 0!==r.binary||(s.binary=!y),(t instanceof _&&0===t.uncompressedSize||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t="",s.compression="STORE",i="string"),c=t instanceof _||t instanceof a?t:p.isNode&&p.isStream(t)?new d(e,t):o.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var g=new u(e,c,s);this.files[e]=g}var i=e("./utf8"),o=e("./utils"),a=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),l=e("./defaults"),_=e("./compressedObject"),u=e("./zipObject"),c=e("./generate"),p=e("./nodejsUtils"),d=e("./nodejs/NodejsStreamInputAdapter"),h=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},f=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},m=function(e,t){return t=void 0!==t?t:l.createFolders,e=f(e),this.files[e]||n.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function y(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var g={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,r,n;for(t in this.files)n=this.files[t],(r=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(r,n)},filter:function(e){var t=[];return this.forEach((function(r,n){e(r,n)&&t.push(n)})),t},file:function(e,t,r){if(1!==arguments.length)return e=this.root+e,n.call(this,e,t,r),this;if(y(e)){var i=e;return this.filter((function(e,t){return!t.dir&&i.test(e)}))}var o=this.files[this.root+e];return o&&!o.dir?o:null},folder:function(e){if(!e)return this;if(y(e))return this.filter((function(t,r){return r.dir&&e.test(t)}));var t=this.root+e,r=m.call(this,t),n=this.clone();return n.root=r.name,n},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var r=this.filter((function(t,r){return r.name.slice(0,e.length)===e})),n=0;n<r.length;n++)delete this.files[r[n].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,r={};try{if((r=o.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),"binarystring"===r.type&&(r.type="string"),!r.type)throw new Error("No output type specified.");o.checkSupport(r.type),"darwin"!==r.platform&&"freebsd"!==r.platform&&"linux"!==r.platform&&"sunos"!==r.platform||(r.platform="UNIX"),"win32"===r.platform&&(r.platform="DOS");var n=r.comment||this.comment||"";t=c.generateWorker(this,r,n)}catch(e){(t=new a("error")).error(e)}return new s(t,r.type||"string",r.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=g},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,r){"use strict";t.exports=e("stream")},{stream:void 0}],17:[function(e,t,r){"use strict";var n=e("./DataReader");function i(e){n.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(i,n),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===t&&this.data[o+1]===r&&this.data[o+2]===n&&this.data[o+3]===i)return o-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&r===o[1]&&n===o[2]&&i===o[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,r){"use strict";var n=e("../utils");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,r=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)r=(r<<8)+this.byteAt(t);return this.index+=e,r},readString:function(e){return n.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,r){"use strict";var n=e("./Uint8ArrayReader");function i(e){n.call(this,e)}e("../utils").inherits(i,n),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,r){"use strict";var n=e("./DataReader");function i(e){n.call(this,e)}e("../utils").inherits(i,n),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,r){"use strict";var n=e("./ArrayReader");function i(e){n.call(this,e)}e("../utils").inherits(i,n),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../support"),o=e("./ArrayReader"),a=e("./StringReader"),s=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=n.getTypeOf(e);return n.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new s(e):i.uint8array?new l(n.transformTo("uint8array",e)):new o(n.transformTo("array",e)):new a(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,r){"use strict";r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,r){"use strict";var n=e("./GenericWorker"),i=e("../utils");function o(e){n.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(o,n),o.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,r){"use strict";var n=e("./GenericWorker"),i=e("../crc32");function o(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(o,n),o.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,r){"use strict";var n=e("../utils"),i=e("./GenericWorker");function o(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}n.inherits(o,i),o.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,r){"use strict";var n=e("../utils"),i=e("./GenericWorker");function o(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=n.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}n.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,r){"use strict";function n(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=n},{}],29:[function(e,r,n){"use strict";var i=e("../utils"),o=e("./ConvertWorker"),a=e("./GenericWorker"),s=e("../base64"),l=e("../support"),_=e("../external"),u=null;if(l.nodestream)try{u=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function c(e,t,r){var n=t;switch(t){case"blob":case"arraybuffer":n="uint8array";break;case"base64":n="string"}try{this._internalType=n,this._outputType=t,this._mimeType=r,i.checkSupport(n),this._worker=e.pipe(new o(n)),e.lock()}catch(e){this._worker=new a("error"),this._worker.error(e)}}c.prototype={accumulate:function(e){return function(e,r){return new _.Promise((function(n,o){var a=[],l=e._internalType,_=e._outputType,u=e._mimeType;e.on("data",(function(e,t){a.push(e),r&&r(t)})).on("error",(function(e){a=[],o(e)})).on("end",(function(){try{var e=function(e,t,r){switch(e){case"blob":return i.newBlob(i.transformTo("arraybuffer",t),r);case"base64":return s.encode(t);default:return i.transformTo(e,t)}}(_,function(e,r){var n,i=0,o=null,a=0;for(n=0;n<r.length;n++)a+=r[n].length;switch(e){case"string":return r.join("");case"array":return Array.prototype.concat.apply([],r);case"uint8array":for(o=new Uint8Array(a),n=0;n<r.length;n++)o.set(r[n],i),i+=r[n].length;return o;case"nodebuffer":return t.concat(r);default:throw new Error("concat : unsupported type '"+e+"'")}}(l,a),u);n(e)}catch(e){o(e)}a=[]})).resume()}))}(this,e)},on:function(e,t){var r=this;return"data"===e?this._worker.on(e,(function(e){t.call(r,e.data,e.meta)})):this._worker.on(e,(function(){i.delay(t,arguments,r)})),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:"nodebuffer"!==this._outputType},e)}},r.exports=c},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,r,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer=void 0!==t,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=0===new Blob([i],{type:"application/zip"}).size}catch(e){try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),n.blob=0===o.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,r){"use strict";for(var n=e("./utils"),i=e("./support"),o=e("./nodejsUtils"),a=e("./stream/GenericWorker"),s=new Array(256),l=0;l<256;l++)s[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function _(){a.call(this,"utf-8 decode"),this.leftOver=null}function u(){a.call(this,"utf-8 encode")}s[254]=s[254]=1,r.utf8encode=function(e){return i.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,r,n,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296==(64512&(r=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(n=e.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(n-56320),o++),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=i.uint8array?new Uint8Array(l):new Array(l),o=a=0;a<l;o++)55296==(64512&(r=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(n=e.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(n-56320),o++),r<128?t[a++]=r:(r<2048?t[a++]=192|r>>>6:(r<65536?t[a++]=224|r>>>12:(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63),t[a++]=128|r>>>6&63),t[a++]=128|63&r);return t}(e)},r.utf8decode=function(e){return i.nodebuffer?n.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,r,i,o,a=e.length,l=new Array(2*a);for(t=r=0;t<a;)if((i=e[t++])<128)l[r++]=i;else if(4<(o=s[i]))l[r++]=65533,t+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&t<a;)i=i<<6|63&e[t++],o--;1<o?l[r++]=65533:i<65536?l[r++]=i:(i-=65536,l[r++]=55296|i>>10&1023,l[r++]=56320|1023&i)}return l.length!==r&&(l.subarray?l=l.subarray(0,r):l.length=r),n.applyFromCharCode(l)}(e=n.transformTo(i.uint8array?"uint8array":"array",e))},n.inherits(_,a),_.prototype.processChunk=function(e){var t=n.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var o=t;(t=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),t.set(o,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var a=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0||0===r?t:r+s[e[r]]>t?r:t}(t),l=t;a!==t.length&&(i.uint8array?(l=t.subarray(0,a),this.leftOver=t.subarray(a,t.length)):(l=t.slice(0,a),this.leftOver=t.slice(a,t.length))),this.push({data:r.utf8decode(l),meta:e.meta})},_.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=_,n.inherits(u,a),u.prototype.processChunk=function(e){this.push({data:r.utf8encode(e.data),meta:e.meta})},r.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var i=e("./support"),o=e("./base64"),a=e("./nodejsUtils"),s=e("./external");function l(e){return e}function _(e,t){for(var r=0;r<e.length;++r)t[r]=255&e.charCodeAt(r);return t}e("setimmediate"),n.newBlob=function(e,t){n.checkSupport("blob");try{return new Blob([e],{type:t})}catch(n){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(e),r.getBlob(t)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(e,t,r){var n=[],i=0,o=e.length;if(o<=r)return String.fromCharCode.apply(null,e);for(;i<o;)"array"===t||"nodebuffer"===t?n.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+r,o)))):n.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+r,o)))),i+=r;return n.join("")},stringifyByChar:function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,a.allocBuffer(1)).length}catch(e){return!1}}()}};function c(e){var t=65536,r=n.getTypeOf(e),i=!0;if("uint8array"===r?i=u.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=u.applyCanBeUsed.nodebuffer),i)for(;1<t;)try{return u.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return u.stringifyByChar(e)}function p(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}n.applyFromCharCode=c;var d={};d.string={string:l,array:function(e){return _(e,new Array(e.length))},arraybuffer:function(e){return d.string.uint8array(e).buffer},uint8array:function(e){return _(e,new Uint8Array(e.length))},nodebuffer:function(e){return _(e,a.allocBuffer(e.length))}},d.array={string:c,array:l,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(e)}},d.arraybuffer={string:function(e){return c(new Uint8Array(e))},array:function(e){return p(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:l,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(new Uint8Array(e))}},d.uint8array={string:c,array:function(e){return p(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:l,nodebuffer:function(e){return a.newBufferFrom(e)}},d.nodebuffer={string:c,array:function(e){return p(e,new Array(e.length))},arraybuffer:function(e){return d.nodebuffer.uint8array(e).buffer},uint8array:function(e){return p(e,new Uint8Array(e.length))},nodebuffer:l},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var r=n.getTypeOf(t);return d[r][e](t)},n.resolve=function(e){for(var t=e.split("/"),r=[],n=0;n<t.length;n++){var i=t[n];"."===i||""===i&&0!==n&&n!==t.length-1||(".."===i?r.pop():r.push(i))}return r.join("/")},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":i.nodebuffer&&a.isBuffer(e)?"nodebuffer":i.uint8array&&e instanceof Uint8Array?"uint8array":i.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!i[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,r,n="";for(r=0;r<(e||"").length;r++)n+="\\x"+((t=e.charCodeAt(r))<16?"0":"")+t.toString(16).toUpperCase();return n},n.delay=function(e,t,n){r((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.prototype=new r},n.extend=function(){var e,t,r={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===r[t]&&(r[t]=arguments[e][t]);return r},n.prepareContent=function(e,t,r,a,l){return s.Promise.resolve(t).then((function(e){return i.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new s.Promise((function(t,r){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.onerror=function(e){r(e.target.error)},n.readAsArrayBuffer(e)})):e})).then((function(t){var u=n.getTypeOf(t);return u?("arraybuffer"===u?t=n.transformTo("uint8array",t):"string"===u&&(l?t=o.decode(t):r&&!0!==a&&(t=function(e){return _(e,i.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):s.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,r){"use strict";var n=e("./reader/readerFor"),i=e("./utils"),o=e("./signature"),a=e("./zipEntry"),s=e("./support");function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var r=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4)===t;return this.reader.setIndex(r),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",r=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,r,n=this.zip64EndOfCentralSize-44;0<n;)e=this.reader.readInt(2),t=this.reader.readInt(4),r=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var n=t-r;if(0<n)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(e){this.reader=n(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,r){"use strict";var n=e("./reader/readerFor"),i=e("./utils"),o=e("./compressedObject"),a=e("./crc32"),s=e("./utf8"),l=e("./compressions"),_=e("./support");function u(e,t){this.options=e,this.loadOptions=t}u.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(Object.prototype.hasOwnProperty.call(l,t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=n(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,r,n,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),r=e.readInt(2),n=e.readData(r),this.extraFields[t]={id:t,length:r,value:n};e.setIndex(i)},handleUTF8:function(){var e=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var r=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var o=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=n(e.value);return 1!==t.readInt(1)||a(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=n(e.value);return 1!==t.readInt(1)||a(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,r){"use strict";function n(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}}var i=e("./stream/StreamHelper"),o=e("./stream/DataWorker"),a=e("./utf8"),s=e("./compressedObject"),l=e("./stream/GenericWorker");n.prototype={internalStream:function(e){var t=null,r="string";try{if(!e)throw new Error("No output type specified.");var n="string"===(r=e.toLowerCase())||"text"===r;"binarystring"!==r&&"text"!==r||(r="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!n&&(t=t.pipe(new a.Utf8EncodeWorker)),!o&&n&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new l("error")).error(e)}return new i(t,r,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new a.Utf8EncodeWorker)),s.createWorkerFrom(r,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof l?this._data:new o(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},c=0;c<_.length;c++)n.prototype[_[c]]=u;t.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,r){(function(e){"use strict";var r,n,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var o=0,a=new i(u),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),r=function(){s.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var l=new e.MessageChannel;l.port1.onmessage=u,r=function(){l.port2.postMessage(0)}}var _=[];function u(){var e,t;n=!0;for(var r=_.length;r;){for(t=_,_=[],e=-1;++e<r;)t[e]();r=_.length}n=!1}t.exports=function(e){1!==_.push(e)||n||r()}}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,r){"use strict";var n=e("immediate");function i(){}var o={},a=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function _(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==i&&d(this,e)}function u(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function c(e,t,r){n((function(){var n;try{n=t(r)}catch(n){return o.reject(e,n)}n===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,n)}))}function p(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function d(e,t){var r=!1;function n(t){r||(r=!0,o.reject(e,t))}function i(t){r||(r=!0,o.resolve(e,t))}var a=h((function(){t(i,n)}));"error"===a.status&&n(a.value)}function h(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}(t.exports=_).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(r){return t.resolve(e()).then((function(){return r}))}),(function(r){return t.resolve(e()).then((function(){throw r}))}))},_.prototype.catch=function(e){return this.then(null,e)},_.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var r=new this.constructor(i);return this.state!==l?c(r,this.state===s?e:t,this.outcome):this.queue.push(new u(r,e,t)),r},u.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){c(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){o.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){c(this.promise,this.onRejected,e)},o.resolve=function(e,t){var r=h(p,t);if("error"===r.status)return o.reject(e,r.value);var n=r.value;if(n)d(e,n);else{e.state=s,e.outcome=t;for(var i=-1,a=e.queue.length;++i<a;)e.queue[i].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},_.resolve=function(e){return e instanceof this?e:o.resolve(new this(i),e)},_.reject=function(e){var t=new this(i);return o.reject(t,e)},_.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var a=new Array(r),s=0,l=-1,_=new this(i);++l<r;)u(e[l],l);return _;function u(e,i){t.resolve(e).then((function(e){a[i]=e,++s!==r||n||(n=!0,o.resolve(_,a))}),(function(e){n||(n=!0,o.reject(_,e))}))}},_.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,r=!1;if(!t)return this.resolve([]);for(var n,a=-1,s=new this(i);++a<t;)n=e[a],this.resolve(n).then((function(e){r||(r=!0,o.resolve(s,e))}),(function(e){r||(r=!0,o.reject(s,e))}));return s}},{immediate:36}],38:[function(e,t,r){"use strict";var n={};(0,e("./lib/utils/common").assign)(n,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,r){"use strict";var n=e("./zlib/deflate"),i=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/messages"),s=e("./zlib/zstream"),l=Object.prototype.toString;function _(e){if(!(this instanceof _))return new _(e);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==r)throw new Error(a[r]);if(t.header&&n.deflateSetHeader(this.strm,t.header),t.dictionary){var u;if(u="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(r=n.deflateSetDictionary(this.strm,u)))throw new Error(a[r]);this._dict_set=!0}}function u(e,t){var r=new _(t);if(r.push(e,!0),r.err)throw r.msg||a[r.err];return r.result}_.prototype.push=function(e,t){var r,a,s=this.strm,_=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(_),s.next_out=0,s.avail_out=_),1!==(r=n.deflate(s,a))&&0!==r)return this.onEnd(r),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==r);return 4===a?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,0===r):2!==a||(this.onEnd(0),!(s.avail_out=0))},_.prototype.onData=function(e){this.chunks.push(e)},_.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Deflate=_,r.deflate=u,r.deflateRaw=function(e,t){return(t=t||{}).raw=!0,u(e,t)},r.gzip=function(e,t){return(t=t||{}).gzip=!0,u(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,r){"use strict";var n=e("./zlib/inflate"),i=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/constants"),s=e("./zlib/messages"),l=e("./zlib/zstream"),_=e("./zlib/gzheader"),u=Object.prototype.toString;function c(e){if(!(this instanceof c))return new c(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,t.windowBits);if(r!==a.Z_OK)throw new Error(s[r]);this.header=new _,n.inflateGetHeader(this.strm,this.header)}function p(e,t){var r=new c(t);if(r.push(e,!0),r.err)throw r.msg||s[r.err];return r.result}c.prototype.push=function(e,t){var r,s,l,_,c,p,d=this.strm,h=this.options.chunkSize,f=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?d.input=o.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new i.Buf8(h),d.next_out=0,d.avail_out=h),(r=n.inflate(d,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&f&&(p="string"==typeof f?o.string2buf(f):"[object ArrayBuffer]"===u.call(f)?new Uint8Array(f):f,r=n.inflateSetDictionary(this.strm,p)),r===a.Z_BUF_ERROR&&!0===m&&(r=a.Z_OK,m=!1),r!==a.Z_STREAM_END&&r!==a.Z_OK)return this.onEnd(r),!(this.ended=!0);d.next_out&&(0!==d.avail_out&&r!==a.Z_STREAM_END&&(0!==d.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(d.output,d.next_out),_=d.next_out-l,c=o.buf2string(d.output,l),d.next_out=_,d.avail_out=h-_,_&&i.arraySet(d.output,d.output,l,_,0),this.onData(c)):this.onData(i.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(m=!0)}while((0<d.avail_in||0===d.avail_out)&&r!==a.Z_STREAM_END);return r===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(d.avail_out=0))},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Inflate=c,r.inflate=p,r.inflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},r.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;r.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}}return e},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(var o=0;o<n;o++)e[i+o]=t[r+o]},flattenChunks:function(e){var t,r,n,i,o,a;for(t=n=0,r=e.length;t<r;t++)n+=e[t].length;for(a=new Uint8Array(n),t=i=0,r=e.length;t<r;t++)o=e[t],a.set(o,i),i+=o.length;return a}},o={arraySet:function(e,t,r,n,i){for(var o=0;o<n;o++)e[i+o]=t[r+o]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,i)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,o))},r.setTyped(n)},{}],42:[function(e,t,r){"use strict";var n=e("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new n.Buf8(256),s=0;s<256;s++)a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function l(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var r="",a=0;a<t;a++)r+=String.fromCharCode(e[a]);return r}a[254]=a[254]=1,r.string2buf=function(e){var t,r,i,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296==(64512&(r=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(i-56320),o++),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new n.Buf8(l),o=a=0;a<l;o++)55296==(64512&(r=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(i-56320),o++),r<128?t[a++]=r:(r<2048?t[a++]=192|r>>>6:(r<65536?t[a++]=224|r>>>12:(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63),t[a++]=128|r>>>6&63),t[a++]=128|63&r);return t},r.buf2binstring=function(e){return l(e,e.length)},r.binstring2buf=function(e){for(var t=new n.Buf8(e.length),r=0,i=t.length;r<i;r++)t[r]=e.charCodeAt(r);return t},r.buf2string=function(e,t){var r,n,i,o,s=t||e.length,_=new Array(2*s);for(r=n=0;r<s;)if((i=e[r++])<128)_[n++]=i;else if(4<(o=a[i]))_[n++]=65533,r+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&r<s;)i=i<<6|63&e[r++],o--;1<o?_[n++]=65533:i<65536?_[n++]=i:(i-=65536,_[n++]=55296|i>>10&1023,_[n++]=56320|1023&i)}return l(_,n)},r.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0||0===r?t:r+a[e[r]]>t?r:t}},{"./common":41}],43:[function(e,t,r){"use strict";t.exports=function(e,t,r,n){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==r;){for(r-=a=2e3<r?2e3:r;o=o+(i=i+t[n++]|0)|0,--a;);i%=65521,o%=65521}return i|o<<16|0}},{}],44:[function(e,t,r){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,r){"use strict";var n=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t,r,i){var o=n,a=i+r;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},{}],46:[function(e,t,r){"use strict";var n,i=e("../utils/common"),o=e("./trees"),a=e("./adler32"),s=e("./crc32"),l=e("./messages"),_=-2,u=258,c=262,p=113;function d(e,t){return e.msg=l[t],t}function h(e){return(e<<1)-(4<e?9:0)}function f(e){for(var t=e.length;0<=--t;)e[t]=0}function m(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(i.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function y(e,t){o._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,m(e.strm)}function g(e,t){e.pending_buf[e.pending++]=t}function b(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function v(e,t){var r,n,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-c?e.strstart-(e.w_size-c):0,_=e.window,p=e.w_mask,d=e.prev,h=e.strstart+u,f=_[o+a-1],m=_[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(_[(r=t)+a]===m&&_[r+a-1]===f&&_[r]===_[o]&&_[++r]===_[o+1]){o+=2,r++;do{}while(_[++o]===_[++r]&&_[++o]===_[++r]&&_[++o]===_[++r]&&_[++o]===_[++r]&&_[++o]===_[++r]&&_[++o]===_[++r]&&_[++o]===_[++r]&&_[++o]===_[++r]&&o<h);if(n=u-(h-o),o=h-u,a<n){if(e.match_start=t,s<=(a=n))break;f=_[o+a-1],m=_[o+a]}}}while((t=d[t&p])>l&&0!=--i);return a<=e.lookahead?a:e.lookahead}function E(e){var t,r,n,o,l,_,u,p,d,h,f=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=f+(f-c)){for(i.arraySet(e.window,e.window,f,f,0),e.match_start-=f,e.strstart-=f,e.block_start-=f,t=r=e.hash_size;n=e.head[--t],e.head[t]=f<=n?n-f:0,--r;);for(t=r=f;n=e.prev[--t],e.prev[t]=f<=n?n-f:0,--r;);o+=f}if(0===e.strm.avail_in)break;if(_=e.strm,u=e.window,p=e.strstart+e.lookahead,h=void 0,(d=o)<(h=_.avail_in)&&(h=d),r=0===h?0:(_.avail_in-=h,i.arraySet(u,_.input,_.next_in,h,p),1===_.state.wrap?_.adler=a(_.adler,u,h,p):2===_.state.wrap&&(_.adler=s(_.adler,u,h,p)),_.next_in+=h,_.total_in+=h,h),e.lookahead+=r,e.lookahead+e.insert>=3)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<c&&0!==e.strm.avail_in)}function O(e,t){for(var r,n;;){if(e.lookahead<c){if(E(e),e.lookahead<c&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-c&&(e.match_length=v(e,r)),e.match_length>=3)if(n=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}function M(e,t){for(var r,n,i;;){if(e.lookahead<c){if(E(e),e.lookahead<c&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-c&&(e.match_length=v(e,r),e.match_length<=5&&(1===e.strategy||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-3,n=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(y(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=o._tr_tally(e,0,e.window[e.strstart-1]))&&y(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}function P(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function x(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),f(this.dyn_ltree),f(this.dyn_dtree),f(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),f(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),f(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function w(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:p,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):d(e,_)}function C(e){var t=w(e);return 0===t&&function(e){e.window_size=2*e.w_size,f(e.head),e.max_lazy_match=n[e.level].max_lazy,e.good_match=n[e.level].good_length,e.nice_match=n[e.level].nice_length,e.max_chain_length=n[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0}(e.state),t}function D(e,t,r,n,o,a){if(!e)return _;var s=1;if(-1===t&&(t=6),n<0?(s=0,n=-n):15<n&&(s=2,n-=16),o<1||9<o||8!==r||n<8||15<n||t<0||9<t||a<0||4<a)return d(e,_);8===n&&(n=9);var l=new x;return(e.state=l).strm=e,l.wrap=s,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=r,C(e)}n=[new P(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(E(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,y(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-c&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(y(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(y(e,!1),e.strm.avail_out),1)})),new P(4,4,8,4,O),new P(4,5,16,8,O),new P(4,6,32,32,O),new P(4,4,16,16,M),new P(8,16,32,32,M),new P(8,16,128,128,M),new P(8,32,128,256,M),new P(32,128,258,1024,M),new P(32,258,258,4096,M)],r.deflateInit=function(e,t){return D(e,t,8,15,8,0)},r.deflateInit2=D,r.deflateReset=C,r.deflateResetKeep=w,r.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?_:(e.state.gzhead=t,0):_},r.deflate=function(e,t){var r,i,a,l;if(!e||!e.state||5<t||t<0)return e?d(e,_):_;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&4!==t)return d(e,0===e.avail_out?-5:_);if(i.strm=e,r=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,g(i,31),g(i,139),g(i,8),i.gzhead?(g(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),g(i,255&i.gzhead.time),g(i,i.gzhead.time>>8&255),g(i,i.gzhead.time>>16&255),g(i,i.gzhead.time>>24&255),g(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),g(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(g(i,255&i.gzhead.extra.length),g(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(g(i,0),g(i,0),g(i,0),g(i,0),g(i,0),g(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),g(i,3),i.status=p);else{var c=8+(i.w_bits-8<<4)<<8;c|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(c|=32),c+=31-c%31,i.status=p,b(i,c),0!==i.strstart&&(b(i,e.adler>>>16),b(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),m(e),a=i.pending,i.pending!==i.pending_buf_size));)g(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),m(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,g(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),m(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,g(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&m(e),i.pending+2<=i.pending_buf_size&&(g(i,255&e.adler),g(i,e.adler>>8&255),e.adler=0,i.status=p)):i.status=p),0!==i.pending){if(m(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&h(t)<=h(r)&&4!==t)return d(e,-5);if(666===i.status&&0!==e.avail_in)return d(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&666!==i.status){var v=2===i.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(E(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var r,n,i,a,s=e.window;;){if(e.lookahead<=u){if(E(e),e.lookahead<=u&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&0<e.strstart&&(n=s[i=e.strstart-1])===s[++i]&&n===s[++i]&&n===s[++i]){a=e.strstart+u;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a);e.match_length=u-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}(i,t):n[i.level].func(i,t);if(3!==v&&4!==v||(i.status=666),1===v||3===v)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===v&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(f(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),m(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(g(i,255&e.adler),g(i,e.adler>>8&255),g(i,e.adler>>16&255),g(i,e.adler>>24&255),g(i,255&e.total_in),g(i,e.total_in>>8&255),g(i,e.total_in>>16&255),g(i,e.total_in>>24&255)):(b(i,e.adler>>>16),b(i,65535&e.adler)),m(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?0:1)},r.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&t!==p&&666!==t?d(e,_):(e.state=null,t===p?d(e,-3):0):_},r.deflateSetDictionary=function(e,t){var r,n,o,s,l,u,c,p,d=t.length;if(!e||!e.state)return _;if(2===(s=(r=e.state).wrap)||1===s&&42!==r.status||r.lookahead)return _;for(1===s&&(e.adler=a(e.adler,t,d,0)),r.wrap=0,d>=r.w_size&&(0===s&&(f(r.head),r.strstart=0,r.block_start=0,r.insert=0),p=new i.Buf8(r.w_size),i.arraySet(p,t,d-r.w_size,r.w_size,0),t=p,d=r.w_size),l=e.avail_in,u=e.next_in,c=e.input,e.avail_in=d,e.next_in=0,e.input=t,E(r);r.lookahead>=3;){for(n=r.strstart,o=r.lookahead-2;r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+3-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++,--o;);r.strstart=n,r.lookahead=2,E(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=u,e.input=c,e.avail_in=l,r.wrap=s,0},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,r){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,r){"use strict";t.exports=function(e,t){var r,n,i,o,a,s,l,_,u,c,p,d,h,f,m,y,g,b,v,E,O,M,P,x,w;r=e.state,n=e.next_in,x=e.input,i=n+(e.avail_in-5),o=e.next_out,w=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),l=r.dmax,_=r.wsize,u=r.whave,c=r.wnext,p=r.window,d=r.hold,h=r.bits,f=r.lencode,m=r.distcode,y=(1<<r.lenbits)-1,g=(1<<r.distbits)-1;e:do{h<15&&(d+=x[n++]<<h,h+=8,d+=x[n++]<<h,h+=8),b=f[d&y];t:for(;;){if(d>>>=v=b>>>24,h-=v,0==(v=b>>>16&255))w[o++]=65535&b;else{if(!(16&v)){if(0==(64&v)){b=f[(65535&b)+(d&(1<<v)-1)];continue t}if(32&v){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}E=65535&b,(v&=15)&&(h<v&&(d+=x[n++]<<h,h+=8),E+=d&(1<<v)-1,d>>>=v,h-=v),h<15&&(d+=x[n++]<<h,h+=8,d+=x[n++]<<h,h+=8),b=m[d&g];r:for(;;){if(d>>>=v=b>>>24,h-=v,!(16&(v=b>>>16&255))){if(0==(64&v)){b=m[(65535&b)+(d&(1<<v)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(O=65535&b,h<(v&=15)&&(d+=x[n++]<<h,(h+=8)<v&&(d+=x[n++]<<h,h+=8)),l<(O+=d&(1<<v)-1)){e.msg="invalid distance too far back",r.mode=30;break e}if(d>>>=v,h-=v,(v=o-a)<O){if(u<(v=O-v)&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(P=p,(M=0)===c){if(M+=_-v,v<E){for(E-=v;w[o++]=p[M++],--v;);M=o-O,P=w}}else if(c<v){if(M+=_+c-v,(v-=c)<E){for(E-=v;w[o++]=p[M++],--v;);if(M=0,c<E){for(E-=v=c;w[o++]=p[M++],--v;);M=o-O,P=w}}}else if(M+=c-v,v<E){for(E-=v;w[o++]=p[M++],--v;);M=o-O,P=w}for(;2<E;)w[o++]=P[M++],w[o++]=P[M++],w[o++]=P[M++],E-=3;E&&(w[o++]=P[M++],1<E&&(w[o++]=P[M++]))}else{for(M=o-O;w[o++]=w[M++],w[o++]=w[M++],w[o++]=w[M++],2<(E-=3););E&&(w[o++]=w[M++],1<E&&(w[o++]=w[M++]))}break}}break}}while(n<i&&o<s);n-=E=h>>3,d&=(1<<(h-=E<<3))-1,e.next_in=n,e.next_out=o,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=o<s?s-o+257:257-(o-s),r.hold=d,r.bits=h}},{}],49:[function(e,t,r){"use strict";var n=e("../utils/common"),i=e("./adler32"),o=e("./crc32"),a=e("./inffast"),s=e("./inftrees"),l=-2;function _(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function u(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function c(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(852),t.distcode=t.distdyn=new n.Buf32(592),t.sane=1,t.back=-1,0):l}function p(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,c(e)):l}function d(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?l:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,p(e))):l}function h(e,t){var r,n;return e?(n=new u,(e.state=n).window=null,0!==(r=d(e,t))&&(e.state=null),r):l}var f,m,y=!0;function g(e){if(y){var t;for(f=new n.Buf32(512),m=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,f,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,m,0,e.work,{bits:5}),y=!1}e.lencode=f,e.lenbits=9,e.distcode=m,e.distbits=5}function b(e,t,r,i){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new n.Buf8(a.wsize)),i>=a.wsize?(n.arraySet(a.window,t,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i<(o=a.wsize-a.wnext)&&(o=i),n.arraySet(a.window,t,r-i,o,a.wnext),(i-=o)?(n.arraySet(a.window,t,r-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}r.inflateReset=p,r.inflateReset2=d,r.inflateResetKeep=c,r.inflateInit=function(e){return h(e,15)},r.inflateInit2=h,r.inflate=function(e,t){var r,u,c,p,d,h,f,m,y,v,E,O,M,P,x,w,C,D,T,k,A,I,L,R,S=0,B=new n.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return l;12===(r=e.state).mode&&(r.mode=13),d=e.next_out,c=e.output,f=e.avail_out,p=e.next_in,u=e.input,h=e.avail_in,m=r.hold,y=r.bits,v=h,E=f,I=0;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;y<16;){if(0===h)break e;h--,m+=u[p++]<<y,y+=8}if(2&r.wrap&&35615===m){B[r.check=0]=255&m,B[1]=m>>>8&255,r.check=o(r.check,B,2,0),y=m=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&m)<<8)+(m>>8))%31){e.msg="incorrect header check",r.mode=30;break}if(8!=(15&m)){e.msg="unknown compression method",r.mode=30;break}if(y-=4,A=8+(15&(m>>>=4)),0===r.wbits)r.wbits=A;else if(A>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<A,e.adler=r.check=1,r.mode=512&m?10:12,y=m=0;break;case 2:for(;y<16;){if(0===h)break e;h--,m+=u[p++]<<y,y+=8}if(r.flags=m,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=m>>8&1),512&r.flags&&(B[0]=255&m,B[1]=m>>>8&255,r.check=o(r.check,B,2,0)),y=m=0,r.mode=3;case 3:for(;y<32;){if(0===h)break e;h--,m+=u[p++]<<y,y+=8}r.head&&(r.head.time=m),512&r.flags&&(B[0]=255&m,B[1]=m>>>8&255,B[2]=m>>>16&255,B[3]=m>>>24&255,r.check=o(r.check,B,4,0)),y=m=0,r.mode=4;case 4:for(;y<16;){if(0===h)break e;h--,m+=u[p++]<<y,y+=8}r.head&&(r.head.xflags=255&m,r.head.os=m>>8),512&r.flags&&(B[0]=255&m,B[1]=m>>>8&255,r.check=o(r.check,B,2,0)),y=m=0,r.mode=5;case 5:if(1024&r.flags){for(;y<16;){if(0===h)break e;h--,m+=u[p++]<<y,y+=8}r.length=m,r.head&&(r.head.extra_len=m),512&r.flags&&(B[0]=255&m,B[1]=m>>>8&255,r.check=o(r.check,B,2,0)),y=m=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(h<(O=r.length)&&(O=h),O&&(r.head&&(A=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,u,p,O,A)),512&r.flags&&(r.check=o(r.check,u,O,p)),h-=O,p+=O,r.length-=O),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===h)break e;for(O=0;A=u[p+O++],r.head&&A&&r.length<65536&&(r.head.name+=String.fromCharCode(A)),A&&O<h;);if(512&r.flags&&(r.check=o(r.check,u,O,p)),h-=O,p+=O,A)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===h)break e;for(O=0;A=u[p+O++],r.head&&A&&r.length<65536&&(r.head.comment+=String.fromCharCode(A)),A&&O<h;);if(512&r.flags&&(r.check=o(r.check,u,O,p)),h-=O,p+=O,A)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;y<16;){if(0===h)break e;h--,m+=u[p++]<<y,y+=8}if(m!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}y=m=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;y<32;){if(0===h)break e;h--,m+=u[p++]<<y,y+=8}e.adler=r.check=_(m),y=m=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=d,e.avail_out=f,e.next_in=p,e.avail_in=h,r.hold=m,r.bits=y,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break e;case 13:if(r.last){m>>>=7&y,y-=7&y,r.mode=27;break}for(;y<3;){if(0===h)break e;h--,m+=u[p++]<<y,y+=8}switch(r.last=1&m,y-=1,3&(m>>>=1)){case 0:r.mode=14;break;case 1:if(g(r),r.mode=20,6!==t)break;m>>>=2,y-=2;break e;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}m>>>=2,y-=2;break;case 14:for(m>>>=7&y,y-=7&y;y<32;){if(0===h)break e;h--,m+=u[p++]<<y,y+=8}if((65535&m)!=(m>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&m,y=m=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(O=r.length){if(h<O&&(O=h),f<O&&(O=f),0===O)break e;n.arraySet(c,u,p,O,d),h-=O,p+=O,f-=O,d+=O,r.length-=O;break}r.mode=12;break;case 17:for(;y<14;){if(0===h)break e;h--,m+=u[p++]<<y,y+=8}if(r.nlen=257+(31&m),m>>>=5,y-=5,r.ndist=1+(31&m),m>>>=5,y-=5,r.ncode=4+(15&m),m>>>=4,y-=4,286<r.nlen||30<r.ndist){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;y<3;){if(0===h)break e;h--,m+=u[p++]<<y,y+=8}r.lens[U[r.have++]]=7&m,m>>>=3,y-=3}for(;r.have<19;)r.lens[U[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,L={bits:r.lenbits},I=s(0,r.lens,0,19,r.lencode,0,r.work,L),r.lenbits=L.bits,I){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;w=(S=r.lencode[m&(1<<r.lenbits)-1])>>>16&255,C=65535&S,!((x=S>>>24)<=y);){if(0===h)break e;h--,m+=u[p++]<<y,y+=8}if(C<16)m>>>=x,y-=x,r.lens[r.have++]=C;else{if(16===C){for(R=x+2;y<R;){if(0===h)break e;h--,m+=u[p++]<<y,y+=8}if(m>>>=x,y-=x,0===r.have){e.msg="invalid bit length repeat",r.mode=30;break}A=r.lens[r.have-1],O=3+(3&m),m>>>=2,y-=2}else if(17===C){for(R=x+3;y<R;){if(0===h)break e;h--,m+=u[p++]<<y,y+=8}y-=x,A=0,O=3+(7&(m>>>=x)),m>>>=3,y-=3}else{for(R=x+7;y<R;){if(0===h)break e;h--,m+=u[p++]<<y,y+=8}y-=x,A=0,O=11+(127&(m>>>=x)),m>>>=7,y-=7}if(r.have+O>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;O--;)r.lens[r.have++]=A}}if(30===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,L={bits:r.lenbits},I=s(1,r.lens,0,r.nlen,r.lencode,0,r.work,L),r.lenbits=L.bits,I){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,L={bits:r.distbits},I=s(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,L),r.distbits=L.bits,I){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(6<=h&&258<=f){e.next_out=d,e.avail_out=f,e.next_in=p,e.avail_in=h,r.hold=m,r.bits=y,a(e,E),d=e.next_out,c=e.output,f=e.avail_out,p=e.next_in,u=e.input,h=e.avail_in,m=r.hold,y=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;w=(S=r.lencode[m&(1<<r.lenbits)-1])>>>16&255,C=65535&S,!((x=S>>>24)<=y);){if(0===h)break e;h--,m+=u[p++]<<y,y+=8}if(w&&0==(240&w)){for(D=x,T=w,k=C;w=(S=r.lencode[k+((m&(1<<D+T)-1)>>D)])>>>16&255,C=65535&S,!(D+(x=S>>>24)<=y);){if(0===h)break e;h--,m+=u[p++]<<y,y+=8}m>>>=D,y-=D,r.back+=D}if(m>>>=x,y-=x,r.back+=x,r.length=C,0===w){r.mode=26;break}if(32&w){r.back=-1,r.mode=12;break}if(64&w){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&w,r.mode=22;case 22:if(r.extra){for(R=r.extra;y<R;){if(0===h)break e;h--,m+=u[p++]<<y,y+=8}r.length+=m&(1<<r.extra)-1,m>>>=r.extra,y-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;w=(S=r.distcode[m&(1<<r.distbits)-1])>>>16&255,C=65535&S,!((x=S>>>24)<=y);){if(0===h)break e;h--,m+=u[p++]<<y,y+=8}if(0==(240&w)){for(D=x,T=w,k=C;w=(S=r.distcode[k+((m&(1<<D+T)-1)>>D)])>>>16&255,C=65535&S,!(D+(x=S>>>24)<=y);){if(0===h)break e;h--,m+=u[p++]<<y,y+=8}m>>>=D,y-=D,r.back+=D}if(m>>>=x,y-=x,r.back+=x,64&w){e.msg="invalid distance code",r.mode=30;break}r.offset=C,r.extra=15&w,r.mode=24;case 24:if(r.extra){for(R=r.extra;y<R;){if(0===h)break e;h--,m+=u[p++]<<y,y+=8}r.offset+=m&(1<<r.extra)-1,m>>>=r.extra,y-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===f)break e;if(O=E-f,r.offset>O){if((O=r.offset-O)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}M=O>r.wnext?(O-=r.wnext,r.wsize-O):r.wnext-O,O>r.length&&(O=r.length),P=r.window}else P=c,M=d-r.offset,O=r.length;for(f<O&&(O=f),f-=O,r.length-=O;c[d++]=P[M++],--O;);0===r.length&&(r.mode=21);break;case 26:if(0===f)break e;c[d++]=r.length,f--,r.mode=21;break;case 27:if(r.wrap){for(;y<32;){if(0===h)break e;h--,m|=u[p++]<<y,y+=8}if(E-=f,e.total_out+=E,r.total+=E,E&&(e.adler=r.check=r.flags?o(r.check,c,E,d-E):i(r.check,c,E,d-E)),E=f,(r.flags?m:_(m))!==r.check){e.msg="incorrect data check",r.mode=30;break}y=m=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;y<32;){if(0===h)break e;h--,m+=u[p++]<<y,y+=8}if(m!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=30;break}y=m=0}r.mode=29;case 29:I=1;break e;case 30:I=-3;break e;case 31:return-4;case 32:default:return l}return e.next_out=d,e.avail_out=f,e.next_in=p,e.avail_in=h,r.hold=m,r.bits=y,(r.wsize||E!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&b(e,e.output,e.next_out,E-e.avail_out)?(r.mode=31,-4):(v-=e.avail_in,E-=e.avail_out,e.total_in+=v,e.total_out+=E,r.total+=E,r.wrap&&E&&(e.adler=r.check=r.flags?o(r.check,c,E,e.next_out-E):i(r.check,c,E,e.next_out-E)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==v&&0===E||4===t)&&0===I&&(I=-5),I)},r.inflateEnd=function(e){if(!e||!e.state)return l;var t=e.state;return t.window&&(t.window=null),e.state=null,0},r.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?l:((r.head=t).done=!1,0):l},r.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?l:11===r.mode&&i(1,t,n,0)!==r.check?-3:b(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,0):l},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,r){"use strict";var n=e("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,r,l,_,u,c,p){var d,h,f,m,y,g,b,v,E,O=p.bits,M=0,P=0,x=0,w=0,C=0,D=0,T=0,k=0,A=0,I=0,L=null,R=0,S=new n.Buf16(16),B=new n.Buf16(16),U=null,W=0;for(M=0;M<=15;M++)S[M]=0;for(P=0;P<l;P++)S[t[r+P]]++;for(C=O,w=15;1<=w&&0===S[w];w--);if(w<C&&(C=w),0===w)return _[u++]=20971520,_[u++]=20971520,p.bits=1,0;for(x=1;x<w&&0===S[x];x++);for(C<x&&(C=x),M=k=1;M<=15;M++)if(k<<=1,(k-=S[M])<0)return-1;if(0<k&&(0===e||1!==w))return-1;for(B[1]=0,M=1;M<15;M++)B[M+1]=B[M]+S[M];for(P=0;P<l;P++)0!==t[r+P]&&(c[B[t[r+P]]++]=P);if(g=0===e?(L=U=c,19):1===e?(L=i,R-=257,U=o,W-=257,256):(L=a,U=s,-1),M=x,y=u,T=P=I=0,f=-1,m=(A=1<<(D=C))-1,1===e&&852<A||2===e&&592<A)return 1;for(;;){for(b=M-T,E=c[P]<g?(v=0,c[P]):c[P]>g?(v=U[W+c[P]],L[R+c[P]]):(v=96,0),d=1<<M-T,x=h=1<<D;_[y+(I>>T)+(h-=d)]=b<<24|v<<16|E|0,0!==h;);for(d=1<<M-1;I&d;)d>>=1;if(0!==d?(I&=d-1,I+=d):I=0,P++,0==--S[M]){if(M===w)break;M=t[r+c[P]]}if(C<M&&(I&m)!==f){for(0===T&&(T=C),y+=x,k=1<<(D=M-T);D+T<w&&!((k-=S[D+T])<=0);)D++,k<<=1;if(A+=1<<D,1===e&&852<A||2===e&&592<A)return 1;_[f=I&m]=C<<24|D<<16|y-u|0}}return 0!==I&&(_[y+I]=M-T<<24|64<<16|0),p.bits=C,0}},{"../utils/common":41}],51:[function(e,t,r){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,r){"use strict";var n=e("../utils/common");function i(e){for(var t=e.length;0<=--t;)e[t]=0}var o=256,a=286,s=30,l=15,_=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],u=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],p=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],d=new Array(576);i(d);var h=new Array(60);i(h);var f=new Array(512);i(f);var m=new Array(256);i(m);var y=new Array(29);i(y);var g,b,v,E=new Array(s);function O(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function M(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function P(e){return e<256?f[e]:f[256+(e>>>7)]}function x(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function w(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,x(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function C(e,t,r){w(e,r[2*t],r[2*t+1])}function D(e,t){for(var r=0;r|=1&e,e>>>=1,r<<=1,0<--t;);return r>>>1}function T(e,t,r){var n,i,o=new Array(16),a=0;for(n=1;n<=l;n++)o[n]=a=a+r[n-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=D(o[s]++,s))}}function k(e){var t;for(t=0;t<a;t++)e.dyn_ltree[2*t]=0;for(t=0;t<s;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function A(e){8<e.bi_valid?x(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function I(e,t,r,n){var i=2*t,o=2*r;return e[i]<e[o]||e[i]===e[o]&&n[t]<=n[r]}function L(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&I(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!I(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function R(e,t,r){var n,i,a,s,l=0;if(0!==e.last_lit)for(;n=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],i=e.pending_buf[e.l_buf+l],l++,0===n?C(e,i,t):(C(e,(a=m[i])+o+1,t),0!==(s=_[a])&&w(e,i-=y[a],s),C(e,a=P(--n),r),0!==(s=u[a])&&w(e,n-=E[a],s)),l<e.last_lit;);C(e,256,t)}function S(e,t){var r,n,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,_=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,r=0;r<_;r++)0!==o[2*r]?(e.heap[++e.heap_len]=u=r,e.depth[r]=0):o[2*r+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=u,r=e.heap_len>>1;1<=r;r--)L(e,o,r);for(i=_;r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],L(e,o,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,o[2*i]=o[2*r]+o[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,o[2*r+1]=o[2*n+1]=i,e.heap[1]=i++,L(e,o,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,o,a,s,_=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,p=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,f=t.stat_desc.max_length,m=0;for(o=0;o<=l;o++)e.bl_count[o]=0;for(_[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<573;r++)f<(o=_[2*_[2*(n=e.heap[r])+1]+1]+1)&&(o=f,m++),_[2*n+1]=o,u<n||(e.bl_count[o]++,a=0,h<=n&&(a=d[n-h]),s=_[2*n],e.opt_len+=s*(o+a),p&&(e.static_len+=s*(c[2*n+1]+a)));if(0!==m){do{for(o=f-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[f]--,m-=2}while(0<m);for(o=f;0!==o;o--)for(n=e.bl_count[o];0!==n;)u<(i=e.heap[--r])||(_[2*i+1]!==o&&(e.opt_len+=(o-_[2*i+1])*_[2*i],_[2*i+1]=o),n--)}}(e,t),T(o,u,e.bl_count)}function B(e,t,r){var n,i,o=-1,a=t[1],s=0,l=7,_=4;for(0===a&&(l=138,_=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=t[2*(n+1)+1],++s<l&&i===a||(s<_?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=i,_=(s=0)===a?(l=138,3):i===a?(l=6,3):(l=7,4))}function U(e,t,r){var n,i,o=-1,a=t[1],s=0,l=7,_=4;for(0===a&&(l=138,_=3),n=0;n<=r;n++)if(i=a,a=t[2*(n+1)+1],!(++s<l&&i===a)){if(s<_)for(;C(e,i,e.bl_tree),0!=--s;);else 0!==i?(i!==o&&(C(e,i,e.bl_tree),s--),C(e,16,e.bl_tree),w(e,s-3,2)):s<=10?(C(e,17,e.bl_tree),w(e,s-3,3)):(C(e,18,e.bl_tree),w(e,s-11,7));o=i,_=(s=0)===a?(l=138,3):i===a?(l=6,3):(l=7,4)}}i(E);var W=!1;function K(e,t,r,i){w(e,0+(i?1:0),3),function(e,t,r,i){A(e),x(e,r),x(e,~r),n.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r)}r._tr_init=function(e){W||(function(){var e,t,r,n,i,o=new Array(16);for(n=r=0;n<28;n++)for(y[n]=r,e=0;e<1<<_[n];e++)m[r++]=n;for(m[r-1]=n,n=i=0;n<16;n++)for(E[n]=i,e=0;e<1<<u[n];e++)f[i++]=n;for(i>>=7;n<s;n++)for(E[n]=i<<7,e=0;e<1<<u[n]-7;e++)f[256+i++]=n;for(t=0;t<=l;t++)o[t]=0;for(e=0;e<=143;)d[2*e+1]=8,e++,o[8]++;for(;e<=255;)d[2*e+1]=9,e++,o[9]++;for(;e<=279;)d[2*e+1]=7,e++,o[7]++;for(;e<=287;)d[2*e+1]=8,e++,o[8]++;for(T(d,287,o),e=0;e<s;e++)h[2*e+1]=5,h[2*e]=D(e,5);g=new O(d,_,257,a,l),b=new O(h,u,0,s,l),v=new O(new Array(0),c,0,19,7)}(),W=!0),e.l_desc=new M(e.dyn_ltree,g),e.d_desc=new M(e.dyn_dtree,b),e.bl_desc=new M(e.bl_tree,v),e.bi_buf=0,e.bi_valid=0,k(e)},r._tr_stored_block=K,r._tr_flush_block=function(e,t,r,n){var i,a,s=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<o;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),S(e,e.l_desc),S(e,e.d_desc),s=function(e){var t;for(B(e,e.dyn_ltree,e.l_desc.max_code),B(e,e.dyn_dtree,e.d_desc.max_code),S(e,e.bl_desc),t=18;3<=t&&0===e.bl_tree[2*p[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=i&&(i=a)):i=a=r+5,r+4<=i&&-1!==t?K(e,t,r,n):4===e.strategy||a===i?(w(e,2+(n?1:0),3),R(e,d,h)):(w(e,4+(n?1:0),3),function(e,t,r,n){var i;for(w(e,t-257,5),w(e,r-1,5),w(e,n-4,4),i=0;i<n;i++)w(e,e.bl_tree[2*p[i]+1],3);U(e,e.dyn_ltree,t-1),U(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),R(e,e.dyn_ltree,e.dyn_dtree)),k(e),n&&A(e)},r._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(m[r]+o+1)]++,e.dyn_dtree[2*P(t)]++),e.last_lit===e.lit_bufsize-1},r._tr_align=function(e){w(e,2,3),C(e,256,d),function(e){16===e.bi_valid?(x(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,r){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){(function(e){!function(e,t){"use strict";if(!e.setImmediate){var r,n,o,a,s=1,l={},_=!1,u=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,r="[object process]"==={}.toString.call(e.process)?function(e){i.nextTick((function(){d(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?(a="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",h,!1):e.attachEvent("onmessage",h),function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){d(e.data)},function(e){o.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(n=u.documentElement,function(e){var t=u.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,n.removeChild(t),t=null},n.appendChild(t)}):function(e){setTimeout(d,0,e)},c.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return l[s]=i,r(s),s++},c.clearImmediate=p}function p(e){delete l[e]}function d(e){if(_)setTimeout(d,0,e);else{var t=l[e];if(t){_=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{p(e),_=!1}}}}function h(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&d(+t.data.slice(a.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)}).call(this,r(211).Buffer,r(215).setImmediate,r(50),r(216))},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return _})),r.d(t,"b",(function(){return u}));var n,i=r(89),o=r.n(i);(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var a,s;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function l(e,t,r,n){fetch(e,{mode:"cors",headers:t,credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){n(e)})).catch((function(){console.warn("Cannot fetch metadata for "+e),n(r)}))}function _(e,t,r){if(!e)return r([]);if(e.includes("azure")||e.includes("microsoft"))r(["SegoeFrutigerHelveticaMYingHei-Bold","SegoeFrutigerHelveticaMYingHei-Medium","SegoeFrutigerHelveticaMYingHei-Regular","SegoeUi-Bold","SegoeUi-Light","SegoeUi-Regular","SegoeUi-SemiBold","SegoeUi-SemiLight","SegoeUi-SymbolRegular","StandardCondensedSegoeUi-Black","StandardCondensedSegoeUi-Bold","StandardCondensedSegoeUi-Light","StandardCondensedSegoeUi-Regular","StandardFont-Black","StandardFont-Bold","StandardFontCondensed-Black","StandardFontCondensed-Bold","StandardFontCondensed-Light","StandardFontCondensed-Regular","StandardFont-Light","StandardFont-Regular"]);else{var n=o.a.parse(e);"/%7Bfontstack%7D/%7Brange%7D.pbf"===n.pathname?n.pathname="/fontstacks.json":n.pathname=n.pathname.replace("/%7Bfontstack%7D/%7Brange%7D.pbf",".json"),l(o.a.format(n),t,[],r)}}function u(e,t,r){if(!e)return r([]);var n=o.a.parse(e);n.pathname=n.pathname+".json",l(o.a.format(n),t,{},(function(e){return r(Object.keys(e))}))}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(a.register(l,"loadJSON","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\metadata.js"),a.register(_,"downloadGlyphsMetadata","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\metadata.js"),a.register(u,"downloadSpriteMetadata","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\metadata.js")),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&s(e)}).call(this,r(14)(e))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return StyleStore}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_style_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(58),_urlopen__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(105),_config_styles_json__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(314),_config_styles_json__WEBPACK_IMPORTED_MODULE_4___namespace=__webpack_require__.t(314,1),enterModule;enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},storagePrefix="maputnik",stylePrefix="style",storageKeys={latest:[storagePrefix,"latest_style"].join(":"),accessToken:[storagePrefix,"access_token"].join(":")},defaultStyleUrl=_config_styles_json__WEBPACK_IMPORTED_MODULE_4__[0].url;function loadDefaultStyle(e){e(_style_js__WEBPACK_IMPORTED_MODULE_2__.a.emptyStyle)}function loadStoredStyles(){for(var e=[],t=0;t<window.localStorage.length;t++){var r=window.localStorage.key(t);isStyleKey(r)&&e.push(fromKey(r))}return e}function isStyleKey(e){var t=e.split(":");return 3==t.length&&t[0]===storagePrefix&&t[1]===stylePrefix}function fromKey(e){if(!isStyleKey(e))throw"Key is not a valid style key";return e.split(":")[2]}function styleKey(e){return[storagePrefix,stylePrefix,e].join(":")}var StyleStore=function(){function StyleStore(){_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,StyleStore),this.mapStyles=loadStoredStyles()}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(StyleStore,[{key:"init",value:function(e){e(null)}},{key:"purge",value:function(){for(var e=0;e<window.localStorage.length;e++){var t=window.localStorage.key(e);t.startsWith(storagePrefix)&&window.localStorage.removeItem(t)}}},{key:"latestStyle",value:function(e){if(0===this.mapStyles.length)return loadDefaultStyle(e);var t=window.localStorage.getItem(storageKeys.latest),r=window.localStorage.getItem(styleKey(t));if(r)return e(JSON.parse(r));loadDefaultStyle(e)}},{key:"save",value:function(e){return e}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),StyleStore}(),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(storagePrefix,"storagePrefix","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\stylestore.js"),reactHotLoader.register(stylePrefix,"stylePrefix","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\stylestore.js"),reactHotLoader.register(storageKeys,"storageKeys","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\stylestore.js"),reactHotLoader.register(defaultStyleUrl,"defaultStyleUrl","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\stylestore.js"),reactHotLoader.register(loadDefaultStyle,"loadDefaultStyle","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\stylestore.js"),reactHotLoader.register(loadStoredStyles,"loadStoredStyles","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\stylestore.js"),reactHotLoader.register(isStyleKey,"isStyleKey","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\stylestore.js"),reactHotLoader.register(fromKey,"fromKey","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\stylestore.js"),reactHotLoader.register(styleKey,"styleKey","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\stylestore.js"),reactHotLoader.register(StyleStore,"StyleStore","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\stylestore.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(e,t,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,s,l=a(e),_=1;_<arguments.length;_++){for(var u in r=Object(arguments[_]))i.call(r,u)&&(l[u]=r[u]);if(n){s=n(r);for(var c=0;c<s.length;c++)o.call(r,s[c])&&(l[s[c]]=r[s[c]])}}return l}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(209);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r(357),i=r(212),o=r(358);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,r){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}return _(this,e,t,r)}function _(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=p(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!l.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|h(t,r),i=(e=s(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(l.isBuffer(t)){var r=0|d(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):p(e,t);if("Buffer"===t.type&&o(t.data))return p(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e,t){if(u(t),e=s(e,t<0?0:0|d(t)),!l.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function p(e,t){var r=t.length<0?0:0|d(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function d(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return z(e).length;default:if(n)return j(e).length;t=(""+t).toLowerCase(),n=!0}}function f(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,r);case"utf8":case"utf-8":return w(this,t,r);case"ascii":return C(this,t,r);case"latin1":case"binary":return D(this,t,r);case"base64":return x(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:g(e,t,r,n,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):g(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function g(e,t,r,n,i){var o,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,r/=2}function _(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(o=r;o<s;o++)if(_(e,o)===_(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(r+l>s&&(r=s-l),o=r;o>=0;o--){for(var c=!0,p=0;p<l;p++)if(_(e,o+p)!==_(t,p)){c=!1;break}if(c)return o}return-1}function b(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function v(e,t,r,n){return F(j(t,e.length-r),e,r,n)}function E(e,t,r,n){return F(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function O(e,t,r,n){return E(e,t,r,n)}function M(e,t,r,n){return F(z(t),e,r,n)}function P(e,t,r,n){return F(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function x(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function w(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,l,_=e[i],u=null,c=_>239?4:_>223?3:_>191?2:1;if(i+c<=r)switch(c){case 1:_<128&&(u=_);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&_)<<6|63&o)>127&&(u=l);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(l=(15&_)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&_)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,c=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=c}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,r){return _(null,e,t,r)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,r){return function(e,t,r,n){return u(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},l.allocUnsafe=function(e){return c(null,e)},l.allocUnsafeSlow=function(e){return c(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=l.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},l.byteLength=h,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?w(this,0,e):f.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,r,n,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),_=this.slice(n,i),u=e.slice(t,r),c=0;c<s;++c)if(_[c]!==u[c]){o=_[c],a=u[c];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},l.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return v(this,e,t,r);case"ascii":return E(this,e,t,r);case"latin1":case"binary":return O(this,e,t,r);case"base64":return M(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function C(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function D(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function T(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=K(e[o]);return i}function k(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function A(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,r,n,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function L(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function R(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function S(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(e,t,r,n,o){return o||S(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function U(e,t,r,n,o){return o||S(e,0,r,8),i.write(e,t,r,n,52,8),r+8}l.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;r=new l(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},l.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||A(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},l.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||A(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},l.prototype.readUInt8=function(e,t){return t||A(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||A(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||A(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||A(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||A(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||A(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||A(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(e,t){t||A(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(e,t){return t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||A(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||A(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||A(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||A(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||I(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},l.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||I(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},l.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);I(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},l.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);I(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return U(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return U(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},l.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=l.isBuffer(e)?e:j(new l(e,n).toString()),s=a.length;for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var W=/[^+\/0-9A-Za-z-_]/g;function K(e){return e<16?"0"+e.toString(16):e.toString(16)}function j(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function z(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(W,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function F(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(50))},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,l=(1<<s)-1,_=l>>1,u=-7,c=r?i-1:0,p=r?-1:1,d=e[t+c];for(c+=p,o=d&(1<<-u)-1,d>>=-u,u+=s;u>0;o=256*o+e[t+c],c+=p,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=n;u>0;a=256*a+e[t+c],c+=p,u-=8);if(0===o)o=1-_;else{if(o===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),o-=_}return(d?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,l,_=8*o-i-1,u=(1<<_)-1,c=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,h=n?1:-1,f=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+c>=1?p/l:p*Math.pow(2,1-c))*l>=2&&(a++,l/=2),a+c>=u?(s=0,a=u):a+c>=1?(s=(t*l-1)*Math.pow(2,i),a+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;e[r+d]=255&s,d+=h,s/=256,i-=8);for(a=a<<i|s,_+=i;_>0;e[r+d]=255&a,d+=h,a/=256,_-=8);e[r+d-h]|=128*f}},function(e,t,r){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(e,t,r){const n=r(213),i={};for(const e of Object.keys(n))i[n[e]]=e;const o={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};e.exports=o;for(const e of Object.keys(o)){if(!("channels"in o[e]))throw new Error("missing channels property: "+e);if(!("labels"in o[e]))throw new Error("missing channel labels property: "+e);if(o[e].labels.length!==o[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:r}=o[e];delete o[e].channels,delete o[e].labels,Object.defineProperty(o[e],"channels",{value:t}),Object.defineProperty(o[e],"labels",{value:r})}o.rgb.hsl=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),o=Math.max(t,r,n),a=o-i;let s,l;o===i?s=0:t===o?s=(r-n)/a:r===o?s=2+(n-t)/a:n===o&&(s=4+(t-r)/a),s=Math.min(60*s,360),s<0&&(s+=360);const _=(i+o)/2;return l=o===i?0:_<=.5?a/(o+i):a/(2-o-i),[s,100*l,100*_]},o.rgb.hsv=function(e){let t,r,n,i,o;const a=e[0]/255,s=e[1]/255,l=e[2]/255,_=Math.max(a,s,l),u=_-Math.min(a,s,l),c=function(e){return(_-e)/6/u+.5};return 0===u?(i=0,o=0):(o=u/_,t=c(a),r=c(s),n=c(l),a===_?i=n-r:s===_?i=1/3+t-n:l===_&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*_]},o.rgb.hwb=function(e){const t=e[0],r=e[1];let n=e[2];const i=o.rgb.hsl(e)[0],a=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[i,100*a,100*n]},o.rgb.cmyk=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(1-t,1-r,1-n);return[100*((1-t-i)/(1-i)||0),100*((1-r-i)/(1-i)||0),100*((1-n-i)/(1-i)||0),100*i]},o.rgb.keyword=function(e){const t=i[e];if(t)return t;let r,o=1/0;for(const t of Object.keys(n)){const i=n[t],l=(s=i,((a=e)[0]-s[0])**2+(a[1]-s[1])**2+(a[2]-s[2])**2);l<o&&(o=l,r=t)}var a,s;return r},o.keyword.rgb=function(e){return n[e]},o.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;return[100*(.4124*t+.3576*r+.1805*n),100*(.2126*t+.7152*r+.0722*n),100*(.0193*t+.1192*r+.9505*n)]},o.rgb.lab=function(e){const t=o.rgb.xyz(e);let r=t[0],n=t[1],i=t[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;return[116*n-16,500*(r-n),200*(n-i)]},o.hsl.rgb=function(e){const t=e[0]/360,r=e[1]/100,n=e[2]/100;let i,o,a;if(0===r)return a=255*n,[a,a,a];i=n<.5?n*(1+r):n+r-n*r;const s=2*n-i,l=[0,0,0];for(let e=0;e<3;e++)o=t+1/3*-(e-1),o<0&&o++,o>1&&o--,a=6*o<1?s+6*(i-s)*o:2*o<1?i:3*o<2?s+(i-s)*(2/3-o)*6:s,l[e]=255*a;return l},o.hsl.hsv=function(e){const t=e[0];let r=e[1]/100,n=e[2]/100,i=r;const o=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=o<=1?o:2-o;return[t,100*(0===n?2*i/(o+i):2*r/(n+r)),100*((n+r)/2)]},o.hsv.rgb=function(e){const t=e[0]/60,r=e[1]/100;let n=e[2]/100;const i=Math.floor(t)%6,o=t-Math.floor(t),a=255*n*(1-r),s=255*n*(1-r*o),l=255*n*(1-r*(1-o));switch(n*=255,i){case 0:return[n,l,a];case 1:return[s,n,a];case 2:return[a,n,l];case 3:return[a,s,n];case 4:return[l,a,n];case 5:return[n,a,s]}},o.hsv.hsl=function(e){const t=e[0],r=e[1]/100,n=e[2]/100,i=Math.max(n,.01);let o,a;a=(2-r)*n;const s=(2-r)*i;return o=r*i,o/=s<=1?s:2-s,o=o||0,a/=2,[t,100*o,100*a]},o.hwb.rgb=function(e){const t=e[0]/360;let r=e[1]/100,n=e[2]/100;const i=r+n;let o;i>1&&(r/=i,n/=i);const a=Math.floor(6*t),s=1-n;o=6*t-a,0!=(1&a)&&(o=1-o);const l=r+o*(s-r);let _,u,c;switch(a){default:case 6:case 0:_=s,u=l,c=r;break;case 1:_=l,u=s,c=r;break;case 2:_=r,u=s,c=l;break;case 3:_=r,u=l,c=s;break;case 4:_=l,u=r,c=s;break;case 5:_=s,u=r,c=l}return[255*_,255*u,255*c]},o.cmyk.rgb=function(e){const t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i))]},o.xyz.rgb=function(e){const t=e[0]/100,r=e[1]/100,n=e[2]/100;let i,o,a;return i=3.2406*t+-1.5372*r+-.4986*n,o=-.9689*t+1.8758*r+.0415*n,a=.0557*t+-.204*r+1.057*n,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,a=a>.0031308?1.055*a**(1/2.4)-.055:12.92*a,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),a=Math.min(Math.max(0,a),1),[255*i,255*o,255*a]},o.xyz.lab=function(e){let t=e[0],r=e[1],n=e[2];t/=95.047,r/=100,n/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;return[116*r-16,500*(t-r),200*(r-n)]},o.lab.xyz=function(e){let t,r,n;r=(e[0]+16)/116,t=e[1]/500+r,n=r-e[2]/200;const i=r**3,o=t**3,a=n**3;return r=i>.008856?i:(r-16/116)/7.787,t=o>.008856?o:(t-16/116)/7.787,n=a>.008856?a:(n-16/116)/7.787,t*=95.047,r*=100,n*=108.883,[t,r,n]},o.lab.lch=function(e){const t=e[0],r=e[1],n=e[2];let i;i=360*Math.atan2(n,r)/2/Math.PI,i<0&&(i+=360);return[t,Math.sqrt(r*r+n*n),i]},o.lch.lab=function(e){const t=e[0],r=e[1],n=e[2]/360*2*Math.PI;return[t,r*Math.cos(n),r*Math.sin(n)]},o.rgb.ansi16=function(e,t=null){const[r,n,i]=e;let a=null===t?o.rgb.hsv(e)[2]:t;if(a=Math.round(a/50),0===a)return 30;let s=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return 2===a&&(s+=60),s},o.hsv.ansi16=function(e){return o.rgb.ansi16(o.hsv.rgb(e),e[2])},o.rgb.ansi256=function(e){const t=e[0],r=e[1],n=e[2];if(t===r&&r===n)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;return 16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},o.ansi16.rgb=function(e){let t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const r=.5*(1+~~(e>50));return[(1&t)*r*255,(t>>1&1)*r*255,(t>>2&1)*r*255]},o.ansi256.rgb=function(e){if(e>=232){const t=10*(e-232)+8;return[t,t,t]}let t;e-=16;return[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},o.rgb.hex=function(e){const t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},o.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];3===t[0].length&&(r=r.split("").map(e=>e+e).join(""));const n=parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},o.rgb.hcg=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(Math.max(t,r),n),o=Math.min(Math.min(t,r),n),a=i-o;let s,l;return s=a<1?o/(1-a):0,l=a<=0?0:i===t?(r-n)/a%6:i===r?2+(n-t)/a:4+(t-r)/a,l/=6,l%=1,[360*l,100*a,100*s]},o.hsl.hcg=function(e){const t=e[1]/100,r=e[2]/100,n=r<.5?2*t*r:2*t*(1-r);let i=0;return n<1&&(i=(r-.5*n)/(1-n)),[e[0],100*n,100*i]},o.hsv.hcg=function(e){const t=e[1]/100,r=e[2]/100,n=t*r;let i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],100*n,100*i]},o.hcg.rgb=function(e){const t=e[0]/360,r=e[1]/100,n=e[2]/100;if(0===r)return[255*n,255*n,255*n];const i=[0,0,0],o=t%1*6,a=o%1,s=1-a;let l=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=a,i[2]=0;break;case 1:i[0]=s,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=a;break;case 3:i[0]=0,i[1]=s,i[2]=1;break;case 4:i[0]=a,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=s}return l=(1-r)*n,[255*(r*i[0]+l),255*(r*i[1]+l),255*(r*i[2]+l)]},o.hcg.hsv=function(e){const t=e[1]/100,r=t+e[2]/100*(1-t);let n=0;return r>0&&(n=t/r),[e[0],100*n,100*r]},o.hcg.hsl=function(e){const t=e[1]/100,r=e[2]/100*(1-t)+.5*t;let n=0;return r>0&&r<.5?n=t/(2*r):r>=.5&&r<1&&(n=t/(2*(1-r))),[e[0],100*n,100*r]},o.hcg.hwb=function(e){const t=e[1]/100,r=t+e[2]/100*(1-t);return[e[0],100*(r-t),100*(1-r)]},o.hwb.hcg=function(e){const t=e[1]/100,r=1-e[2]/100,n=r-t;let i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],100*n,100*i]},o.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},o.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},o.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},o.gray.hsl=function(e){return[0,0,e[0]]},o.gray.hsv=o.gray.hsl,o.gray.hwb=function(e){return[0,100,e[0]]},o.gray.cmyk=function(e){return[0,0,0,e[0]]},o.gray.lab=function(e){return[e[0],0,0]},o.gray.hex=function(e){const t=255&Math.round(e[0]/100*255),r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(r.length)+r},o.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(368),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(50))},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l,_=[],u=!1,c=-1;function p(){u&&l&&(u=!1,l.length?_=l.concat(_):c=-1,_.length&&d())}function d(){if(!u){var e=s(p);u=!0;for(var t=_.length;t;){for(l=_,_=[];++c<t;)l&&l[c].run();c=-1,t=_.length}l=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function f(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];_.push(new h(e,t)),1!==_.length||u||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=f,i.addListener=f,i.once=f,i.off=f,i.removeListener=f,i.removeAllListeners=f,i.emit=f,i.prependListener=f,i.prependOnceListener=f,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";var n={},i="a menu outside a mounted Wrapper with an id, or a menu that does not exist";e.exports={registerManager:function(e,t){n[e]=t},unregisterManager:function(e){delete n[e]},openMenu:function(e,t){var r=n[e];if(!r)throw new Error("Cannot open "+i);r.openMenu(t)},closeMenu:function(e,t){var r=n[e];if(!r)throw new Error("Cannot close "+i);r.closeMenu(t)}}},function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this,r(50))},function(e,t,r){var n=r(220),i=r(119);e.exports=function(e,t){return e&&n(e,t,i)}},function(e,t,r){var n=r(393)();e.exports=n},function(e,t,r){var n=r(394),i=r(171),o=r(67),a=r(138),s=r(172),l=r(173),_=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=o(e),u=!r&&i(e),c=!r&&!u&&a(e),p=!r&&!u&&!c&&l(e),d=r||u||c||p,h=d?n(e.length,String):[],f=h.length;for(var m in e)!t&&!_.call(e,m)||d&&("length"==m||c&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,f))||h.push(m);return h}},function(e,t){e.exports=function(e,t){return function(r){return e(t(r))}}},function(e,t,r){var n=r(139);e.exports=function(e){return"function"==typeof e?e:n}},function(e,t,r){var n=r(102),i=r(179),o=r(84),a=Function.prototype,s=Object.prototype,l=a.toString,_=s.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=n(e))return!1;var t=i(e);if(null===t)return!0;var r=_.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&l.call(r)==u}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}},function(e,t){var r=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,r){var n=r(430),i=r(84);e.exports=function e(t,r,o,a,s){return t===r||(null==t||null==r||!i(t)&&!i(r)?t!=t&&r!=r:n(t,r,o,a,e,s))}},function(e,t,r){var n=r(431),i=r(434),o=r(435);e.exports=function(e,t,r,a,s,l){var _=1&r,u=e.length,c=t.length;if(u!=c&&!(_&&c>u))return!1;var p=l.get(e),d=l.get(t);if(p&&d)return p==t&&d==e;var h=-1,f=!0,m=2&r?new n:void 0;for(l.set(e,t),l.set(t,e);++h<u;){var y=e[h],g=t[h];if(a)var b=_?a(g,y,h,t,e,l):a(y,g,h,e,t,l);if(void 0!==b){if(b)continue;f=!1;break}if(m){if(!i(t,(function(e,t){if(!o(m,t)&&(y===e||s(y,e,r,a,l)))return m.push(t)}))){f=!1;break}}else if(y!==g&&!s(y,g,r,a,l)){f=!1;break}}return l.delete(e),l.delete(t),f}},function(e,t,r){var n=r(78).Uint8Array;e.exports=n},function(e,t,r){var n=r(231),i=r(182),o=r(119);e.exports=function(e){return n(e,o,i)}},function(e,t,r){var n=r(232),i=r(67);e.exports=function(e,t,r){var o=t(e);return i(e)?o:n(o,r(e))}},function(e,t){e.exports=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}},function(e,t){e.exports=function(){return[]}},function(e,t,r){var n=r(69);e.exports=function(e){return e==e&&!n(e)}},function(e,t){e.exports=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}},function(e,t,r){var n=r(237),i=r(147);e.exports=function(e,t){for(var r=0,o=(t=n(t,e)).length;null!=e&&r<o;)e=e[i(t[r++])];return r&&r==o?e:void 0}},function(e,t,r){var n=r(67),i=r(183),o=r(448),a=r(451);e.exports=function(e,t){return n(e)?e:i(e,t)?[e]:o(a(e))}},function(e,t,r){var n=r(219),i=r(460)(n);e.exports=i},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}},function(e,t,r){var n=r(184),i=r(120),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var a=e[t];o.call(e,t)&&i(a,r)&&(void 0!==r||t in e)||n(e,t,r)}},function(e,t,r){var n=r(103),i=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,r){(function(e){var n=r(78),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=s?s(r):new e.constructor(r);return e.copy(n),n}}).call(this,r(101)(e))},function(e,t){e.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},function(e,t,r){var n=r(232),i=r(179),o=r(182),a=r(233),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,o(e)),e=i(e);return t}:a;e.exports=s},function(e,t,r){var n=r(185);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},function(e,t,r){var n=r(476),i=r(179),o=r(177);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:n(i(e))}},function(e,t,r){var n=r(485),i=r(489)((function(e,t,r){n(e,t,r)}));e.exports=i},function(e,t,r){var n=r(184),i=r(120);e.exports=function(e,t,r){(void 0!==r&&!i(e[t],r)||void 0===r&&!(t in e))&&n(e,t,r)}},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(498);Object.defineProperty(t,"Alpha",{enumerable:!0,get:function(){return c(n).default}});var i=r(186);Object.defineProperty(t,"Checkboard",{enumerable:!0,get:function(){return c(i).default}});var o=r(501);Object.defineProperty(t,"EditableInput",{enumerable:!0,get:function(){return c(o).default}});var a=r(502);Object.defineProperty(t,"Hue",{enumerable:!0,get:function(){return c(a).default}});var s=r(504);Object.defineProperty(t,"Raised",{enumerable:!0,get:function(){return c(s).default}});var l=r(505);Object.defineProperty(t,"Saturation",{enumerable:!0,get:function(){return c(l).default}});var _=r(512);Object.defineProperty(t,"ColorWrap",{enumerable:!0,get:function(){return c(_).default}});var u=r(516);function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Swatch",{enumerable:!0,get:function(){return c(u).default}})},function(e,t,r){var n=r(69),i=r(507),o=r(508),a=Math.max,s=Math.min;e.exports=function(e,t,r){var l,_,u,c,p,d,h=0,f=!1,m=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var r=l,n=_;return l=_=void 0,h=t,c=e.apply(n,r)}function b(e){return h=e,p=setTimeout(E,t),f?g(e):c}function v(e){var r=e-d;return void 0===d||r>=t||r<0||m&&e-h>=u}function E(){var e=i();if(v(e))return O(e);p=setTimeout(E,function(e){var r=t-(e-d);return m?s(r,u-(e-h)):r}(e))}function O(e){return p=void 0,y&&l?g(e):(l=_=void 0,c)}function M(){var e=i(),r=v(e);if(l=arguments,_=this,d=e,r){if(void 0===p)return b(d);if(m)return clearTimeout(p),p=setTimeout(E,t),g(d)}return void 0===p&&(p=setTimeout(E,t)),c}return t=o(t)||0,n(r)&&(f=!!r.leading,u=(m="maxWait"in r)?a(o(r.maxWait)||0,t):u,y="trailing"in r?!!r.trailing:y),M.cancel=function(){void 0!==p&&clearTimeout(p),h=0,l=d=_=p=void 0},M.flush=function(){return void 0===p?c:O(i())},M}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isvalidColorString=t.red=t.getContrastingColor=t.isValidHex=t.toState=t.simpleCheckForValidColor=void 0;var n=o(r(513)),i=o(r(515));function o(e){return e&&e.__esModule?e:{default:e}}t.simpleCheckForValidColor=function(e){var t=0,r=0;return(0,n.default)(["r","g","b","a","h","s","l","v"],(function(n){if(e[n]&&(t+=1,isNaN(e[n])||(r+=1),"s"===n||"l"===n)){/^\d+%$/.test(e[n])&&(r+=1)}})),t===r&&e};var a=t.toState=function(e,t){var r=e.hex?(0,i.default)(e.hex):(0,i.default)(e),n=r.toHsl(),o=r.toHsv(),a=r.toRgb(),s=r.toHex();return 0===n.s&&(n.h=t||0,o.h=t||0),{hsl:n,hex:"000000"===s&&0===a.a?"transparent":"#"+s,rgb:a,hsv:o,oldHue:e.h||t||n.h,source:e.source}};t.isValidHex=function(e){if("transparent"===e)return!0;var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&(0,i.default)(e).isValid()},t.getContrastingColor=function(e){if(!e)return"#fff";var t=a(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"},t.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}},t.isvalidColorString=function(e,t){var r=e.replace("°","");return(0,i.default)(t+" ("+r+")")._ok}},function(e,t,r){"use strict";t.a=r.p+"fonts/Roboto-Regular.ttf"},function(e,t,r){"use strict";t.a=r.p+"fonts/Roboto-Medium.ttf"},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return App}));var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(104),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(46),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(33),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(31),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(11),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_8__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_9__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10__),react_autobind__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(256),react_autobind__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(react_autobind__WEBPACK_IMPORTED_MODULE_11__),react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_12__),lodash_clonedeep__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(99),lodash_clonedeep__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(lodash_clonedeep__WEBPACK_IMPORTED_MODULE_13__),lodash_clamp__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(190),lodash_clamp__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(lodash_clamp__WEBPACK_IMPORTED_MODULE_14__),lodash_get__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(257),lodash_get__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_15__),lodash__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(92),lodash__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_16__),array_move__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(258),url__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(89),url__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(url__WEBPACK_IMPORTED_MODULE_18__),string_hash__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(191),string_hash__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(string_hash__WEBPACK_IMPORTED_MODULE_19__),_MapMapboxGl__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(259),_MapOpenLayers__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(269),_LayerList__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(273),_LayerEditor__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(280),_AppToolbar__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(302),_AppLayout__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(304),_AppMessagePanel__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(306),_ModalExport__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(307),_ModalOpen__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(311),_ModalShortcuts__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(312),_ModalDebug__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(313),_libs_metadata__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(206),_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(22),_libs_style__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(58),_libs_urlopen__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(105),_libs_stylestore__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(207),_libs_apistore__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__(315),_libs_layerwatcher__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__(317),_config_tokens_json__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__(98),_config_tokens_json__WEBPACK_IMPORTED_MODULE_38___namespace=__webpack_require__.t(98,1),lodash_isequal__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__(111),lodash_isequal__WEBPACK_IMPORTED_MODULE_39___default=__webpack_require__.n(lodash_isequal__WEBPACK_IMPORTED_MODULE_39__),_libs_debug__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__(134),_util_format__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__(65),_libs_azure_maps_ext__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__(108),mapbox_gl__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__(81),mapbox_gl__WEBPACK_IMPORTED_MODULE_43___default=__webpack_require__.n(mapbox_gl__WEBPACK_IMPORTED_MODULE_43__),enterModule;function _createForOfIteratorHelper(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_9___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_9___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_8___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};function normalizeSourceURL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.match(/^mapbox:\/\/(.*)/);return r?"https://api.mapbox.com/v4/".concat(r[1],".json?secure&access_token=").concat(t):e}function setFetchAccessToken(e,t){var r=e.match(/\.tilehosting\.com/),n=e.match(/\.maptiler\.com/),i=e.match(/\.thunderforest\.com/);if(r||n){var o=_libs_style__WEBPACK_IMPORTED_MODULE_33__.a.getAccessToken("openmaptiles",t,{allowFallback:!0});if(o)return e.replace("{key}",o)}else{if(!i)return e;var a=_libs_style__WEBPACK_IMPORTED_MODULE_33__.a.getAccessToken("thunderforest",t,{allowFallback:!0});if(a)return e.replace("{key}",a)}}function updateRootSpec(e,t,r){return _objectSpread(_objectSpread({},e),{},{$root:_objectSpread(_objectSpread({},e.$root),{},_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()({},t,_objectSpread(_objectSpread({},e.$root[t]),{},{values:r})))})}var App=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default()(App,_React$Component);var _super=_createSuper(App);function App(e){var t;_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4___default()(this,App),t=_super.call(this,e),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(t),"onChangeMetadataProperty",(function(e,r){"maputnik:renderer"===e&&r!==lodash_get__WEBPACK_IMPORTED_MODULE_15___default()(t.state.mapStyle,["metadata","maputnik:renderer"],"mbgljs")&&t.setState({mapState:"map"});var n=_objectSpread(_objectSpread({},t.state.mapStyle),{},{metadata:_objectSpread(_objectSpread({},t.state.mapStyle.metadata),{},_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()({},e,r))});t.onStyleChanged(n)})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(t),"onStyleChanged",(function(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n=_objectSpread({save:!0,addRevision:!0,initialLoad:!1,openStyleTransition:!1},n);var i=0,o=n.newSelectedLayerId||(null===(r=t.state.selectableLayers[t.state.selectedLayerIndex])||void 0===r?void 0:r.id)||"";n.initialLoad&&t.getInitialStateFromUrl(e);var a=lodash_clonedeep__WEBPACK_IMPORTED_MODULE_13___default()(e);null!=e&&e.layers&&(a.layers=e.layers.filter((function(e){return Object(_util_format__WEBPACK_IMPORTED_MODULE_41__.b)(e)})));var s=Object(_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_32__.j)(a,_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_32__.h)||[],l=[];if(null!=a&&a.layers){var _=new Set;a.layers.forEach((function(e,t){if(""===e.id&&_.has(e.id)){var r=new Error("layers[".concat(t,"]: duplicate layer id [empty_string], previously used"));l.push(r)}_.add(e.id)}))}var u=l.concat(s).map((function(e){var t=e.message.match(/layers\[(\d+)\]: (duplicate layer id "?(.*)"?, previously used)/);if(t){var r=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(t,3),n=(r[0],r[1]),i=r[2];return{message:e.message,parsed:{type:"layer",data:{index:parseInt(n,10),key:"id",message:i}}}}var o=e.message.match(/layers\[(\d+)\]: (source "(?:.*)" not found)/);if(o){var a=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(o,3),s=(a[0],a[1]),l=a[2];return{message:e.message,parsed:{type:"layer",data:{index:parseInt(s,10),key:"source",message:l}}}}var _=e.message.match(/layers\[(\d+)\]\.(?:(\S+)\.)?(\S+): (.*)/);if(_){var u=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_,5),c=(u[0],u[1]),p=u[2],d=u[3],h=u[4],f=p&&d?[p,d].join("."):d;return{message:e.message,parsed:{type:"layer",data:{index:parseInt(c,10),key:f,message:h}}}}return{message:e.message}})),c=void 0;s.length>0&&(c=a,s.forEach((function(e){var t=e.message;if(t)try{var r=t.split(":")[0].match(/^\S+?\[\d+\]\.[^\[]+/)[0];Object(lodash__WEBPACK_IMPORTED_MODULE_16__.unset)(a,r)}catch(e){console.warn(e)}})),c.layers=e.layers.filter((function(e){return!Object(_util_format__WEBPACK_IMPORTED_MODULE_41__.b)(e)})).concat(a.layers)),e.glyphs!==t.state.mapStyle.glyphs&&t.updateFonts(e.glyphs),e.sprite!==t.state.mapStyle.sprite&&t.updateIcons(e.sprite),n.save&&t.saveStyle(e);var p=0,d=e.layers.filter((function(e){return!!Object(_util_format__WEBPACK_IMPORTED_MODULE_41__.b)(e)&&(e.id===o&&(i=p),++p,!0)}));t.setState({mapStyle:e,dirtyMapStyle:c,selectableLayers:d,selectedLayerIndex:i,openStyleTransition:n.openStyleTransition,errors:u},(function(){t.fetchSources(),t.setStateInUrl()}))})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(t),"onMoveLayer",(function(e){var r=e.oldIndex,n=e.newIndex,i=t.state.selectableLayers;(r=lodash_clamp__WEBPACK_IMPORTED_MODULE_14___default()(r,0,i.length-1))!==(n=lodash_clamp__WEBPACK_IMPORTED_MODULE_14___default()(n,0,i.length-1))&&(r===t.state.selectedLayerIndex&&t.setState({selectedLayerIndex:n}),i=i.slice(0),Object(array_move__WEBPACK_IMPORTED_MODULE_17__.a)(i,r,n),t.onLayersChange(i))})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(t),"onLayersChange",(function(e){var r=[];t.state.mapStyle.layers.forEach((function(e){Object(_util_format__WEBPACK_IMPORTED_MODULE_41__.b)(e)||r.push(e)})),e.forEach((function(e){return r.push(e)}));var n=_objectSpread(_objectSpread({},t.state.mapStyle),{},{layers:r});t.onStyleChanged(n)})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(t),"onLayerDestroy",(function(e){var r=t.state.selectableLayers.slice(0);r.splice(e,1),t.onLayersChange(r)})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(t),"onLayerCopy",(function(e){var r=t.state.selectableLayers.slice(0),n=lodash_clonedeep__WEBPACK_IMPORTED_MODULE_13___default()(r[e]);n.id=n.id+"-copy",r.splice(e,0,n),t.onLayersChange(r)})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(t),"onLayerVisibilityToggle",(function(e){var r=0,n=_objectSpread({},t.state.mapStyle);n.layers.forEach((function(t){if(Object(_util_format__WEBPACK_IMPORTED_MODULE_41__.b)(t)){if(r==e){var n="layout"in t?t.layout:{};n.visibility="none"!==n.visibility?"none":"visible",t.layout=n}++r}})),t.onStyleChanged(n)})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(t),"onLayerIdChange",(function(e,r,n){var i={},o=_objectSpread({},t.state.mapStyle),a=0;o.layers.forEach((function(r){Object(_util_format__WEBPACK_IMPORTED_MODULE_41__.b)(r)&&(a===e&&(t.state.selectedLayerOriginalId===r.id&&(i.newSelectedLayerId=n),r.id=n),a++)})),t.onStyleChanged(o,i)})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(t),"onLayerChanged",(function(e,r){var n={},i=0,o=0,a=_objectSpread({},t.state.mapStyle);a.layers.forEach((function(a,s){Object(_util_format__WEBPACK_IMPORTED_MODULE_41__.b)(a)&&(i==e&&(t.state.selectedLayerOriginalId==a.id&&(n.newSelectedLayerId=r.id),o=s),++i)})),a.layers[o]=r,t.onStyleChanged(a,n)})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(t),"setMapState",(function(e){t.setState({mapState:e},t.setStateInUrl)})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(t),"setBaseMap",(function(e){t.state.azureMapsExtension.updateBaseMap(e,t.state.mapStyle).then((function(e){t.onStyleChanged(e)})).catch((function(e){console.error(e)}))})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(t),"setDefaultValues",(function(e){return void 0===(e.metadata||{})["maputnik:renderer"]?_objectSpread(_objectSpread({},e),{},{metadata:_objectSpread(_objectSpread({},e.metadata),{},{"maputnik:renderer":"mbgljs"})}):e})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(t),"openStyle",(function(e){t.setState({minOrdinal:null}),e.metadata&&"Azure Maps style"==e.metadata["azmaps:type"]||(t.state.azureMapsExtension.configTupleIndex=""),e=t.setDefaultValues(e),t.onStyleChanged(e,{openStyleTransition:!0})})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(t),"onMapChange",(function(e){t.setState({mapView:e})})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(t),"transformRequest",(function(e,r){return t.state.azureMapsExtension.transformRequest(e,r)})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(t),"setStateInUrl",(function(){var e=t.state,r=e.mapState,n=e.mapStyle,i=e.isOpen,o=t.state.selectedLayerIndex,a=new URL(location.href),s=string_hash__WEBPACK_IMPORTED_MODULE_19___default()(JSON.stringify(n));a.searchParams.set("layer","".concat(s,"~").concat(o));var l=Object.entries(i).map((function(e){var t=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(e,2),r=t[0];return!0===t[1]?r:null})).filter((function(e){return null!==e}));l.length>0?a.searchParams.set("modal",l.join(",")):a.searchParams.delete("modal"),"map"===r?a.searchParams.delete("view"):"inspect"===r&&a.searchParams.set("view","inspect"),history.replaceState({selectedLayerIndex:o},"Maputnik",a.href)})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(t),"getInitialStateFromUrl",(function(e){var r={open:!0},n=new URL(location.href),i=n.searchParams.get("modal");i&&""!==i&&i.split(",").forEach((function(e){r[e]=!0}));t.setState({isOpen:_objectSpread(_objectSpread({},t.state.isOpen),r)});var o=n.searchParams.get("view");o&&""!==o&&t.setMapState(o);var a=n.searchParams.get("layer");if(a)try{var s=a.split("~"),l=[s[0],parseInt(s[1],10)],_=l[0],u=l[1],c=!1;if("-"!==_)string_hash__WEBPACK_IMPORTED_MODULE_19___default()(JSON.stringify(e))!==parseInt(_,10)&&(c=!0);c||t.setState({selectedLayerIndex:u,selectedLayerOriginalId:t.state.selectableLayers[u].id})}catch(e){console.warn(e)}})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(t),"onLayerSelect",(function(e){t.setState({selectedLayerIndex:e,selectedLayerOriginalId:t.state.selectableLayers[e].id},t.setStateInUrl)})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(t),"onChangeOpenlayersDebug",(function(e,r){t.setState({openlayersDebugOptions:_objectSpread(_objectSpread({},t.state.openlayersDebugOptions),{},_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()({},e,r))})})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(t),"onChangeMaboxGlDebug",(function(e,r){t.setState({mapboxGlDebugOptions:_objectSpread(_objectSpread({},t.state.mapboxGlDebugOptions),{},_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()({},e,r))})})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(t),"updateMapConfigId",(function(e,r,n,i){t.state.azureMapsExtension.mapConfigurationName=e,t.state.azureMapsExtension.mapConfigurationAlias=r,t.state.azureMapsExtension.mapConfigurationDescription=n,t.state.azureMapsExtension.styleDescription=i})),react_autobind__WEBPACK_IMPORTED_MODULE_11___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(t));var r=new URLSearchParams(window.location.search.substring(1)),n=r.get("localport");null==n&&80!=window.location.port&&443!=window.location.port&&(n=window.location.port),t.styleStore=new _libs_apistore__WEBPACK_IMPORTED_MODULE_36__.a({onLocalStyleChange:function(e){return t.onStyleChanged(e,{save:!1})},port:n,host:r.get("localhost")});var i=[{key:"?",handler:function(){t.toggleModal("shortcuts")}},{key:"o",handler:function(){t.toggleModal("open")}},{key:"s",handler:function(){t.toggleModal("export")}},{key:"m",handler:function(){document.querySelector(".mapboxgl-canvas").focus()}},{key:"!",handler:function(){t.toggleModal("debug")}}];document.body.addEventListener("keyup",(function(e){if("Escape"===e.key)e.target.blur(),document.body.focus();else if(t.state.isOpen.shortcuts||document.activeElement===document.body){var r=i.find((function(t){return t.key===e.key}));r&&(t.setModal("shortcuts",!1),r.handler(e))}}));var o=Object(_libs_urlopen__WEBPACK_IMPORTED_MODULE_34__.a)();o&&window.confirm("Load style from URL: "+o+" and discard current changes?")?(t.styleStore=new _libs_stylestore__WEBPACK_IMPORTED_MODULE_35__.a,Object(_libs_urlopen__WEBPACK_IMPORTED_MODULE_34__.b)(o,(function(e){return t.onStyleChanged(e)})),Object(_libs_urlopen__WEBPACK_IMPORTED_MODULE_34__.c)()):(o&&Object(_libs_urlopen__WEBPACK_IMPORTED_MODULE_34__.c)(),t.styleStore.init((function(e){e&&(console.log("Falling back to local storage for storing styles"),t.styleStore=new _libs_stylestore__WEBPACK_IMPORTED_MODULE_35__.a),t.styleStore.latestStyle((function(e){return t.onStyleChanged(e,{initialLoad:!0})})),_libs_debug__WEBPACK_IMPORTED_MODULE_40__.a.enabled()&&_libs_debug__WEBPACK_IMPORTED_MODULE_40__.a.set("maputnik","styleStore",t.styleStore)}))),_libs_debug__WEBPACK_IMPORTED_MODULE_40__.a.enabled()&&_libs_debug__WEBPACK_IMPORTED_MODULE_40__.a.set("maputnik","styleStore",t.styleStore);url__WEBPACK_IMPORTED_MODULE_18___default.a.parse(window.location.href,!0).query;return t.state={errors:[],mapStyle:_libs_style__WEBPACK_IMPORTED_MODULE_33__.a.emptyStyle,selectableLayers:[],selectedLayerIndex:0,sources:{},vectorLayers:{},mapState:"map",spec:_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_32__.h,mapView:{zoom:0,center:{lng:0,lat:0}},isOpen:{settings:!1,sources:!1,open:!1,shortcuts:!1,export:!1,survey:!1,debug:!1},mapboxGlDebugOptions:{showTileBoundaries:!1,showCollisionBoxes:!1,showOverdrawInspector:!1},azureMapsExtension:new _libs_azure_maps_ext__WEBPACK_IMPORTED_MODULE_42__.a.AzureMapsExtension,openlayersDebugOptions:{debugToolbox:!1},openStyleTransition:!1,minOrdinal:null},t.layerWatcher=new _libs_layerwatcher__WEBPACK_IMPORTED_MODULE_37__.a({onVectorLayersChange:function(e){return t.setState({vectorLayers:e})}}),t}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5___default()(App,[{key:"saveStyle",value:function(e){this.styleStore.save(e)}},{key:"updateFonts",value:function(e){var t=this,r=(this.state.mapStyle.metadata||{})["maputnik:openmaptiles_access_token"]||_config_tokens_json__WEBPACK_IMPORTED_MODULE_38__.openmaptiles,n="string"==typeof e?e.replace("{key}",r):e;Object(_libs_metadata__WEBPACK_IMPORTED_MODULE_31__.a)(this.state.azureMapsExtension.transformUrl(n),this.state.azureMapsExtension.requestHeaders,(function(e){t.setState({spec:updateRootSpec(t.state.spec,"glyphs",e)})}))}},{key:"updateIcons",value:function(e){var t=this;Object(_libs_metadata__WEBPACK_IMPORTED_MODULE_31__.b)(this.state.azureMapsExtension.transformUrl(e),this.state.azureMapsExtension.requestHeaders,(function(e){t.setState({spec:updateRootSpec(t.state.spec,"sprite",e)})}))}},{key:"fetchSources",value:function(){var e=this,t={},r=new Set;this.state.mapStyle.layers.forEach((function(e){Object(_util_format__WEBPACK_IMPORTED_MODULE_41__.b)(e)&&r.add(e.source)}));var n,i=_createForOfIteratorHelper(Object.entries(this.state.mapStyle.sources).filter((function(e){return r.has(e[0])})));try{var o=function(){var r=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(n.value,2),i=r[0],o=r[1];if(!e.state.sources.hasOwnProperty(i)&&"vector"===o.type&&o.hasOwnProperty("url")){t[i]={type:o.type,layers:[]};var a=o.url;try{a=normalizeSourceURL(a,mapbox_gl__WEBPACK_IMPORTED_MODULE_43___default.a.accessToken)}catch(e){console.warn("Failed to normalizeSourceURL: ",e)}try{a=setFetchAccessToken(a,e.state.mapStyle)}catch(e){console.warn("Failed to setFetchAccessToken: ",e)}a=e.state.azureMapsExtension.transformUrl(a),fetch(a,{mode:"cors",headers:e.state.azureMapsExtension.requestHeaders}).then((function(e){return e.json()})).then((function(t){if(t.hasOwnProperty("vector_layers")){var r,n=Object.assign({},_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()({},i,e.state.sources[i])),o=_createForOfIteratorHelper(t.vector_layers);try{for(o.s();!(r=o.n()).done;){var a=r.value;n[i].layers.push(a.id)}}catch(e){o.e(e)}finally{o.f()}console.debug("Updating source: "+i),e.setState({sources:n})}})).catch((function(e){console.error("Failed to process sources for '%s'",a,e)}))}else t[i]=e.state.sources[i]||e.state.mapStyle.sources[i]};for(i.s();!(n=i.n()).done;)o()}catch(e){i.e(e)}finally{i.f()}lodash_isequal__WEBPACK_IMPORTED_MODULE_39___default()(this.state.sources,t)||(console.debug("Setting sources"),this.setState({sources:t}))}},{key:"_getRenderer",value:function(){return(this.state.mapStyle.metadata||{})["maputnik:renderer"]||"mbgljs"}},{key:"mapRenderer",value:function(){var e,t,r=this,n=this.state,i=n.mapStyle,o=n.dirtyMapStyle,a=n.selectableLayers,s=n.openStyleTransition,l={isMinOrdinalSet:null!==this.state.minOrdinal,mapStyle:o||_objectSpread({},i),selectableLayers:a,openStyleTransition:s,replaceAccessTokens:function(e){return _libs_style__WEBPACK_IMPORTED_MODULE_33__.a.replaceAccessTokens(e,{allowFallback:!0})},onSourceDataLoad:function(e){r.setState({minOrdinal:e.minOrdinal})},onDataChange:function(e){r.layerWatcher.analyzeMap(e.map),r.fetchSources()},afterOpenStyleTransition:function(){r.setState({openStyleTransition:!1})}};"ol"===this._getRenderer()?e=react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_MapOpenLayers__WEBPACK_IMPORTED_MODULE_21__.a,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2___default()({},l,{onChange:this.onMapChange,debugToolbox:this.state.openlayersDebugOptions.debugToolbox,onLayerSelect:this.onLayerSelect})):(l.mapStyle.layers=this.addDefaultOrdinalFilter(l.mapStyle.layers),l.selectableLayers=this.addDefaultOrdinalFilter(l.selectableLayers),e=react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_MapMapboxGl__WEBPACK_IMPORTED_MODULE_20__.a,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2___default()({},l,{onChange:this.onMapChange,options:_objectSpread(_objectSpread({},this.state.mapboxGlDebugOptions),{},{transformRequest:this.transformRequest}),inspectModeEnabled:"inspect"===this.state.mapState,highlightedLayer:this.state.selectableLayers[this.state.selectedLayerIndex],onLayerSelect:this.onLayerSelect}))),this.state.mapState.match(/^filter-/)&&(t=this.state.mapState.replace(/^filter-/,""));var _={};return t&&(_.filter="url('#".concat(t,"')")),react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",{style:_,className:"maputnik-map__container"},e)}},{key:"addDefaultOrdinalFilter",value:function(e){var t=this;return null===this.state.minOrdinal?e:e.map((function(e){return Object(_util_format__WEBPACK_IMPORTED_MODULE_41__.b)(e)?void 0===e.filter?_objectSpread(_objectSpread({},e),{},{filter:["all",["==","levelOrdinal",t.state.minOrdinal]]}):["all","none","any"].includes(e.filter[0])?e.filter.some((function(e){return"object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1___default()(e)&&"levelOrdinal"===e[1]}))?e:"all"===e.filter[0]?_objectSpread(_objectSpread({},e),{},{filter:["all",["==","levelOrdinal",t.state.minOrdinal]].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(e.filter.slice(1)))}):"none"===e.filter[0]?_objectSpread(_objectSpread({},e),{},{filter:["all",["!=","levelOrdinal",t.state.minOrdinal]].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(e.filter.slice(1)))}):e:"levelOrdinal"!==e.filter[1]?_objectSpread(_objectSpread({},e),{},{filter:["all",["==","levelOrdinal",t.state.minOrdinal],e.filter]}):e:e}))}},{key:"setModal",value:function(e,t){"survey"===e&&!1===t&&localStorage.setItem("survey",""),this.setState({isOpen:_objectSpread(_objectSpread({},this.state.isOpen),{},_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()({},e,t))},this.setStateInUrl)}},{key:"toggleModal",value:function(e){this.setModal(e,!this.state.isOpen[e])}},{key:"render",value:function(){var e=this,t=this.state.selectableLayers,r=t.length>0?t[this.state.selectedLayerIndex]:null,n={mapId:this.state.azureMapsExtension.mapConfigurationName,styleName:this.state.azureMapsExtension.styleName,alias:this.state.azureMapsExtension.mapConfigurationAlias},i=react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_AppToolbar__WEBPACK_IMPORTED_MODULE_24__.a,{renderer:this._getRenderer(),mapState:this.state.mapState,mapStyle:this.state.mapStyle,mapData:n,inspectModeEnabled:"inspect"===this.state.mapState,sources:this.state.sources,onStyleChanged:this.onStyleChanged,onStyleOpen:this.onStyleChanged,onSetMapState:this.setMapState,onToggleModal:this.toggleModal.bind(this),baseMap:this.state.azureMapsExtension.baseMap,onSetBaseMap:this.setBaseMap}),o=react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_LayerList__WEBPACK_IMPORTED_MODULE_22__.a,{onMoveLayer:this.onMoveLayer,onLayerDestroy:this.onLayerDestroy,onLayerCopy:this.onLayerCopy,onLayerVisibilityToggle:this.onLayerVisibilityToggle,onLayersChange:this.onLayersChange,onLayerSelect:this.onLayerSelect,selectedLayerIndex:this.state.selectedLayerIndex,layers:t,sources:this.state.sources,errors:this.state.errors}),a=r?react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_LayerEditor__WEBPACK_IMPORTED_MODULE_23__.a,{key:this.state.selectedLayerOriginalId,layer:r,layerIndex:this.state.selectedLayerIndex,isFirstLayer:this.state.selectedLayerIndex<1,isLastLayer:this.state.selectedLayerIndex===this.state.selectableLayers.length-1,sources:this.state.sources,vectorLayers:this.state.vectorLayers,spec:this.state.spec,onMoveLayer:this.onMoveLayer,onLayerChanged:this.onLayerChanged,onLayerDestroy:this.onLayerDestroy,onLayerCopy:this.onLayerCopy,onLayerVisibilityToggle:this.onLayerVisibilityToggle,onLayerIdChange:this.onLayerIdChange,errors:this.state.errors}):null,s=this.state.errors.length>0?react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_AppMessagePanel__WEBPACK_IMPORTED_MODULE_26__.a,{currentLayer:r,selectedLayerIndex:this.state.selectedLayerIndex,onLayerSelect:this.onLayerSelect,mapStyle:this.state.mapStyle,errors:this.state.errors}):null,l=react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_ModalDebug__WEBPACK_IMPORTED_MODULE_30__.a,{renderer:this._getRenderer(),mapboxGlDebugOptions:this.state.mapboxGlDebugOptions,openlayersDebugOptions:this.state.openlayersDebugOptions,onChangeMaboxGlDebug:this.onChangeMaboxGlDebug,onChangeOpenlayersDebug:this.onChangeOpenlayersDebug,isOpen:this.state.isOpen.debug,onOpenToggle:this.toggleModal.bind(this,"debug"),mapView:this.state.mapView}),react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_ModalShortcuts__WEBPACK_IMPORTED_MODULE_29__.a,{ref:function(t){return e.shortcutEl=t},isOpen:this.state.isOpen.shortcuts,onOpenToggle:this.toggleModal.bind(this,"shortcuts")}),react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_ModalExport__WEBPACK_IMPORTED_MODULE_27__.a,{mapStyle:this.state.mapStyle,isOpen:this.state.isOpen.export,onOpenToggle:this.toggleModal.bind(this,"export"),azureMapsExtension:this.state.azureMapsExtension,onSuccess:this.updateMapConfigId,mapConfigurationAlias:this.state.azureMapsExtension.mapConfigurationAlias,mapConfigurationDescription:this.state.azureMapsExtension.mapConfigurationDescription,styleDescription:this.state.azureMapsExtension.styleDescription}),react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_ModalOpen__WEBPACK_IMPORTED_MODULE_28__.a,{onStyleOpen:this.openStyle,isOpen:this.state.isOpen.open,onOpenToggle:this.toggleModal.bind(this,"open"),azureMapsExtension:this.state.azureMapsExtension}));return react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_AppLayout__WEBPACK_IMPORTED_MODULE_25__.a,{toolbar:i,layerList:o,layerEditor:a,map:this.mapRenderer(),bottom:s,modals:l})}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),App}(react__WEBPACK_IMPORTED_MODULE_12___default.a.Component),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(normalizeSourceURL,"normalizeSourceURL","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\App.jsx"),reactHotLoader.register(setFetchAccessToken,"setFetchAccessToken","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\App.jsx"),reactHotLoader.register(updateRootSpec,"updateRootSpec","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\App.jsx"),reactHotLoader.register(App,"App","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\App.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(e,t,r){e.exports=r(346)},function(e,t,r){(function(t){var r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/,i=/^\./,o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,s=/^\[object .+?Constructor\]$/,l="object"==typeof t&&t&&t.Object===Object&&t,_="object"==typeof self&&self&&self.Object===Object&&self,u=l||_||Function("return this")();var c,p=Array.prototype,d=Function.prototype,h=Object.prototype,f=u["__core-js_shared__"],m=(c=/[^.]+$/.exec(f&&f.keys&&f.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"",y=d.toString,g=h.hasOwnProperty,b=h.toString,v=RegExp("^"+y.call(g).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),E=u.Symbol,O=p.splice,M=R(u,"Map"),P=R(Object,"create"),x=E?E.prototype:void 0,w=x?x.toString:void 0;function C(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function D(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function T(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function k(e,t){for(var r=e.length;r--;)if(W(e[r][0],t))return r;return-1}function A(e,t){for(var i=0,o=(t=function(e,t){if(K(e))return!1;var i=typeof e;if("number"==i||"symbol"==i||"boolean"==i||null==e||z(e))return!0;return n.test(e)||!r.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:function(e){return K(e)?e:S(e)}(t)).length;null!=e&&i<o;)e=e[B(t[i++])];return i&&i==o?e:void 0}function I(e){return!(!j(e)||(t=e,m&&m in t))&&(function(e){var t=j(e)?b.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?v:s).test(function(e){if(null!=e){try{return y.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function L(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function R(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return I(r)?r:void 0}C.prototype.clear=function(){this.__data__=P?P(null):{}},C.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},C.prototype.get=function(e){var t=this.__data__;if(P){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return g.call(t,e)?t[e]:void 0},C.prototype.has=function(e){var t=this.__data__;return P?void 0!==t[e]:g.call(t,e)},C.prototype.set=function(e,t){return this.__data__[e]=P&&void 0===t?"__lodash_hash_undefined__":t,this},D.prototype.clear=function(){this.__data__=[]},D.prototype.delete=function(e){var t=this.__data__,r=k(t,e);return!(r<0)&&(r==t.length-1?t.pop():O.call(t,r,1),!0)},D.prototype.get=function(e){var t=this.__data__,r=k(t,e);return r<0?void 0:t[r][1]},D.prototype.has=function(e){return k(this.__data__,e)>-1},D.prototype.set=function(e,t){var r=this.__data__,n=k(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},T.prototype.clear=function(){this.__data__={hash:new C,map:new(M||D),string:new C}},T.prototype.delete=function(e){return L(this,e).delete(e)},T.prototype.get=function(e){return L(this,e).get(e)},T.prototype.has=function(e){return L(this,e).has(e)},T.prototype.set=function(e,t){return L(this,e).set(e,t),this};var S=U((function(e){e=function(e){return null==e?"":function(e){if("string"==typeof e)return e;if(z(e))return w?w.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(e);var t=[];return i.test(e)&&t.push(""),e.replace(o,(function(e,r,n,i){t.push(n?i.replace(a,"$1"):r||e)})),t}));function B(e){if("string"==typeof e||z(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function U(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a),a};return r.cache=new(U.Cache||T),r}function W(e,t){return e===t||e!=e&&t!=t}U.Cache=T;var K=Array.isArray;function j(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function z(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==b.call(e)}e.exports=function(e,t,r){var n=null==e?void 0:A(e,t);return void 0===n?r:n}}).call(this,r(50))},function(e,t,r){"use strict";function n(e,t,r){const n=t<0?e.length+t:t;if(n>=0&&n<e.length){const n=r<0?e.length+r:r,[i]=e.splice(t,1);e.splice(n,0,i)}}r.d(t,"a",(function(){return n}))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return MapMapboxGl}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),react_dom__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(79),react_dom__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_9__),mapbox_gl__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(81),mapbox_gl__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(mapbox_gl__WEBPACK_IMPORTED_MODULE_10__),mapbox_gl_inspect__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(260),mapbox_gl_inspect__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(mapbox_gl_inspect__WEBPACK_IMPORTED_MODULE_11__),_MapMapboxGlLayerPopup__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(148),_MapMapboxGlFeaturePropertyPopup__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(265),_config_tokens_json__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(98),_config_tokens_json__WEBPACK_IMPORTED_MODULE_14___namespace=__webpack_require__.t(98,1),mapbox_gl_inspect_lib_colors__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(123),mapbox_gl_inspect_lib_colors__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(mapbox_gl_inspect_lib_colors__WEBPACK_IMPORTED_MODULE_15__),color__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(125),color__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(color__WEBPACK_IMPORTED_MODULE_16__),_libs_zoomcontrol__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(266),_libs_highlight__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(267),mapbox_gl_dist_mapbox_gl_css__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(359),_mapboxgl_css__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(360),_libs_mapbox_rtl__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(361),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},IS_SUPPORTED=mapbox_gl__WEBPACK_IMPORTED_MODULE_10___default.a.supported();function _renderPopup(e,t){return react_dom__WEBPACK_IMPORTED_MODULE_9___default.a.render(e,t),t}function _buildInspectStyle(e,t,r){var n=Object(_libs_highlight__WEBPACK_IMPORTED_MODULE_18__.a)(r);n&&t.push(n);var i={};return Object.keys(e.sources).forEach((function(t){var r=e.sources[t];"raster"!==r.type&&"raster-dem"!==r.type&&(i[t]=r)})),_objectSpread(_objectSpread({},e),{},{sources:i,layers:[{id:"background",type:"background",paint:{"background-color":"#1c1f24"}}].concat(t)})}var MapMapboxGl=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(MapMapboxGl,_React$Component);var _super=_createSuper(MapMapboxGl);function MapMapboxGl(e){var t;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,MapMapboxGl),t=_super.call(this,e),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"onLayerSelectById",(function(e){var r=t.props.selectableLayers.findIndex((function(t){return t.id===e}));t.props.onLayerSelect(r)})),mapbox_gl__WEBPACK_IMPORTED_MODULE_10___default.a.accessToken=_config_tokens_json__WEBPACK_IMPORTED_MODULE_14__.mapbox,t.state={map:null,inspect:null},t.prevSelectableLayers=null,t}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(MapMapboxGl,[{key:"updateMapFromProps",value:function(){if(IS_SUPPORTED&&this.state.map){var e=this.props.mapStyle.metadata||{};if(mapbox_gl__WEBPACK_IMPORTED_MODULE_10___default.a.accessToken=e["maputnik:mapbox_access_token"]||_config_tokens_json__WEBPACK_IMPORTED_MODULE_14__.mapbox,this.state.map.setStyle(this.props.replaceAccessTokens(this.props.mapStyle),{diff:!0}),this.props.openStyleTransition){var t={};this.props.mapStyle.center&&(t.center=this.props.mapStyle.center),this.props.mapStyle.zoom&&(t.zoom=this.props.mapStyle.zoom),this.props.mapStyle.metadata&&this.props.mapStyle.metadata["azmaps:bbox"]&&(t=this.state.map.cameraForBounds(this.props.mapStyle.metadata["azmaps:bbox"])),(t.center||t.zoom)&&this.state.map.easeTo(t),this.props.afterOpenStyleTransition()}}}},{key:"componentDidUpdate",value:function(e){if(IS_SUPPORTED){var t=this.state.map;if(this.updateMapFromProps(),this.prevSelectableLayers!=this.props.selectableLayers&&(this.prevSelectableLayers=this.props.selectableLayers,this.state.inspect&&(this.state.inspect.options.queryParameters={layers:this.props.selectableLayers.map((function(e){return e.id}))})),this.state.inspect&&this.props.inspectModeEnabled!==this.state.inspect._showInspectMap&&(this.state.inspect._popupBlocked=!1,this.state.inspect.toggleInspector()),t){if(this.props.inspectModeEnabled)try{this.state.inspect.render()}catch(e){console.error("FIXME: Caught error",e)}t.showTileBoundaries=this.props.options.showTileBoundaries,t.showCollisionBoxes=this.props.options.showCollisionBoxes,t.showOverdrawInspector=this.props.options.showOverdrawInspector}}}},{key:"componentDidMount",value:function(){var e=this;if(IS_SUPPORTED){var t=_objectSpread(_objectSpread({},this.props.options),{},{container:this.container,style:this.props.mapStyle,hash:!0,maxZoom:24}),r=new mapbox_gl__WEBPACK_IMPORTED_MODULE_10___default.a.Map(t),n=function(){var t=r.getCenter(),n=r.getZoom();e.props.onChange({center:t,zoom:n}),e.setState({zoom:r.getZoom()})};n(),r.showTileBoundaries=t.showTileBoundaries,r.showCollisionBoxes=t.showCollisionBoxes,r.showOverdrawInspector=t.showOverdrawInspector;var i=new _libs_zoomcontrol__WEBPACK_IMPORTED_MODULE_17__.a;r.addControl(i,"top-right");var o=new mapbox_gl__WEBPACK_IMPORTED_MODULE_10___default.a.NavigationControl({visualizePitch:!0});r.addControl(o,"top-right");var a=document.createElement("div"),s=new mapbox_gl_inspect__WEBPACK_IMPORTED_MODULE_11___default.a({popup:new mapbox_gl__WEBPACK_IMPORTED_MODULE_10___default.a.Popup({closeOnClick:!1}),showMapPopup:!0,showMapPopupOnHover:!1,showInspectMapPopupOnHover:!0,showInspectButton:!1,blockHoverPopupOnClick:!0,assignLayerColor:function(e,t){return color__WEBPACK_IMPORTED_MODULE_16___default()(mapbox_gl_inspect_lib_colors__WEBPACK_IMPORTED_MODULE_15___default.a.brightColor(e,t)).desaturate(.5).string()},buildInspectStyle:function(t,r){return _buildInspectStyle(t,r,e.props.highlightedLayer)},renderPopup:function(t){return e.props.inspectModeEnabled?_renderPopup(react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_MapMapboxGlFeaturePropertyPopup__WEBPACK_IMPORTED_MODULE_13__.a,{features:t}),a):_renderPopup(react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_MapMapboxGlLayerPopup__WEBPACK_IMPORTED_MODULE_12__.a,{features:t,onLayerSelect:e.onLayerSelectById,zoom:e.state.zoom}),a)}});r.addControl(s),r.on("style.load",(function(){e.setState({map:r,inspect:s,zoom:r.getZoom()})})),r.on("sourcedata",(function(t){if(t.isSourceLoaded&&!e.props.isMinOrdinalSet){var n=null;r.queryRenderedFeatures().forEach((function(e){var t;"number"==typeof(null==e||null===(t=e.properties)||void 0===t?void 0:t.levelOrdinal)&&(null===n||n>e.properties.levelOrdinal)&&(n=e.properties.levelOrdinal)})),null!==n&&e.props.onSourceDataLoad({minOrdinal:n})}})),r.on("data",(function(t){"tile"===t.dataType&&e.props.onDataChange({map:e.state.map})})),r.on("error",(function(e){console.log("ERROR",e)})),r.on("dragend",n),r.on("zoomend",n)}}},{key:"render",value:function(){var e=this;return IS_SUPPORTED?react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-map__map",role:"region","aria-label":"Map view",ref:function(t){return e.container=t}}):react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-map maputnik-map--error"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-map__error-message"},"Error: Cannot load MapboxGL, WebGL is either unsupported or disabled"))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),MapMapboxGl}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(MapMapboxGl,"propTypes",{onDataChange:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func,onLayerSelect:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired,mapStyle:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object.isRequired,selectableLayers:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.array.isRequired,openStyleTransition:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.bool.isRequired,inspectModeEnabled:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.bool.isRequired,highlightedLayer:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object,options:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object,replaceAccessTokens:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired,onChange:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(MapMapboxGl,"defaultProps",{onMapLoaded:function(){},onDataChange:function(){},onLayerSelect:function(){},onChange:function(){},mapboxAccessToken:_config_tokens_json__WEBPACK_IMPORTED_MODULE_14__.mapbox,options:{}}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(IS_SUPPORTED,"IS_SUPPORTED","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\MapMapboxGl.jsx"),reactHotLoader.register(_renderPopup,"renderPopup","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\MapMapboxGl.jsx"),reactHotLoader.register(_buildInspectStyle,"buildInspectStyle","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\MapMapboxGl.jsx"),reactHotLoader.register(MapMapboxGl,"MapMapboxGl","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\MapMapboxGl.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(e,t,r){var n=r(351);e.exports=n},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return IconLine}));var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(33),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),react_icon_base__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(85),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},IconLine=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(IconLine,_React$Component);var _super=_createSuper(IconLine);function IconLine(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,IconLine),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(IconLine,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_icon_base__WEBPACK_IMPORTED_MODULE_7__.a,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({viewBox:"0 0 20 20"},this.props),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("path",{d:"M 12.34,1.29 C 12.5114,1.1076 12.7497,1.0029 13,1 13.5523,1 14,1.4477 14,2 14.0047,2.2478 13.907,2.4866 13.73,2.66 9.785626,6.5516986 6.6148407,9.7551593 2.65,13.72 2.4793,13.8963 2.2453,13.9971 2,14 1.4477,14 1,13.5523 1,13 0.9953,12.7522 1.093,12.5134 1.27,12.34 4.9761967,8.7018093 9.0356422,4.5930579 12.34,1.29 Z",transform:"translate(2,2)"}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),IconLine}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(IconLine,"IconLine","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\IconLine.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return IconSymbol}));var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(33),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),react_icon_base__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(85),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},IconSymbol=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(IconSymbol,_React$Component);var _super=_createSuper(IconSymbol);function IconSymbol(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,IconSymbol),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(IconSymbol,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_icon_base__WEBPACK_IMPORTED_MODULE_7__.a,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({viewBox:"0 0 20 20"},this.props),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("g",{transform:"matrix(1.2718518,0,0,1.2601269,16.559526,-7.4065264)"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("path",{d:"m -9.7959773,11.060163 c -0.3734787,-0.724437 -0.3580577,-1.2147051 -0.00547,-1.8767873 l 8.6034029,-0.019416 c 0.39670292,0.6865644 0.38365934,1.4750693 -0.011097,1.8864953 l -3.1359613,-0.0033 -0.013695,7.1305 c -0.4055357,0.397083 -1.3146432,0.397083 -1.7769191,-0.02274 l 0.030226,-7.104422 z"})))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),IconSymbol}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(IconSymbol,"IconSymbol","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\IconSymbol.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return IconCircle}));var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(33),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),react_icon_base__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(85),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},IconCircle=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(IconCircle,_React$Component);var _super=_createSuper(IconCircle);function IconCircle(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,IconCircle),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(IconCircle,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_icon_base__WEBPACK_IMPORTED_MODULE_7__.a,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({viewBox:"0 0 20 20"},this.props),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("path",{transform:"translate(2 2)",d:"M7.5,0C11.6422,0,15,3.3578,15,7.5S11.6422,15,7.5,15 S0,11.6422,0,7.5S3.3578,0,7.5,0z M7.5,1.6666c-3.2217,0-5.8333,2.6117-5.8333,5.8334S4.2783,13.3334,7.5,13.3334 s5.8333-2.6117,5.8333-5.8334S10.7217,1.6666,7.5,1.6666z"}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),IconCircle}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(IconCircle,"IconCircle","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\IconCircle.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return IconMissing}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),react_icons_md__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(29),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},IconMissing=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(IconMissing,_React$Component);var _super=_createSuper(IconMissing);function IconMissing(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,IconMissing),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(IconMissing,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_6__.n,this.props)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),IconMissing}(react__WEBPACK_IMPORTED_MODULE_5___default.a.Component),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(IconMissing,"IconMissing","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\IconMissing.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(46),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_6__),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),_Block__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(24),_FieldString__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(88),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};function displayValue(e){return null==e?e:e instanceof Date?e.toLocaleString():"object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_6___default()(e)||"number"==typeof e||"string"==typeof e?e.toString():e}function renderProperties(e){return Object.keys(e.properties).map((function(t){var r=e.properties[t];return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_Block__WEBPACK_IMPORTED_MODULE_9__.a,{key:t,label:t},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_FieldString__WEBPACK_IMPORTED_MODULE_10__.a,{value:displayValue(r),style:{backgroundColor:"transparent"}}))}))}function renderFeatureId(e){return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_Block__WEBPACK_IMPORTED_MODULE_9__.a,{key:"feature-id",label:"feature_id"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_FieldString__WEBPACK_IMPORTED_MODULE_10__.a,{value:displayValue(e.id),style:{backgroundColor:"transparent"}}))}function renderFeature(e,t){return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{key:"".concat(e.sourceLayer,"-").concat(t)},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-popup-layer-id"},e.layer.source,": ",e.layer["source-layer"],e.inspectModeCounter&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null," × ",e.inspectModeCounter)),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_Block__WEBPACK_IMPORTED_MODULE_9__.a,{key:"property-type",label:"$type"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_FieldString__WEBPACK_IMPORTED_MODULE_10__.a,{value:e.geometry.type,style:{backgroundColor:"transparent"}})),renderFeatureId(e),renderProperties(e))}function removeDuplicatedFeatures(e){var t=[];return e.forEach((function(e){var r=t.findIndex((function(t){return e.layer["source-layer"]===t.layer["source-layer"]&&JSON.stringify(e.properties)===JSON.stringify(t.properties)}));-1===r?t.push(e):t[r].hasOwnProperty("inspectModeCounter")?t[r].inspectModeCounter++:t[r].inspectModeCounter=2})),t}var FeaturePropertyPopup=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(FeaturePropertyPopup,_React$Component);var _super=_createSuper(FeaturePropertyPopup);function FeaturePropertyPopup(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,FeaturePropertyPopup),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(FeaturePropertyPopup,[{key:"render",value:function(){var e=removeDuplicatedFeatures(this.props.features);return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-feature-property-popup"},e.map(renderFeature))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),FeaturePropertyPopup}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component);_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(FeaturePropertyPopup,"propTypes",{features:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.array});var _default=FeaturePropertyPopup,reactHotLoader,leaveModule;__webpack_exports__.a=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(displayValue,"displayValue","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\MapMapboxGlFeaturePropertyPopup.jsx"),reactHotLoader.register(renderProperties,"renderProperties","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\MapMapboxGlFeaturePropertyPopup.jsx"),reactHotLoader.register(renderFeatureId,"renderFeatureId","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\MapMapboxGlFeaturePropertyPopup.jsx"),reactHotLoader.register(renderFeature,"renderFeature","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\MapMapboxGlFeaturePropertyPopup.jsx"),reactHotLoader.register(removeDuplicatedFeatures,"removeDuplicatedFeatures","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\MapMapboxGlFeaturePropertyPopup.jsx"),reactHotLoader.register(FeaturePropertyPopup,"FeaturePropertyPopup","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\MapMapboxGlFeaturePropertyPopup.jsx"),reactHotLoader.register(_default,"default","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\MapMapboxGlFeaturePropertyPopup.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return ZoomControl}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),enterModule;enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},ZoomControl=function(){function ZoomControl(){_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,ZoomControl)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(ZoomControl,[{key:"onAdd",value:function(e){return this._map=e,this._container=document.createElement("div"),this._container.className="mapboxgl-ctrl mapboxgl-ctrl-group mapboxgl-ctrl-zoom",this._container.innerHTML="\n      Zoom: <span></span>\n    ",this._textEl=this._container.querySelector("span"),this.addEventListeners(),this._container}},{key:"updateZoomLevel",value:function(){this._textEl.innerHTML=this._map.getZoom().toFixed(2)}},{key:"addEventListeners",value:function(){this._map.on("render",this.updateZoomLevel.bind(this)),this._map.on("zoomIn",this.updateZoomLevel.bind(this)),this._map.on("zoomOut",this.updateZoomLevel.bind(this))}},{key:"onRemove",value:function(){this._container.parentNode.removeChild(this._container),this._map=void 0}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ZoomControl}(),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(ZoomControl,"ZoomControl","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\zoomcontrol.js"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return u}));var n,i=r(124),o=r.n(i),a=r(123),s=r.n(a);(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var l,_;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function u(e){if(!e||"background"===e.type||"raster"===e.type)return null;function t(t){return"circle"===t.type?t.paint["circle-radius"]=3:"line"===t.type&&(t.paint["line-width"]=2),e.filter?t.filter=e.filter:delete t.filter,t.id=t.id+"_highlight",t}var r=e["source-layer"]||"",n=s.a.brightColor(r,1);return"fill"===e.type||"fill-extrusion"===e.type?t(o.a.polygonLayer(n,n,e.source,e["source-layer"])):"symbol"===e.type||"circle"===e.type?t(o.a.circleLayer(n,e.source,e["source-layer"])):"line"===e.type?t(o.a.lineLayer(n,e.source,e["source-layer"])):null}(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&l.register(u,"colorHighlightedLayer","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\highlight.js"),(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&_(e)}).call(this,r(14)(e))},function(e,t){},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return MapOpenLayers}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),lodash__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(92),lodash__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_8__),prop_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__),_libs_urlopen__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(105),_MapMapboxGlLayerPopup__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(148),ol_ol_css__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(367),ol_mapbox_style__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(319),ol__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(526),ol__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(169),ol__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(83),ol_proj__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(12),enterModule;function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};function renderCoords(e){return!e||e.length<2?null:react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",{className:"maputnik-coords"},e.map((function(e){return String(e).padStart(7," ")})).join(", "))}var MapOpenLayers=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(MapOpenLayers,_React$Component);var _super=_createSuper(MapOpenLayers);function MapOpenLayers(e){var t;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,MapOpenLayers),t=_super.call(this,e),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"closeOverlay",(function(e){e.target.blur(),t.overlay.setPosition(void 0)})),t.state={zoom:0,rotation:0,cursor:[],center:[]},t.updateStyle=Object(lodash__WEBPACK_IMPORTED_MODULE_8__.throttle)(t._updateStyle.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t)),200),t}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(MapOpenLayers,[{key:"_updateStyle",value:function(e){this.map&&(this.map.getLayers().clear(),Object(ol_mapbox_style__WEBPACK_IMPORTED_MODULE_13__.a)(this.map,e))}},{key:"componentDidUpdate",value:function(e){this.props.mapStyle!==e.mapStyle&&this.updateStyle(this.props.replaceAccessTokens(this.props.mapStyle))}},{key:"componentDidMount",value:function(){var e=this;this.overlay=new ol__WEBPACK_IMPORTED_MODULE_14__.a({element:this.popupContainer,autoPan:!0,autoPanAnimation:{duration:250}});var t=new ol__WEBPACK_IMPORTED_MODULE_15__.a({target:this.container,overlays:[this.overlay],view:new ol__WEBPACK_IMPORTED_MODULE_16__.a({zoom:1,center:[180,-90]})});t.on("pointermove",(function(t){var r=Object(ol_proj__WEBPACK_IMPORTED_MODULE_17__.n)(t.coordinate);e.setState({cursor:[r[0].toFixed(2),r[1].toFixed(2)]})}));var r=function(){var r=t.getView().getZoom(),n=Object(ol_proj__WEBPACK_IMPORTED_MODULE_17__.n)(t.getView().getCenter());e.props.onChange({zoom:r,center:{lng:n[0],lat:n[1]}})};r(),t.on("moveend",r),t.on("postrender",(function(r){var n=Object(ol_proj__WEBPACK_IMPORTED_MODULE_17__.n)(t.getView().getCenter());e.setState({center:[n[0].toFixed(2),n[1].toFixed(2)],rotation:t.getView().getRotation().toFixed(2),zoom:t.getView().getZoom().toFixed(2)})})),this.map=t,this.updateStyle(this.props.replaceAccessTokens(this.props.mapStyle))}},{key:"render",value:function(){var e=this;return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-ol-container"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{ref:function(t){return e.popupContainer=t},style:{background:"black"},className:"maputnik-popup"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{className:"mapboxgl-popup-close-button",onClick:this.closeOverlay,"aria-label":"Close popup"},"×"),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_MapMapboxGlLayerPopup__WEBPACK_IMPORTED_MODULE_11__.a,{features:this.state.selectedFeatures||[],onLayerSelect:this.props.onLayerSelect})),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-ol-zoom"},"Zoom: ",this.state.zoom),this.props.debugToolbox&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-ol-debug"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("label",null,"cursor: "),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null,renderCoords(this.state.cursor))),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("label",null,"center: "),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null,renderCoords(this.state.center))),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("label",null,"rotation: "),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null,this.state.rotation))),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-ol",ref:function(t){return e.container=t},role:"region","aria-label":"Map view",style:_objectSpread({},this.props.style)}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),MapOpenLayers}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(MapOpenLayers,"propTypes",{onDataChange:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func,mapStyle:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object.isRequired,accessToken:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string,style:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object,onLayerSelect:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func.isRequired,debugToolbox:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.bool.isRequired,replaceAccessTokens:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func.isRequired,onChange:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func.isRequired}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(MapOpenLayers,"defaultProps",{onMapLoaded:function(){},onDataChange:function(){},onLayerSelect:function(){}}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(renderCoords,"renderCoords","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\MapOpenLayers.jsx"),reactHotLoader.register(MapOpenLayers,"MapOpenLayers","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\MapOpenLayers.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(e,t){(function(){var t;e.exports={icon:"icons/google.svg",name:"google",title:"Google Fonts",link:"google.com/fonts",getNames:function(){return t},getLink:function(e){return"https://fonts.google.com/specimen/"+e.replace(/( )/g,"+")},normalizeName:function(e){return e}},t=["ABeeZee","Abel","Abril Fatface","Aclonica","Acme","Actor","Adamina","Advent Pro","Aguafina Script","Akronim","Aladin","Aldrich","Alef","Alegreya","Alegreya SC","Alegreya Sans","Alegreya Sans SC","Alex Brush","Alfa Slab One","Alice","Alike","Alike Angular","Allan","Allerta","Allerta Stencil","Allura","Almendra","Almendra Display","Almendra SC","Amarante","Amaranth","Amatic SC","Amethysta","Amiri","Amita","Anaheim","Andada","Andika","Angkor","Annie Use Your Telescope","Anonymous Pro","Antic","Antic Didone","Antic Slab","Anton","Arapey","Arbutus","Arbutus Slab","Architects Daughter","Archivo Black","Archivo Narrow","Arimo","Arizonia","Armata","Artifika","Arvo","Arya","Asap","Asar","Asset","Astloch","Asul","Atomic Age","Aubrey","Audiowide","Autour One","Average","Average Sans","Averia Gruesa Libre","Averia Libre","Averia Sans Libre","Averia Serif Libre","Bad Script","Balthazar","Bangers","Basic","Battambang","Baumans","Bayon","Belgrano","Belleza","BenchNine","Bentham","Berkshire Swash","Bevan","Bigelow Rules","Bigshot One","Bilbo","Bilbo Swash Caps","Biryani","Bitter","Black Ops One","Bokor","Bonbon","Boogaloo","Bowlby One","Bowlby One SC","Brawler","Bree Serif","Bubblegum Sans","Bubbler One","Buda","Buenard","Butcherman","Butterfly Kids","Cabin","Cabin Condensed","Cabin Sketch","Caesar Dressing","Cagliostro","Calligraffitti","Cambay","Cambo","Candal","Cantarell","Cantata One","Cantora One","Capriola","Cardo","Carme","Carrois Gothic","Carrois Gothic SC","Carter One","Catamaran","Caudex","Caveat","Caveat Brush","Cedarville Cursive","Ceviche One","Changa One","Chango","Chau Philomene One","Chela One","Chelsea Market","Chenla","Cherry Cream Soda","Cherry Swash","Chewy","Chicle","Chivo","Chonburi","Cinzel","Cinzel Decorative","Clicker Script","Coda","Coda Caption","Codystar","Combo","Comfortaa","Coming Soon","Concert One","Condiment","Content","Contrail One","Convergence","Cookie","Copse","Corben","Courgette","Cousine","Coustard","Covered By Your Grace","Crafty Girls","Creepster","Crete Round","Crimson Text","Croissant One","Crushed","Cuprum","Cutive","Cutive Mono","Damion","Dancing Script","Dangrek","Dawning of a New Day","Days One","Dekko","Delius","Delius Swash Caps","Delius Unicase","Della Respira","Denk One","Devonshire","Dhurjati","Didact Gothic","Diplomata","Diplomata SC","Domine","Donegal One","Doppio One","Dorsa","Dosis","Dr Sugiyama","Droid Sans","Droid Sans Mono","Droid Serif","Duru Sans","Dynalight","EB Garamond","Eagle Lake","Eater","Economica","Eczar","Ek Mukta","Electrolize","Elsie","Elsie Swash Caps","Emblema One","Emilys Candy","Engagement","Englebert","Enriqueta","Erica One","Esteban","Euphoria Script","Ewert","Exo","Exo 2","Expletus Sans","Fanwood Text","Fascinate","Fascinate Inline","Faster One","Fasthand","Fauna One","Federant","Federo","Felipa","Fenix","Finger Paint","Fira Mono","Fira Sans","Fjalla One","Fjord One","Flamenco","Flavors","Fondamento","Fontdiner Swanky","Forum","Francois One","Freckle Face","Fredericka the Great","Fredoka One","Freehand","Fresca","Frijole","Fruktur","Fugaz One","GFS Didot","GFS Neohellenic","Gabriela","Gafata","Galdeano","Galindo","Gentium Basic","Gentium Book Basic","Geo","Geostar","Geostar Fill","Germania One","Gidugu","Gilda Display","Give You Glory","Glass Antiqua","Glegoo","Gloria Hallelujah","Goblin One","Gochi Hand","Gorditas","Goudy Bookletter 1911","Graduate","Grand Hotel","Gravitas One","Great Vibes","Griffy","Gruppo","Gudea","Gurajada","Habibi","Halant","Hammersmith One","Hanalei","Hanalei Fill","Handlee","Hanuman","Happy Monkey","Headland One","Henny Penny","Herr Von Muellerhoff","Hind","Hind Siliguri","Hind Vadodara","Holtwood One SC","Homemade Apple","Homenaje","IM Fell DW Pica","IM Fell DW Pica SC","IM Fell Double Pica","IM Fell Double Pica SC","IM Fell English","IM Fell English SC","IM Fell French Canon","IM Fell French Canon SC","IM Fell Great Primer","IM Fell Great Primer SC","Iceberg","Iceland","Imprima","Inconsolata","Inder","Indie Flower","Inika","Inknut Antiqua","Irish Grover","Istok Web","Italiana","Italianno","Itim","Jacques Francois","Jacques Francois Shadow","Jaldi","Jim Nightshade","Jockey One","Jolly Lodger","Josefin Sans","Josefin Slab","Joti One","Judson","Julee","Julius Sans One","Junge","Jura","Just Another Hand","Just Me Again Down Here","Kadwa","Kalam","Kameron","Kantumruy","Karla","Karma","Kaushan Script","Kavoon","Kdam Thmor","Keania One","Kelly Slab","Kenia","Khand","Khmer","Khula","Kite One","Knewave","Kotta One","Koulen","Kranky","Kreon","Kristi","Krona One","Kurale","La Belle Aurore","Laila","Lakki Reddy","Lancelot","Lateef","Lato","League Script","Leckerli One","Ledger","Lekton","Lemon","Libre Baskerville","Life Savers","Lilita One","Lily Script One","Limelight","Linden Hill","Lobster","Lobster Two","Londrina Outline","Londrina Shadow","Londrina Sketch","Londrina Solid","Lora","Love Ya Like A Sister","Loved by the King","Lovers Quarrel","Luckiest Guy","Lusitana","Lustria","Macondo","Macondo Swash Caps","Magra","Maiden Orange","Mako","Mallanna","Mandali","Marcellus","Marcellus SC","Marck Script","Margarine","Marko One","Marmelad","Martel","Martel Sans","Marvel","Mate","Mate SC","Maven Pro","McLaren","Meddon","MedievalSharp","Medula One","Megrim","Meie Script","Merienda","Merienda One","Merriweather","Merriweather Sans","Metal","Metal Mania","Metamorphous","Metrophobic","Michroma","Milonga","Miltonian","Miltonian Tattoo","Miniver","Miss Fajardose","Modak","Modern Antiqua","Molengo","Molle","Monda","Monofett","Monoton","Monsieur La Doulaise","Montaga","Montez","Montserrat","Montserrat Alternates","Montserrat Subrayada","Moul","Moulpali","Mountains of Christmas","Mouse Memoirs","Mr Bedfort","Mr Dafoe","Mr De Haviland","Mrs Saint Delafield","Mrs Sheppards","Muli","Mystery Quest","NTR","Neucha","Neuton","New Rocker","News Cycle","Niconne","Nixie One","Nobile","Nokora","Norican","Nosifer","Nothing You Could Do","Noticia Text","Noto Sans","Noto Serif","Nova Cut","Nova Flat","Nova Mono","Nova Oval","Nova Round","Nova Script","Nova Slim","Nova Square","Numans","Nunito","Odor Mean Chey","Offside","Old Standard TT","Oldenburg","Oleo Script","Oleo Script Swash Caps","Open Sans","Open Sans Condensed","Oranienbaum","Orbitron","Oregano","Orienta","Original Surfer","Oswald","Over the Rainbow","Overlock","Overlock SC","Ovo","Oxygen","Oxygen Mono","PT Mono","PT Sans","PT Sans Caption","PT Sans Narrow","PT Serif","PT Serif Caption","Pacifico","Palanquin","Palanquin Dark","Paprika","Parisienne","Passero One","Passion One","Pathway Gothic One","Patrick Hand","Patrick Hand SC","Patua One","Paytone One","Peddana","Peralta","Permanent Marker","Petit Formal Script","Petrona","Philosopher","Piedra","Pinyon Script","Pirata One","Plaster","Play","Playball","Playfair Display","Playfair Display SC","Podkova","Poiret One","Poller One","Poly","Pompiere","Pontano Sans","Poppins","Port Lligat Sans","Port Lligat Slab","Pragati Narrow","Prata","Preahvihear","Press Start 2P","Princess Sofia","Prociono","Prosto One","Puritan","Purple Purse","Quando","Quantico","Quattrocento","Quattrocento Sans","Questrial","Quicksand","Quintessential","Qwigley","Racing Sans One","Radley","Rajdhani","Raleway","Raleway Dots","Ramabhadra","Ramaraja","Rambla","Rammetto One","Ranchers","Rancho","Ranga","Rationale","Ravi Prakash","Redressed","Reenie Beanie","Revalia","Rhodium Libre","Ribeye","Ribeye Marrow","Righteous","Risque","Roboto","Roboto Condensed","Roboto Mono","Roboto Slab","Rochester","Rock Salt","Rokkitt","Romanesco","Ropa Sans","Rosario","Rosarivo","Rouge Script","Rozha One","Rubik","Rubik Mono One","Rubik One","Ruda","Rufina","Ruge Boogie","Ruluko","Rum Raisin","Ruslan Display","Russo One","Ruthie","Rye","Sacramento","Sahitya","Sail","Salsa","Sanchez","Sancreek","Sansita One","Sarala","Sarina","Sarpanch","Satisfy","Scada","Scheherazade","Schoolbell","Seaweed Script","Sevillana","Seymour One","Shadows Into Light","Shadows Into Light Two","Shanti","Share","Share Tech","Share Tech Mono","Shojumaru","Short Stack","Siemreap","Sigmar One","Signika","Signika Negative","Simonetta","Sintony","Sirin Stencil","Six Caps","Skranji","Slabo 13px","Slabo 27px","Slackey","Smokum","Smythe","Sniglet","Snippet","Snowburst One","Sofadi One","Sofia","Sonsie One","Sorts Mill Goudy","Source Code Pro","Source Sans Pro","Source Serif Pro","Special Elite","Spicy Rice","Spinnaker","Spirax","Squada One","Sree Krushnadevaraya","Stalemate","Stalinist One","Stardos Stencil","Stint Ultra Condensed","Stint Ultra Expanded","Stoke","Strait","Sue Ellen Francisco","Sumana","Sunshiney","Supermercado One","Sura","Suranna","Suravaram","Suwannaphum","Swanky and Moo Moo","Syncopate","Tangerine","Taprom","Tauri","Teko","Telex","Tenali Ramakrishna","Tenor Sans","Text Me One","The Girl Next Door","Tienne","Tillana","Timmana","Tinos","Titan One","Titillium Web","Trade Winds","Trocchi","Trochut","Trykker","Tulpen One","Ubuntu","Ubuntu Condensed","Ubuntu Mono","Ultra","Uncial Antiqua","Underdog","Unica One","UnifrakturCook","UnifrakturMaguntia","Unkempt","Unlock","Unna","VT323","Vampiro One","Varela","Varela Round","Vast Shadow","Vesper Libre","Vibur","Vidaloka","Viga","Voces","Volkhov","Vollkorn","Voltaire","Waiting for the Sunrise","Wallpoet","Walter Turncoat","Warnes","Wellfleet","Wendy One","Wire One","Work Sans","Yanone Kaffeesatz","Yantramanav","Yellowtail","Yeseva One","Yesteryear","Zeyada"]}).call(this)},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return a}));var n,i=r(10),o=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});function a(e,t,r,n){var o=document.createElement("script"),a="olc_"+Object(i.c)(t);function s(){delete window[a],o.parentNode.removeChild(o)}o.async=!0,o.src=e+(-1==e.indexOf("?")?"?":"&")+(n||"callback")+"="+a;var l=setTimeout((function(){s(),r&&r()}),1e4);window[a]=function(e){clearTimeout(l),s(),t(e)},document.head.appendChild(o)}(function(e){function t(t){var r=this,n="Unexpected response status: "+t.status;return(r=e.call(this,n)||this).name="ResponseError",r.response=t,r}o(t,e)})(Error),function(e){function t(t){var r=e.call(this,"Failed to issue request")||this;return r.name="ClientError",r.client=t,r}o(t,e)}(Error)}).call(this,r(50))},function(e,t,r){"use strict";e.exports=i;var n=r(212);function i(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}i.Varint=0,i.Fixed64=1,i.Bytes=2,i.Fixed32=5;var o="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function a(e){return e.type===i.Bytes?e.readVarint()+e.pos:e.pos+1}function s(e,t,r){return r?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function l(e,t,r){var n=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));r.realloc(n);for(var i=r.pos-1;i>=e;i--)r.buf[i+n]=r.buf[i]}function _(e,t){for(var r=0;r<e.length;r++)t.writeVarint(e[r])}function u(e,t){for(var r=0;r<e.length;r++)t.writeSVarint(e[r])}function c(e,t){for(var r=0;r<e.length;r++)t.writeFloat(e[r])}function p(e,t){for(var r=0;r<e.length;r++)t.writeDouble(e[r])}function d(e,t){for(var r=0;r<e.length;r++)t.writeBoolean(e[r])}function h(e,t){for(var r=0;r<e.length;r++)t.writeFixed32(e[r])}function f(e,t){for(var r=0;r<e.length;r++)t.writeSFixed32(e[r])}function m(e,t){for(var r=0;r<e.length;r++)t.writeFixed64(e[r])}function y(e,t){for(var r=0;r<e.length;r++)t.writeSFixed64(e[r])}function g(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function b(e,t,r){e[r]=t,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24}function v(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}i.prototype={destroy:function(){this.buf=null},readFields:function(e,t,r){for(r=r||this.length;this.pos<r;){var n=this.readVarint(),i=n>>3,o=this.pos;this.type=7&n,e(i,t,this),this.pos===o&&this.skip(n)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=g(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=v(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=g(this.buf,this.pos)+4294967296*g(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=g(this.buf,this.pos)+4294967296*v(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=n.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=n.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,r,n=this.buf;return t=127&(r=n[this.pos++]),r<128?t:(t|=(127&(r=n[this.pos++]))<<7,r<128?t:(t|=(127&(r=n[this.pos++]))<<14,r<128?t:(t|=(127&(r=n[this.pos++]))<<21,r<128?t:function(e,t,r){var n,i,o=r.buf;if(i=o[r.pos++],n=(112&i)>>4,i<128)return s(e,n,t);if(i=o[r.pos++],n|=(127&i)<<3,i<128)return s(e,n,t);if(i=o[r.pos++],n|=(127&i)<<10,i<128)return s(e,n,t);if(i=o[r.pos++],n|=(127&i)<<17,i<128)return s(e,n,t);if(i=o[r.pos++],n|=(127&i)<<24,i<128)return s(e,n,t);if(i=o[r.pos++],n|=(1&i)<<31,i<128)return s(e,n,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(r=n[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&o?function(e,t,r){return o.decode(e.subarray(t,r))}(this.buf,t,e):function(e,t,r){var n="",i=t;for(;i<r;){var o,a,s,l=e[i],_=null,u=l>239?4:l>223?3:l>191?2:1;if(i+u>r)break;1===u?l<128&&(_=l):2===u?128==(192&(o=e[i+1]))&&(_=(31&l)<<6|63&o)<=127&&(_=null):3===u?(o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&((_=(15&l)<<12|(63&o)<<6|63&a)<=2047||_>=55296&&_<=57343)&&(_=null)):4===u&&(o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&((_=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||_>=1114112)&&(_=null)),null===_?(_=65533,u=1):_>65535&&(_-=65536,n+=String.fromCharCode(_>>>10&1023|55296),_=56320|1023&_),n+=String.fromCharCode(_),i+=u}return n}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==i.Bytes)return e.push(this.readVarint(t));var r=a(this);for(e=e||[];this.pos<r;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==i.Bytes)return e.push(this.readSVarint());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==i.Bytes)return e.push(this.readBoolean());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==i.Bytes)return e.push(this.readFloat());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==i.Bytes)return e.push(this.readDouble());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==i.Bytes)return e.push(this.readFixed32());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==i.Bytes)return e.push(this.readSFixed32());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==i.Bytes)return e.push(this.readFixed64());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==i.Bytes)return e.push(this.readSFixed64());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===i.Varint)for(;this.buf[this.pos++]>127;);else if(t===i.Bytes)this.pos=this.readVarint()+this.pos;else if(t===i.Fixed32)this.pos+=4;else{if(t!==i.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var r=new Uint8Array(t);r.set(this.buf),this.buf=r,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),b(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),b(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),b(this.buf,-1&e,this.pos),b(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),b(this.buf,-1&e,this.pos),b(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var r,n;e>=0?(r=e%4294967296|0,n=e/4294967296|0):(n=~(-e/4294967296),4294967295^(r=~(-e%4294967296))?r=r+1|0:(r=0,n=n+1|0));if(e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,r){r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos]=127&e}(r,0,t),function(e,t){var r=(7&e)<<4;if(t.buf[t.pos++]|=r|((e>>>=3)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;t.buf[t.pos++]=127&e}(n,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,r){for(var n,i,o=0;o<t.length;o++){if((n=t.charCodeAt(o))>55295&&n<57344){if(!i){n>56319||o+1===t.length?(e[r++]=239,e[r++]=191,e[r++]=189):i=n;continue}if(n<56320){e[r++]=239,e[r++]=191,e[r++]=189,i=n;continue}n=i-55296<<10|n-56320|65536,i=null}else i&&(e[r++]=239,e[r++]=191,e[r++]=189,i=null);n<128?e[r++]=n:(n<2048?e[r++]=n>>6|192:(n<65536?e[r++]=n>>12|224:(e[r++]=n>>18|240,e[r++]=n>>12&63|128),e[r++]=n>>6&63|128),e[r++]=63&n|128)}return r}(this.buf,e,this.pos);var r=this.pos-t;r>=128&&l(t,r,this),this.pos=t-1,this.writeVarint(r),this.pos+=r},writeFloat:function(e){this.realloc(4),n.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),n.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var r=0;r<t;r++)this.buf[this.pos++]=e[r]},writeRawMessage:function(e,t){this.pos++;var r=this.pos;e(t,this);var n=this.pos-r;n>=128&&l(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n},writeMessage:function(e,t,r){this.writeTag(e,i.Bytes),this.writeRawMessage(t,r)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,_,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,u,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,d,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,c,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,p,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,h,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,f,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,m,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,y,t)},writeBytesField:function(e,t){this.writeTag(e,i.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,i.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,i.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,i.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,i.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,i.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,i.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,i.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,i.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,i.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}}},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return LayerList}));var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(33),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(11),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__),react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__),prop_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__),classnames__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(51),classnames__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_10__),lodash__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(92),lodash__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_11__),_LayerListGroup__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(274),_LayerListItem__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(276),_ModalAdd__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(277),react_sortable_hoc__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(131),enterModule;function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},layerListPropTypes={layers:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.array.isRequired,selectedLayerIndex:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.number.isRequired,onLayersChange:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func.isRequired,onLayerSelect:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func,sources:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object.isRequired};function layerPrefix(e){return e.replace(" ","-").replace("_","-").split("-")[0]}function findClosestCommonPrefix(e,t){for(var r=layerPrefix(e[t].id),n=t,i=t;i>0;i--){if(layerPrefix(e[i-1].id)!==r)return n;n=i-1}return n}var UID=0,LayerListContainer=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(LayerListContainer,_React$Component);var _super=_createSuper(LayerListContainer);function LayerListContainer(e){var t;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,LayerListContainer),t=_super.call(this,e),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(t),"toggleLayers",(function(){var e=0,r=[];t.groupedLayers().forEach((function(n){var i=[layerPrefix(n[0].id),e].join("-");n.length>1&&(r[i]=t.state.areAllGroupsExpanded),n.forEach((function(t){e+=1}))})),t.setState({collapsedGroups:r,areAllGroupsExpanded:!t.state.areAllGroupsExpanded})})),t.selectedItemRef=react__WEBPACK_IMPORTED_MODULE_8___default.a.createRef(),t.scrollContainerRef=react__WEBPACK_IMPORTED_MODULE_8___default.a.createRef(),t.state={collapsedGroups:{},areAllGroupsExpanded:!1,keys:{add:UID++},isOpen:{add:!1}},t}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(LayerListContainer,[{key:"toggleModal",value:function(e){this.setState({keys:_objectSpread(_objectSpread({},this.state.keys),{},_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()({},e,UID++)),isOpen:_objectSpread(_objectSpread({},this.state.isOpen),{},_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()({},e,!this.state.isOpen[e]))})}},{key:"groupedLayers",value:function(){for(var e=[],t=new Map,r=0;r<this.props.layers.length;r++){var n=this.props.layers[r],i=this.props.layers[r-1];t.set(n.id,t.has(n.id)?t.get(n.id)+1:0);var o=_objectSpread(_objectSpread({},n),{},{key:"layers-list-".concat(n.id,"-").concat(t.get(n.id))});if(i&&layerPrefix(i.id)==layerPrefix(o.id))e[e.length-1].push(o);else e.push([o])}return e}},{key:"toggleLayerGroup",value:function(e,t){var r=[e,t].join("-"),n=_objectSpread({},this.state.collapsedGroups);r in this.state.collapsedGroups?n[r]=!this.state.collapsedGroups[r]:n[r]=!1,this.setState({collapsedGroups:n})}},{key:"isCollapsed",value:function(e,t){var r=this.state.collapsedGroups[[e,t].join("-")];return void 0===r||r}},{key:"componentDidUpdate",value:function(e){if(e.selectedLayerIndex!==this.props.selectedLayerIndex){var t=this.selectedItemRef.current;if(t&&t.node){var r=t.node,n={root:this.scrollContainerRef.current,threshold:1},i=new IntersectionObserver((function(e){i.unobserve(r),e.length>0&&e[0].intersectionRatio<1&&r.scrollIntoView()}),n);i.observe(r)}}}},{key:"render",value:function(){var e=this,t=[],r=0;return this.groupedLayers().forEach((function(n){var i=layerPrefix(n[0].id);if(n.length>1){var o=react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_LayerListGroup__WEBPACK_IMPORTED_MODULE_12__.a,{"data-wd-key":[i,r].join("-"),"aria-controls":n.map((function(e){return e.key})).join(" "),key:"group-".concat(i,"-").concat(r),title:i,isActive:!e.isCollapsed(i,r)||r===e.props.selectedLayerIndex,onActiveToggle:e.toggleLayerGroup.bind(e,i,r)});t.push(o)}n.forEach((function(o,a){var s=findClosestCommonPrefix(e.props.layers,r),l=e.props.errors.find((function(e){return e.parsed&&"layer"===e.parsed.type&&e.parsed.data.index==r})),_={};r===e.props.selectedLayerIndex&&(_.ref=e.selectedItemRef);var u=react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_LayerListItem__WEBPACK_IMPORTED_MODULE_13__.a,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({className:classnames__WEBPACK_IMPORTED_MODULE_10___default()({"maputnik-layer-list-item-collapsed":n.length>1&&e.isCollapsed(i,s)&&r!==e.props.selectedLayerIndex,"maputnik-layer-list-item-group-last":a==n.length-1&&n.length>1,"maputnik-layer-list-item--error":!!l}),index:r,key:o.key,id:o.key,layerId:o.id,layerIndex:r,layerType:o.type,visibility:(o.layout||{}).visibility,isSelected:r===e.props.selectedLayerIndex,onLayerSelect:e.props.onLayerSelect,onLayerDestroy:e.props.onLayerDestroy.bind(e),onLayerCopy:e.props.onLayerCopy.bind(e),onLayerVisibilityToggle:e.props.onLayerVisibilityToggle.bind(e)},_));t.push(u),r+=1}))})),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("section",{className:"maputnik-layer-list",role:"complementary","aria-label":"Layers list",ref:this.scrollContainerRef},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_ModalAdd__WEBPACK_IMPORTED_MODULE_14__.a,{key:this.state.keys.add,layers:this.props.layers,sources:this.props.sources,isOpen:this.state.isOpen.add,onOpenToggle:this.toggleModal.bind(this,"add"),onLayersChange:this.props.onLayersChange}),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("header",{className:"maputnik-layer-list-header"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("span",{className:"maputnik-layer-list-header-title"},"Layers"),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("span",{className:"maputnik-space"}),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:"maputnik-default-property"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:"maputnik-multibutton"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("button",{id:"skip-target-layer-list",onClick:this.toggleLayers,className:"maputnik-button"},!0===this.state.areAllGroupsExpanded?"Collapse":"Expand"))),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:"maputnik-default-property"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:"maputnik-multibutton"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("button",{onClick:this.toggleModal.bind(this,"add"),"data-wd-key":"layer-list:add-layer",className:"maputnik-button maputnik-button-selected"},"Add Layer")))),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{role:"navigation","aria-label":"Layers list"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("ul",{className:"maputnik-layer-list-container"},t)))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),LayerListContainer}(react__WEBPACK_IMPORTED_MODULE_8___default.a.Component);_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(LayerListContainer,"propTypes",_objectSpread({},layerListPropTypes)),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(LayerListContainer,"defaultProps",{onLayerSelect:function(){}});var LayerListContainerSortable=Object(react_sortable_hoc__WEBPACK_IMPORTED_MODULE_15__.a)((function(e){return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(LayerListContainer,e)})),LayerList=function(_React$Component2){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(LayerList,_React$Component2);var _super2=_createSuper(LayerList);function LayerList(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,LayerList),_super2.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(LayerList,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(LayerListContainerSortable,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},this.props,{helperClass:"sortableHelper",onSortEnd:this.props.onMoveLayer.bind(this),useDragHandle:!0,shouldCancelStart:function(){return!1}}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),LayerList}(react__WEBPACK_IMPORTED_MODULE_8___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(LayerList,"propTypes",_objectSpread({},layerListPropTypes)),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(layerListPropTypes,"layerListPropTypes","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\LayerList.jsx"),reactHotLoader.register(layerPrefix,"layerPrefix","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\LayerList.jsx"),reactHotLoader.register(findClosestCommonPrefix,"findClosestCommonPrefix","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\LayerList.jsx"),reactHotLoader.register(UID,"UID","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\LayerList.jsx"),reactHotLoader.register(LayerListContainer,"LayerListContainer","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\LayerList.jsx"),reactHotLoader.register(LayerListContainerSortable,"LayerListContainerSortable","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\LayerList.jsx"),reactHotLoader.register(LayerList,"LayerList","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\LayerList.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return LayerListGroup}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),_Collapser__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(275),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},LayerListGroup=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(LayerListGroup,_React$Component);var _super=_createSuper(LayerListGroup);function LayerListGroup(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,LayerListGroup),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(LayerListGroup,[{key:"render",value:function(){var e=this;return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("li",{className:"maputnik-layer-list-group"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"maputnik-layer-list-group-header","data-wd-key":"layer-list-group:"+this.props["data-wd-key"],onClick:function(t){return e.props.onActiveToggle(!e.props.isActive)}},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("button",{className:"maputnik-layer-list-group-title","aria-controls":this.props["aria-controls"],"aria-expanded":this.props.isActive},this.props.title),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("span",{className:"maputnik-space"}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_Collapser__WEBPACK_IMPORTED_MODULE_8__.a,{style:{height:14,width:14},isCollapsed:this.props.isActive})))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),LayerListGroup}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(LayerListGroup,"propTypes",{title:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string.isRequired,"data-wd-key":prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string,isActive:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool.isRequired,onActiveToggle:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,"aria-controls":prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(LayerListGroup,"LayerListGroup","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\LayerListGroup.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return Collapser}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),react_icons_md__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(29),enterModule;function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},Collapser=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(Collapser,_React$Component);var _super=_createSuper(Collapser);function Collapser(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,Collapser),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Collapser,[{key:"render",value:function(){var e=_objectSpread({width:20,height:20},this.props.style);return this.props.isCollapsed?react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_8__.b,{style:e}):react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_8__.a,{style:e})}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),Collapser}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(Collapser,"propTypes",{isCollapsed:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool.isRequired,style:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.object}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(Collapser,"Collapser","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\Collapser.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),classnames__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(51),classnames__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_8__),react_icons_md__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(29),_IconLayer__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(149),react_sortable_hoc__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(131),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},DraggableLabel=Object(react_sortable_hoc__WEBPACK_IMPORTED_MODULE_11__.c)((function(e){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"maputnik-layer-list-item-handle"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_IconLayer__WEBPACK_IMPORTED_MODULE_10__.a,{className:"layer-handle__icon",type:e.layerType}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("button",{className:"maputnik-layer-list-item-id",title:e.layerId},e.layerId))})),IconAction=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(IconAction,_React$Component);var _super=_createSuper(IconAction);function IconAction(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,IconAction),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(IconAction,[{key:"renderIcon",value:function(){switch(this.props.action){case"duplicate":return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_9__.e,null);case"show":return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_9__.r,null);case"hide":return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_9__.q,null);case"delete":return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_9__.f,null)}}},{key:"render",value:function(){var e=this.props,t=e.classBlockName,r=e.classBlockModifier,n="";return t&&(n="maputnik-layer-list-icon-action__".concat(t),r&&(n+=" maputnik-layer-list-icon-action__".concat(t,"--").concat(r))),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("button",{tabIndex:"-1",title:this.props.action,className:"maputnik-layer-list-icon-action ".concat(n),"data-wd-key":this.props.wdKey,onClick:this.props.onClick,"aria-hidden":"true"},this.renderIcon())}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),IconAction}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component);_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(IconAction,"propTypes",{action:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string.isRequired,onClick:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,wdKey:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string,classBlockName:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string,classBlockModifier:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string});var LayerListItem=function(_React$Component2){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(LayerListItem,_React$Component2);var _super2=_createSuper(LayerListItem);function LayerListItem(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,LayerListItem),_super2.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(LayerListItem,[{key:"getChildContext",value:function(){return{reactIconBase:{size:14}}}},{key:"render",value:function(){var e=this,t="none"===this.props.visibility?"show":"hide";return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("li",{id:this.props.id,key:this.props.layerId,onClick:function(t){return e.props.onLayerSelect(e.props.layerIndex)},"data-wd-key":"layer-list-item:"+this.props.layerId,className:classnames__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()({"maputnik-layer-list-item":!0,"maputnik-layer-list-item-selected":this.props.isSelected},this.props.className,!0))},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(DraggableLabel,this.props),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("span",{style:{flexGrow:1}}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(IconAction,{wdKey:"layer-list-item:"+this.props.layerId+":delete",action:"delete",classBlockName:"delete",onClick:function(t){return e.props.onLayerDestroy(e.props.layerIndex)}}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(IconAction,{wdKey:"layer-list-item:"+this.props.layerId+":copy",action:"duplicate",classBlockName:"duplicate",onClick:function(t){return e.props.onLayerCopy(e.props.layerIndex)}}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(IconAction,{wdKey:"layer-list-item:"+this.props.layerId+":toggle-visibility",action:t,classBlockName:"visibility",classBlockModifier:t,onClick:function(t){return e.props.onLayerVisibilityToggle(e.props.layerIndex)}}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),LayerListItem}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component);_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(LayerListItem,"propTypes",{layerIndex:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.number.isRequired,layerId:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string.isRequired,layerType:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string.isRequired,isSelected:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool,visibility:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string,className:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string,onLayerSelect:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,onLayerCopy:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func,onLayerDestroy:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func,onLayerVisibilityToggle:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(LayerListItem,"defaultProps",{isSelected:!1,visibility:"visible",onLayerCopy:function(){},onLayerDestroy:function(){},onLayerVisibilityToggle:function(){}}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(LayerListItem,"childContextTypes",{reactIconBase:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.object});var LayerListItemSortable=Object(react_sortable_hoc__WEBPACK_IMPORTED_MODULE_11__.b)((function(e){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(LayerListItem,e)})),_default=LayerListItemSortable,reactHotLoader,leaveModule;__webpack_exports__.a=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(DraggableLabel,"DraggableLabel","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\LayerListItem.jsx"),reactHotLoader.register(IconAction,"IconAction","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\LayerListItem.jsx"),reactHotLoader.register(LayerListItem,"LayerListItem","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\LayerListItem.jsx"),reactHotLoader.register(LayerListItemSortable,"LayerListItemSortable","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\LayerListItem.jsx"),reactHotLoader.register(_default,"default","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\LayerListItem.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return ModalAdd}));var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(31),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(11),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__),react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__),prop_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__),_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(22),_InputButton__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(28),_Modal__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(55),_FieldType__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(156),_FieldId__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(157),_FieldSource__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(158),_FieldSourceLayer__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(159),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},ModalAdd=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(ModalAdd,_React$Component);var _super=_createSuper(ModalAdd);function ModalAdd(e){var t,r;(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,ModalAdd),t=_super.call(this,e),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(t),"addLayer",(function(){var e=t.props.layers.slice(0),r={id:t.state.id,type:t.state.type};"background"!==t.state.type&&(r.source=t.state.source,"raster"!==t.state.type&&t.state["source-layer"]&&(r["source-layer"]=t.state["source-layer"])),e.push(r),t.props.onLayersChange(e),t.props.onOpenToggle(!1)})),t.state={type:"fill",id:""},Object.keys(e.sources).length>0)&&(t.state.source=Object.keys(e.sources)[0],t.state["source-layer"]=null===(r=e.sources[t.state.source].layers)||void 0===r?void 0:r.at(0));return t}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(ModalAdd,[{key:"componentDidUpdate",value:function(e,t){var r,n=t.type,i=this.state.type,o=this.getSources(n),a=this.getSources(i);this.state.source?n!==i&&""!==t.source&&o.indexOf(t.source)>-1&&a.indexOf(this.state.source)<0&&this.setState({source:""}):Object.keys(this.props.sources).length>0&&this.setState({source:Object.keys(this.props.sources)[0],"source-layer":null===(r=this.props.sources[Object.keys(this.props.sources)[0]].layers)||void 0===r?void 0:r.at(0)})}},{key:"getLayersForSource",value:function(e){return(this.props.sources[e]||{}).layers||[]}},{key:"getSources",value:function(e){for(var t=[],r={vector:["fill","line","symbol","circle","fill-extrusion","heatmap"],raster:["raster"],geojson:["fill","line","symbol","circle","fill-extrusion","heatmap"]},n=0,i=Object.entries(this.props.sources);n<i.length;n++){var o=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(i[n],2),a=o[0],s=o[1];r[s.type]&&r[s.type].indexOf(e)>-1&&t.push(a)}return t}},{key:"render",value:function(){var e=this,t=this.getSources(this.state.type),r=this.getLayersForSource(this.state.source);return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_Modal__WEBPACK_IMPORTED_MODULE_12__.a,{isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Add Layer","data-wd-key":"modal:add-layer",className:"maputnik-add-modal"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:"maputnik-add-layer"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_FieldId__WEBPACK_IMPORTED_MODULE_14__.a,{label:"ID",fieldSpec:_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_10__.h.layer.id,value:this.state.id,wdKey:"add-layer.layer-id",onChange:function(t){e.setState({id:t})}}),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_FieldType__WEBPACK_IMPORTED_MODULE_13__.a,{value:this.state.type,wdKey:"add-layer.layer-type",onChange:function(t){return e.setState({type:t})}}),"background"!==this.state.type&&t.length>1&&react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_FieldSource__WEBPACK_IMPORTED_MODULE_15__.a,{sourceIds:t,wdKey:"add-layer.layer-source-block",value:this.state.source,onChange:function(t){return e.setState({source:t})}}),["background","raster","hillshade","heatmap"].indexOf(this.state.type)<0&&react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_FieldSourceLayer__WEBPACK_IMPORTED_MODULE_16__.a,{isFixed:!0,sourceLayerIds:r,value:this.state["source-layer"],onChange:function(t){return e.setState({"source-layer":t})}}),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_InputButton__WEBPACK_IMPORTED_MODULE_11__.a,{className:"maputnik-add-layer-button",onClick:this.addLayer,"data-wd-key":"add-layer"},"Add Layer")))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ModalAdd}(react__WEBPACK_IMPORTED_MODULE_8___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(ModalAdd,"propTypes",{layers:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.array.isRequired,onLayersChange:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func.isRequired,isOpen:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.bool.isRequired,onOpenToggle:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func.isRequired,sources:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object.isRequired}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(ModalAdd,"ModalAdd","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\ModalAdd.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=_(e);if(t){var i=_(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}function s(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=r(1),p=r(369),d=r(371),h=r(372),f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(_,e);var t,r,n,s=a(_);function _(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_),u(l(t=s.call(this,e)),"getApplicationNode",(function(){return t.props.getApplicationNode?t.props.getApplicationNode():t.props.applicationNode})),u(l(t),"checkUnderlayClick",(function(e){t.dialogNode&&t.dialogNode.contains(e.target)||e.pageX>e.target.ownerDocument.documentElement.offsetWidth||e.pageY>e.target.ownerDocument.documentElement.offsetHeight||t.exit(e)})),u(l(t),"checkDocumentKeyDown",(function(e){!t.props.escapeExits||"Escape"!==e.key&&"Esc"!==e.key&&27!==e.keyCode||t.exit(e)})),u(l(t),"exit",(function(e){t.props.onExit&&t.props.onExit(e)})),!e.titleText&&!e.titleId)throw new Error("react-aria-modal instances should have a `titleText` or `titleId`");return t}return t=_,(r=[{key:"componentDidMount",value:function(){this.props.onEnter&&this.props.onEnter();var e=this.getApplicationNode();setTimeout((function(){e&&e.setAttribute("aria-hidden","true")}),0),this.props.escapeExits&&this.addKeyDownListener(),this.props.scrollDisabled&&h.on()}},{key:"componentDidUpdate",value:function(e){e.scrollDisabled&&!this.props.scrollDisabled?h.off():!e.scrollDisabled&&this.props.scrollDisabled&&h.on(),this.props.escapeExits&&!e.escapeExits?this.addKeyDownListener():!this.props.escapeExits&&e.escapeExits&&this.removeKeyDownListener()}},{key:"componentWillUnmount",value:function(){this.props.scrollDisabled&&h.off();var e=this.getApplicationNode();e&&e.setAttribute("aria-hidden","false"),this.removeKeyDownListener()}},{key:"addKeyDownListener",value:function(){var e=this;setTimeout((function(){document.addEventListener("keydown",e.checkDocumentKeyDown)}))}},{key:"removeKeyDownListener",value:function(){var e=this;setTimeout((function(){document.removeEventListener("keydown",e.checkDocumentKeyDown)}))}},{key:"render",value:function(){var e=this.props,t={};if(e.includeDefaultStyles&&(t={position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1050,overflowX:"hidden",overflowY:"auto",WebkitOverflowScrolling:"touch",textAlign:"center"},e.underlayColor&&(t.background=e.underlayColor),e.underlayClickExits&&(t.cursor="pointer")),e.underlayStyle)for(var r in e.underlayStyle)e.underlayStyle.hasOwnProperty(r)&&(t[r]=e.underlayStyle[r]);var n={className:e.underlayClass,style:t};for(var i in e.underlayClickExits&&(n.onMouseDown=this.checkUnderlayClick),this.props.underlayProps)n[i]=this.props.underlayProps[i];var o={};e.includeDefaultStyles&&(o={display:"inline-block",height:"100%",verticalAlign:"middle"});var a={key:"a",style:o},s={};if(e.includeDefaultStyles&&(s={display:"inline-block",textAlign:"left",top:0,maxWidth:"100%",cursor:"auto",outline:e.focusDialog?0:null},e.verticallyCenter&&(s.verticalAlign="middle",s.top=0)),e.dialogStyle)for(var l in e.dialogStyle)e.dialogStyle.hasOwnProperty(l)&&(s[l]=e.dialogStyle[l]);var _={key:"b",ref:function(e){this.dialogNode=e}.bind(this),role:e.alert?"alertdialog":"dialog",id:e.dialogId,className:e.dialogClass,style:s};for(var u in e.titleId?_["aria-labelledby"]=e.titleId:e.titleText&&(_["aria-label"]=e.titleText),e.focusDialog&&(_.tabIndex="-1"),e)/^(data-|aria-)/.test(u)&&(_[u]=e[u]);var d=[c.createElement("div",_,e.children)];e.verticallyCenter&&d.unshift(c.createElement("div",a));var h=e.focusTrapOptions||{};return(e.focusDialog||e.initialFocus)&&(h.initialFocus=e.focusDialog?"#".concat(this.props.dialogId):e.initialFocus),h.escapeDeactivates=e.escapeExits,c.createElement(p,{focusTrapOptions:h,paused:e.focusTrapPaused},c.createElement("div",n,d))}}])&&i(t.prototype,r),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),_}(c.Component);u(f,"defaultProps",{underlayProps:{},dialogId:"react-aria-modal-dialog",underlayClickExits:!0,escapeExits:!0,underlayColor:"rgba(0,0,0,0.5)",includeDefaultStyles:!0,focusTrapPaused:!1,scrollDisabled:!0});var m=d(f);m.renderTo=function(e){return d(f,{renderTo:e})},e.exports=m},function(e,t,r){"use strict";(function(t){var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=r(1),a=r(2),s=r(79).findDOMNode,l=r(373),_=["blur","checkValidity","click","focus","select","setCustomValidity","setSelectionRange","setRangeText"];var u=function(e){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.state={isOpen:!1,highlightedIndex:null},t._debugStates=[],t.ensureHighlightedIndex=t.ensureHighlightedIndex.bind(t),t.exposeAPI=t.exposeAPI.bind(t),t.handleInputFocus=t.handleInputFocus.bind(t),t.handleInputBlur=t.handleInputBlur.bind(t),t.handleChange=t.handleChange.bind(t),t.handleKeyDown=t.handleKeyDown.bind(t),t.handleInputClick=t.handleInputClick.bind(t),t.maybeAutoCompleteText=t.maybeAutoCompleteText.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,e),i(r,[{key:"componentWillMount",value:function(){this.refs={},this._ignoreBlur=!1,this._ignoreFocus=!1,this._scrollOffset=null,this._scrollTimer=null}},{key:"componentWillUnmount",value:function(){clearTimeout(this._scrollTimer),this._scrollTimer=null}},{key:"componentWillReceiveProps",value:function(e){null!==this.state.highlightedIndex&&this.setState(this.ensureHighlightedIndex),!e.autoHighlight||this.props.value===e.value&&null!==this.state.highlightedIndex||this.setState(this.maybeAutoCompleteText)}},{key:"componentDidMount",value:function(){this.isOpen()&&this.setMenuPositions()}},{key:"componentDidUpdate",value:function(e,t){(this.state.isOpen&&!t.isOpen||"open"in this.props&&this.props.open&&!e.open)&&this.setMenuPositions(),this.maybeScrollItemIntoView(),t.isOpen!==this.state.isOpen&&this.props.onMenuVisibilityChange(this.state.isOpen)}},{key:"exposeAPI",value:function(e){var t=this;this.refs.input=e,_.forEach((function(r){return t[r]=e&&e[r]&&e[r].bind(e)}))}},{key:"maybeScrollItemIntoView",value:function(){if(this.isOpen()&&null!==this.state.highlightedIndex){var e=this.refs["item-"+this.state.highlightedIndex],t=this.refs.menu;l(s(e),s(t),{onlyScrollIfNeeded:!0})}}},{key:"handleKeyDown",value:function(e){r.keyDownHandlers[e.key]?r.keyDownHandlers[e.key].call(this,e):this.isOpen()||this.setState({isOpen:!0})}},{key:"handleChange",value:function(e){this.props.onChange(e,e.target.value)}},{key:"getFilteredItems",value:function(e){var t=e.items;return e.shouldItemRender&&(t=t.filter((function(t){return e.shouldItemRender(t,e.value)}))),e.sortItems&&t.sort((function(t,r){return e.sortItems(t,r,e.value)})),t}},{key:"maybeAutoCompleteText",value:function(e,t){for(var r=e.highlightedIndex,n=t.value,i=t.getItemValue,o=null===r?0:r,a=this.getFilteredItems(t),s=0;s<a.length&&!t.isItemSelectable(a[o]);s++)o=(o+1)%a.length;var l=a[o]&&t.isItemSelectable(a[o])?a[o]:null;if(""!==n&&l&&0===i(l).toLowerCase().indexOf(n.toLowerCase()))return{highlightedIndex:o};return{highlightedIndex:null}}},{key:"ensureHighlightedIndex",value:function(e,t){if(e.highlightedIndex>=this.getFilteredItems(t).length)return{highlightedIndex:null}}},{key:"setMenuPositions",value:function(){var e=this.refs.input,r=e.getBoundingClientRect(),n=t.window.getComputedStyle(e),i=parseInt(n.marginBottom,10)||0,o=parseInt(n.marginLeft,10)||0,a=parseInt(n.marginRight,10)||0;this.setState({menuTop:r.bottom+i,menuLeft:r.left+o,menuWidth:r.width+o+a})}},{key:"highlightItemFromMouse",value:function(e){this.setState({highlightedIndex:e})}},{key:"selectItemFromMouse",value:function(e){var t=this,r=this.props.getItemValue(e);this.setIgnoreBlur(!1),this.setState({isOpen:!1,highlightedIndex:null},(function(){t.props.onSelect(r,e)}))}},{key:"setIgnoreBlur",value:function(e){this._ignoreBlur=e}},{key:"renderMenu",value:function(){var e=this,t=this.getFilteredItems(this.props).map((function(t,r){var n=e.props.renderItem(t,e.state.highlightedIndex===r,{cursor:"default"});return o.cloneElement(n,{onMouseEnter:e.props.isItemSelectable(t)?function(){return e.highlightItemFromMouse(r)}:null,onClick:e.props.isItemSelectable(t)?function(){return e.selectItemFromMouse(t)}:null,ref:function(t){return e.refs["item-"+r]=t}})})),r={left:this.state.menuLeft,top:this.state.menuTop,minWidth:this.state.menuWidth},n=this.props.renderMenu(t,this.props.value,r);return o.cloneElement(n,{ref:function(t){return e.refs.menu=t},onTouchStart:function(){return e.setIgnoreBlur(!0)},onMouseEnter:function(){return e.setIgnoreBlur(!0)},onMouseLeave:function(){return e.setIgnoreBlur(!1)}})}},{key:"handleInputBlur",value:function(e){var t=this;if(this._ignoreBlur)return this._ignoreFocus=!0,this._scrollOffset={x:void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop},void this.refs.input.focus();var r=void 0,n=this.state.highlightedIndex;if(this.props.selectOnBlur&&null!==n){var i=this.getFilteredItems(this.props)[n],o=this.props.getItemValue(i);r=function(){return t.props.onSelect(o,i)}}this.setState({isOpen:!1,highlightedIndex:null},r);var a=this.props.inputProps.onBlur;a&&a(e)}},{key:"handleInputFocus",value:function(e){var t=this;if(this._ignoreFocus){this._ignoreFocus=!1;var r=this._scrollOffset,n=r.x,i=r.y;return this._scrollOffset=null,window.scrollTo(n,i),clearTimeout(this._scrollTimer),void(this._scrollTimer=setTimeout((function(){t._scrollTimer=null,window.scrollTo(n,i)}),0))}this.setState({isOpen:!0});var o=this.props.inputProps.onFocus;o&&o(e)}},{key:"isInputFocused",value:function(){var e=this.refs.input;return e.ownerDocument&&e===e.ownerDocument.activeElement}},{key:"handleInputClick",value:function(){this.isInputFocused()&&!this.isOpen()&&this.setState({isOpen:!0})}},{key:"composeEventHandlers",value:function(e,t){return t?function(r){e(r),t(r)}:e}},{key:"isOpen",value:function(){return"open"in this.props?this.props.open:this.state.isOpen}},{key:"render",value:function(){this.props.debug&&this._debugStates.push({id:this._debugStates.length,state:this.state});var e=this.props.inputProps,t=this.isOpen();return o.createElement("div",n({style:n({},this.props.wrapperStyle)},this.props.wrapperProps),this.props.renderInput(n({},e,{role:"combobox","aria-autocomplete":"list","aria-expanded":t,autoComplete:"off",ref:this.exposeAPI,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onChange:this.handleChange,onKeyDown:this.composeEventHandlers(this.handleKeyDown,e.onKeyDown),onClick:this.composeEventHandlers(this.handleInputClick,e.onClick),value:this.props.value})),t&&this.renderMenu(),this.props.debug&&o.createElement("pre",{style:{marginLeft:300}},JSON.stringify(this._debugStates.slice(Math.max(0,this._debugStates.length-5),this._debugStates.length),null,2)))}}]),r}(o.Component);u.propTypes={items:a.array.isRequired,value:a.any,onChange:a.func,onSelect:a.func,shouldItemRender:a.func,isItemSelectable:a.func,sortItems:a.func,getItemValue:a.func.isRequired,renderItem:a.func.isRequired,renderMenu:a.func,menuStyle:a.object,renderInput:a.func,inputProps:a.object,wrapperProps:a.object,wrapperStyle:a.object,autoHighlight:a.bool,selectOnBlur:a.bool,onMenuVisibilityChange:a.func,open:a.bool,debug:a.bool},u.defaultProps={value:"",wrapperProps:{},wrapperStyle:{display:"inline-block"},inputProps:{},renderInput:function(e){return o.createElement("input",e)},onChange:function(){},onSelect:function(){},isItemSelectable:function(){return!0},renderMenu:function(e,t,r){return o.createElement("div",{style:n({},r,this.menuStyle),children:e})},menuStyle:{borderRadius:"3px",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",background:"rgba(255, 255, 255, 0.9)",padding:"2px 0",fontSize:"90%",position:"fixed",overflow:"auto",maxHeight:"50%"},autoHighlight:!0,selectOnBlur:!1,onMenuVisibilityChange:function(){}},u.keyDownHandlers={ArrowDown:function(e){e.preventDefault();var t=this.getFilteredItems(this.props);if(t.length){for(var r=this.state.highlightedIndex,n=null===r?-1:r,i=0;i<t.length;i++){var o=(n+i+1)%t.length;if(this.props.isItemSelectable(t[o])){n=o;break}}n>-1&&n!==r&&this.setState({highlightedIndex:n,isOpen:!0})}},ArrowUp:function(e){e.preventDefault();var t=this.getFilteredItems(this.props);if(t.length){for(var r=this.state.highlightedIndex,n=null===r?t.length:r,i=0;i<t.length;i++){var o=(n-(1+i)+t.length)%t.length;if(this.props.isItemSelectable(t[o])){n=o;break}}n!==t.length&&this.setState({highlightedIndex:n,isOpen:!0})}},Enter:function(e){var t=this;if(13===e.keyCode&&(this.setIgnoreBlur(!1),this.isOpen()))if(null==this.state.highlightedIndex)this.setState({isOpen:!1},(function(){t.refs.input.select()}));else{e.preventDefault();var r=this.getFilteredItems(this.props)[this.state.highlightedIndex],n=this.props.getItemValue(r);this.setState({isOpen:!1,highlightedIndex:null},(function(){t.refs.input.setSelectionRange(n.length,n.length),t.props.onSelect(n,r)}))}},Escape:function(){this.setIgnoreBlur(!1),this.setState({highlightedIndex:null,isOpen:!1})},Tab:function(){this.setIgnoreBlur(!1)}},e.exports=u}).call(this,r(50))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return LayerEditor}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),react_aria_menubutton__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(133),react_aria_menubutton__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react_aria_menubutton__WEBPACK_IMPORTED_MODULE_8__),_FieldJson__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(160),_FilterEditor__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(282),_PropertyGroup__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(285),_LayerEditorGroup__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(298),_FieldType__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(156),_FieldId__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(157),_FieldMinZoom__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(299),_FieldMaxZoom__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(300),_FieldComment__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(301),_FieldSource__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(158),_FieldSourceLayer__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(159),react_accessible_accordion__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(107),react_icons_md__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(29),_libs_layer__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(203),_config_layout_json__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(168),_config_layout_json__WEBPACK_IMPORTED_MODULE_23___namespace=__webpack_require__.t(168,1),_util_format__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(65),enterModule;function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};function getLayoutForType(e){return _config_layout_json__WEBPACK_IMPORTED_MODULE_23__[e]?_config_layout_json__WEBPACK_IMPORTED_MODULE_23__[e]:_config_layout_json__WEBPACK_IMPORTED_MODULE_23__.invalid}function layoutGroups(e){return[{title:"Layer",type:"layer"},{title:"Filter",type:"filter"}].concat(getLayoutForType(e).groups).concat([{title:"JSON Editor",type:"jsoneditor"}])}var LayerEditor=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(LayerEditor,_React$Component);var _super=_createSuper(LayerEditor);function LayerEditor(e){var t;_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,LayerEditor),t=_super.call(this,e);var r={};return layoutGroups(t.props.layer.type).forEach((function(e){r[e.title]=!0})),t.state={editorGroups:r},t}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(LayerEditor,[{key:"getChildContext",value:function(){return{reactIconBase:{size:14,color:"#8e8e8e"}}}},{key:"changeProperty",value:function(e,t,r){this.props.onLayerChanged(this.props.layerIndex,Object(_libs_layer__WEBPACK_IMPORTED_MODULE_22__.a)(this.props.layer,e,t,r))}},{key:"onGroupToggle",value:function(e,t){var r=_objectSpread(_objectSpread({},this.state.editorGroups),{},_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()({},e,t));this.setState({editorGroups:r})}},{key:"renderGroupType",value:function(e,t){var r=this,n="";this.props.layer.metadata&&(n=this.props.layer.metadata["maputnik:comment"]);var i,o=this.props,a=o.errors,s=o.layerIndex,l={};switch(a.forEach((function(e){e.parsed&&"layer"===e.parsed.type&&e.parsed.data.index==s&&(l[e.parsed.data.key]={message:e.parsed.data.message})})),this.props.sources.hasOwnProperty(this.props.layer.source)&&(i=this.props.sources[this.props.layer.source].layers),e){case"layer":return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_FieldId__WEBPACK_IMPORTED_MODULE_14__.a,{value:this.props.layer.id,wdKey:"layer-editor.layer-id",error:l.id,onChange:function(e){return r.props.onLayerIdChange(r.props.layerIndex,r.props.layer.id,e)}}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_FieldType__WEBPACK_IMPORTED_MODULE_13__.a,{disabled:!0,error:l.type,value:this.props.layer.type,onChange:function(e){return r.props.onLayerChanged(r.props.layerIndex,Object(_libs_layer__WEBPACK_IMPORTED_MODULE_22__.b)(r.props.layer,e))}}),"background"!==this.props.layer.type&&this.props.sources.length>1&&react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_FieldSource__WEBPACK_IMPORTED_MODULE_18__.a,{error:l.source,sourceIds:Object.keys(this.props.sources),value:this.props.layer.source,onChange:function(e){return r.changeProperty(null,"source",e)}}),["background","raster","hillshade","heatmap"].indexOf(this.props.layer.type)<0&&react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_FieldSourceLayer__WEBPACK_IMPORTED_MODULE_19__.a,{error:l["source-layer"],sourceLayerIds:i,value:this.props.layer["source-layer"],onChange:function(e){return r.changeProperty(null,"source-layer",e)}}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_FieldMinZoom__WEBPACK_IMPORTED_MODULE_15__.a,{error:l.minzoom,value:this.props.layer.minzoom,onChange:function(e){return r.changeProperty(null,"minzoom",e)}}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_FieldMaxZoom__WEBPACK_IMPORTED_MODULE_16__.a,{error:l.maxzoom,value:this.props.layer.maxzoom,onChange:function(e){return r.changeProperty(null,"maxzoom",e)}}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_FieldComment__WEBPACK_IMPORTED_MODULE_17__.a,{error:l.comment,value:n,onChange:function(e){return r.changeProperty("metadata","maputnik:comment",""==e?void 0:e)}}));case"filter":return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"maputnik-filter-editor-wrapper"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_FilterEditor__WEBPACK_IMPORTED_MODULE_10__.a,{errors:l,filter:this.props.layer.filter,properties:this.props.vectorLayers[this.props.layer["source-layer"]],onChange:function(e){return r.changeProperty(null,"filter",e)}})));case"properties":return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_PropertyGroup__WEBPACK_IMPORTED_MODULE_11__.a,{errors:l,layer:this.props.layer,groupFields:t,spec:this.props.spec,onChange:this.changeProperty.bind(this)});case"jsoneditor":return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_FieldJson__WEBPACK_IMPORTED_MODULE_9__.a,{layer:this.props.layer,onChange:function(e){r.props.onLayerChanged(r.props.layerIndex,e)}})}}},{key:"moveLayer",value:function(e){this.props.onMoveLayer({oldIndex:this.props.layerIndex,newIndex:this.props.layerIndex+e})}},{key:"render",value:function(){var e=this,t=[],r=this.props.layer.type,n=layoutGroups(r).filter((function(e){return!("background"===r&&"source"===e.type)})).map((function(r){var n=r.title.replace(/ /g,"_");return t.push(n),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_LayerEditorGroup__WEBPACK_IMPORTED_MODULE_12__.a,{"data-wd-key":r.title,id:n,key:r.title,title:r.title,isActive:e.state.editorGroups[r.title],onActiveToggle:e.onGroupToggle.bind(e,r.title)},e.renderGroupType(r.type,r.fields))})),i={delete:{text:"Delete",handler:function(){return e.props.onLayerDestroy(e.props.layerIndex)}},duplicate:{text:"Duplicate",handler:function(){return e.props.onLayerCopy(e.props.layerIndex)}},hide:{text:"none"===(this.props.layer.layout||{}).visibility?"Show":"Hide",handler:function(){return e.props.onLayerVisibilityToggle(e.props.layerIndex)}},moveLayerUp:{text:"Move layer up",disabled:this.props.isFirstLayer,handler:function(){return e.moveLayer(-1)}},moveLayerDown:{text:"Move layer down",disabled:this.props.isLastLayer,handler:function(){return e.moveLayer(1)}}};return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("section",{className:"maputnik-layer-editor",role:"main","aria-label":"Layer editor"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("header",null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"layer-header"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("h2",{className:"layer-header__title"},"Layer: ",Object(_util_format__WEBPACK_IMPORTED_MODULE_24__.a)(this.props.layer.id)),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"layer-header__info"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_aria_menubutton__WEBPACK_IMPORTED_MODULE_8__.Wrapper,{className:"more-menu",onSelection:function(e,t){t.stopPropagation,i[e].handler()},closeOnSelection:!1},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_aria_menubutton__WEBPACK_IMPORTED_MODULE_8__.Button,{id:"skip-target-layer-editor",className:"more-menu__button",title:"Layer options"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_21__.l,{className:"more-menu__button__svg"})),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_aria_menubutton__WEBPACK_IMPORTED_MODULE_8__.Menu,null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("ul",{className:"more-menu__menu"},Object.keys(i).map((function(e,t){var r=i[e];return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("li",{key:e},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_aria_menubutton__WEBPACK_IMPORTED_MODULE_8__.MenuItem,{value:e,className:"more-menu__menu__item"},r.text))})))))))),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_accessible_accordion__WEBPACK_IMPORTED_MODULE_20__.a,{allowMultipleExpanded:!0,allowZeroExpanded:!0,preExpanded:t},n))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=_objectSpread({},t.editorGroups);return getLayoutForType(e.layer.type).groups.forEach((function(e){e.title in r||(r[e.title]=!0)})),{editorGroups:r}}}]),LayerEditor}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(LayerEditor,"propTypes",{layer:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.object.isRequired,sources:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.object,vectorLayers:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.object,spec:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.object.isRequired,onLayerChanged:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func,onLayerIdChange:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func,onMoveLayer:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func,onLayerDestroy:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func,onLayerCopy:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func,onLayerVisibilityToggle:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func,isFirstLayer:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool,isLastLayer:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool,layerIndex:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.number,errors:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.array}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(LayerEditor,"defaultProps",{onLayerChanged:function(){},onLayerIdChange:function(){},onLayerDestroyed:function(){}}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(LayerEditor,"childContextTypes",{reactIconBase:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.object}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(getLayoutForType,"getLayoutForType","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\LayerEditor.jsx"),reactHotLoader.register(layoutGroups,"layoutGroups","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\LayerEditor.jsx"),reactHotLoader.register(LayerEditor,"LayerEditor","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\LayerEditor.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(e,t,r){(function(t){var r;r=function(){"use strict";function e(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self;var r=new(e((function(e){e.exports&&(e.exports=function(){var e=3,t=4,r=12,n=13,i=16,o=17;function a(e,t){void 0===t&&(t=0);var r=e.charCodeAt(t);if(55296<=r&&r<=56319&&t<e.length-1){var n=r;return 56320<=(i=e.charCodeAt(t+1))&&i<=57343?1024*(n-55296)+(i-56320)+65536:n}if(56320<=r&&r<=57343&&t>=1){var i=r;return 55296<=(n=e.charCodeAt(t-1))&&n<=56319?1024*(n-55296)+(i-56320)+65536:i}return r}function s(a,s,l){var _=[a].concat(s).concat([l]),u=_[_.length-2],c=l,p=_.lastIndexOf(14);if(p>1&&_.slice(1,p).every((function(t){return t==e}))&&-1==[e,n,o].indexOf(a))return 2;var d=_.lastIndexOf(t);if(d>0&&_.slice(1,d).every((function(e){return e==t}))&&-1==[r,t].indexOf(u))return _.filter((function(e){return e==t})).length%2==1?3:4;if(0==u&&1==c)return 0;if(2==u||0==u||1==u)return 14==c&&s.every((function(t){return t==e}))?2:1;if(2==c||0==c||1==c)return 1;if(6==u&&(6==c||7==c||9==c||10==c))return 0;if(!(9!=u&&7!=u||7!=c&&8!=c))return 0;if((10==u||8==u)&&8==c)return 0;if(c==e||15==c)return 0;if(5==c)return 0;if(u==r)return 0;var h=-1!=_.indexOf(e)?_.lastIndexOf(e)-1:_.length-2;return-1!=[n,o].indexOf(_[h])&&_.slice(h+1,-1).every((function(t){return t==e}))&&14==c||15==u&&-1!=[i,o].indexOf(c)?0:-1!=s.indexOf(t)?2:u==t&&c==t?0:1}function l(a){return 1536<=a&&a<=1541||1757==a||1807==a||2274==a||3406==a||69821==a||70082<=a&&a<=70083||72250==a||72326<=a&&a<=72329||73030==a?r:13==a?0:10==a?1:0<=a&&a<=9||11<=a&&a<=12||14<=a&&a<=31||127<=a&&a<=159||173==a||1564==a||6158==a||8203==a||8206<=a&&a<=8207||8232==a||8233==a||8234<=a&&a<=8238||8288<=a&&a<=8292||8293==a||8294<=a&&a<=8303||55296<=a&&a<=57343||65279==a||65520<=a&&a<=65528||65529<=a&&a<=65531||113824<=a&&a<=113827||119155<=a&&a<=119162||917504==a||917505==a||917506<=a&&a<=917535||917632<=a&&a<=917759||918e3<=a&&a<=921599?2:768<=a&&a<=879||1155<=a&&a<=1159||1160<=a&&a<=1161||1425<=a&&a<=1469||1471==a||1473<=a&&a<=1474||1476<=a&&a<=1477||1479==a||1552<=a&&a<=1562||1611<=a&&a<=1631||1648==a||1750<=a&&a<=1756||1759<=a&&a<=1764||1767<=a&&a<=1768||1770<=a&&a<=1773||1809==a||1840<=a&&a<=1866||1958<=a&&a<=1968||2027<=a&&a<=2035||2070<=a&&a<=2073||2075<=a&&a<=2083||2085<=a&&a<=2087||2089<=a&&a<=2093||2137<=a&&a<=2139||2260<=a&&a<=2273||2275<=a&&a<=2306||2362==a||2364==a||2369<=a&&a<=2376||2381==a||2385<=a&&a<=2391||2402<=a&&a<=2403||2433==a||2492==a||2494==a||2497<=a&&a<=2500||2509==a||2519==a||2530<=a&&a<=2531||2561<=a&&a<=2562||2620==a||2625<=a&&a<=2626||2631<=a&&a<=2632||2635<=a&&a<=2637||2641==a||2672<=a&&a<=2673||2677==a||2689<=a&&a<=2690||2748==a||2753<=a&&a<=2757||2759<=a&&a<=2760||2765==a||2786<=a&&a<=2787||2810<=a&&a<=2815||2817==a||2876==a||2878==a||2879==a||2881<=a&&a<=2884||2893==a||2902==a||2903==a||2914<=a&&a<=2915||2946==a||3006==a||3008==a||3021==a||3031==a||3072==a||3134<=a&&a<=3136||3142<=a&&a<=3144||3146<=a&&a<=3149||3157<=a&&a<=3158||3170<=a&&a<=3171||3201==a||3260==a||3263==a||3266==a||3270==a||3276<=a&&a<=3277||3285<=a&&a<=3286||3298<=a&&a<=3299||3328<=a&&a<=3329||3387<=a&&a<=3388||3390==a||3393<=a&&a<=3396||3405==a||3415==a||3426<=a&&a<=3427||3530==a||3535==a||3538<=a&&a<=3540||3542==a||3551==a||3633==a||3636<=a&&a<=3642||3655<=a&&a<=3662||3761==a||3764<=a&&a<=3769||3771<=a&&a<=3772||3784<=a&&a<=3789||3864<=a&&a<=3865||3893==a||3895==a||3897==a||3953<=a&&a<=3966||3968<=a&&a<=3972||3974<=a&&a<=3975||3981<=a&&a<=3991||3993<=a&&a<=4028||4038==a||4141<=a&&a<=4144||4146<=a&&a<=4151||4153<=a&&a<=4154||4157<=a&&a<=4158||4184<=a&&a<=4185||4190<=a&&a<=4192||4209<=a&&a<=4212||4226==a||4229<=a&&a<=4230||4237==a||4253==a||4957<=a&&a<=4959||5906<=a&&a<=5908||5938<=a&&a<=5940||5970<=a&&a<=5971||6002<=a&&a<=6003||6068<=a&&a<=6069||6071<=a&&a<=6077||6086==a||6089<=a&&a<=6099||6109==a||6155<=a&&a<=6157||6277<=a&&a<=6278||6313==a||6432<=a&&a<=6434||6439<=a&&a<=6440||6450==a||6457<=a&&a<=6459||6679<=a&&a<=6680||6683==a||6742==a||6744<=a&&a<=6750||6752==a||6754==a||6757<=a&&a<=6764||6771<=a&&a<=6780||6783==a||6832<=a&&a<=6845||6846==a||6912<=a&&a<=6915||6964==a||6966<=a&&a<=6970||6972==a||6978==a||7019<=a&&a<=7027||7040<=a&&a<=7041||7074<=a&&a<=7077||7080<=a&&a<=7081||7083<=a&&a<=7085||7142==a||7144<=a&&a<=7145||7149==a||7151<=a&&a<=7153||7212<=a&&a<=7219||7222<=a&&a<=7223||7376<=a&&a<=7378||7380<=a&&a<=7392||7394<=a&&a<=7400||7405==a||7412==a||7416<=a&&a<=7417||7616<=a&&a<=7673||7675<=a&&a<=7679||8204==a||8400<=a&&a<=8412||8413<=a&&a<=8416||8417==a||8418<=a&&a<=8420||8421<=a&&a<=8432||11503<=a&&a<=11505||11647==a||11744<=a&&a<=11775||12330<=a&&a<=12333||12334<=a&&a<=12335||12441<=a&&a<=12442||42607==a||42608<=a&&a<=42610||42612<=a&&a<=42621||42654<=a&&a<=42655||42736<=a&&a<=42737||43010==a||43014==a||43019==a||43045<=a&&a<=43046||43204<=a&&a<=43205||43232<=a&&a<=43249||43302<=a&&a<=43309||43335<=a&&a<=43345||43392<=a&&a<=43394||43443==a||43446<=a&&a<=43449||43452==a||43493==a||43561<=a&&a<=43566||43569<=a&&a<=43570||43573<=a&&a<=43574||43587==a||43596==a||43644==a||43696==a||43698<=a&&a<=43700||43703<=a&&a<=43704||43710<=a&&a<=43711||43713==a||43756<=a&&a<=43757||43766==a||44005==a||44008==a||44013==a||64286==a||65024<=a&&a<=65039||65056<=a&&a<=65071||65438<=a&&a<=65439||66045==a||66272==a||66422<=a&&a<=66426||68097<=a&&a<=68099||68101<=a&&a<=68102||68108<=a&&a<=68111||68152<=a&&a<=68154||68159==a||68325<=a&&a<=68326||69633==a||69688<=a&&a<=69702||69759<=a&&a<=69761||69811<=a&&a<=69814||69817<=a&&a<=69818||69888<=a&&a<=69890||69927<=a&&a<=69931||69933<=a&&a<=69940||70003==a||70016<=a&&a<=70017||70070<=a&&a<=70078||70090<=a&&a<=70092||70191<=a&&a<=70193||70196==a||70198<=a&&a<=70199||70206==a||70367==a||70371<=a&&a<=70378||70400<=a&&a<=70401||70460==a||70462==a||70464==a||70487==a||70502<=a&&a<=70508||70512<=a&&a<=70516||70712<=a&&a<=70719||70722<=a&&a<=70724||70726==a||70832==a||70835<=a&&a<=70840||70842==a||70845==a||70847<=a&&a<=70848||70850<=a&&a<=70851||71087==a||71090<=a&&a<=71093||71100<=a&&a<=71101||71103<=a&&a<=71104||71132<=a&&a<=71133||71219<=a&&a<=71226||71229==a||71231<=a&&a<=71232||71339==a||71341==a||71344<=a&&a<=71349||71351==a||71453<=a&&a<=71455||71458<=a&&a<=71461||71463<=a&&a<=71467||72193<=a&&a<=72198||72201<=a&&a<=72202||72243<=a&&a<=72248||72251<=a&&a<=72254||72263==a||72273<=a&&a<=72278||72281<=a&&a<=72283||72330<=a&&a<=72342||72344<=a&&a<=72345||72752<=a&&a<=72758||72760<=a&&a<=72765||72767==a||72850<=a&&a<=72871||72874<=a&&a<=72880||72882<=a&&a<=72883||72885<=a&&a<=72886||73009<=a&&a<=73014||73018==a||73020<=a&&a<=73021||73023<=a&&a<=73029||73031==a||92912<=a&&a<=92916||92976<=a&&a<=92982||94095<=a&&a<=94098||113821<=a&&a<=113822||119141==a||119143<=a&&a<=119145||119150<=a&&a<=119154||119163<=a&&a<=119170||119173<=a&&a<=119179||119210<=a&&a<=119213||119362<=a&&a<=119364||121344<=a&&a<=121398||121403<=a&&a<=121452||121461==a||121476==a||121499<=a&&a<=121503||121505<=a&&a<=121519||122880<=a&&a<=122886||122888<=a&&a<=122904||122907<=a&&a<=122913||122915<=a&&a<=122916||122918<=a&&a<=122922||125136<=a&&a<=125142||125252<=a&&a<=125258||917536<=a&&a<=917631||917760<=a&&a<=917999?e:127462<=a&&a<=127487?t:2307==a||2363==a||2366<=a&&a<=2368||2377<=a&&a<=2380||2382<=a&&a<=2383||2434<=a&&a<=2435||2495<=a&&a<=2496||2503<=a&&a<=2504||2507<=a&&a<=2508||2563==a||2622<=a&&a<=2624||2691==a||2750<=a&&a<=2752||2761==a||2763<=a&&a<=2764||2818<=a&&a<=2819||2880==a||2887<=a&&a<=2888||2891<=a&&a<=2892||3007==a||3009<=a&&a<=3010||3014<=a&&a<=3016||3018<=a&&a<=3020||3073<=a&&a<=3075||3137<=a&&a<=3140||3202<=a&&a<=3203||3262==a||3264<=a&&a<=3265||3267<=a&&a<=3268||3271<=a&&a<=3272||3274<=a&&a<=3275||3330<=a&&a<=3331||3391<=a&&a<=3392||3398<=a&&a<=3400||3402<=a&&a<=3404||3458<=a&&a<=3459||3536<=a&&a<=3537||3544<=a&&a<=3550||3570<=a&&a<=3571||3635==a||3763==a||3902<=a&&a<=3903||3967==a||4145==a||4155<=a&&a<=4156||4182<=a&&a<=4183||4228==a||6070==a||6078<=a&&a<=6085||6087<=a&&a<=6088||6435<=a&&a<=6438||6441<=a&&a<=6443||6448<=a&&a<=6449||6451<=a&&a<=6456||6681<=a&&a<=6682||6741==a||6743==a||6765<=a&&a<=6770||6916==a||6965==a||6971==a||6973<=a&&a<=6977||6979<=a&&a<=6980||7042==a||7073==a||7078<=a&&a<=7079||7082==a||7143==a||7146<=a&&a<=7148||7150==a||7154<=a&&a<=7155||7204<=a&&a<=7211||7220<=a&&a<=7221||7393==a||7410<=a&&a<=7411||7415==a||43043<=a&&a<=43044||43047==a||43136<=a&&a<=43137||43188<=a&&a<=43203||43346<=a&&a<=43347||43395==a||43444<=a&&a<=43445||43450<=a&&a<=43451||43453<=a&&a<=43456||43567<=a&&a<=43568||43571<=a&&a<=43572||43597==a||43755==a||43758<=a&&a<=43759||43765==a||44003<=a&&a<=44004||44006<=a&&a<=44007||44009<=a&&a<=44010||44012==a||69632==a||69634==a||69762==a||69808<=a&&a<=69810||69815<=a&&a<=69816||69932==a||70018==a||70067<=a&&a<=70069||70079<=a&&a<=70080||70188<=a&&a<=70190||70194<=a&&a<=70195||70197==a||70368<=a&&a<=70370||70402<=a&&a<=70403||70463==a||70465<=a&&a<=70468||70471<=a&&a<=70472||70475<=a&&a<=70477||70498<=a&&a<=70499||70709<=a&&a<=70711||70720<=a&&a<=70721||70725==a||70833<=a&&a<=70834||70841==a||70843<=a&&a<=70844||70846==a||70849==a||71088<=a&&a<=71089||71096<=a&&a<=71099||71102==a||71216<=a&&a<=71218||71227<=a&&a<=71228||71230==a||71340==a||71342<=a&&a<=71343||71350==a||71456<=a&&a<=71457||71462==a||72199<=a&&a<=72200||72249==a||72279<=a&&a<=72280||72343==a||72751==a||72766==a||72873==a||72881==a||72884==a||94033<=a&&a<=94078||119142==a||119149==a?5:4352<=a&&a<=4447||43360<=a&&a<=43388?6:4448<=a&&a<=4519||55216<=a&&a<=55238?7:4520<=a&&a<=4607||55243<=a&&a<=55291?8:44032==a||44060==a||44088==a||44116==a||44144==a||44172==a||44200==a||44228==a||44256==a||44284==a||44312==a||44340==a||44368==a||44396==a||44424==a||44452==a||44480==a||44508==a||44536==a||44564==a||44592==a||44620==a||44648==a||44676==a||44704==a||44732==a||44760==a||44788==a||44816==a||44844==a||44872==a||44900==a||44928==a||44956==a||44984==a||45012==a||45040==a||45068==a||45096==a||45124==a||45152==a||45180==a||45208==a||45236==a||45264==a||45292==a||45320==a||45348==a||45376==a||45404==a||45432==a||45460==a||45488==a||45516==a||45544==a||45572==a||45600==a||45628==a||45656==a||45684==a||45712==a||45740==a||45768==a||45796==a||45824==a||45852==a||45880==a||45908==a||45936==a||45964==a||45992==a||46020==a||46048==a||46076==a||46104==a||46132==a||46160==a||46188==a||46216==a||46244==a||46272==a||46300==a||46328==a||46356==a||46384==a||46412==a||46440==a||46468==a||46496==a||46524==a||46552==a||46580==a||46608==a||46636==a||46664==a||46692==a||46720==a||46748==a||46776==a||46804==a||46832==a||46860==a||46888==a||46916==a||46944==a||46972==a||47e3==a||47028==a||47056==a||47084==a||47112==a||47140==a||47168==a||47196==a||47224==a||47252==a||47280==a||47308==a||47336==a||47364==a||47392==a||47420==a||47448==a||47476==a||47504==a||47532==a||47560==a||47588==a||47616==a||47644==a||47672==a||47700==a||47728==a||47756==a||47784==a||47812==a||47840==a||47868==a||47896==a||47924==a||47952==a||47980==a||48008==a||48036==a||48064==a||48092==a||48120==a||48148==a||48176==a||48204==a||48232==a||48260==a||48288==a||48316==a||48344==a||48372==a||48400==a||48428==a||48456==a||48484==a||48512==a||48540==a||48568==a||48596==a||48624==a||48652==a||48680==a||48708==a||48736==a||48764==a||48792==a||48820==a||48848==a||48876==a||48904==a||48932==a||48960==a||48988==a||49016==a||49044==a||49072==a||49100==a||49128==a||49156==a||49184==a||49212==a||49240==a||49268==a||49296==a||49324==a||49352==a||49380==a||49408==a||49436==a||49464==a||49492==a||49520==a||49548==a||49576==a||49604==a||49632==a||49660==a||49688==a||49716==a||49744==a||49772==a||49800==a||49828==a||49856==a||49884==a||49912==a||49940==a||49968==a||49996==a||50024==a||50052==a||50080==a||50108==a||50136==a||50164==a||50192==a||50220==a||50248==a||50276==a||50304==a||50332==a||50360==a||50388==a||50416==a||50444==a||50472==a||50500==a||50528==a||50556==a||50584==a||50612==a||50640==a||50668==a||50696==a||50724==a||50752==a||50780==a||50808==a||50836==a||50864==a||50892==a||50920==a||50948==a||50976==a||51004==a||51032==a||51060==a||51088==a||51116==a||51144==a||51172==a||51200==a||51228==a||51256==a||51284==a||51312==a||51340==a||51368==a||51396==a||51424==a||51452==a||51480==a||51508==a||51536==a||51564==a||51592==a||51620==a||51648==a||51676==a||51704==a||51732==a||51760==a||51788==a||51816==a||51844==a||51872==a||51900==a||51928==a||51956==a||51984==a||52012==a||52040==a||52068==a||52096==a||52124==a||52152==a||52180==a||52208==a||52236==a||52264==a||52292==a||52320==a||52348==a||52376==a||52404==a||52432==a||52460==a||52488==a||52516==a||52544==a||52572==a||52600==a||52628==a||52656==a||52684==a||52712==a||52740==a||52768==a||52796==a||52824==a||52852==a||52880==a||52908==a||52936==a||52964==a||52992==a||53020==a||53048==a||53076==a||53104==a||53132==a||53160==a||53188==a||53216==a||53244==a||53272==a||53300==a||53328==a||53356==a||53384==a||53412==a||53440==a||53468==a||53496==a||53524==a||53552==a||53580==a||53608==a||53636==a||53664==a||53692==a||53720==a||53748==a||53776==a||53804==a||53832==a||53860==a||53888==a||53916==a||53944==a||53972==a||54e3==a||54028==a||54056==a||54084==a||54112==a||54140==a||54168==a||54196==a||54224==a||54252==a||54280==a||54308==a||54336==a||54364==a||54392==a||54420==a||54448==a||54476==a||54504==a||54532==a||54560==a||54588==a||54616==a||54644==a||54672==a||54700==a||54728==a||54756==a||54784==a||54812==a||54840==a||54868==a||54896==a||54924==a||54952==a||54980==a||55008==a||55036==a||55064==a||55092==a||55120==a||55148==a||55176==a?9:44033<=a&&a<=44059||44061<=a&&a<=44087||44089<=a&&a<=44115||44117<=a&&a<=44143||44145<=a&&a<=44171||44173<=a&&a<=44199||44201<=a&&a<=44227||44229<=a&&a<=44255||44257<=a&&a<=44283||44285<=a&&a<=44311||44313<=a&&a<=44339||44341<=a&&a<=44367||44369<=a&&a<=44395||44397<=a&&a<=44423||44425<=a&&a<=44451||44453<=a&&a<=44479||44481<=a&&a<=44507||44509<=a&&a<=44535||44537<=a&&a<=44563||44565<=a&&a<=44591||44593<=a&&a<=44619||44621<=a&&a<=44647||44649<=a&&a<=44675||44677<=a&&a<=44703||44705<=a&&a<=44731||44733<=a&&a<=44759||44761<=a&&a<=44787||44789<=a&&a<=44815||44817<=a&&a<=44843||44845<=a&&a<=44871||44873<=a&&a<=44899||44901<=a&&a<=44927||44929<=a&&a<=44955||44957<=a&&a<=44983||44985<=a&&a<=45011||45013<=a&&a<=45039||45041<=a&&a<=45067||45069<=a&&a<=45095||45097<=a&&a<=45123||45125<=a&&a<=45151||45153<=a&&a<=45179||45181<=a&&a<=45207||45209<=a&&a<=45235||45237<=a&&a<=45263||45265<=a&&a<=45291||45293<=a&&a<=45319||45321<=a&&a<=45347||45349<=a&&a<=45375||45377<=a&&a<=45403||45405<=a&&a<=45431||45433<=a&&a<=45459||45461<=a&&a<=45487||45489<=a&&a<=45515||45517<=a&&a<=45543||45545<=a&&a<=45571||45573<=a&&a<=45599||45601<=a&&a<=45627||45629<=a&&a<=45655||45657<=a&&a<=45683||45685<=a&&a<=45711||45713<=a&&a<=45739||45741<=a&&a<=45767||45769<=a&&a<=45795||45797<=a&&a<=45823||45825<=a&&a<=45851||45853<=a&&a<=45879||45881<=a&&a<=45907||45909<=a&&a<=45935||45937<=a&&a<=45963||45965<=a&&a<=45991||45993<=a&&a<=46019||46021<=a&&a<=46047||46049<=a&&a<=46075||46077<=a&&a<=46103||46105<=a&&a<=46131||46133<=a&&a<=46159||46161<=a&&a<=46187||46189<=a&&a<=46215||46217<=a&&a<=46243||46245<=a&&a<=46271||46273<=a&&a<=46299||46301<=a&&a<=46327||46329<=a&&a<=46355||46357<=a&&a<=46383||46385<=a&&a<=46411||46413<=a&&a<=46439||46441<=a&&a<=46467||46469<=a&&a<=46495||46497<=a&&a<=46523||46525<=a&&a<=46551||46553<=a&&a<=46579||46581<=a&&a<=46607||46609<=a&&a<=46635||46637<=a&&a<=46663||46665<=a&&a<=46691||46693<=a&&a<=46719||46721<=a&&a<=46747||46749<=a&&a<=46775||46777<=a&&a<=46803||46805<=a&&a<=46831||46833<=a&&a<=46859||46861<=a&&a<=46887||46889<=a&&a<=46915||46917<=a&&a<=46943||46945<=a&&a<=46971||46973<=a&&a<=46999||47001<=a&&a<=47027||47029<=a&&a<=47055||47057<=a&&a<=47083||47085<=a&&a<=47111||47113<=a&&a<=47139||47141<=a&&a<=47167||47169<=a&&a<=47195||47197<=a&&a<=47223||47225<=a&&a<=47251||47253<=a&&a<=47279||47281<=a&&a<=47307||47309<=a&&a<=47335||47337<=a&&a<=47363||47365<=a&&a<=47391||47393<=a&&a<=47419||47421<=a&&a<=47447||47449<=a&&a<=47475||47477<=a&&a<=47503||47505<=a&&a<=47531||47533<=a&&a<=47559||47561<=a&&a<=47587||47589<=a&&a<=47615||47617<=a&&a<=47643||47645<=a&&a<=47671||47673<=a&&a<=47699||47701<=a&&a<=47727||47729<=a&&a<=47755||47757<=a&&a<=47783||47785<=a&&a<=47811||47813<=a&&a<=47839||47841<=a&&a<=47867||47869<=a&&a<=47895||47897<=a&&a<=47923||47925<=a&&a<=47951||47953<=a&&a<=47979||47981<=a&&a<=48007||48009<=a&&a<=48035||48037<=a&&a<=48063||48065<=a&&a<=48091||48093<=a&&a<=48119||48121<=a&&a<=48147||48149<=a&&a<=48175||48177<=a&&a<=48203||48205<=a&&a<=48231||48233<=a&&a<=48259||48261<=a&&a<=48287||48289<=a&&a<=48315||48317<=a&&a<=48343||48345<=a&&a<=48371||48373<=a&&a<=48399||48401<=a&&a<=48427||48429<=a&&a<=48455||48457<=a&&a<=48483||48485<=a&&a<=48511||48513<=a&&a<=48539||48541<=a&&a<=48567||48569<=a&&a<=48595||48597<=a&&a<=48623||48625<=a&&a<=48651||48653<=a&&a<=48679||48681<=a&&a<=48707||48709<=a&&a<=48735||48737<=a&&a<=48763||48765<=a&&a<=48791||48793<=a&&a<=48819||48821<=a&&a<=48847||48849<=a&&a<=48875||48877<=a&&a<=48903||48905<=a&&a<=48931||48933<=a&&a<=48959||48961<=a&&a<=48987||48989<=a&&a<=49015||49017<=a&&a<=49043||49045<=a&&a<=49071||49073<=a&&a<=49099||49101<=a&&a<=49127||49129<=a&&a<=49155||49157<=a&&a<=49183||49185<=a&&a<=49211||49213<=a&&a<=49239||49241<=a&&a<=49267||49269<=a&&a<=49295||49297<=a&&a<=49323||49325<=a&&a<=49351||49353<=a&&a<=49379||49381<=a&&a<=49407||49409<=a&&a<=49435||49437<=a&&a<=49463||49465<=a&&a<=49491||49493<=a&&a<=49519||49521<=a&&a<=49547||49549<=a&&a<=49575||49577<=a&&a<=49603||49605<=a&&a<=49631||49633<=a&&a<=49659||49661<=a&&a<=49687||49689<=a&&a<=49715||49717<=a&&a<=49743||49745<=a&&a<=49771||49773<=a&&a<=49799||49801<=a&&a<=49827||49829<=a&&a<=49855||49857<=a&&a<=49883||49885<=a&&a<=49911||49913<=a&&a<=49939||49941<=a&&a<=49967||49969<=a&&a<=49995||49997<=a&&a<=50023||50025<=a&&a<=50051||50053<=a&&a<=50079||50081<=a&&a<=50107||50109<=a&&a<=50135||50137<=a&&a<=50163||50165<=a&&a<=50191||50193<=a&&a<=50219||50221<=a&&a<=50247||50249<=a&&a<=50275||50277<=a&&a<=50303||50305<=a&&a<=50331||50333<=a&&a<=50359||50361<=a&&a<=50387||50389<=a&&a<=50415||50417<=a&&a<=50443||50445<=a&&a<=50471||50473<=a&&a<=50499||50501<=a&&a<=50527||50529<=a&&a<=50555||50557<=a&&a<=50583||50585<=a&&a<=50611||50613<=a&&a<=50639||50641<=a&&a<=50667||50669<=a&&a<=50695||50697<=a&&a<=50723||50725<=a&&a<=50751||50753<=a&&a<=50779||50781<=a&&a<=50807||50809<=a&&a<=50835||50837<=a&&a<=50863||50865<=a&&a<=50891||50893<=a&&a<=50919||50921<=a&&a<=50947||50949<=a&&a<=50975||50977<=a&&a<=51003||51005<=a&&a<=51031||51033<=a&&a<=51059||51061<=a&&a<=51087||51089<=a&&a<=51115||51117<=a&&a<=51143||51145<=a&&a<=51171||51173<=a&&a<=51199||51201<=a&&a<=51227||51229<=a&&a<=51255||51257<=a&&a<=51283||51285<=a&&a<=51311||51313<=a&&a<=51339||51341<=a&&a<=51367||51369<=a&&a<=51395||51397<=a&&a<=51423||51425<=a&&a<=51451||51453<=a&&a<=51479||51481<=a&&a<=51507||51509<=a&&a<=51535||51537<=a&&a<=51563||51565<=a&&a<=51591||51593<=a&&a<=51619||51621<=a&&a<=51647||51649<=a&&a<=51675||51677<=a&&a<=51703||51705<=a&&a<=51731||51733<=a&&a<=51759||51761<=a&&a<=51787||51789<=a&&a<=51815||51817<=a&&a<=51843||51845<=a&&a<=51871||51873<=a&&a<=51899||51901<=a&&a<=51927||51929<=a&&a<=51955||51957<=a&&a<=51983||51985<=a&&a<=52011||52013<=a&&a<=52039||52041<=a&&a<=52067||52069<=a&&a<=52095||52097<=a&&a<=52123||52125<=a&&a<=52151||52153<=a&&a<=52179||52181<=a&&a<=52207||52209<=a&&a<=52235||52237<=a&&a<=52263||52265<=a&&a<=52291||52293<=a&&a<=52319||52321<=a&&a<=52347||52349<=a&&a<=52375||52377<=a&&a<=52403||52405<=a&&a<=52431||52433<=a&&a<=52459||52461<=a&&a<=52487||52489<=a&&a<=52515||52517<=a&&a<=52543||52545<=a&&a<=52571||52573<=a&&a<=52599||52601<=a&&a<=52627||52629<=a&&a<=52655||52657<=a&&a<=52683||52685<=a&&a<=52711||52713<=a&&a<=52739||52741<=a&&a<=52767||52769<=a&&a<=52795||52797<=a&&a<=52823||52825<=a&&a<=52851||52853<=a&&a<=52879||52881<=a&&a<=52907||52909<=a&&a<=52935||52937<=a&&a<=52963||52965<=a&&a<=52991||52993<=a&&a<=53019||53021<=a&&a<=53047||53049<=a&&a<=53075||53077<=a&&a<=53103||53105<=a&&a<=53131||53133<=a&&a<=53159||53161<=a&&a<=53187||53189<=a&&a<=53215||53217<=a&&a<=53243||53245<=a&&a<=53271||53273<=a&&a<=53299||53301<=a&&a<=53327||53329<=a&&a<=53355||53357<=a&&a<=53383||53385<=a&&a<=53411||53413<=a&&a<=53439||53441<=a&&a<=53467||53469<=a&&a<=53495||53497<=a&&a<=53523||53525<=a&&a<=53551||53553<=a&&a<=53579||53581<=a&&a<=53607||53609<=a&&a<=53635||53637<=a&&a<=53663||53665<=a&&a<=53691||53693<=a&&a<=53719||53721<=a&&a<=53747||53749<=a&&a<=53775||53777<=a&&a<=53803||53805<=a&&a<=53831||53833<=a&&a<=53859||53861<=a&&a<=53887||53889<=a&&a<=53915||53917<=a&&a<=53943||53945<=a&&a<=53971||53973<=a&&a<=53999||54001<=a&&a<=54027||54029<=a&&a<=54055||54057<=a&&a<=54083||54085<=a&&a<=54111||54113<=a&&a<=54139||54141<=a&&a<=54167||54169<=a&&a<=54195||54197<=a&&a<=54223||54225<=a&&a<=54251||54253<=a&&a<=54279||54281<=a&&a<=54307||54309<=a&&a<=54335||54337<=a&&a<=54363||54365<=a&&a<=54391||54393<=a&&a<=54419||54421<=a&&a<=54447||54449<=a&&a<=54475||54477<=a&&a<=54503||54505<=a&&a<=54531||54533<=a&&a<=54559||54561<=a&&a<=54587||54589<=a&&a<=54615||54617<=a&&a<=54643||54645<=a&&a<=54671||54673<=a&&a<=54699||54701<=a&&a<=54727||54729<=a&&a<=54755||54757<=a&&a<=54783||54785<=a&&a<=54811||54813<=a&&a<=54839||54841<=a&&a<=54867||54869<=a&&a<=54895||54897<=a&&a<=54923||54925<=a&&a<=54951||54953<=a&&a<=54979||54981<=a&&a<=55007||55009<=a&&a<=55035||55037<=a&&a<=55063||55065<=a&&a<=55091||55093<=a&&a<=55119||55121<=a&&a<=55147||55149<=a&&a<=55175||55177<=a&&a<=55203?10:9757==a||9977==a||9994<=a&&a<=9997||127877==a||127938<=a&&a<=127940||127943==a||127946<=a&&a<=127948||128066<=a&&a<=128067||128070<=a&&a<=128080||128110==a||128112<=a&&a<=128120||128124==a||128129<=a&&a<=128131||128133<=a&&a<=128135||128170==a||128372<=a&&a<=128373||128378==a||128400==a||128405<=a&&a<=128406||128581<=a&&a<=128583||128587<=a&&a<=128591||128675==a||128692<=a&&a<=128694||128704==a||128716==a||129304<=a&&a<=129308||129310<=a&&a<=129311||129318==a||129328<=a&&a<=129337||129341<=a&&a<=129342||129489<=a&&a<=129501?n:127995<=a&&a<=127999?14:8205==a?15:9792==a||9794==a||9877<=a&&a<=9878||9992==a||10084==a||127752==a||127806==a||127859==a||127891==a||127908==a||127912==a||127979==a||127981==a||128139==a||128187<=a&&a<=128188||128295==a||128300==a||128488==a||128640==a||128658==a?i:128102<=a&&a<=128105?o:11}return this.nextBreak=function(e,t){if(void 0===t&&(t=0),t<0)return 0;if(t>=e.length-1)return e.length;for(var r,n,i=l(a(e,t)),o=[],_=t+1;_<e.length;_++)if(n=_-1,!(55296<=(r=e).charCodeAt(n)&&r.charCodeAt(n)<=56319&&56320<=r.charCodeAt(n+1)&&r.charCodeAt(n+1)<=57343)){var u=l(a(e,_));if(s(i,o,u))return _;o.push(u)}return e.length},this.splitGraphemes=function(e){for(var t,r=[],n=0;(t=this.nextBreak(e,n))<e.length;)r.push(e.slice(n,t)),n=t;return n<e.length&&r.push(e.slice(n)),r},this.iterateGraphemes=function(e){var t=0,r={next:function(){var r,n;return(n=this.nextBreak(e,t))<e.length?(r=e.slice(t,n),t=n,{value:r,done:!1}):t<e.length?(r=e.slice(t),t=e.length,{value:r,done:!1}):{value:void 0,done:!0}}.bind(this)};return"undefined"!=typeof Symbol&&Symbol.iterator&&(r[Symbol.iterator]=function(){return r}),r},this.countGraphemes=function(e){for(var t,r=0,n=0;(t=this.nextBreak(e,n))<e.length;)n=t,r++;return n<e.length&&r++,r},this})}))),n=function(e,t,n){for(var i=r.iterateGraphemes(e.substring(t)),o="",a=0;a<n-t;a++){var s=i.next();if(o+=s.value,s.done)break}return o},i=function(e,t,r,n,i,o,a){return{start:{line:e,column:t,offset:r},end:{line:n,column:i,offset:o},source:a||null}},o=e((function(e,t){e.exports=function(){var e,t="",r=function(r,n){if("string"!=typeof r)throw new TypeError("expected a string");if(1===n)return r;if(2===n)return r+r;var i=r.length*n;if(e!==r||void 0===e)e=r,t="";else if(t.length>=i)return t.substr(0,i);for(;i>t.length&&n>1;)1&n&&(t+=r),n>>=1,r+=r;return t=(t+=r).substr(0,i)},n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function i(e,t,n,i){var o=function(e,t,r){if(null==e||null==t)return e;var n=String(e),i="number"==typeof t?t:parseInt(t,10);if(isNaN(i)||!isFinite(i))return n;var o=n.length;if(o>=i)return n;var a=null==r?"":String(r);""===a&&(a=" ");for(var s=i-o;a.length<s;)a+=a;return(a.length>s?a.substr(0,s):a)+n}(String(t),n," "),a=r(" ",i.tabSize);return o+" | "+e.replace(/\t/g,a)}function o(e,t,r,n,o){return e.slice(t,r).map((function(e,r){return i(e,t+r+1,n,o)})).join("\n")}var a={extraLines:2,tabSize:4};return function(e,t,s,l){l=n({},a,l);var _=e.split(/\r\n?|\n|\f/),u=Math.max(1,t-l.extraLines)-1,c=Math.min(t+l.extraLines,_.length),p=String(c).length,d=o(_,u,t,p,l),h=i(_[t-1].substring(0,s-1),t,p,l);return[d,r(" ",h.length)+"^",o(_,t,c,p,l)].filter(Boolean).join("\n")}}()})),a=(new Error).stack,s=function(e,t,r,n,i){throw function(e){var t=Object.create(SyntaxError.prototype);return Object.assign(t,e,{name:"SyntaxError"}),Object.defineProperty(t,"stack",{get:function(){return a?a.replace(/^(.+\n){1,3}/,String(t)+"\n"):""}}),t}({message:n?e+"\n"+o(t,n,i):e,rawMessage:e,source:r,line:n,column:i})},l=function(){return"Unexpected end of input"},_=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return"Unexpected token <"+e+"> at "+r.filter(Boolean).join(":")},u=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return"Unexpected symbol <"+e+"> at "+r.filter(Boolean).join(":")},c=0,p=1,d=2,h=3,f=4,m=5,y=6,g=7,b=8,v=9,E=10,O={"{":c,"}":p,"[":d,"]":h,":":f,",":m},M={true:b,false:v,null:E},P=0,x=1,w=2,C={'"':0,"\\":1,"/":2,b:3,f:4,n:5,r:6,t:7,u:8},D=0,T=1,k=2,A=3,I=4,L=5,R=6,S=7;function B(e){return e>="1"&&e<="9"}function U(e){return e>="0"&&e<="9"}function W(e){return U(e)||e>="a"&&e<="f"||e>="A"&&e<="F"}function K(e){return"e"===e||"E"===e}function j(e,t,r,n){var i=e.charAt(t);if("\r"===i)t++,r++,n=1,"\n"===e.charAt(t)&&t++;else if("\n"===i)t++,r++,n=1;else{if("\t"!==i&&" "!==i)return null;t++,n++}return{index:t,line:r,column:n}}function z(e,t,r,n){var i=e.charAt(t);return i in O?{type:O[i],line:r,column:n+1,index:t+1,value:null}:null}function F(e,t,r,n){for(var i in M)if(M.hasOwnProperty(i)&&e.substr(t,i.length)===i)return{type:M[i],line:r,column:n+i.length,index:t+i.length,value:i};return null}function q(e,t,r,n){for(var i=t,o=P;t<e.length;){var a=e.charAt(t);switch(o){case P:if('"'!==a)return null;t++,o=x;break;case x:if("\\"===a)t++,o=w;else{if('"'===a)return t++,{type:y,line:r,column:n+t-i,index:t,value:e.slice(i,t)};t++}break;case w:if(!(a in C))return null;if(t++,"u"===a)for(var s=0;s<4;s++){var l=e.charAt(t);if(!l||!W(l))return null;t++}o=x}}}function N(e,t,r,n){var i=t,o=t,a=D;e:for(;t<e.length;){var s=e.charAt(t);switch(a){case D:if("-"===s)a=T;else if("0"===s)o=t+1,a=k;else{if(!B(s))return null;o=t+1,a=A}break;case T:if("0"===s)o=t+1,a=k;else{if(!B(s))return null;o=t+1,a=A}break;case k:if("."===s)a=I;else{if(!K(s))break e;a=R}break;case A:if(U(s))o=t+1;else if("."===s)a=I;else{if(!K(s))break e;a=R}break;case I:if(!U(s))break e;o=t+1,a=L;break;case L:if(U(s))o=t+1;else{if(!K(s))break e;a=R}break;case R:if("+"===s||"-"===s)a=S;else{if(!U(s))break e;o=t+1,a=S}break;case S:if(!U(s))break e;o=t+1}t++}return o>0?{type:g,line:r,column:n+o-i,index:o,value:e.slice(i,o)}:null}var H=0,G=1,V=2,Z=3,X=0,$=1,Y=2,J=0,Q=1,ee=2,te=3,re={loc:!0,source:null};function ne(e,t,r){var n=t.length>0?t[t.length-1].loc.end:{line:1,column:1};s(l(),e,r.source,n.line,n.column)}function ie(e){for(var t=0,r=0;r<4;r++)t=16*t+parseInt(e[r],16);return String.fromCharCode(t)}var oe={b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},ae=['"',"\\","/"];function se(e){for(var t="",r=0;r<e.length;r++){var n=e.charAt(r);if("\\"===n){r++;var i=e.charAt(r);if("u"===i)t+=ie(e.substr(r+1,4)),r+=4;else if(-1!==ae.indexOf(i))t+=i;else{if(!(i in oe))break;t+=oe[i]}}else t+=n}return t}function le(e,t,r,o){for(var a=void 0,l={type:"Object",children:[]},u=H;r<t.length;){var d=t[r];switch(u){case H:if(d.type!==c)return null;a=d,u=G,r++;break;case G:if(d.type===p)return o.loc&&(l.loc=i(a.loc.start.line,a.loc.start.column,a.loc.start.offset,d.loc.end.line,d.loc.end.column,d.loc.end.offset,o.source)),{value:l,index:r+1};var h=_e(e,t,r,o);l.children.push(h.value),u=V,r=h.index;break;case V:if(d.type===p)return o.loc&&(l.loc=i(a.loc.start.line,a.loc.start.column,a.loc.start.offset,d.loc.end.line,d.loc.end.column,d.loc.end.offset,o.source)),{value:l,index:r+1};d.type===m?(u=Z,r++):s(_(n(e,d.loc.start.offset,d.loc.end.offset),o.source,d.loc.start.line,d.loc.start.column),e,o.source,d.loc.start.line,d.loc.start.column);break;case Z:var f=_e(e,t,r,o);f?(r=f.index,l.children.push(f.value),u=V):s(_(n(e,d.loc.start.offset,d.loc.end.offset),o.source,d.loc.start.line,d.loc.start.column),e,o.source,d.loc.start.line,d.loc.start.column)}}ne(e,t,o)}function _e(e,t,r,o){for(var a=void 0,l={type:"Property",key:null,value:null},u=X;r<t.length;){var c=t[r];switch(u){case X:if(c.type!==y)return null;var p={type:"Identifier",value:se(e.slice(c.loc.start.offset+1,c.loc.end.offset-1)),raw:c.value};o.loc&&(p.loc=c.loc),a=c,l.key=p,u=$,r++;break;case $:c.type===f?(u=Y,r++):s(_(n(e,c.loc.start.offset,c.loc.end.offset),o.source,c.loc.start.line,c.loc.start.column),e,o.source,c.loc.start.line,c.loc.start.column);break;case Y:var d=pe(e,t,r,o);return l.value=d.value,o.loc&&(l.loc=i(a.loc.start.line,a.loc.start.column,a.loc.start.offset,d.value.loc.end.line,d.value.loc.end.column,d.value.loc.end.offset,o.source)),{value:l,index:d.index}}}}function ue(e,t,r,o){for(var a=void 0,l={type:"Array",children:[]},u=J,c=void 0;r<t.length;)switch(c=t[r],u){case J:if(c.type!==d)return null;a=c,u=Q,r++;break;case Q:if(c.type===h)return o.loc&&(l.loc=i(a.loc.start.line,a.loc.start.column,a.loc.start.offset,c.loc.end.line,c.loc.end.column,c.loc.end.offset,o.source)),{value:l,index:r+1};var p=pe(e,t,r,o);r=p.index,l.children.push(p.value),u=ee;break;case ee:if(c.type===h)return o.loc&&(l.loc=i(a.loc.start.line,a.loc.start.column,a.loc.start.offset,c.loc.end.line,c.loc.end.column,c.loc.end.offset,o.source)),{value:l,index:r+1};c.type===m?(u=te,r++):s(_(n(e,c.loc.start.offset,c.loc.end.offset),o.source,c.loc.start.line,c.loc.start.column),e,o.source,c.loc.start.line,c.loc.start.column);break;case te:var f=pe(e,t,r,o);r=f.index,l.children.push(f.value),u=ee}ne(e,t,o)}function ce(e,t,r,n){var i=t[r],o=null;switch(i.type){case y:o=se(e.slice(i.loc.start.offset+1,i.loc.end.offset-1));break;case g:o=Number(i.value);break;case b:o=!0;break;case v:o=!1;break;case E:o=null;break;default:return null}var a={type:"Literal",value:o,raw:i.value};return n.loc&&(a.loc=i.loc),{value:a,index:r+1}}function pe(e,t,r,i){var o=t[r],a=ce.apply(void 0,arguments)||le.apply(void 0,arguments)||ue.apply(void 0,arguments);if(a)return a;s(_(n(e,o.loc.start.offset,o.loc.end.offset),i.source,o.loc.start.line,o.loc.start.column),e,i.source,o.loc.start.line,o.loc.start.column)}return function(e,t){var r=function(e,t){for(var r=1,o=1,a=0,l=[];a<e.length;){var _=[e,a,r,o],c=j.apply(void 0,_);if(c)a=c.index,r=c.line,o=c.column;else{var p=z.apply(void 0,_)||F.apply(void 0,_)||q.apply(void 0,_)||N.apply(void 0,_);if(p){var d={type:p.type,value:p.value,loc:i(r,o,a,p.line,p.column,p.index,t.source)};l.push(d),a=p.index,r=p.line,o=p.column}else s(u(n(e,a,a+1),t.source,r,o),e,t.source,r,o)}}return l}(e,t=Object.assign({},re,t));0===r.length&&ne(e,r,t);var o=pe(e,r,0,t);if(o.index===r.length)return o.value;var a=r[o.index];s(_(n(e,a.loc.start.offset,a.loc.end.offset),t.source,a.loc.start.line,a.loc.start.column),e,t.source,a.loc.start.line,a.loc.start.column)}},e.exports=r()}).call(this,r(50))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return FilterEditor}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(104),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7__),react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__),prop_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__),_libs_filterops_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(129),_mdi_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(57),lodash__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(92),lodash__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_12__),_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(22),_InputSelect__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(52),_Block__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(24),_SingleFilterEditor__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(283),_FilterEditorBlock__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(284),_InputButton__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(28),_Doc__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(113),_ExpressionProperty__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(162),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};function combiningFilter(e){var t=e.filter||["all"];if(!Array.isArray(t))return t;var r=t[0],n=t.slice(1);return _libs_filterops_js__WEBPACK_IMPORTED_MODULE_10__.a.indexOf(r)<0&&(r="all",n=[t.slice(0)]),[r].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7___default()(n))}function migrateFilter(e){return Object(_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_13__.i)(createStyleFromFilter(e)).layers[0].filter}function createStyleFromFilter(e){return{id:"tmp",version:8,name:"Empty Style",metadata:{"maputnik:renderer":"mbgljs"},sources:{tmp:{type:"geojson",data:{}}},sprite:"",glyphs:"https://orangemug.github.io/font-glyphs/glyphs/{fontstack}/{range}.pbf",layers:[{id:"tmp",type:"fill",source:"tmp",filter:e}]}}var FILTER_OPS=["all","any","none"];function checkIfSimpleFilter(e){if(1===e.length&&FILTER_OPS.includes(e[0]))return!0;var t=Object(_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_13__.b)(e);return!Object(lodash__WEBPACK_IMPORTED_MODULE_12__.isEqual)(t,e)}function hasCombiningFilter(e){return _libs_filterops_js__WEBPACK_IMPORTED_MODULE_10__.a.indexOf(e[0])>=0}function hasNestedCombiningFilter(e){if(hasCombiningFilter(e)){e.slice(1);return e.slice(1).map((function(e){return hasCombiningFilter(e)})).filter((function(e){return 1==e})).length>0}return!1}var FilterEditor=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(FilterEditor,_React$Component);var _super=_createSuper(FilterEditor);function FilterEditor(e){var t;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,FilterEditor),t=_super.call(this),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"addFilterItem",(function(){var e=combiningFilter(t.props).slice(0);e.push(["==","name",""]),t.props.onChange(e)})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"onToggleDoc",(function(e){t.setState({showDoc:e})})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"makeFilter",(function(){t.setState({displaySimpleFilter:!0})})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"makeExpression",(function(){var e=combiningFilter(t.props);t.props.onChange(migrateFilter(e)),t.setState({displaySimpleFilter:!1})})),t.state={showDoc:!1,displaySimpleFilter:checkIfSimpleFilter(combiningFilter(e))},t}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(FilterEditor,[{key:"onFilterPartChanged",value:function(e,t){var r=combiningFilter(this.props).slice(0);r[e]=t,this.props.onChange(r)}},{key:"deleteFilterItem",value:function(e){var t=combiningFilter(this.props).slice(0);t.splice(e+1,1),this.props.onChange(t)}},{key:"render",value:function(){var e=this,t=this.props.errors,r=this.state.displaySimpleFilter,n={doc:_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_13__.h.layer.filter.doc+" Combine multiple filters together by using a compound filter."},i=["all"];if(r&&hasNestedCombiningFilter(combiningFilter(this.props)))return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:"maputnik-filter-editor-unsupported"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("p",null,"Nested filters are not supported."),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_InputButton__WEBPACK_IMPORTED_MODULE_18__.a,{onClick:this.makeExpression,title:"Convert to expression"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("svg",{style:{marginRight:"0.2em",width:"14px",height:"14px",verticalAlign:"middle"},viewBox:"0 0 24 24"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("path",{fill:"currentColor",d:_mdi_js__WEBPACK_IMPORTED_MODULE_11__.a})),"Upgrade to expression"));if(r){var o=combiningFilter(this.props),a=o[0],s=o.slice(1),l=react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_InputButton__WEBPACK_IMPORTED_MODULE_18__.a,{onClick:this.makeExpression,title:"Convert to expression",className:"maputnik-make-zoom-function"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("svg",{style:{width:"14px",height:"14px",verticalAlign:"middle"},viewBox:"0 0 24 24"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("path",{fill:"currentColor",d:_mdi_js__WEBPACK_IMPORTED_MODULE_11__.a})))),_=s.map((function(r,n){var i=t["filter[".concat(n+1,"]")];return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{key:"block-".concat(n)},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_FilterEditorBlock__WEBPACK_IMPORTED_MODULE_17__.a,{key:n,onDelete:e.deleteFilterItem.bind(e,n)},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_SingleFilterEditor__WEBPACK_IMPORTED_MODULE_16__.a,{properties:e.props.properties,filter:r,onChange:e.onFilterPartChanged.bind(e,n+1)})),i&&react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{key:"error",className:"maputnik-inline-error"},i.message))}));return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_8___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_Block__WEBPACK_IMPORTED_MODULE_15__.a,{key:"top",fieldSpec:n,label:"Filter",action:l},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_InputSelect__WEBPACK_IMPORTED_MODULE_14__.a,{value:a,onChange:this.onFilterPartChanged.bind(this,0),options:[["all","every filter matches"],["none","no filter matches"],["any","any filter matches"]]})),_,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{key:"buttons",className:"maputnik-filter-editor-add-wrapper"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_InputButton__WEBPACK_IMPORTED_MODULE_18__.a,{"data-wd-key":"layer-filter-button",className:"maputnik-add-filter",onClick:this.addFilterItem},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("path",{fill:"currentColor",d:_mdi_js__WEBPACK_IMPORTED_MODULE_11__.d}))," Add filter")),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{key:"doc",className:"maputnik-doc-inline",style:{display:this.state.showDoc?"":"none"}},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_Doc__WEBPACK_IMPORTED_MODULE_19__.a,{fieldSpec:n})))}var u=this.props.filter;return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_8___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_ExpressionProperty__WEBPACK_IMPORTED_MODULE_20__.a,{onDelete:function(){e.setState({displaySimpleFilter:!0}),e.props.onChange(i)},fieldName:"filter",fieldSpec:n,value:u,errors:t,onChange:this.props.onChange}),this.state.valueIsSimpleFilter&&react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:"maputnik-expr-infobox"},"You've entered a old style filter,"," ",react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("button",{onClick:this.makeFilter,className:"maputnik-expr-infobox__button"},"switch to filter editor")))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}],[{key:"getDerivedStateFromProps",value:function(e,t){e.filter;var r=checkIfSimpleFilter(combiningFilter(e));return r||!0!==t.displaySimpleFilter?r&&!1===t.displaySimpleFilter?{valueIsSimpleFilter:!0}:{valueIsSimpleFilter:!1}:{displaySimpleFilter:!1,valueIsSimpleFilter:!1}}}]),FilterEditor}(react__WEBPACK_IMPORTED_MODULE_8___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(FilterEditor,"propTypes",{properties:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object,filter:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.array,errors:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object,onChange:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func.isRequired}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(FilterEditor,"defaultProps",{filter:["all"]}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(combiningFilter,"combiningFilter","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\FilterEditor.jsx"),reactHotLoader.register(migrateFilter,"migrateFilter","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\FilterEditor.jsx"),reactHotLoader.register(createStyleFromFilter,"createStyleFromFilter","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\FilterEditor.jsx"),reactHotLoader.register(FILTER_OPS,"FILTER_OPS","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\FilterEditor.jsx"),reactHotLoader.register(checkIfSimpleFilter,"checkIfSimpleFilter","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\FilterEditor.jsx"),reactHotLoader.register(hasCombiningFilter,"hasCombiningFilter","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\FilterEditor.jsx"),reactHotLoader.register(hasNestedCombiningFilter,"hasNestedCombiningFilter","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\FilterEditor.jsx"),reactHotLoader.register(FilterEditor,"FilterEditor","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\FilterEditor.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return SingleFilterEditor}));var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(104),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),_libs_filterops_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(129),_InputString__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(37),_InputAutocomplete__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(87),_InputSelect__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(52),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};function tryParseInt(e){return""===e||isNaN(e)?e:parseFloat(e)}function tryParseBool(e){return"string"==typeof e?!!e.match(/^\s*true\s*$/)||!e.match(/^\s*false\s*$/)&&e:e}function parseFilter(e){return e=tryParseBool(e=tryParseInt(e))}var SingleFilterEditor=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(SingleFilterEditor,_React$Component);var _super=_createSuper(SingleFilterEditor);function SingleFilterEditor(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,SingleFilterEditor),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(SingleFilterEditor,[{key:"onFilterPartChanged",value:function(e,t,r){var n=[e,t].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(r.map(parseFilter)));"has"===e||"!has"===e?n=[e,t]:0===r.length&&(n=[e,t,""]),this.props.onChange(n)}},{key:"render",value:function(){var e=this,t=this.props.filter,r=t[0],n=t[1],i=t.slice(2);return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-filter-editor-single"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-filter-editor-property"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_InputAutocomplete__WEBPACK_IMPORTED_MODULE_11__.a,{"aria-label":"key",value:n,options:Object.keys(this.props.properties).map((function(e){return[e,e]})),onChange:function(t){return e.onFilterPartChanged(r,t,i)}})),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-filter-editor-operator"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_InputSelect__WEBPACK_IMPORTED_MODULE_12__.a,{"aria-label":"function",value:r,onChange:function(t){return e.onFilterPartChanged(t,n,i)},options:_libs_filterops_js__WEBPACK_IMPORTED_MODULE_9__.b})),i.length>0&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-filter-editor-args"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_InputString__WEBPACK_IMPORTED_MODULE_10__.a,{"aria-label":"value",value:i.join(","),onChange:function(t){return e.onFilterPartChanged(r,n,t.split(","))}})))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),SingleFilterEditor}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(SingleFilterEditor,"propTypes",{filter:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.array.isRequired,onChange:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired,properties:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(SingleFilterEditor,"defaultProps",{properties:{}}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(tryParseInt,"tryParseInt","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\SingleFilterEditor.jsx"),reactHotLoader.register(tryParseBool,"tryParseBool","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\SingleFilterEditor.jsx"),reactHotLoader.register(parseFilter,"parseFilter","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\SingleFilterEditor.jsx"),reactHotLoader.register(SingleFilterEditor,"SingleFilterEditor","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\SingleFilterEditor.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return FilterEditorBlock}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),_InputButton__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(28),react_icons_md__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(29),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},FilterEditorBlock=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(FilterEditorBlock,_React$Component);var _super=_createSuper(FilterEditorBlock);function FilterEditorBlock(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,FilterEditorBlock),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(FilterEditorBlock,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"maputnik-filter-editor-block"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"maputnik-filter-editor-block-action"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_InputButton__WEBPACK_IMPORTED_MODULE_8__.a,{className:"maputnik-delete-filter",onClick:this.props.onDelete,title:"Delete filter block"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_9__.f,null))),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"maputnik-filter-editor-block-content"},this.props.children))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),FilterEditorBlock}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(FilterEditorBlock,"propTypes",{onDelete:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,children:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.element.isRequired}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(FilterEditorBlock,"FilterEditorBlock","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\FilterEditorBlock.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return PropertyGroup}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),_FieldFunction__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(286),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},iconProperties=["background-pattern","fill-pattern","line-pattern","fill-extrusion-pattern","icon-image"];function getFieldSpec(e,t,r){var n=e[getGroupName(e,t,r)+"_"+t][r];return iconProperties.indexOf(r)>=0?_objectSpread(_objectSpread({},n),{},{values:e.$root.sprite.values}):"text-font"===r?_objectSpread(_objectSpread({},n),{},{values:e.$root.glyphs.values}):n}function getGroupName(e,t,r){return r in(e["paint_"+t]||{})?"paint":"layout"}var PropertyGroup=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(PropertyGroup,_React$Component);var _super=_createSuper(PropertyGroup);function PropertyGroup(){var e;_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,PropertyGroup);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=_super.call.apply(_super,[this].concat(r)),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(e),"onPropertyChange",(function(t,r){var n=getGroupName(e.props.spec,e.props.layer.type,t);e.props.onChange(n,t,r)})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(e),"onConvertedColorPropertyChange",(function(t,r){var n=getGroupName(e.props.spec,e.props.layer.type,t);e.props.onChange(n,t,convertStringColorToExpression(r))})),e}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(PropertyGroup,[{key:"render",value:function(){var e=this,t=this.props.errors,r=this.props.groupFields.map((function(r){var n=getFieldSpec(e.props.spec,e.props.layer.type,r),i=e.props.layer.paint||{},o=e.props.layer.layout||{},a=r in i?i[r]:o[r],s=r in i?"paint":"layout",l=isValueAColorExpression(a)?a[2]:a,_=isValueAColorExpression(a)?e.onConvertedColorPropertyChange:e.onPropertyChange;return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_FieldFunction__WEBPACK_IMPORTED_MODULE_9__.a,{errors:t,onChange:_,key:r,fieldName:r,value:l,fieldType:s,fieldSpec:n})}));return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-property-group"},r)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),PropertyGroup}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component),reactHotLoader,leaveModule;function isValueAColorExpression(e){return Array.isArray(e)&&3===e.length&&"string"===e[0]&&Array.isArray(e[1])&&"feature-state"===e[1][0]&&"color"===e[1][1]&&"string"==typeof e[2]}function convertStringColorToExpression(e){return"string"!=typeof e?e:["string",["feature-state","color"],e]}_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(PropertyGroup,"propTypes",{layer:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object.isRequired,groupFields:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.array.isRequired,onChange:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired,spec:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object.isRequired,errors:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(iconProperties,"iconProperties","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\PropertyGroup.jsx"),reactHotLoader.register(getFieldSpec,"getFieldSpec","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\PropertyGroup.jsx"),reactHotLoader.register(getGroupName,"getGroupName","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\PropertyGroup.jsx"),reactHotLoader.register(PropertyGroup,"PropertyGroup","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\PropertyGroup.jsx"),reactHotLoader.register(isValueAColorExpression,"isValueAColorExpression","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\PropertyGroup.jsx"),reactHotLoader.register(convertStringColorToExpression,"convertStringColorToExpression","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\PropertyGroup.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return FieldFunction}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(46),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_7__),react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__),prop_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__),_SpecProperty__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(287),_DataProperty__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(296),_ZoomProperty__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(297),_ExpressionProperty__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(162),_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(22),_util_spec_helper__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(66),enterModule;function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};function isLiteralExpression(e){return Array.isArray(e)&&2===e.length&&"literal"===e[0]}function isGetExpression(e){return Array.isArray(e)&&2===e.length&&"get"===e[0]}function isZoomField(e){return"object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_7___default()(e)&&e.stops&&void 0===e.property&&Array.isArray(e.stops)&&e.stops.length>1&&e.stops.every((function(e){return Array.isArray(e)&&2===e.length}))}function isIdentityProperty(e){return"object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_7___default()(e)&&"identity"===e.type&&e.hasOwnProperty("property")}function isDataStopProperty(e){return"object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_7___default()(e)&&e.stops&&void 0!==e.property&&e.stops.length>1&&Array.isArray(e.stops)&&e.stops.every((function(e){return Array.isArray(e)&&2===e.length&&"object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_7___default()(e[0])}))}function isDataField(e){return isIdentityProperty(e)||isDataStopProperty(e)}function isPrimative(e){return["string","boolean","number"].includes(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_7___default()(e))}function isArrayOfPrimatives(e){return!!Array.isArray(e)&&e.every(isPrimative)}function getDataType(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return void 0===e||isPrimative(e)||"array"===t.type&&isArrayOfPrimatives(e)?"value":isZoomField(e)?"zoom_function":isDataField(e)?"data_function":"expression"}var FieldFunction=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(FieldFunction,_React$Component);var _super=_createSuper(FieldFunction);function FieldFunction(e){var t;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,FieldFunction),t=_super.call(this),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"addStop",(function(){var e=t.props.value.stops.slice(0),r=e[e.length-1];"object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_7___default()(r[0])?e.push([{zoom:r[0].zoom+1,value:r[0].value},r[1]]):e.push([r[0]+1,r[1]]);var n=_objectSpread(_objectSpread({},t.props.value),{},{stops:e});t.props.onChange(t.props.fieldName,n)})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"deleteExpression",(function(){var e=t.props,r=e.fieldSpec,n=e.fieldName;t.props.onChange(n,r.default),t.setState({dataType:"value"})})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"deleteStop",(function(e){var r=t.props.value.stops.slice(0);r.splice(e,1);var n=_objectSpread(_objectSpread({},t.props.value),{},{stops:r});1===r.length&&(n=r[0][1]),t.props.onChange(t.props.fieldName,n)})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"makeZoomFunction",(function(){var e,r=t.props.value;e="object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_7___default()(r)?r.stops?{base:r.base,stops:r.stops.map((function(e){return[e[0].zoom,e[1]||Object(_util_spec_helper__WEBPACK_IMPORTED_MODULE_15__.a)(t.props.fieldSpec)]}))}:{base:r.base,stops:[[6,Object(_util_spec_helper__WEBPACK_IMPORTED_MODULE_15__.a)(t.props.fieldSpec)],[10,Object(_util_spec_helper__WEBPACK_IMPORTED_MODULE_15__.a)(t.props.fieldSpec)]]}:{stops:[[6,r||Object(_util_spec_helper__WEBPACK_IMPORTED_MODULE_15__.a)(t.props.fieldSpec)],[10,r||Object(_util_spec_helper__WEBPACK_IMPORTED_MODULE_15__.a)(t.props.fieldSpec)]]},t.props.onChange(t.props.fieldName,e)})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"undoExpression",(function(){var e=t.props,r=e.value,n=e.fieldName;isGetExpression(r)?(t.props.onChange(n,{type:"identity",property:r[1]}),t.setState({dataType:"value"})):isLiteralExpression(r)&&(t.props.onChange(n,r[1]),t.setState({dataType:"value"}))})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"canUndo",(function(){var e=t.props,r=e.value,n=e.fieldSpec;return isGetExpression(r)||isLiteralExpression(r)||isPrimative(r)||Array.isArray(r)&&"array"===n.type})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"makeExpression",(function(){var e,r=t.props,n=r.value,i=r.fieldSpec;e="object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_7___default()(n)&&"stops"in n?_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_14__.g.convertFunction(n,i):isIdentityProperty(n)?["get",n.property]:["literal",n||t.props.fieldSpec.default],t.props.onChange(t.props.fieldName,e)})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"makeDataFunction",(function(){var e,r=t.getFieldFunctionType(t.props.fieldSpec),n="categorical"===r?"":0,i=t.props.value;e="object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_7___default()(i)?i.stops?{property:"",type:r,base:i.base,stops:i.stops.map((function(e){return[{zoom:e[0],value:n},e[1]||Object(_util_spec_helper__WEBPACK_IMPORTED_MODULE_15__.a)(t.props.fieldSpec)]}))}:{property:"",type:r,base:i.base,stops:[[{zoom:6,value:n},Object(_util_spec_helper__WEBPACK_IMPORTED_MODULE_15__.a)(t.props.fieldSpec)],[{zoom:10,value:n},Object(_util_spec_helper__WEBPACK_IMPORTED_MODULE_15__.a)(t.props.fieldSpec)]]}:{property:"",type:r,base:i.base,stops:[[{zoom:6,value:n},t.props.value||Object(_util_spec_helper__WEBPACK_IMPORTED_MODULE_15__.a)(t.props.fieldSpec)],[{zoom:10,value:n},t.props.value||Object(_util_spec_helper__WEBPACK_IMPORTED_MODULE_15__.a)(t.props.fieldSpec)]]},t.props.onChange(t.props.fieldName,e)})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"onMarkEditing",(function(){t.setState({isEditing:!0})})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"onUnmarkEditing",(function(){t.setState({isEditing:!1})})),t.state={dataType:getDataType(e.value,e.fieldSpec),isEditing:!1},t}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(FieldFunction,[{key:"getFieldFunctionType",value:function(e){return e.expression.interpolated?"exponential":"number"===e.type?"interval":"categorical"}},{key:"render",value:function(){var e,t=this.state.dataType,r=this.props.fieldSpec.default===this.props.value?"maputnik-default-property":"maputnik-modified-property";return e="expression"===t?react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_ExpressionProperty__WEBPACK_IMPORTED_MODULE_13__.a,{errors:this.props.errors,onChange:this.props.onChange.bind(this,this.props.fieldName),canUndo:this.canUndo,onUndo:this.undoExpression,onDelete:this.deleteExpression,fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onFocus:this.onMarkEditing,onBlur:this.onUnmarkEditing}):"zoom_function"===t?react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_ZoomProperty__WEBPACK_IMPORTED_MODULE_12__.a,{errors:this.props.errors,onChange:this.props.onChange.bind(this),fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onDeleteStop:this.deleteStop,onAddStop:this.addStop,onChangeToDataFunction:this.makeDataFunction,onExpressionClick:this.makeExpression}):"data_function"===t?react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_DataProperty__WEBPACK_IMPORTED_MODULE_11__.a,{errors:this.props.errors,onChange:this.props.onChange.bind(this),fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onDeleteStop:this.deleteStop,onAddStop:this.addStop,onChangeToZoomFunction:this.makeZoomFunction,onExpressionClick:this.makeExpression}):react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_SpecProperty__WEBPACK_IMPORTED_MODULE_10__.a,{errors:this.props.errors,onChange:this.props.onChange.bind(this),fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onZoomClick:this.makeZoomFunction,onDataClick:this.makeDataFunction,onExpressionClick:this.makeExpression}),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:r,"data-wd-key":"spec-field:"+this.props.fieldName},e)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.isEditing?{}:{isEditing:!1,dataType:getDataType(e.value,e.fieldSpec)}}}]),FieldFunction}(react__WEBPACK_IMPORTED_MODULE_8___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(FieldFunction,"propTypes",{onChange:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func.isRequired,fieldName:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string.isRequired,fieldType:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string.isRequired,fieldSpec:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object.isRequired,errors:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object,value:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object,prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string,prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.bool,prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.array])}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(isLiteralExpression,"isLiteralExpression","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\FieldFunction.jsx"),reactHotLoader.register(isGetExpression,"isGetExpression","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\FieldFunction.jsx"),reactHotLoader.register(isZoomField,"isZoomField","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\FieldFunction.jsx"),reactHotLoader.register(isIdentityProperty,"isIdentityProperty","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\FieldFunction.jsx"),reactHotLoader.register(isDataStopProperty,"isDataStopProperty","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\FieldFunction.jsx"),reactHotLoader.register(isDataField,"isDataField","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\FieldFunction.jsx"),reactHotLoader.register(isPrimative,"isPrimative","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\FieldFunction.jsx"),reactHotLoader.register(isArrayOfPrimatives,"isArrayOfPrimatives","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\FieldFunction.jsx"),reactHotLoader.register(getDataType,"getDataType","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\FieldFunction.jsx"),reactHotLoader.register(FieldFunction,"FieldFunction","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\FieldFunction.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return SpecProperty}));var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(33),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),_SpecField__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(288),_FunctionButtons__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(295),_Block__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(24),_labelFromFieldName__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(97),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},SpecProperty=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(SpecProperty,_React$Component);var _super=_createSuper(SpecProperty);function SpecProperty(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,SpecProperty),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(SpecProperty,[{key:"render",value:function(){var e=this.props,t=e.errors,r=e.fieldName,n=e.fieldType,i=react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_FunctionButtons__WEBPACK_IMPORTED_MODULE_10__.a,{fieldSpec:this.props.fieldSpec,onZoomClick:this.props.onZoomClick,onDataClick:this.props.onDataClick,value:this.props.value,onExpressionClick:this.props.onExpressionClick}),o=t[n+"."+r];return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_SpecField__WEBPACK_IMPORTED_MODULE_9__.a,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},this.props,{error:o,fieldSpec:this.props.fieldSpec,label:Object(_labelFromFieldName__WEBPACK_IMPORTED_MODULE_12__.a)(this.props.fieldName),action:i}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),SpecProperty}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(SpecProperty,"propTypes",{onZoomClick:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired,onDataClick:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired,fieldName:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string,fieldType:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string,fieldSpec:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object,value:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.any,errors:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object,onExpressionClick:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(SpecProperty,"defaultProps",{errors:{}}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(SpecProperty,"SpecProperty","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\_SpecProperty.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return SpecField}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),_Block__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(24),_InputSpec__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(91),_Fieldset__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(201),_typeMap,enterModule;function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},typeMap=(_typeMap={color:function(){return _Block__WEBPACK_IMPORTED_MODULE_8__.a},enum:function(e){var t=e.fieldSpec;return Object.keys(t.values).length<=3?_Fieldset__WEBPACK_IMPORTED_MODULE_10__.a:_Block__WEBPACK_IMPORTED_MODULE_8__.a},number:function(){return _Block__WEBPACK_IMPORTED_MODULE_8__.a},boolean:function(){return _Block__WEBPACK_IMPORTED_MODULE_8__.a},array:function(){return _Fieldset__WEBPACK_IMPORTED_MODULE_10__.a},resolvedImage:function(){return _Block__WEBPACK_IMPORTED_MODULE_8__.a}},_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(_typeMap,"number",(function(){return _Block__WEBPACK_IMPORTED_MODULE_8__.a})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(_typeMap,"string",(function(){return _Block__WEBPACK_IMPORTED_MODULE_8__.a})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(_typeMap,"formatted",(function(){return _Block__WEBPACK_IMPORTED_MODULE_8__.a})),_typeMap),SpecField=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(SpecField,_React$Component);var _super=_createSuper(SpecField);function SpecField(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,SpecField),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(SpecField,[{key:"render",value:function(){var e,t=this.props,r=t.fieldSpec.type,n=typeMap[r];return n?e=n(t):(console.warn("No such type for '%s'",r),e=_Block__WEBPACK_IMPORTED_MODULE_8__.a),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(e,{label:t.label,action:t.action,fieldSpec:this.props.fieldSpec},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_InputSpec__WEBPACK_IMPORTED_MODULE_9__.a,t))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),SpecField}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(SpecField,"propTypes",_objectSpread(_objectSpread({},_InputSpec__WEBPACK_IMPORTED_MODULE_9__.a.propTypes),{},{name:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string})),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(typeMap,"typeMap","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\SpecField.jsx"),reactHotLoader.register(SpecField,"SpecField","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\SpecField.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return InputColor}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),color__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(125),color__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(color__WEBPACK_IMPORTED_MODULE_8__),react_color_lib_components_chrome_Chrome__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(290),react_color_lib_components_chrome_Chrome__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(react_color_lib_components_chrome_Chrome__WEBPACK_IMPORTED_MODULE_9__),prop_types__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__),lodash__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(92),lodash__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_11__),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};function formatColor(e){var t=e.rgb;return"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(t.a,")")}var InputColor=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(InputColor,_React$Component);var _super=_createSuper(InputColor);function InputColor(){var e;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,InputColor),e=_super.call(this),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(e),"state",{pickerOpened:!1}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(e),"calcPickerOffset",(function(){var t=e.colorInput;if(t){var r=t.getBoundingClientRect();return{top:r.top,left:r.left+196}}return{top:160,left:555}})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(e),"togglePicker",(function(){e.setState({pickerOpened:!e.state.pickerOpened})})),e.onChangeNoCheck=lodash__WEBPACK_IMPORTED_MODULE_11___default.a.throttle(e.onChangeNoCheck,1e3/30),e}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(InputColor,[{key:"onChangeNoCheck",value:function(e){this.props.onChange(e)}},{key:"color",get:function(){try{return color__WEBPACK_IMPORTED_MODULE_8___default()(this.props.value).rgb()}catch(e){return console.warn("Error parsing color: ",e),color__WEBPACK_IMPORTED_MODULE_8___default()("rgb(255,255,255)")}}},{key:"onChange",value:function(e){this.props.onChange(""===e?void 0:e)}},{key:"render",value:function(){var e=this,t=this.calcPickerOffset(),r=this.color.object();r={r:r.r,g:r.g,b:r.b,a:r.alpha};var n=react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-color-picker-offset",style:{position:"fixed",zIndex:1,left:t.left,top:t.top}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_color_lib_components_chrome_Chrome__WEBPACK_IMPORTED_MODULE_9___default.a,{color:r,onChange:function(t){return e.onChangeNoCheck(formatColor(t))}}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-color-picker-offset",onClick:this.togglePicker,style:{zIndex:-1,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}})),i={backgroundColor:this.props.value};return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-color-wrapper"},this.state.pickerOpened&&n,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-color-swatch",style:i}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("input",{"aria-label":this.props["aria-label"],spellCheck:"false",autoComplete:"off",className:"maputnik-color",ref:function(t){return e.colorInput=t},onClick:this.togglePicker,style:this.props.style,name:this.props.name,placeholder:this.props.default,value:this.props.value?this.props.value:"",onChange:function(t){return e.onChange(t.target.value)}}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),InputColor}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(InputColor,"propTypes",{onChange:prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired,name:prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.string,value:prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.string,doc:prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.string,style:prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.object,default:prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.string,"aria-label":prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.string}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(formatColor,"formatColor","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\InputColor.jsx"),reactHotLoader.register(InputColor,"InputColor","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\InputColor.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome=void 0;var n=c(r(1)),i=c(r(2)),o=c(r(77)),a=c(r(247)),s=r(250),l=c(r(518)),_=c(r(521)),u=c(r(522));function c(e){return e&&e.__esModule?e:{default:e}}var p=t.Chrome=function(e){var t=e.width,r=e.onChange,i=e.disableAlpha,c=e.rgb,p=e.hsl,d=e.hsv,h=e.hex,f=e.renderers,m=e.styles,y=void 0===m?{}:m,g=e.className,b=void 0===g?"":g,v=e.defaultView,E=(0,o.default)((0,a.default)({default:{picker:{width:t,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+c.r+", "+c.g+", "+c.b+", "+c.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},y),{disableAlpha:i});return n.default.createElement("div",{style:E.picker,className:"chrome-picker "+b},n.default.createElement("div",{style:E.saturation},n.default.createElement(s.Saturation,{style:E.Saturation,hsl:p,hsv:d,pointer:u.default,onChange:r})),n.default.createElement("div",{style:E.body},n.default.createElement("div",{style:E.controls,className:"flexbox-fix"},n.default.createElement("div",{style:E.color},n.default.createElement("div",{style:E.swatch},n.default.createElement("div",{style:E.active}),n.default.createElement(s.Checkboard,{renderers:f}))),n.default.createElement("div",{style:E.toggles},n.default.createElement("div",{style:E.hue},n.default.createElement(s.Hue,{style:E.Hue,hsl:p,pointer:_.default,onChange:r})),n.default.createElement("div",{style:E.alpha},n.default.createElement(s.Alpha,{style:E.Alpha,rgb:c,hsl:p,pointer:_.default,renderers:f,onChange:r})))),n.default.createElement(l.default,{rgb:c,hsl:p,hex:h,view:v,onChange:r,disableAlpha:i})))};p.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),disableAlpha:i.default.bool,styles:i.default.object,defaultView:i.default.oneOf(["hex","rgb","hsl"])},p.defaultProps={width:225,disableAlpha:!1,styles:{}},t.default=(0,s.ColorWrap)(p)},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return FieldArray}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),_InputString__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(37),_InputNumber__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(59),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},FieldArray=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(FieldArray,_React$Component);var _super=_createSuper(FieldArray);function FieldArray(e){var t;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,FieldArray),(t=_super.call(this,e)).state={value:t.props.value.slice(0),initialPropsValue:t.props.value.slice(0)},t}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(FieldArray,[{key:"isComplete",value:function(e){return Array(this.props.length).fill(null).every((function(t,r){var n=e[r];return!(void 0===n||""===n)}))}},{key:"changeValue",value:function(e,t){var r=this,n=this.state.value.slice(0);n[e]=t,this.setState({value:n},(function(){r.isComplete(n)?r.props.onChange(n):r.props.onChange(void 0)}))}},{key:"render",value:function(){var e=this,t=this.state.value,r=t.length>0&&!t.every((function(e){return""===e||void 0===e})),n=Array(this.props.length).fill(null).map((function(n,i){return"number"===e.props.type?react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_InputNumber__WEBPACK_IMPORTED_MODULE_9__.a,{key:i,default:r?void 0:e.props.default[i],value:t[i],required:!!r,onChange:e.changeValue.bind(e,i),"aria-label":e.props["aria-label"]||e.props.label}):react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_InputString__WEBPACK_IMPORTED_MODULE_8__.a,{key:i,default:r?void 0:e.props.default[i],value:t[i],required:!!r,onChange:e.changeValue.bind(e,i),"aria-label":e.props["aria-label"]||e.props.label})}));return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"maputnik-array"},n)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=[],n=t.initialPropsValue.slice(0);return Array(e.length).fill(null).map((function(i,o){e.value[o]===t.initialPropsValue[o]?r[o]=t.value[o]:(r[o]=t.value[o],n[o]=t.value[o])})),{value:r,initialPropsValue:n}}}]),FieldArray}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(FieldArray,"propTypes",{value:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.array,type:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string,length:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.number,default:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.array,onChange:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func,"aria-label":prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(FieldArray,"defaultProps",{value:[],default:[]}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(FieldArray,"FieldArray","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\InputArray.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return InputDynamicArray}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),_InputString__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(37),_InputNumber__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(59),_InputButton__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(28),react_icons_md__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(29),_FieldDocLabel__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(112),_InputEnum__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(163),lodash_capitalize__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(116),lodash_capitalize__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(lodash_capitalize__WEBPACK_IMPORTED_MODULE_15__),_InputUrl__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(293),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},InputDynamicArray=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(InputDynamicArray,_React$Component);var _super=_createSuper(InputDynamicArray);function InputDynamicArray(){var e;_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,InputDynamicArray);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=_super.call.apply(_super,[this].concat(r)),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(e),"addValue",(function(){var t=e.values.slice(0);if("number"===e.props.type)t.push(0);else if("url"===e.props.type)t.push("");else if("enum"===e.props.type){var r=e.props.fieldSpec,n=Object.keys(r.values)[0];t.push(n)}else t.push("");e.props.onChange(t)})),e}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(InputDynamicArray,[{key:"changeValue",value:function(e,t){var r=this.values.slice(0);r[e]=t,this.props.onChange(r)}},{key:"values",get:function(){return this.props.value||this.props.default||[]}},{key:"deleteValue",value:function(e){var t=this.values.slice(0);t.splice(e,1),this.props.onChange(t.length>0?t:void 0)}},{key:"render",value:function(){var e=this,t=this.values.map((function(t,r){var n,i=react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(DeleteValueInputButton,{onClick:e.deleteValue.bind(e,r)});if("url"===e.props.type)n=react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_InputUrl__WEBPACK_IMPORTED_MODULE_16__.a,{value:t,onChange:e.changeValue.bind(e,r),"aria-label":e.props["aria-label"]||e.props.label});else if("number"===e.props.type)n=react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_InputNumber__WEBPACK_IMPORTED_MODULE_10__.a,{value:t,onChange:e.changeValue.bind(e,r),"aria-label":e.props["aria-label"]||e.props.label});else if("enum"===e.props.type){var o=Object.keys(e.props.fieldSpec.values).map((function(e){return[e,lodash_capitalize__WEBPACK_IMPORTED_MODULE_15___default()(e)]}));n=react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_InputEnum__WEBPACK_IMPORTED_MODULE_14__.a,{options:o,value:t,onChange:e.changeValue.bind(e,r),"aria-label":e.props["aria-label"]||e.props.label})}else n=react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_InputString__WEBPACK_IMPORTED_MODULE_9__.a,{value:t,onChange:e.changeValue.bind(e,r),"aria-label":e.props["aria-label"]||e.props.label});return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{style:e.props.style,key:r,className:"maputnik-array-block"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-array-block-action"},i),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-array-block-content"},n))}));return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-array"},t,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_InputButton__WEBPACK_IMPORTED_MODULE_11__.a,{className:"maputnik-array-add-value",onClick:this.addValue},"Add value"))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),InputDynamicArray}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component);_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(InputDynamicArray,"propTypes",{value:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.array,type:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string,default:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.array,onChange:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func,style:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object,fieldSpec:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object,"aria-label":prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string});var DeleteValueInputButton=function(_React$Component2){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(DeleteValueInputButton,_React$Component2);var _super2=_createSuper(DeleteValueInputButton);function DeleteValueInputButton(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,DeleteValueInputButton),_super2.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(DeleteValueInputButton,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_InputButton__WEBPACK_IMPORTED_MODULE_11__.a,{className:"maputnik-delete-stop",onClick:this.props.onClick,title:"Remove array item"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_FieldDocLabel__WEBPACK_IMPORTED_MODULE_13__.a,{label:react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_12__.f,null)}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),DeleteValueInputButton}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(DeleteValueInputButton,"propTypes",{onClick:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(InputDynamicArray,"InputDynamicArray","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\InputDynamicArray.jsx"),reactHotLoader.register(DeleteValueInputButton,"DeleteValueInputButton","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\InputDynamicArray.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return FieldUrl}));var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(33),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(11),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__),react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__),prop_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__),_InputString__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(37),_SmallError__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(199),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};function validate(e){if(""!==e){var t,r=function(e){try{return new URL(e).protocol}catch(e){return}}(e),n="https:"===window.location.protocol;return r?r&&"http:"===r&&"https:"===window.location.protocol&&(t=react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_SmallError__WEBPACK_IMPORTED_MODULE_11__.a,null,"CORS policy won't allow fetching resources served over http from https, use a ",react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("code",null,"https://")," domain")):t=react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_SmallError__WEBPACK_IMPORTED_MODULE_11__.a,null,"Must provide protocol ",n?react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("code",null,"https://"):react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_8___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("code",null,"http://")," or ",react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("code",null,"https://"))),t}}var FieldUrl=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(FieldUrl,_React$Component);var _super=_createSuper(FieldUrl);function FieldUrl(e){var t;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,FieldUrl),t=_super.call(this,e),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(t),"onInput",(function(e){t.setState({error:validate(e)}),t.props.onInput(e)})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(t),"onChange",(function(e){t.setState({error:validate(e)}),t.props.onChange(e)})),t.state={error:validate(e.value)},t}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(FieldUrl,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_InputString__WEBPACK_IMPORTED_MODULE_10__.a,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},this.props,{onInput:this.onInput,onChange:this.onChange,"aria-label":this.props["aria-label"]})),this.state.error)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),FieldUrl}(react__WEBPACK_IMPORTED_MODULE_8___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(FieldUrl,"propTypes",{"data-wd-key":prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string,value:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string,style:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object,default:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string,onChange:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func,onInput:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func,multi:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.bool,required:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.bool,"aria-label":prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(FieldUrl,"defaultProps",{onInput:function(){}}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(validate,"validate","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\InputUrl.jsx"),reactHotLoader.register(FieldUrl,"FieldUrl","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\InputUrl.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return FieldFont}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),_InputAutocomplete__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(87),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},FieldFont=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(FieldFont,_React$Component);var _super=_createSuper(FieldFont);function FieldFont(e){var t;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,FieldFont),(t=_super.call(this,e)).state={values:t.props.value||t.props.default||[]},t}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(FieldFont,[{key:"changeFont",value:function(e,t){var r=this.state.values.slice(0);r[e]=t;var n=r.filter((function(e){return void 0!==e})).filter((function(e){return""!==e}));n.length&&this.props.fonts.indexOf(n[0])>-1&&this.props.onChange(n),this.setState({values:r})}},{key:"render",value:function(){var e=this,t=this.state.values.map((function(t,r){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("li",{key:r},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_InputAutocomplete__WEBPACK_IMPORTED_MODULE_8__.a,{"aria-label":e.props["aria-label"]||e.props.name,value:t,options:e.props.fonts.map((function(e){return[e,e]})),onChange:e.changeFont.bind(e,r)}))}));return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("ul",{className:"maputnik-font"},t)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),FieldFont}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(FieldFont,"propTypes",{value:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.array,default:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.array,fonts:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.array,style:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.object,onChange:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,"aria-label":prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(FieldFont,"defaultProps",{fonts:[]}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(FieldFont,"FieldFont","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\InputFont.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return FunctionInputButtons}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),_InputButton__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(28),react_icons_md__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(29),_mdi_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(57),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};function isExpression(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Array.isArray(e))return!1;try{return expression.createExpression(e,t),!0}catch(e){return!1}}var FunctionInputButtons=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(FunctionInputButtons,_React$Component);var _super=_createSuper(FunctionInputButtons);function FunctionInputButtons(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,FunctionInputButtons),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(FunctionInputButtons,[{key:"render",value:function(){var e,t,r;return this.props.fieldSpec.expression.parameters.includes("zoom")?(r=react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_InputButton__WEBPACK_IMPORTED_MODULE_8__.a,{className:"maputnik-make-zoom-function",onClick:this.props.onExpressionClick,title:"Convert to expression"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("svg",{style:{width:"14px",height:"14px",verticalAlign:"middle"},viewBox:"0 0 24 24"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("path",{fill:"currentColor",d:_mdi_js__WEBPACK_IMPORTED_MODULE_10__.a}))),e=react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_InputButton__WEBPACK_IMPORTED_MODULE_8__.a,{className:"maputnik-make-zoom-function",onClick:this.props.onZoomClick,title:"Convert property into a zoom function"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_9__.g,null)),"data-driven"===this.props.fieldSpec["property-type"]&&(t=react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_InputButton__WEBPACK_IMPORTED_MODULE_8__.a,{className:"maputnik-make-data-function",onClick:this.props.onDataClick,title:"Convert property to data function"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_9__.j,null))),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",null,r,t,e)):react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",null,r)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),FunctionInputButtons}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(FunctionInputButtons,"propTypes",{fieldSpec:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.object,onZoomClick:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func,onDataClick:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func,onExpressionClick:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(isExpression,"isExpression","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\_FunctionButtons.jsx"),reactHotLoader.register(FunctionInputButtons,"FunctionInputButtons","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\_FunctionButtons.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return DataProperty}));var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(31),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(46),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(11),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__),react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__),prop_types__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__),_mdi_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(57),_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(22),_InputButton__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(28),_InputSpec__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(91),_InputNumber__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(59),_InputString__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(37),_InputSelect__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(52),_Block__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(24),_libs_document_uid__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(164),_libs_sort_numerically__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(165),_util_spec_helper__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(66),_labelFromFieldName__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(97),_DeleteStopButton__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(166),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};function setStopRefs(e,t){var r;return e.value&&e.value.stops&&e.value.stops.forEach((function(e,n){t.refs.hasOwnProperty(n)||(r||(r=_objectSpread({},t)),r[n]=Object(_libs_document_uid__WEBPACK_IMPORTED_MODULE_19__.a)("stop-"))})),r}var DataProperty=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(DataProperty,_React$Component);var _super=_createSuper(DataProperty);function DataProperty(){var e;_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this,DataProperty);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=_super.call.apply(_super,[this].concat(r)),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(e),"state",{refs:{}}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(e),"onChange",(function(t,r){if("identity"===r.type)r={type:r.type,property:r.property};else{var n="categorical"===r.type?"":0;r=_objectSpread({property:"",type:r.type,stops:[[{zoom:6,value:n},Object(_util_spec_helper__WEBPACK_IMPORTED_MODULE_21__.a)(e.props.fieldSpec)],[{zoom:10,value:n},Object(_util_spec_helper__WEBPACK_IMPORTED_MODULE_21__.a)(e.props.fieldSpec)]]},r)}e.props.onChange(t,r)})),e}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(DataProperty,[{key:"componentDidMount",value:function(){var e=setStopRefs(this.props,this.state);e&&this.setState({refs:e})}},{key:"getFieldFunctionType",value:function(e){return e.expression.interpolated?"exponential":"number"===e.type?"interval":"categorical"}},{key:"getDataFunctionTypes",value:function(e){return e.expression.interpolated?["interpolate","categorical","interval","exponential","identity"]:["categorical","interval","identity"]}},{key:"orderStopsByZoom",value:function(e){var t=this,r=e.map((function(e,r){return{ref:t.state.refs[r],data:e}})).sort((function(e,t){return Object(_libs_sort_numerically__WEBPACK_IMPORTED_MODULE_20__.a)(e.data[0].zoom,t.data[0].zoom)})),n={};return r.forEach((function(e,t){n[t]=e.ref})),this.setState({refs:n}),r.map((function(e){return e.data}))}},{key:"changeStop",value:function(e,t,r){var n=this.props.value.stops.slice(0);n[e]=[_objectSpread(_objectSpread({},t),{},{zoom:void 0===t.zoom?0:t.zoom}),r];var i=this.orderStopsByZoom(n),o=_objectSpread(_objectSpread({},this.props.value),{},{stops:i});this.onChange(this.props.fieldName,o)}},{key:"changeBase",value:function(e){var t=_objectSpread(_objectSpread({},this.props.value),{},{base:e});void 0===t.base&&delete t.base,this.props.onChange(this.props.fieldName,t)}},{key:"changeDataType",value:function(e){"interpolate"===e?this.props.onChangeToZoomFunction():this.onChange(this.props.fieldName,_objectSpread(_objectSpread({},this.props.value),{},{type:e}))}},{key:"changeDataProperty",value:function(e,t){t?this.props.value[e]=t:delete this.props.value[e],this.onChange(this.props.fieldName,this.props.value)}},{key:"render",value:function(){var e,t=this,r=this.props,n=r.fieldName,i=r.fieldType,o=r.errors;return void 0===this.props.value.type&&(this.props.value.type=this.getFieldFunctionType(this.props.fieldSpec)),this.props.value.stops&&(e=this.props.value.stops.map((function(e,r){var a,s="object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1___default()(e[0])?e[0].zoom:void 0,l=t.state.refs[r],_="object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1___default()(e[0])?e[0].value:e[0],u=e[1],c=react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_DeleteStopButton__WEBPACK_IMPORTED_MODULE_23__.a,{onClick:t.props.onDeleteStop.bind(t,r)}),p={"aria-label":"Input value",label:"Data value",value:_,onChange:function(e){return t.changeStop(r,{zoom:s,value:e},u)}};a="categorical"===t.props.value.type?react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_InputString__WEBPACK_IMPORTED_MODULE_16__.a,p):react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_InputNumber__WEBPACK_IMPORTED_MODULE_15__.a,p);var d=null;void 0!==s&&(d=react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_InputNumber__WEBPACK_IMPORTED_MODULE_15__.a,{"aria-label":"Zoom",value:s,onChange:function(e){return t.changeStop(r,{zoom:e,value:_},u)},min:0,max:22})));var h="".concat(i,".").concat(n,".stops[").concat(r,"]");Object.entries(o).filter((function(e){var t=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(e,2),r=t[0];t[1];return r.startsWith(h)})).map((function(e){var t=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(e,2);t[0];return t[1].message})).join("");return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("tr",{key:l},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("td",null,d),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("td",null,a),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_InputSpec__WEBPACK_IMPORTED_MODULE_14__.a,{"aria-label":"Output value",fieldName:t.props.fieldName,fieldSpec:t.props.fieldSpec,value:u,onChange:function(e,n){return t.changeStop(r,{zoom:s,value:_},n)}})),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("td",null,c))}))),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"maputnik-data-spec-block"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("fieldset",{className:"maputnik-data-spec-property"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("legend",null,Object(_labelFromFieldName__WEBPACK_IMPORTED_MODULE_22__.a)(this.props.fieldName)),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"maputnik-data-fieldset-inner"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_Block__WEBPACK_IMPORTED_MODULE_18__.a,{label:"Function",key:"function"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"maputnik-data-spec-property-input"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_InputSelect__WEBPACK_IMPORTED_MODULE_17__.a,{value:this.props.value.type,onChange:function(e){return t.changeDataType(e)},title:"Select a type of data scale (default is 'categorical').",options:this.getDataFunctionTypes(this.props.fieldSpec)}))),"identity"!==this.props.value.type&&react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_Block__WEBPACK_IMPORTED_MODULE_18__.a,{label:"Base",key:"base"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"maputnik-data-spec-property-input"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_InputSpec__WEBPACK_IMPORTED_MODULE_14__.a,{fieldName:"base",fieldSpec:_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_12__.h.function.base,value:this.props.value.base,onChange:function(e,r){return t.changeBase(r)}}))),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_Block__WEBPACK_IMPORTED_MODULE_18__.a,{label:"Property",key:"property"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"maputnik-data-spec-property-input"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_InputString__WEBPACK_IMPORTED_MODULE_16__.a,{value:this.props.value.property,title:"Input a data property to base styles off of.",onChange:function(e){return t.changeDataProperty("property",e)}}))),e&&react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_Block__WEBPACK_IMPORTED_MODULE_18__.a,{label:"Default",key:"default"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_InputSpec__WEBPACK_IMPORTED_MODULE_14__.a,{fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value.default,onChange:function(e,r){return t.changeDataProperty("default",r)}})),e&&react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"maputnik-function-stop"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("table",{className:"maputnik-function-stop-table"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("caption",null,"Stops"),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("thead",null,react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("th",null,"Zoom"),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("th",null,"Input value"),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("th",{rowSpan:"2"},"Output value"))),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("tbody",null,e))),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"maputnik-toolbox"},e&&react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_InputButton__WEBPACK_IMPORTED_MODULE_13__.a,{className:"maputnik-add-stop",onClick:this.props.onAddStop.bind(this)},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("path",{fill:"currentColor",d:_mdi_js__WEBPACK_IMPORTED_MODULE_11__.d}))," Add stop"),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_InputButton__WEBPACK_IMPORTED_MODULE_13__.a,{className:"maputnik-add-stop",onClick:this.props.onExpressionClick.bind(this)},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("path",{fill:"currentColor",d:_mdi_js__WEBPACK_IMPORTED_MODULE_11__.a}))," Convert to expression")))))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=setStopRefs(e,t);return r?{refs:r}:null}}]),DataProperty}(react__WEBPACK_IMPORTED_MODULE_9___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(DataProperty,"propTypes",{onChange:prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func,onDeleteStop:prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func,onAddStop:prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func,onExpressionClick:prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func,fieldName:prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.string,fieldType:prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.string,fieldSpec:prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.object,value:prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.object,prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.string,prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.bool,prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.array]),errors:prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.object}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(setStopRefs,"setStopRefs","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\_DataProperty.jsx"),reactHotLoader.register(DataProperty,"DataProperty","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\_DataProperty.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return ZoomProperty}));var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(31),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(11),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__),react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__),prop_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__),_mdi_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(57),_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(22),_InputButton__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(28),_InputSpec__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(91),_InputNumber__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(59),_InputSelect__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(52),_Block__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(24),_DeleteStopButton__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(166),_labelFromFieldName__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(97),_libs_document_uid__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(164),_libs_sort_numerically__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(165),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};function setStopRefs(e,t){var r;return e.value&&e.value.stops&&e.value.stops.forEach((function(e,n){t.refs.hasOwnProperty(n)||(r||(r=_objectSpread({},t)),r[n]=Object(_libs_document_uid__WEBPACK_IMPORTED_MODULE_19__.a)("stop-"))})),r}var ZoomProperty=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(ZoomProperty,_React$Component);var _super=_createSuper(ZoomProperty);function ZoomProperty(){var e;_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,ZoomProperty);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=_super.call.apply(_super,[this].concat(r)),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(e),"state",{refs:{}}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(e),"changeDataType",(function(t){"interpolate"!==t&&e.props.onChangeToDataFunction(t)})),e}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(ZoomProperty,[{key:"componentDidMount",value:function(){var e=setStopRefs(this.props,this.state);e&&this.setState({refs:e})}},{key:"orderStopsByZoom",value:function(e){var t=this,r=e.map((function(e,r){return{ref:t.state.refs[r],data:e}})).sort((function(e,t){return Object(_libs_sort_numerically__WEBPACK_IMPORTED_MODULE_20__.a)(e.data[0],t.data[0])})),n={};return r.forEach((function(e,t){n[t]=e.ref})),this.setState({refs:n}),r.map((function(e){return e.data}))}},{key:"changeZoomStop",value:function(e,t,r){var n=this.props.value.stops.slice(0);n[e]=[t,r];var i=this.orderStopsByZoom(n),o=_objectSpread(_objectSpread({},this.props.value),{},{stops:i});this.props.onChange(this.props.fieldName,o)}},{key:"changeBase",value:function(e){var t=_objectSpread(_objectSpread({},this.props.value),{},{base:e});void 0===t.base&&delete t.base,this.props.onChange(this.props.fieldName,t)}},{key:"render",value:function(){var e=this,t=this.props,r=t.fieldName,n=t.fieldType,i=t.errors,o=this.props.value.stops.map((function(t,o){var a=t[0],s=e.state.refs[o],l=t[1],_=react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_DeleteStopButton__WEBPACK_IMPORTED_MODULE_17__.a,{onClick:e.props.onDeleteStop.bind(e,o)}),u="".concat(n,".").concat(r,".stops[").concat(o,"]");Object.entries(i).filter((function(e){var t=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(e,2),r=t[0];t[1];return r.startsWith(u)})).map((function(e){var t=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(e,2);t[0];return t[1].message})).join("");return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("tr",{key:s},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_InputNumber__WEBPACK_IMPORTED_MODULE_14__.a,{"aria-label":"Zoom",value:a,onChange:function(t){return e.changeZoomStop(o,t,l)},min:0,max:22})),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_InputSpec__WEBPACK_IMPORTED_MODULE_13__.a,{"aria-label":"Output value",fieldName:e.props.fieldName,fieldSpec:e.props.fieldSpec,value:l,onChange:function(t,r){return e.changeZoomStop(o,a,r)}})),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("td",null,_))}));return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:"maputnik-data-spec-block"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("fieldset",{className:"maputnik-data-spec-property"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("legend",null,Object(_labelFromFieldName__WEBPACK_IMPORTED_MODULE_18__.a)(this.props.fieldName)),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:"maputnik-data-fieldset-inner"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_Block__WEBPACK_IMPORTED_MODULE_16__.a,{label:"Function"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:"maputnik-data-spec-property-input"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_InputSelect__WEBPACK_IMPORTED_MODULE_15__.a,{value:"interpolate",onChange:function(t){return e.changeDataType(t)},title:"Select a type of data scale (default is 'categorical').",options:this.getDataFunctionTypes(this.props.fieldSpec)}))),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_Block__WEBPACK_IMPORTED_MODULE_16__.a,{label:"Base"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:"maputnik-data-spec-property-input"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_InputSpec__WEBPACK_IMPORTED_MODULE_13__.a,{fieldName:"base",fieldSpec:_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_11__.h.function.base,value:this.props.value.base,onChange:function(t,r){return e.changeBase(r)}}))),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:"maputnik-function-stop"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("table",{className:"maputnik-function-stop-table maputnik-function-stop-table--zoom"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("caption",null,"Stops"),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("thead",null,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("th",null,"Zoom"),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("th",{rowSpan:"2"},"Output value"))),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("tbody",null,o))),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:"maputnik-toolbox"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_InputButton__WEBPACK_IMPORTED_MODULE_12__.a,{className:"maputnik-add-stop",onClick:this.props.onAddStop.bind(this)},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("path",{fill:"currentColor",d:_mdi_js__WEBPACK_IMPORTED_MODULE_10__.d}))," Add stop"),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_InputButton__WEBPACK_IMPORTED_MODULE_12__.a,{className:"maputnik-add-stop",onClick:this.props.onExpressionClick.bind(this)},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("path",{fill:"currentColor",d:_mdi_js__WEBPACK_IMPORTED_MODULE_10__.a}))," Convert to expression")))))}},{key:"getDataFunctionTypes",value:function(e){return"data-driven"===e["property-type"]?["interpolate","categorical","interval","exponential","identity"]:["interpolate"]}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=setStopRefs(e,t);return r?{refs:r}:null}}]),ZoomProperty}(react__WEBPACK_IMPORTED_MODULE_8___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(ZoomProperty,"propTypes",{onChange:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func,onDeleteStop:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func,onAddStop:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func,onExpressionClick:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func,fieldType:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string,fieldName:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string,fieldSpec:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object,errors:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object,value:prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object,prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string,prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.bool,prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.array])}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(ZoomProperty,"defaultProps",{errors:{}}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(setStopRefs,"setStopRefs","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\_ZoomProperty.jsx"),reactHotLoader.register(ZoomProperty,"ZoomProperty","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\_ZoomProperty.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return LayerEditorGroup}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),_mdi_react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(202),_mdi_react__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_mdi_react__WEBPACK_IMPORTED_MODULE_8__),_mdi_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(57),react_accessible_accordion__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(107),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},LayerEditorGroup=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(LayerEditorGroup,_React$Component);var _super=_createSuper(LayerEditorGroup);function LayerEditorGroup(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,LayerEditorGroup),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(LayerEditorGroup,[{key:"render",value:function(){var e=this;return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_accessible_accordion__WEBPACK_IMPORTED_MODULE_10__.b,{uuid:this.props.id},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_accessible_accordion__WEBPACK_IMPORTED_MODULE_10__.d,{className:"maputnik-layer-editor-group","data-wd-key":"layer-editor-group:"+this.props["data-wd-key"],onClick:function(t){return e.props.onActiveToggle(!e.props.isActive)}},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_accessible_accordion__WEBPACK_IMPORTED_MODULE_10__.c,{className:"maputnik-layer-editor-group__button"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("span",{style:{flexGrow:1}},this.props.title),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_mdi_react__WEBPACK_IMPORTED_MODULE_8___default.a,{path:_mdi_js__WEBPACK_IMPORTED_MODULE_9__.c,size:1,className:"maputnik-layer-editor-group__button__icon maputnik-layer-editor-group__button__icon--up"}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_mdi_react__WEBPACK_IMPORTED_MODULE_8___default.a,{path:_mdi_js__WEBPACK_IMPORTED_MODULE_9__.b,size:1,className:"maputnik-layer-editor-group__button__icon maputnik-layer-editor-group__button__icon--down"}))),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_accessible_accordion__WEBPACK_IMPORTED_MODULE_10__.e,null,this.props.children))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),LayerEditorGroup}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(LayerEditorGroup,"propTypes",{id:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string,"data-wd-key":prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string,title:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string.isRequired,isActive:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool.isRequired,children:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.element.isRequired,onActiveToggle:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(LayerEditorGroup,"LayerEditorGroup","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\LayerEditorGroup.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return FieldMinZoom}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(22),_Block__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(24),_InputNumber__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(59),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},FieldMinZoom=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(FieldMinZoom,_React$Component);var _super=_createSuper(FieldMinZoom);function FieldMinZoom(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,FieldMinZoom),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(FieldMinZoom,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_Block__WEBPACK_IMPORTED_MODULE_9__.a,{label:"Min Zoom",fieldSpec:_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_8__.h.layer.minzoom,error:this.props.error,"data-wd-key":"min-zoom"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_InputNumber__WEBPACK_IMPORTED_MODULE_10__.a,{allowRange:!0,value:this.props.value,onChange:this.props.onChange,min:_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_8__.h.layer.minzoom.minimum,max:_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_8__.h.layer.minzoom.maximum,default:_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_8__.h.layer.minzoom.minimum}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),FieldMinZoom}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(FieldMinZoom,"propTypes",{value:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.number,onChange:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,error:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.object}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(FieldMinZoom,"FieldMinZoom","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\FieldMinZoom.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return FieldMaxZoom}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(22),_Block__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(24),_InputNumber__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(59),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},FieldMaxZoom=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(FieldMaxZoom,_React$Component);var _super=_createSuper(FieldMaxZoom);function FieldMaxZoom(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,FieldMaxZoom),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(FieldMaxZoom,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_Block__WEBPACK_IMPORTED_MODULE_9__.a,{label:"Max Zoom",fieldSpec:_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_8__.h.layer.maxzoom,error:this.props.error,"data-wd-key":"max-zoom"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_InputNumber__WEBPACK_IMPORTED_MODULE_10__.a,{allowRange:!0,value:this.props.value,onChange:this.props.onChange,min:_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_8__.h.layer.maxzoom.minimum,max:_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_8__.h.layer.maxzoom.maximum,default:_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_8__.h.layer.maxzoom.maximum}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),FieldMaxZoom}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(FieldMaxZoom,"propTypes",{value:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.number,onChange:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,error:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.object}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(FieldMaxZoom,"FieldMaxZoom","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\FieldMaxZoom.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return FieldComment}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),_Block__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(24),_InputString__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(37),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},FieldComment=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(FieldComment,_React$Component);var _super=_createSuper(FieldComment);function FieldComment(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,FieldComment),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(FieldComment,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_Block__WEBPACK_IMPORTED_MODULE_8__.a,{label:"Comments",fieldSpec:{doc:"Comments for the current layer. This is non-standard and not in the spec."},"data-wd-key":"layer-comment"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_InputString__WEBPACK_IMPORTED_MODULE_9__.a,{multi:!0,value:this.props.value,onChange:this.props.onChange,default:"Comment..."}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),FieldComment}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(FieldComment,"propTypes",{value:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string,onChange:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(FieldComment,"FieldComment","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\FieldComment.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return AppToolbar}));var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),react_icons_md__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(29),maputnik_design_logos_logo_color_svg__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(303),maputnik_design_logos_logo_color_svg__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(maputnik_design_logos_logo_color_svg__WEBPACK_IMPORTED_MODULE_10__),_package_json__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(204),_package_json__WEBPACK_IMPORTED_MODULE_11___namespace=__webpack_require__.t(204,1),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},IconText=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(IconText,_React$Component);var _super=_createSuper(IconText);function IconText(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,IconText),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(IconText,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",{className:"maputnik-icon-text"},this.props.children)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),IconText}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component);_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(IconText,"propTypes",{children:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.node});var ToolbarSelect=function(_React$Component2){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(ToolbarSelect,_React$Component2);var _super2=_createSuper(ToolbarSelect);function ToolbarSelect(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,ToolbarSelect),_super2.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(ToolbarSelect,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-toolbar-select","data-wd-key":this.props.wdKey},this.props.children)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ToolbarSelect}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component);_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(ToolbarSelect,"propTypes",{children:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.node,wdKey:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string});var ToolbarAction=function(_React$Component3){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(ToolbarAction,_React$Component3);var _super3=_createSuper(ToolbarAction);function ToolbarAction(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,ToolbarAction),_super3.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(ToolbarAction,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{className:"maputnik-toolbar-action","data-wd-key":this.props.wdKey,onClick:this.props.onClick},this.props.children)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ToolbarAction}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component);_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(ToolbarAction,"propTypes",{children:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.node,onClick:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func,wdKey:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string});var AppToolbar=function(_React$Component4){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(AppToolbar,_React$Component4);var _super4=_createSuper(AppToolbar);function AppToolbar(){var e;_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,AppToolbar);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=_super4.call.apply(_super4,[this].concat(r)),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0___default()(e),"state",{isOpen:{settings:!1,sources:!1,open:!1,add:!1,export:!1}}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0___default()(e),"onSkip",(function(e){"map"===e?document.querySelector(".mapboxgl-canvas").focus():document.querySelector("#skip-target-"+e).focus()})),e}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(AppToolbar,[{key:"selectBaseMap",value:function(e){this.props.onSetBaseMap(e)}},{key:"render",value:function(){var e=this,t=[{id:"blank",title:"No base map (blank)"},{id:"microsoft_light",title:"Microsoft light (road)"},{id:"microsoft_dark",title:"Microsoft dark (night)"},{id:"microsoft_grayscale_light",title:"Microsoft grayscale light"},{id:"microsoft_grayscale_dark",title:"Microsoft grayscale dark"},{id:"microsoft_shaded_relief",title:"Microsoft light (road_shaded_relief)"},{id:"microsoft_high_contrast_light",title:"Microsoft high contrast light"},{id:"microsoft_high_contrast_dark",title:"Microsoft high contrast dark"},{id:"microsoft_satellite",title:"Microsoft satellite"},{id:"microsoft_satellite_road",title:"Microsoft satellite with road labels"}],r=t.find((function(t){return t.id===e.props.baseMap}));return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("nav",{className:"maputnik-toolbar"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-toolbar__inner"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-toolbar-logo-container"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{"data-wd-key":"root:skip:layer-list",className:"maputnik-toolbar-skip",onClick:function(t){return e.onSkip("layer-list")}},"Layers list"),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{"data-wd-key":"root:skip:layer-editor",className:"maputnik-toolbar-skip",onClick:function(t){return e.onSkip("layer-editor")}},"Layer editor"),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{"data-wd-key":"root:skip:map-view",className:"maputnik-toolbar-skip",onClick:function(t){return e.onSkip("map")}},"Map view"),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("a",{className:"maputnik-toolbar-logo",target:"blank",rel:"noreferrer noopener",href:"https://github.com/azure/Azure-Maps-Style-Editor"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",{dangerouslySetInnerHTML:{__html:maputnik_design_logos_logo_color_svg__WEBPACK_IMPORTED_MODULE_10___default.a}}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("h1",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",{className:"maputnik-toolbar-name"},_package_json__WEBPACK_IMPORTED_MODULE_11__.name),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",{className:"maputnik-toolbar-version"},"v",_package_json__WEBPACK_IMPORTED_MODULE_11__.version)))),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-toolbar__actions",role:"navigation","aria-label":"Toolbar"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(ToolbarAction,{wdKey:"nav:open",onClick:this.props.onToggleModal.bind(this,"open")},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_9__.m,null),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(IconText,null,"Open")),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(ToolbarAction,{wdKey:"nav:export",onClick:this.props.onToggleModal.bind(this,"export")},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_9__.o,null),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(IconText,null,"Save")),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(ToolbarSelect,{wdKey:"nav:inspect"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_9__.k,null),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("label",null,"Base map",react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("select",{className:"maputnik-select",onChange:function(t){return e.selectBaseMap(t.target.value)},value:r.id},t.map((function(e){return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("option",{key:e.id,value:e.id},e.title)})))))),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-toolbar-info"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-toolbar-info-map-config-container"},this.props.mapData.mapId&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null,"Map Configuration ID   : ",this.props.mapData.mapId),this.props.mapData.alias&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null,"Map Configuration Alias: ",this.props.mapData.alias)),this.props.mapData.styleName&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",null,"Style: ",this.props.mapData.styleName))))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),AppToolbar}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(AppToolbar,"propTypes",{mapData:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object.isRequired,mapStyle:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object.isRequired,inspectModeEnabled:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.bool.isRequired,onStyleChanged:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired,onStyleOpen:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired,sources:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object.isRequired,children:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.node,onToggleModal:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func,onSetMapState:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func,mapState:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string,renderer:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(IconText,"IconText","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\AppToolbar.jsx"),reactHotLoader.register(ToolbarSelect,"ToolbarSelect","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\AppToolbar.jsx"),reactHotLoader.register(ToolbarAction,"ToolbarAction","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\AppToolbar.jsx"),reactHotLoader.register(AppToolbar,"AppToolbar","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\AppToolbar.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100"><g class="map" stroke="#000"><use xlink:href="#ref-1--map__main" fill="#4eba6f"></use><use xlink:href="#ref-1--map__line1" fill="none"></use><use xlink:href="#ref-1--map__line2" fill="none"></use><use xlink:href="#ref-1--map__line3" fill="none"></use></g><g class="palette"><use xlink:href="#ref-1--palette__main" fill="#fff" stroke="#000"></use><use xlink:href="#ref-1--palette__inner" fill="none" stroke="#000"></use><use xlink:href="#ref-1--palette__circle5" fill="#f7c44c"></use><use xlink:href="#ref-1--palette__circle4" fill="#4eba6f"></use><use xlink:href="#ref-1--palette__circle3" fill="#f7c44c"></use><use xlink:href="#ref-1--palette__circle2" fill="#4eba6f"></use><use xlink:href="#ref-1--palette__circle1" fill="#f7c44c"></use><use xlink:href="#ref-1--palette__circle0" fill="#4eba6f"></use></g><g class="brush" stroke="#000"><use xlink:href="#ref-1--brush__bottom" fill="#f7c44c"></use><use xlink:href="#ref-1--brush__top" fill="#fff"></use></g><defs><path id="ref-1--map__main" stroke-width="2.366" stroke-linejoin="round" d="M18.84 7.717l15.44 7.542 15.75-7.762 15.7 7.857L81.005 7.67 96.31 54.052 73.598 62.12 50.93 53.872l-25.1 8.066-22.668-8.066z"></path><path id="ref-1--map__line1" d="M65.556 15.07l7.647 46.838" stroke-width="1.104"></path><path id="ref-1--map__line2" d="M50.261 7.422l.717 46.6" stroke-width="1.104"></path><path id="ref-1--map__line3" d="M34.011 15.07l-8.603 46.6" stroke-width="1.104"></path><path id="ref-1--palette__main" stroke-width="2.3" d="M47.352 30.887c7.993.226 16.934 9.725 17.954 15.25 1.02 5.527-.743 11.125-4.298 13.875-3.554 2.75-8.6 2.905-8.723 8.302-.097 4.237 8.457 8.5 8.088 15.653-.406 7.857-15.508 13.15-30.943 6.102-8.556-3.906-14.249-13.653-13.385-26.238C16.833 52.334 22.32 43.658 27.382 39c5.977-5.503 11.977-8.337 19.97-8.112z"></path><circle id="ref-1--palette__inner" stroke-width="2.3" cx="41.873" cy="61.901" r="6.389"></circle><circle id="ref-1--palette__circle5" cy="44.56" cx="54.347" r="4.336"></circle><circle id="ref-1--palette__circle4" cx="40.443" cy="41.555" r="4.336"></circle><circle id="ref-1--palette__circle3" r="4.336" cy="51.102" cx="29.651"></circle><circle id="ref-1--palette__circle2" cx="25.293" cy="65.836" r="4.336"></circle><circle id="ref-1--palette__circle1" r="4.336" cy="79.326" cx="32.764"></circle><circle id="ref-1--palette__circle0" cx="46.669" cy="80.571" r="4.336"></circle><path id="ref-1--brush__bottom" d="M76.333 89.333c-1.645-9.794-4.375-35.26-4.32-37.887.056-2.627 2.52-4.34 5.36-4.317 2.842.022 5.098 1.87 5.314 4.27.107 1.2-1.576 28.06-2.318 37.844-.332 4.374-3.31 4.413-4.036.09z" stroke-width="2.3" stroke-linejoin="round"></path><path id="ref-1--brush__top" stroke-linejoin="round" stroke-width="2.3" d="M77.184 26.428s-5.621 7.02-5.621 11.978c0 4.957 2.206 6.878 5.81 6.878 3.606 0 5.148-1.708 5.29-6.736.142-5.028-5.479-12.12-5.479-12.12z"></path></defs></svg>'},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),_ScrollContainer__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(305),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},AppLayout=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(AppLayout,_React$Component);var _super=_createSuper(AppLayout);function AppLayout(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,AppLayout),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(AppLayout,[{key:"getChildContext",value:function(){return{reactIconBase:{size:14}}}},{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"maputnik-layout"},this.props.toolbar,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"maputnik-layout-list"},this.props.layerList),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"maputnik-layout-drawer"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_ScrollContainer__WEBPACK_IMPORTED_MODULE_8__.a,null,this.props.layerEditor)),this.props.map,this.props.bottom&&react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"maputnik-layout-bottom"},this.props.bottom),this.props.modals)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),AppLayout}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component);_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(AppLayout,"propTypes",{toolbar:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.element.isRequired,layerList:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.element.isRequired,layerEditor:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.element,map:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.element.isRequired,bottom:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.element,modals:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.node}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(AppLayout,"childContextTypes",{reactIconBase:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.object});var _default=AppLayout,reactHotLoader,leaveModule;__webpack_exports__.a=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(AppLayout,"AppLayout","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\AppLayout.jsx"),reactHotLoader.register(_default,"default","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\AppLayout.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return ScrollContainer}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},ScrollContainer=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(ScrollContainer,_React$Component);var _super=_createSuper(ScrollContainer);function ScrollContainer(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,ScrollContainer),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(ScrollContainer,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"maputnik-scroll-container"},this.props.children)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ScrollContainer}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(ScrollContainer,"propTypes",{children:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.node}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(ScrollContainer,"ScrollContainer","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\ScrollContainer.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return AppMessagePanel}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),_util_format__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(65),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},AppMessagePanel=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(AppMessagePanel,_React$Component);var _super=_createSuper(AppMessagePanel);function AppMessagePanel(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,AppMessagePanel),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(AppMessagePanel,[{key:"render",value:function(){var e=this,t=this.props.selectedLayerIndex,r=this.props.errors.map((function(r,n){var i;if(r.parsed&&"layer"===r.parsed.type){var o=r.parsed,a=e.props,s=a.mapStyle,l=(a.currentLayer,s.layers[o.data.index].id);i=react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment,null,"Layer ",react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("span",null,Object(_util_format__WEBPACK_IMPORTED_MODULE_8__.a)(l)),": ",o.data.message,t!==o.data.index&&react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment,null," — ",react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("button",{className:"maputnik-message-panel__switch-button",onClick:function(){return e.props.onLayerSelect(o.data.index)}},"switch to layer")))}else i=r.message;return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("p",{key:"error-"+n,className:"maputnik-message-panel-error"},i)}));return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"maputnik-message-panel"},r)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),AppMessagePanel}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(AppMessagePanel,"propTypes",{errors:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.array,mapStyle:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.object,onLayerSelect:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func,currentLayer:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.object,selectedLayerIndex:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.number}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(AppMessagePanel,"defaultProps",{onLayerSelect:function(){}}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(AppMessagePanel,"AppMessagePanel","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\AppMessagePanel.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return ModalExport}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),_FieldString__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(88),_InputButton__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(28),_ModalLoading__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(167),_ModalInfo__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(308),_ModalPrompt__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(309),_Modal__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(55),react_icons_md__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(29),_FieldCheckbox__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(310),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},ModalExport=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(ModalExport,_React$Component);var _super=_createSuper(ModalExport);function ModalExport(e){var t;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,ModalExport),t=_super.call(this,e),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"checkStringForLength",(function(e){return e.length>1e3?"too long - max 1000 characters":""})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"checkDescriptionString",(function(e){return t.checkStringForLength(e)})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"checkAliasString",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=t.checkStringForLength(e);return r||(t.isAliasAlreadyExists(e)?"alias already exists.":/[^0-9a-zA-Z-_]/.test(e)?"contains invalid characters":"")})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"isAliasAlreadyExists",(function(e){return t.props.azureMapsExtension.mapConfigurationList.filter((function(r){return(r.mapConfigurationId!==t.props.azureMapsExtension.mapConfigurationName||!t.state.deleteExistingMapConfig)&&r.alias===e})).length>0})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"onChangeAzureMapsStyleDescription",(function(e){t.setState({styleDescription:e,styleDescriptionError:t.checkDescriptionString(e)})})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"onChangeAzureMapsMapConfigurationDescription",(function(e){t.setState({mapConfigurationDescription:e,mapConfigurationDescriptionError:t.checkDescriptionString(e)})})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"onChangeAzureMapsMapConfigurationAlias",(function(e){t.setState({mapConfigurationAlias:e,mapConfigurationAliasError:t.checkAliasString(e)})})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"onClickUploadAzureMapsMapConfiguration",(function(e){e.preventDefault(),!!t.state.styleDescriptionError||!!t.state.mapConfigurationDescriptionError||!!t.state.mapConfigurationAliasError||(t.clearError(),t.props.azureMapsExtension.getMapConfigurationId(t.state.mapConfigurationAlias).then((function(e){e?t.setState({activePromptCallback:function(e){t.setState({activePromptCallback:null,activePromptMessage:""}),e&&t.uploadAzureMapsMapConfiguration()},activePromptMessage:"Map Configuration ID ".concat(e," will be deleted. Map Configuration Alias ").concat(t.state.mapConfigurationAlias," will point to the newly saved Map Configuration.")}):t.uploadAzureMapsMapConfiguration()})))})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"uploadAzureMapsMapConfiguration",(function(){var e,r;t.props.azureMapsExtension.uploadResultingStyle(t.props.mapStyle,e,t.state.styleDescription).then((function(n){if(!e)return t.setState({activeRequestMessage:"Successfully uploaded style! Uploading map configuration..."}),r=n,t.props.azureMapsExtension.uploadResultingMapConfiguration(n,e,t.state.mapConfigurationAlias,t.state.mapConfigurationDescription,t.state.deleteExistingMapConfig)})).then((function(n){e||(t.setState({activeInfo:["Success!","Style ID: "+r,"Map configuration ID: "+n,"Map configuration alias: "+t.state.mapConfigurationAlias],activeRequest:null,activeRequestMessage:""}),t.props.onSuccess(n,t.state.mapConfigurationAlias,t.state.mapConfigurationDescription,t.state.styleDescription),t.props.azureMapsExtension.updateMapConfigList().then((function(){t.setState({mapConfigurationAliasError:t.checkAliasString(t.state.mapConfigurationAlias)})})))})).catch((function(e){var r,n,i="Failed to upload map configuration";null!==(r=e.response)&&void 0!==r&&null!==(n=r.error)&&void 0!==n&&n.message&&(i=e.response.error.message),"user"===e.reason?i=null:(console.error(e),console.warn("Could not upload map configuration")),t.setState({error:i,activeRequest:null,activeRequestUrl:null})})),t.setState({activeRequest:{abort:function(){e=!0}},activeRequestMessage:"Uploading style..."})})),t.state={activeInfo:null,activePromptCallback:null,activePromptMessage:"",activeRequest:null,activeRequestMessage:"",error:null,styleDescription:t.props.styleDescription,mapConfigurationDescription:t.props.mapConfigurationDescription,mapConfigurationAlias:t.props.mapConfigurationAlias,styleDescriptionError:"",mapConfigurationDescriptionError:"",mapConfigurationAliasError:"",deleteExistingMapConfig:!0},t}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(ModalExport,[{key:"componentDidUpdate",value:function(e,t,r){e.mapConfigurationAlias!==this.props.mapConfigurationAlias&&this.setState({mapConfigurationAlias:this.props.mapConfigurationAlias}),e.mapConfigurationDescription!==this.props.mapConfigurationDescription&&this.setState({mapConfigurationDescription:this.props.mapConfigurationDescription}),e.styleDescription!==this.props.styleDescription&&this.setState({styleDescription:this.props.styleDescription})}},{key:"toggleDeleteExistingMapConfig",value:function(){var e=this;this.setState({deleteExistingMapConfig:!this.state.deleteExistingMapConfig},(function(){e.setState({mapConfigurationAliasError:e.checkAliasString(e.state.mapConfigurationAlias)})}))}},{key:"clearError",value:function(){this.setState({activeInfo:null,error:null})}},{key:"onCancelActiveRequest",value:function(e){e&&e.stopPropagation(),this.state.activeRequest&&(this.state.activeRequest.abort(),this.setState({activeRequest:null,activeRequestMessage:""}))}},{key:"onOpenToggle",value:function(){this.clearError(),this.props.onOpenToggle()}},{key:"render",value:function(){var e,t,r,n,i,o=this,a=!!(this.state.error||this.state.styleDescriptionError||this.state.mapConfigurationDescriptionError||this.state.mapConfigurationAliasError);this.state.error&&(e=react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",null,this.state.error,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("br",null))),this.state.styleDescriptionError&&(t=react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",null,"Style description: ",this.state.styleDescriptionError,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("br",null))),this.state.mapConfigurationDescriptionError&&(r=react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",null,"Map configuration description: ",this.state.mapConfigurationDescriptionError,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("br",null))),this.state.mapConfigurationAliasError&&(n=react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",null,"Map configuration alias: ",this.state.mapConfigurationAliasError,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("br",null))),a&&(i=react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-modal-error"},e,t,r,n,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("a",{href:"#",onClick:function(){return o.clearError()},className:"maputnik-modal-error-close"},"×")));var s="";return this.state.activeInfo&&(s=this.state.activeInfo.map((function(e,t){return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",{key:t},e)}))),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_Modal__WEBPACK_IMPORTED_MODULE_14__.a,{"data-wd-key":"modal:export",isOpen:this.props.isOpen,onOpenToggle:function(){return o.onOpenToggle()},title:"Upload style & map configuration",className:"maputnik-export-modal"},i,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("section",{className:"maputnik-modal-section"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("h1",null,"Azure Maps - style & map configuration"),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,"Upload current style & map configuration to your Creator's account."),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_FieldString__WEBPACK_IMPORTED_MODULE_9__.a,{label:"Style description",fieldSpec:{doc:react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,"A user-defined description for this style.")},value:this.state.styleDescription,onChange:this.onChangeAzureMapsStyleDescription,error:this.state.styleDescriptionError})),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_FieldString__WEBPACK_IMPORTED_MODULE_9__.a,{label:"Map configuration description",fieldSpec:{doc:react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,"A user-defined description for this map configuration.")},value:this.state.mapConfigurationDescription,onChange:this.onChangeAzureMapsMapConfigurationDescription,error:this.state.mapConfigurationDescriptionError}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_FieldString__WEBPACK_IMPORTED_MODULE_9__.a,{label:"Map configuration alias",fieldSpec:{doc:react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,"An alias used to reference this map configuration. Can contain alphanumeric characters (0-9, a-z, A-Z), hyphen (-) and underscore (_). If empty, this map configuration will need to be referenced by the map configuration ID."),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,"WARNING! Duplicate aliases are not allowed. If the alias of an existing map configuration is used, that map configuration will be overwritten."))},value:this.state.mapConfigurationAlias,onChange:this.onChangeAzureMapsMapConfigurationAlias,error:this.state.mapConfigurationAliasError})),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_FieldCheckbox__WEBPACK_IMPORTED_MODULE_16__.a,{label:"Delete existing map configuration Id: ".concat(this.props.azureMapsExtension.mapConfigurationName),value:this.state.deleteExistingMapConfig,onChange:this.toggleDeleteExistingMapConfig.bind(this)}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-modal-export-buttons"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_InputButton__WEBPACK_IMPORTED_MODULE_10__.a,{onClick:this.onClickUploadAzureMapsMapConfiguration.bind(this),disabled:a},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_15__.d,null),"Upload map configuration")))),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_ModalLoading__WEBPACK_IMPORTED_MODULE_11__.a,{isOpen:!!this.state.activeRequest,title:"Uploading...",onCancel:function(e){return o.onCancelActiveRequest(e)},message:this.state.activeRequestMessage}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_ModalInfo__WEBPACK_IMPORTED_MODULE_12__.a,{isOpen:!!this.state.activeInfo,onOpenToggle:function(){return o.onOpenToggle()},title:"Upload complete",message:s}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_ModalPrompt__WEBPACK_IMPORTED_MODULE_13__.a,{isOpen:!!this.state.activePromptCallback,onOpenToggle:function(e){return o.state.activePromptCallback(e)},title:"Warning",message:this.state.activePromptMessage}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ModalExport}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(ModalExport,"propTypes",{mapStyle:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object.isRequired,isOpen:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.bool.isRequired,onOpenToggle:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired,azureMapsExtension:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object.isRequired}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(ModalExport,"ModalExport","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\ModalExport.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return ModalInfo}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),_InputButton__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(28),_Modal__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(55),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},ModalInfo=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(ModalInfo,_React$Component);var _super=_createSuper(ModalInfo);function ModalInfo(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,ModalInfo),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(ModalInfo,[{key:"underlayOnClick",value:function(e){e.stopPropagation()}},{key:"render",value:function(){var e=this;return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_Modal__WEBPACK_IMPORTED_MODULE_9__.a,{"data-wd-key":"modal:info",isOpen:this.props.isOpen,underlayClickExits:!1,underlayProps:{onClick:function(t){return e.underlayOnClick(t)}},title:this.props.title,onOpenToggle:this.props.onOpenToggle},this.props.message,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("p",{className:"maputnik-dialog__buttons"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_InputButton__WEBPACK_IMPORTED_MODULE_8__.a,{onClick:this.props.onOpenToggle},"OK")))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ModalInfo}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(ModalInfo,"propTypes",{isOpen:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool.isRequired,onOpenToggle:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,title:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string.isRequired,message:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.node.isRequired}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(ModalInfo,"ModalInfo","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\ModalInfo.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return ModalPrompt}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),_InputButton__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(28),_Modal__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(55),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},ModalPrompt=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(ModalPrompt,_React$Component);var _super=_createSuper(ModalPrompt);function ModalPrompt(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,ModalPrompt),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(ModalPrompt,[{key:"underlayOnClick",value:function(e){e.stopPropagation()}},{key:"render",value:function(){var e=this;return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_Modal__WEBPACK_IMPORTED_MODULE_9__.a,{"data-wd-key":"modal:prompt",isOpen:this.props.isOpen,underlayClickExits:!1,underlayProps:{onClick:function(t){return e.underlayOnClick(t)}},title:this.props.title,onOpenToggle:this.props.onOpenToggle},this.props.message,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("p",{className:"maputnik-dialog__buttons"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_InputButton__WEBPACK_IMPORTED_MODULE_8__.a,{onClick:function(){return e.props.onOpenToggle(!0)}},"Continue"),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_InputButton__WEBPACK_IMPORTED_MODULE_8__.a,{onClick:function(){return e.props.onOpenToggle(!1)}},"Cancel")))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ModalPrompt}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(ModalPrompt,"propTypes",{isOpen:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool.isRequired,onOpenToggle:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,title:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string.isRequired,message:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.node.isRequired}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(ModalPrompt,"ModalPrompt","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\ModalPrompt.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return FieldCheckbox}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),_Block__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(24),_InputCheckbox__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(130),enterModule;function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},FieldCheckbox=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(FieldCheckbox,_React$Component);var _super=_createSuper(FieldCheckbox);function FieldCheckbox(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,FieldCheckbox),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(FieldCheckbox,[{key:"render",value:function(){var e=this.props;return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_Block__WEBPACK_IMPORTED_MODULE_7__.a,{label:this.props.label},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_InputCheckbox__WEBPACK_IMPORTED_MODULE_8__.a,e))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),FieldCheckbox}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(FieldCheckbox,"propTypes",_objectSpread({},_InputCheckbox__WEBPACK_IMPORTED_MODULE_8__.a.propTypes)),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(FieldCheckbox,"FieldCheckbox","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\FieldCheckbox.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return ModalOpen}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),_ModalLoading__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(167),_Modal__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(55),_InputButton__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(28),_InputString__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(37),_InputSelect__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(52),_libs_azure_maps_ext__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(108),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},ModalOpen=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(ModalOpen,_React$Component);var _super=_createSuper(ModalOpen);function ModalOpen(e){var t;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,ModalOpen),t=_super.call(this,e),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"onChangeAzureMapsSubscriptionKey",(function(e){t.setState({azMapsKey:e,azMapsMapConfigurationName:"",azMapsConfigTupleIndex:""})})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"onChangeAzureMapsDomain",(function(e){t.setState({azMapsDomain:e,azMapsMapConfigurationName:"",azMapsConfigTupleIndex:""})})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"onSubmitAzureMapsMapConfigurationList",(function(e){var r;e.preventDefault(),t.clearError(),_libs_azure_maps_ext__WEBPACK_IMPORTED_MODULE_14__.a.listMapConfigurations(t.state.azMapsDomain,t.state.azMapsKey,r).then((function(e){if(!r){t.setState({activeRequest:null,activeRequestMessage:""});var n=_libs_azure_maps_ext__WEBPACK_IMPORTED_MODULE_14__.a.ensureMapConfigurationListValidity(e),i=n.mapConfigurations.map((function(e){return e.alias?[e.mapConfigurationId,"".concat(e.mapConfigurationId,", ").concat(e.alias)]:[e.mapConfigurationId,e.mapConfigurationId]})),o=i.length?i[0][0]:"";t.setState({azMapsMapConfigurationList:n.mapConfigurations,azMapsMapConfigurationListOptions:i,azMapsMapConfigurationName:o,azMapsConfigTupleIndex:""}),1===n.mapConfigurations.length&&t.onSubmitAzureMapsMapConfiguration()}})).catch((function(e){var r,n,i="Failed to load Azure Maps map configuration list";null!==(r=e.response)&&void 0!==r&&null!==(n=r.error)&&void 0!==n&&n.message&&(i=e.response.error.message),"user"===e.reason?i=null:(console.error(e),console.warn("Could not fetch the map configuration list")),t.setState({error:i,activeRequest:null,activeRequestMessage:""})})),t.setState({activeRequest:{abort:function(){r=!0}},activeRequestMessage:"Loading: list of Azure Maps map configurations"})})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"onChangeAzureMapsMapConfigurationName",(function(e){t.setState({azMapsMapConfigurationName:e,azMapsConfigTupleIndex:""})})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"onSubmitAzureMapsMapConfiguration",(function(e){var r;e&&e.preventDefault(),t.clearError();var n=new _libs_azure_maps_ext__WEBPACK_IMPORTED_MODULE_14__.a.AzureMapsMapConfiguration;_libs_azure_maps_ext__WEBPACK_IMPORTED_MODULE_14__.a.getMapConfiguration(t.state.azMapsDomain,t.state.azMapsMapConfigurationName,t.state.azMapsKey,r).then((function(e){return n.load(e,r)})).then((function(){t.setState({activeRequest:null,activeRequestMessage:""}),t.setState({azMapsMapConfiguration:n,azMapsConfigTupleIndex:"0"}),1===n.configurations.length&&t.onSubmitAzureMapsStyle()})).catch((function(e){var r,n,i="Failed to load Azure Maps map configuration";null!==(r=e.response)&&void 0!==r&&null!==(n=r.error)&&void 0!==n&&n.message&&(i=e.response.error.message),"user"===e.reason?i=null:(console.error(e),console.warn("Could not fetch the map configuration")),t.setState({error:i,activeRequest:null,activeRequestMessage:""})})),t.setState({activeRequest:{abort:function(){r=!0}},activeRequestMessage:"Loading: map configuration's style + tileset tuples"})})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"onChangeAzureMapsconfigTupleIndex",(function(e){t.setState({azMapsConfigTupleIndex:e})})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(t),"onSubmitAzureMapsStyle",(function(e){var r;e&&e.preventDefault(),t.clearError(),t.props.azureMapsExtension.createResultingStyle(t.state.azMapsKey,t.state.azMapsDomain,t.state.azMapsMapConfigurationList,t.state.azMapsMapConfigurationName,t.state.azMapsMapConfiguration,t.state.azMapsConfigTupleIndex,r).then((function(e){r||(t.setState({activeRequest:null,activeRequestMessage:""}),t.props.onStyleOpen(e),t.onOpenToggle())})).catch((function(e){var r,n,i="Failed to load Azure Maps style";null!==(r=e.response)&&void 0!==r&&null!==(n=r.error)&&void 0!==n&&n.message&&(i=e.response.error.message),"user"===e.reason?i=null:(console.error(e),console.warn("Could not create the resulting style to edit")),t.setState({error:i,activeRequest:null,activeRequestMessage:""})})),t.setState({activeRequest:{abort:function(){r=!0}},activeRequestMessage:"Loading: Azure Maps style elements"})})),t.state={activeRequest:null,activeRequestMessage:"",error:null,azMapsKey:e.azureMapsExtension.subscriptionKey,azMapsDomain:e.azureMapsExtension.domain,azMapsMapConfigurationList:e.azureMapsExtension.mapConfigurationList.mapConfigurations,azMapsMapConfigurationListOptions:[],azMapsMapConfigurationName:e.azureMapsExtension.mapConfigurationName,azMapsMapConfiguration:e.azureMapsExtension.mapConfiguration,azMapsConfigTupleIndex:e.azureMapsExtension.configTupleIndex},t}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(ModalOpen,[{key:"clearError",value:function(){this.setState({error:null})}},{key:"onCancelActiveRequest",value:function(e){e&&e.stopPropagation(),this.state.activeRequest&&(this.state.activeRequest.abort(),this.setState({activeRequest:null,activeRequestMessage:""}))}},{key:"onOpenToggle",value:function(){this.clearError(),this.props.onOpenToggle()}},{key:"render",value:function(){var e,t=this;return this.state.error&&(e=react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-modal-error"},this.state.error,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("a",{href:"#",onClick:function(){return t.clearError()},className:"maputnik-modal-error-close"},"×"))),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_Modal__WEBPACK_IMPORTED_MODULE_10__.a,{"data-wd-key":"modal:open",isOpen:this.props.isOpen,onOpenToggle:function(){return t.onOpenToggle()},title:"Open style",underlayClickExits:!1},e,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("section",{className:"maputnik-modal-section"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("h1",null,"Azure Maps styles & map configurations"),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("form",{onSubmit:this.onSubmitAzureMapsMapConfigurationList},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-style-gallery-container"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,"Enter your Azure Maps subscription key"),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_InputString__WEBPACK_IMPORTED_MODULE_12__.a,{"aria-label":"Azure Maps subscription key for now. RBAC access will be implemented later.","data-wd-key":"modal:open.azuremaps.subscription_key",type:"password",default:"Azure Maps subscription key...",value:this.state.azMapsKey,onInput:this.onChangeAzureMapsSubscriptionKey,onChange:this.onChangeAzureMapsSubscriptionKey}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,"Select the geography of your Azure Maps Creator resource"),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_InputSelect__WEBPACK_IMPORTED_MODULE_13__.a,{"aria-label":"Azure Maps domain associated with the subscription.","data-wd-key":"modal:open.azuremaps.domain",options:this.props.azureMapsExtension.domains,value:this.state.azMapsDomain,onChange:this.onChangeAzureMapsDomain}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_InputButton__WEBPACK_IMPORTED_MODULE_11__.a,{"data-wd-key":"modal:open.azuremaps.get_style_set_list.button",type:"submit",className:"maputnik-big-button",disabled:this.state.azMapsKey.length<1},"Get map configuration list"))),this.state.azMapsMapConfigurationName&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("form",{onSubmit:this.onSubmitAzureMapsMapConfiguration},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-style-gallery-container"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,"Select the map configuration (mapconfigurationId, alias):"),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_InputSelect__WEBPACK_IMPORTED_MODULE_13__.a,{"aria-label":"Azure Maps map configuration list.","data-wd-key":"modal:open.azuremaps.style_set_list",options:this.state.azMapsMapConfigurationListOptions,value:this.state.azMapsMapConfigurationName,onChange:this.onChangeAzureMapsMapConfigurationName,style:{fontFamily:"monospace"}}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_InputButton__WEBPACK_IMPORTED_MODULE_11__.a,{"data-wd-key":"modal:open.azuremaps.load_style_set.button",type:"submit",className:"maputnik-big-button",disabled:!this.state.azMapsMapConfigurationName},"Load map configuration"))),this.state.azMapsConfigTupleIndex&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("form",{onSubmit:this.onSubmitAzureMapsStyle},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"maputnik-style-gallery-container"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,"Select the style:"),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_InputSelect__WEBPACK_IMPORTED_MODULE_13__.a,{"aria-label":"Azure Maps map configuration's style list.","data-wd-key":"modal:open.azuremaps.style_set_style_list",options:this.state.azMapsMapConfiguration.styleTuples.map((function(e,t){return[t,e.name]})),value:this.state.azMapsConfigTupleIndex,onChange:this.onChangeAzureMapsconfigTupleIndex}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_InputButton__WEBPACK_IMPORTED_MODULE_11__.a,{"data-wd-key":"modal:open.azuremaps.load_style_set_style.button",type:"submit",className:"maputnik-big-button",disabled:!this.state.azMapsConfigTupleIndex.length},"Load selected style"))))),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_ModalLoading__WEBPACK_IMPORTED_MODULE_9__.a,{isOpen:!!this.state.activeRequest,title:"Loading...",onCancel:function(e){return t.onCancelActiveRequest(e)},message:this.state.activeRequestMessage}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ModalOpen}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(ModalOpen,"propTypes",{onStyleOpen:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired,isOpen:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.bool.isRequired,onOpenToggle:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired,azureMapsExtension:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object.isRequired}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(ModalOpen,"ModalOpen","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\ModalOpen.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return ModalShortcuts}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),_Modal__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(55),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},ModalShortcuts=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(ModalShortcuts,_React$Component);var _super=_createSuper(ModalShortcuts);function ModalShortcuts(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,ModalShortcuts),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(ModalShortcuts,[{key:"render",value:function(){var e=[{key:react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("kbd",null,"?"),text:"Shortcuts menu"},{key:react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("kbd",null,"o"),text:"Open modal"},{key:react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("kbd",null,"s"),text:"Save modal"},{key:react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("kbd",null,"m"),text:"Focus map"},{key:react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("kbd",null,"!"),text:"Debug modal"}],t=[{key:react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("kbd",null,"+"),text:"Increase the zoom level by 1."},{key:react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("kbd",null,"Shift")," + ",react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("kbd",null,"+")),text:"Increase the zoom level by 2."},{key:react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("kbd",null,"-"),text:"Decrease the zoom level by 1."},{key:react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("kbd",null,"Shift")," + ",react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("kbd",null,"-")),text:"Decrease the zoom level by 2."},{key:react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("kbd",null,"Up"),text:"Pan up by 100 pixels."},{key:react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("kbd",null,"Down"),text:"Pan down by 100 pixels."},{key:react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("kbd",null,"Left"),text:"Pan left by 100 pixels."},{key:react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("kbd",null,"Right"),text:"Pan right by 100 pixels."},{key:react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("kbd",null,"Shift")," + ",react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("kbd",null,"Right")),text:"Increase the rotation by 15 degrees."},{key:react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("kbd",null,"Shift")," + ",react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("kbd",null,"Left")),text:"Decrease the rotation by 15 degrees."},{key:react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("kbd",null,"Shift")," + ",react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("kbd",null,"Up")),text:"Increase the pitch by 10 degrees."},{key:react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("kbd",null,"Shift")," + ",react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("kbd",null,"Down")),text:"Decrease the pitch by 10 degrees."}];return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_Modal__WEBPACK_IMPORTED_MODULE_8__.a,{"data-wd-key":"modal:shortcuts",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Shortcuts"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("section",{className:"maputnik-modal-section maputnik-modal-shortcuts"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("p",null,"Press ",react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("code",null,"ESC")," to lose focus of any active elements, then press one of:"),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("dl",null,e.map((function(e,t){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{key:t,className:"maputnik-modal-shortcuts__shortcut"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("dt",{key:"dt"+t},e.key),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("dd",{key:"dd"+t},e.text))}))),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("p",null,"If the Map is in focused you can use the following shortcuts"),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("ul",null,t.map((function(e,t){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("li",{key:t},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("span",null,e.key)," ",e.text)})))))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ModalShortcuts}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(ModalShortcuts,"propTypes",{isOpen:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool.isRequired,onOpenToggle:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(ModalShortcuts,"ModalShortcuts","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\ModalShortcuts.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return ModalDebug}));var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(31),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),_Modal__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(55),enterModule;function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},ModalDebug=function(_React$Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(ModalDebug,_React$Component);var _super=_createSuper(ModalDebug);function ModalDebug(){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,ModalDebug),_super.apply(this,arguments)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(ModalDebug,[{key:"render",value:function(){var e=this,t=this.props.mapView,r=Math.round(t.zoom)+1,n=Number.parseFloat(t.center.lng).toFixed(5),i=Number.parseFloat(t.center.lat).toFixed(5);return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_Modal__WEBPACK_IMPORTED_MODULE_9__.a,{"data-wd-key":"modal:debug",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Debug"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("section",{className:"maputnik-modal-section maputnik-modal-shortcuts"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("h1",null,"Options"),"mbgljs"===this.props.renderer&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("ul",null,Object.entries(this.props.mapboxGlDebugOptions).map((function(t){var r=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(t,2),n=r[0],i=r[1];return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("li",{key:n},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("label",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("input",{type:"checkbox",checked:i,onClick:function(t){return e.props.onChangeMaboxGlDebug(n,t.target.checked)}})," ",n))}))),"ol"===this.props.renderer&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("ul",null,Object.entries(this.props.openlayersDebugOptions).map((function(t){var r=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(t,2),n=r[0],i=r[1];return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("li",{key:n},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("label",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("input",{type:"checkbox",checked:i,onClick:function(t){return e.props.onChangeOpenlayersDebug(n,t.target.checked)}})," ",n))})))),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("section",{className:"maputnik-modal-section"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("h1",null,"Links"),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.openstreetmap.org/#map=".concat(r,"/").concat(i,"/").concat(n)},"Open in OSM")," — Opens the current view on openstreetmap.org")))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ModalDebug}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(ModalDebug,"propTypes",{isOpen:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.bool.isRequired,renderer:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string.isRequired,onChangeMaboxGlDebug:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired,onChangeOpenlayersDebug:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired,onOpenToggle:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired,mapboxGlDebugOptions:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object,openlayersDebugOptions:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object,mapView:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(ModalDebug,"ModalDebug","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\components\\ModalDebug.jsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(e){e.exports=JSON.parse('[{"id":"osm-liberty","title":"OSM Liberty","url":"https://maputnik.github.io/osm-liberty/style.json","thumbnail":"https://maputnik.github.io/thumbnails/osm-liberty.png"},{"id":"maptiler-basic-gl-style","title":"Maptiler Basic","url":"https://cdn.jsdelivr.net/gh/openmaptiles/klokantech-basic-gl-style@v1.9/style.json","thumbnail":"https://maputnik.github.io/thumbnails/klokantech-basic.png"},{"id":"dark-matter","title":"Dark Matter","url":"https://cdn.jsdelivr.net/gh/openmaptiles/dark-matter-gl-style@v1.8/style.json","thumbnail":"https://maputnik.github.io/thumbnails/dark-matter.png"},{"id":"positron","title":"Positron","url":"https://cdn.jsdelivr.net/gh/openmaptiles/positron-gl-style@v1.8/style.json","thumbnail":"https://maputnik.github.io/thumbnails/positron.png"},{"id":"osm-bright","title":"OSM Bright","url":"https://cdn.jsdelivr.net/gh/openmaptiles/osm-bright-gl-style@v1.9/style.json","thumbnail":"https://maputnik.github.io/thumbnails/osm-bright.png"},{"id":"maptiler-toner-gl-style","title":"Toner","url":"https://cdn.jsdelivr.net/gh/openmaptiles/toner-gl-style@339e5b7/style.json","thumbnail":"https://maputnik.github.io/thumbnails/toner.png"},{"id":"os-zoomstack-outdoor","title":"Zoomstack Outdoor","url":"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/styles/open-zoomstack-outdoor/style.json","thumbnail":"https://maputnik.github.io/thumbnails/os-zoomstack-outdoor.png"},{"id":"os-zoomstack-road","title":"Zoomstack Road","url":"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/styles/open-zoomstack-road/style.json","thumbnail":"https://maputnik.github.io/thumbnails/os-zoomstack-road.png"},{"id":"os-zoomstack-light","title":"Zoomstack Light","url":"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/styles/open-zoomstack-light/style.json","thumbnail":"https://maputnik.github.io/thumbnails/os-zoomstack-light.png"},{"id":"os-zoomstack-night","title":"Zoomstack Night","url":"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/styles/open-zoomstack-night/style.json","thumbnail":"https://maputnik.github.io/thumbnails/os-zoomstack-night.png"},{"id":"empty-style","title":"Empty Style","url":"https://cdn.jsdelivr.net/gh/maputnik/editor@9cf74ca405d2be0608b57db8109cf3a6af5b9f49/src/config/empty-style.json","thumbnail":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAQAAAAHDYbIAAAAEUlEQVR42mP8/58BDhiJ4wAA974H/U5Xe1oAAAAASUVORK5CYII="}]')},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return ApiStyleStore}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_style_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(58),_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(22),reconnecting_websocket__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(316),enterModule;enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},ApiStyleStore=function(){function ApiStyleStore(e){_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,ApiStyleStore),this.onLocalStyleChange=e.onLocalStyleChange||function(){};var t=e.port||"8000",r=e.host||"localhost";this.localUrl="http://".concat(r,":").concat(t),this.websocketUrl="ws://".concat(r,":").concat(t,"/ws"),this.init=this.init.bind(this)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(ApiStyleStore,[{key:"init",value:function(e){var t=this;fetch(this.localUrl+"/styles",{mode:"cors"}).then((function(e){return e.json()})).then((function(r){var n=r;t.latestStyleId=n[0],t.notifyLocalChanges(),e(null)})).catch((function(t){e(new Error("Can not connect to style API"))}))}},{key:"notifyLocalChanges",value:function(){var e=this;new reconnecting_websocket__WEBPACK_IMPORTED_MODULE_4__.a(this.websocketUrl).onmessage=function(t){if(t.data){console.log("Received style update from API");var r=_style_js__WEBPACK_IMPORTED_MODULE_2__.a.emptyStyle;try{r=JSON.parse(t.data)}catch(e){console.error(e)}var n=_style_js__WEBPACK_IMPORTED_MODULE_2__.a.ensureStyleValidity(r);e.onLocalStyleChange(n)}}}},{key:"latestStyle",value:function(e){if(!this.latestStyleId)throw new Error("No latest style available. You need to init the api backend first.");fetch(this.localUrl+"/styles/"+this.latestStyleId,{mode:"cors"}).then((function(e){return e.json()})).then((function(t){e(_style_js__WEBPACK_IMPORTED_MODULE_2__.a.ensureStyleValidity(t))}))}},{key:"save",value:function(e){var t=Object(_mapbox_mapbox_gl_style_spec__WEBPACK_IMPORTED_MODULE_3__.f)(_style_js__WEBPACK_IMPORTED_MODULE_2__.a.stripAccessTokens(_style_js__WEBPACK_IMPORTED_MODULE_2__.a.replaceAccessTokens(e))),r=e.id;return fetch(this.localUrl+"/styles/"+r,{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"},body:t}).catch((function(e){e&&console.error(e)})),e}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ApiStyleStore}(),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(ApiStyleStore,"ApiStyleStore","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\apistore.js"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(e,t,r){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function o(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function a(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e}var s=function(e,t){this.target=t,this.type=e},l=function(e){function t(t,r){var n=e.call(this,"error",r)||this;return n.message=t.message,n.error=t,n}return i(t,e),t}(s),_=function(e){function t(t,r,n){void 0===t&&(t=1e3),void 0===r&&(r="");var i=e.call(this,"close",n)||this;return i.wasClean=!0,i.code=t,i.reason=r,i}return i(t,e),t}(s),u=function(){if("undefined"!=typeof WebSocket)return WebSocket},c={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+4e3*Math.random(),minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0,startClosed:!1,debug:!1},p=function(){function e(e,t,r){var n=this;void 0===r&&(r={}),this._listeners={error:[],message:[],open:[],close:[]},this._retryCount=-1,this._shouldReconnect=!0,this._connectLock=!1,this._binaryType="blob",this._closeCalled=!1,this._messageQueue=[],this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this._handleOpen=function(e){n._debug("open event");var t=n._options.minUptime,r=void 0===t?c.minUptime:t;clearTimeout(n._connectTimeout),n._uptimeTimeout=setTimeout((function(){return n._acceptOpen()}),r),n._ws.binaryType=n._binaryType,n._messageQueue.forEach((function(e){return n._ws.send(e)})),n._messageQueue=[],n.onopen&&n.onopen(e),n._listeners.open.forEach((function(t){return n._callEventListener(e,t)}))},this._handleMessage=function(e){n._debug("message event"),n.onmessage&&n.onmessage(e),n._listeners.message.forEach((function(t){return n._callEventListener(e,t)}))},this._handleError=function(e){n._debug("error event",e.message),n._disconnect(void 0,"TIMEOUT"===e.message?"timeout":void 0),n.onerror&&n.onerror(e),n._debug("exec error listeners"),n._listeners.error.forEach((function(t){return n._callEventListener(e,t)})),n._connect()},this._handleClose=function(e){n._debug("close event"),n._clearTimeouts(),n._shouldReconnect&&n._connect(),n.onclose&&n.onclose(e),n._listeners.close.forEach((function(t){return n._callEventListener(e,t)}))},this._url=e,this._protocols=t,this._options=r,this._options.startClosed&&(this._shouldReconnect=!1),this._connect()}return Object.defineProperty(e,"CONNECTING",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e,"OPEN",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CLOSING",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CLOSED",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CONNECTING",{get:function(){return e.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OPEN",{get:function(){return e.OPEN},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CLOSING",{get:function(){return e.CLOSING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CLOSED",{get:function(){return e.CLOSED},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"binaryType",{get:function(){return this._ws?this._ws.binaryType:this._binaryType},set:function(e){this._binaryType=e,this._ws&&(this._ws.binaryType=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"retryCount",{get:function(){return Math.max(this._retryCount,0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bufferedAmount",{get:function(){return this._messageQueue.reduce((function(e,t){return"string"==typeof t?e+=t.length:t instanceof Blob?e+=t.size:e+=t.byteLength,e}),0)+(this._ws?this._ws.bufferedAmount:0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extensions",{get:function(){return this._ws?this._ws.extensions:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"protocol",{get:function(){return this._ws?this._ws.protocol:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readyState",{get:function(){return this._ws?this._ws.readyState:this._options.startClosed?e.CLOSED:e.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._ws?this._ws.url:""},enumerable:!0,configurable:!0}),e.prototype.close=function(e,t){void 0===e&&(e=1e3),this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),this._ws?this._ws.readyState!==this.CLOSED?this._ws.close(e,t):this._debug("close: already closed"):this._debug("close enqueued: no ws instance")},e.prototype.reconnect=function(e,t){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,this._ws&&this._ws.readyState!==this.CLOSED?(this._disconnect(e,t),this._connect()):this._connect()},e.prototype.send=function(e){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",e),this._ws.send(e);else{var t=this._options.maxEnqueuedMessages,r=void 0===t?c.maxEnqueuedMessages:t;this._messageQueue.length<r&&(this._debug("enqueue",e),this._messageQueue.push(e))}},e.prototype.addEventListener=function(e,t){this._listeners[e]&&this._listeners[e].push(t)},e.prototype.dispatchEvent=function(e){var t,r,n=this._listeners[e.type];if(n)try{for(var i=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}(n),o=i.next();!o.done;o=i.next()){var a=o.value;this._callEventListener(e,a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return!0},e.prototype.removeEventListener=function(e,t){this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter((function(e){return e!==t})))},e.prototype._debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._options.debug&&console.log.apply(console,a(["RWS>"],e))},e.prototype._getNextDelay=function(){var e=this._options,t=e.reconnectionDelayGrowFactor,r=void 0===t?c.reconnectionDelayGrowFactor:t,n=e.minReconnectionDelay,i=void 0===n?c.minReconnectionDelay:n,o=e.maxReconnectionDelay,a=void 0===o?c.maxReconnectionDelay:o,s=0;return this._retryCount>0&&(s=i*Math.pow(r,this._retryCount-1))>a&&(s=a),this._debug("next delay",s),s},e.prototype._wait=function(){var e=this;return new Promise((function(t){setTimeout(t,e._getNextDelay())}))},e.prototype._getNextUrl=function(e){if("string"==typeof e)return Promise.resolve(e);if("function"==typeof e){var t=e();if("string"==typeof t)return Promise.resolve(t);if(t.then)return t}throw Error("Invalid URL")},e.prototype._connect=function(){var e=this;if(!this._connectLock&&this._shouldReconnect){this._connectLock=!0;var t=this._options,r=t.maxRetries,n=void 0===r?c.maxRetries:r,i=t.connectionTimeout,o=void 0===i?c.connectionTimeout:i,a=t.WebSocket,s=void 0===a?u():a;if(this._retryCount>=n)this._debug("max retries reached",this._retryCount,">=",n);else{if(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),void 0===(l=s)||!l||2!==l.CLOSING)throw Error("No valid WebSocket class provided");var l;this._wait().then((function(){return e._getNextUrl(e._url)})).then((function(t){e._closeCalled||(e._debug("connect",{url:t,protocols:e._protocols}),e._ws=e._protocols?new s(t,e._protocols):new s(t),e._ws.binaryType=e._binaryType,e._connectLock=!1,e._addListeners(),e._connectTimeout=setTimeout((function(){return e._handleTimeout()}),o))}))}}},e.prototype._handleTimeout=function(){this._debug("timeout event"),this._handleError(new l(Error("TIMEOUT"),this))},e.prototype._disconnect=function(e,t){if(void 0===e&&(e=1e3),this._clearTimeouts(),this._ws){this._removeListeners();try{this._ws.close(e,t),this._handleClose(new _(e,t,this))}catch(e){}}},e.prototype._acceptOpen=function(){this._debug("accept open"),this._retryCount=0},e.prototype._callEventListener=function(e,t){"handleEvent"in t?t.handleEvent(e):t(e)},e.prototype._removeListeners=function(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))},e.prototype._addListeners=function(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))},e.prototype._clearTimeouts=function(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)},e}();t.a=p},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return LayerWatcher}));var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),lodash_throttle__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(318),lodash_throttle__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash_throttle__WEBPACK_IMPORTED_MODULE_3__),lodash_isequal__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(111),lodash_isequal__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(lodash_isequal__WEBPACK_IMPORTED_MODULE_4__),enterModule;function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},LayerWatcher=function(){function LayerWatcher(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,LayerWatcher),this.onSourcesChange=e.onSourcesChange||function(){},this.onVectorLayersChange=e.onVectorLayersChange||function(){},this._sources={},this._vectorLayers={},this.throttledAnalyzeVectorLayerFields=lodash_throttle__WEBPACK_IMPORTED_MODULE_3___default()(this.analyzeVectorLayerFields,5e3)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(LayerWatcher,[{key:"analyzeMap",value:function(e){var t=this,r=_objectSpread({},this._sources);Object.keys(e.style.sourceCaches).forEach((function(r){t._sources[r]=e.style.sourceCaches[r]._source.vectorLayerIds})),lodash_isequal__WEBPACK_IMPORTED_MODULE_4___default()(r,this._sources)||this.onSourcesChange(this._sources),this.throttledAnalyzeVectorLayerFields(e)}},{key:"analyzeVectorLayerFields",value:function(e){var t=this,r=_objectSpread({},this._vectorLayers);Object.keys(this._sources).forEach((function(r){(t._sources[r]||[]).forEach((function(n){var i=t._vectorLayers[n]||{},o={sourceLayer:n};e.querySourceFeatures(r,o).forEach((function(e){Object.keys(e.properties).forEach((function(t){var r=i[t]||{};r[e.properties[t]]={},i[t]=r}))})),t._vectorLayers[n]=i}))})),lodash_isequal__WEBPACK_IMPORTED_MODULE_4___default()(r,this._vectorLayers)||this.onVectorLayersChange(this._vectorLayers)}},{key:"sources",get:function(){return this._sources}},{key:"vectorLayers",get:function(){return this._vectorLayers}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),LayerWatcher}(),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(LayerWatcher,"LayerWatcher","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\layerwatcher.js"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(14)(module))},function(e,t,r){(function(t){var r=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,s="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,_=s||l||Function("return this")(),u=Object.prototype.toString,c=Math.max,p=Math.min,d=function(){return _.Date.now()};function h(e,t,r){var n,i,o,a,s,l,_=0,u=!1,h=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var r=n,o=i;return n=i=void 0,_=t,a=e.apply(o,r)}function b(e){return _=e,s=setTimeout(E,t),u?g(e):a}function v(e){var r=e-l;return void 0===l||r>=t||r<0||h&&e-_>=o}function E(){var e=d();if(v(e))return O(e);s=setTimeout(E,function(e){var r=t-(e-l);return h?p(r,o-(e-_)):r}(e))}function O(e){return s=void 0,y&&n?g(e):(n=i=void 0,a)}function M(){var e=d(),r=v(e);if(n=arguments,i=this,l=e,r){if(void 0===s)return b(l);if(h)return s=setTimeout(E,t),g(l)}return void 0===s&&(s=setTimeout(E,t)),a}return t=m(t)||0,f(r)&&(u=!!r.leading,o=(h="maxWait"in r)?c(m(r.maxWait)||0,t):o,y="trailing"in r?!!r.trailing:y),M.cancel=function(){void 0!==s&&clearTimeout(s),_=0,n=l=i=s=void 0},M.flush=function(){return void 0===s?a:O(d())},M}function f(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==u.call(e)}(e))return NaN;if(f(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=f(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var s=i.test(e);return s||o.test(e)?a(e.slice(2),s?2:8):n.test(e)?NaN:+e}e.exports=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return f(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),h(e,t,{leading:n,maxWait:t,trailing:i})}}).call(this,r(50))},function(e,t,r){"use strict";r.d(t,"a",(function(){return ao}));var n,i=r(38),o=r(18),a=r(20),s=r(16),l=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});var _=function(e){function t(t){var r=e.call(this)||this;if(r.on,r.once,r.un,r.id_=void 0,r.geometryName_="geometry",r.style_=null,r.styleFunction_=void 0,r.geometryChangeKey_=null,r.addChangeListener(r.geometryName_,r.handleGeometryChanged_),t)if("function"==typeof t.getSimplifiedGeometry){var n=t;r.setGeometry(n)}else{var i=t;r.setProperties(i)}return r}return l(t,e),t.prototype.clone=function(){var e=new t(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());var r=this.getGeometry();r&&e.setGeometry(r.clone());var n=this.getStyle();return n&&e.setStyle(n),e},t.prototype.getGeometry=function(){return this.get(this.geometryName_)},t.prototype.getId=function(){return this.id_},t.prototype.getGeometryName=function(){return this.geometryName_},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.handleGeometryChange_=function(){this.changed()},t.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(s.c)(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=Object(s.a)(e,o.a.CHANGE,this.handleGeometryChange_,this)),this.changed()},t.prototype.setGeometry=function(e){this.set(this.geometryName_,e)},t.prototype.setStyle=function(e){this.style_=e,this.styleFunction_=e?function(e){if("function"==typeof e)return e;var t;Array.isArray(e)?t=e:(Object(a.a)("function"==typeof e.getZIndex,41),t=[e]);return function(){return t}}(e):void 0,this.changed()},t.prototype.setId=function(e){this.id_=e,this.changed()},t.prototype.setGeometryName=function(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},t}(i.a),u=r(151),c=r(5),p=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function d(e){for(var t=[],r=0,n=e.length;r<n;++r)t.push(e[r].clone());return t}var h=function(e){function t(t){var r=e.call(this)||this;return r.geometries_=t||null,r.changeEventsKeys_=[],r.listenGeometriesChange_(),r}return p(t,e),t.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(s.c),this.changeEventsKeys_.length=0},t.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var e=0,t=this.geometries_.length;e<t;++e)this.changeEventsKeys_.push(Object(s.a)(this.geometries_[e],o.a.CHANGE,this.changed,this))},t.prototype.clone=function(){var e=new t(null);return e.setGeometries(this.geometries_),e.applyProperties(this),e},t.prototype.closestPointXY=function(e,t,r,n){if(n<Object(c.e)(this.getExtent(),e,t))return n;for(var i=this.geometries_,o=0,a=i.length;o<a;++o)n=i[o].closestPointXY(e,t,r,n);return n},t.prototype.containsXY=function(e,t){for(var r=this.geometries_,n=0,i=r.length;n<i;++n)if(r[n].containsXY(e,t))return!0;return!1},t.prototype.computeExtent=function(e){Object(c.l)(e);for(var t=this.geometries_,r=0,n=t.length;r<n;++r)Object(c.p)(e,t[r].getExtent());return e},t.prototype.getGeometries=function(){return d(this.geometries_)},t.prototype.getGeometriesArray=function(){return this.geometries_},t.prototype.getGeometriesArrayRecursive=function(){for(var e=[],t=this.geometries_,r=0,n=t.length;r<n;++r)t[r].getType()===this.getType()?e=e.concat(t[r].getGeometriesArrayRecursive()):e.push(t[r]);return e},t.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var r=[],n=this.geometries_,i=!1,o=0,a=n.length;o<a;++o){var s=n[o],l=s.getSimplifiedGeometry(e);r.push(l),l!==s&&(i=!0)}if(i){var _=new t(null);return _.setGeometriesArray(r),_}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this},t.prototype.getType=function(){return"GeometryCollection"},t.prototype.intersectsExtent=function(e){for(var t=this.geometries_,r=0,n=t.length;r<n;++r)if(t[r].intersectsExtent(e))return!0;return!1},t.prototype.isEmpty=function(){return 0===this.geometries_.length},t.prototype.rotate=function(e,t){for(var r=this.geometries_,n=0,i=r.length;n<i;++n)r[n].rotate(e,t);this.changed()},t.prototype.scale=function(e,t,r){var n=r;n||(n=Object(c.w)(this.getExtent()));for(var i=this.geometries_,o=0,a=i.length;o<a;++o)i[o].scale(e,t,n);this.changed()},t.prototype.setGeometries=function(e){this.setGeometriesArray(d(e))},t.prototype.setGeometriesArray=function(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()},t.prototype.applyTransform=function(e){for(var t=this.geometries_,r=0,n=t.length;r<n;++r)t[r].applyTransform(e);this.changed()},t.prototype.translate=function(e,t){for(var r=this.geometries_,n=0,i=r.length;n<i;++n)r[n].translate(e,t);this.changed()},t.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),e.prototype.disposeInternal.call(this)},t}(u.a),f=r(34),m=r(10),y=r(21),g=r(12),b=function(){function e(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}return e.prototype.getReadOptions=function(e,t){var r;if(t){var n=t.dataProjection?Object(g.i)(t.dataProjection):this.readProjection(e);t.extent&&n&&n.getUnits()===f.b.TILE_PIXELS&&(n=Object(g.i)(n)).setWorldExtent(t.extent),r={dataProjection:n,featureProjection:t.featureProjection}}return this.adaptOptions(r)},e.prototype.adaptOptions=function(e){return Object(y.a)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},e)},e.prototype.getType=function(){return Object(m.b)()},e.prototype.readFeature=function(e,t){return Object(m.b)()},e.prototype.readFeatures=function(e,t){return Object(m.b)()},e.prototype.readGeometry=function(e,t){return Object(m.b)()},e.prototype.readProjection=function(e){return Object(m.b)()},e.prototype.writeFeature=function(e,t){return Object(m.b)()},e.prototype.writeFeatures=function(e,t){return Object(m.b)()},e.prototype.writeGeometry=function(e,t){return Object(m.b)()},e}();function v(e,t,r){var n,i=r?Object(g.i)(r.featureProjection):null,o=r?Object(g.i)(r.dataProjection):null;if(n=i&&o&&!Object(g.d)(i,o)?(t?e.clone():e).transform(t?i:o,t?o:i):e,t&&r&&void 0!==r.decimals){var a=Math.pow(10,r.decimals);n===e&&(n=e.clone()),n.applyTransform((function(e){for(var t=0,r=e.length;t<r;++t)e[t]=Math.round(e[t]*a)/a;return e}))}return n}var E=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function O(e){if("string"==typeof e){var t=JSON.parse(e);return t||null}return null!==e?e:null}var M=function(e){function t(){return e.call(this)||this}return E(t,e),t.prototype.getType=function(){return"json"},t.prototype.readFeature=function(e,t){return this.readFeatureFromObject(O(e),this.getReadOptions(e,t))},t.prototype.readFeatures=function(e,t){return this.readFeaturesFromObject(O(e),this.getReadOptions(e,t))},t.prototype.readFeatureFromObject=function(e,t){return Object(m.b)()},t.prototype.readFeaturesFromObject=function(e,t){return Object(m.b)()},t.prototype.readGeometry=function(e,t){return this.readGeometryFromObject(O(e),this.getReadOptions(e,t))},t.prototype.readGeometryFromObject=function(e,t){return Object(m.b)()},t.prototype.readProjection=function(e){return this.readProjectionFromObject(O(e))},t.prototype.readProjectionFromObject=function(e){return Object(m.b)()},t.prototype.writeFeature=function(e,t){return JSON.stringify(this.writeFeatureObject(e,t))},t.prototype.writeFeatureObject=function(e,t){return Object(m.b)()},t.prototype.writeFeatures=function(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))},t.prototype.writeFeaturesObject=function(e,t){return Object(m.b)()},t.prototype.writeGeometry=function(e,t){return JSON.stringify(this.writeGeometryObject(e,t))},t.prototype.writeGeometryObject=function(e,t){return Object(m.b)()},t}(b),P=r(27),x=r(54),w=r(60),C=r(63),D=r(71),T=r(23),k=r(152),A=r(43),I=r(13);function L(e,t,r,n,i,o,a){var s,l,_=(r-t)/n;if(1===_)s=t;else if(2===_)s=t,l=i;else if(0!==_){for(var u=e[t],c=e[t+1],p=0,d=[0],h=t+n;h<r;h+=n){var f=e[h],m=e[h+1];p+=Math.sqrt((f-u)*(f-u)+(m-c)*(m-c)),d.push(p),u=f,c=m}var y=i*p,g=Object(T.a)(d,y);g<0?(l=(y-d[-g-2])/(d[-g-1]-d[-g-2]),s=t+(-g-2)*n):s=t+g*n}var b=a>1?a:2,v=o||new Array(b);for(h=0;h<b;++h)v[h]=void 0===s?NaN:void 0===l?e[s+h]:Object(I.e)(e[s+h],e[s+n+h],l);return v}function R(e,t,r,n,i,o){if(r==t)return null;var a;if(i<e[t+n-1])return o?((a=e.slice(t,t+n))[n-1]=i,a):null;if(e[r-1]<i)return o?((a=e.slice(r-n,r))[n-1]=i,a):null;if(i==e[t+n-1])return e.slice(t,t+n);for(var s=t/n,l=r/n;s<l;){var _=s+l>>1;i<e[(_+1)*n-1]?l=_:s=_+1}var u=e[s*n-1];if(i==u)return e.slice((s-1)*n,(s-1)*n+n);var c=(i-u)/(e[(s+1)*n-1]-u);a=[];for(var p=0;p<n-1;++p)a.push(Object(I.e)(e[(s-1)*n+p],e[s*n+p],c));return a.push(i),a}var S=r(86);function B(e,t,r,n){for(var i=e[t],o=e[t+1],a=0,s=t+n;s<r;s+=n){var l=e[s],_=e[s+1];a+=Math.sqrt((l-i)*(l-i)+(_-o)*(_-o)),i=l,o=_}return a}var U=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),W=function(e){function t(t,r){var n=e.call(this)||this;return n.flatMidpoint_=null,n.flatMidpointRevision_=-1,n.maxDelta_=-1,n.maxDeltaRevision_=-1,void 0===r||Array.isArray(t[0])?n.setCoordinates(t,r):n.setFlatCoordinates(r,t),n}return U(t,e),t.prototype.appendCoordinate=function(e){this.flatCoordinates?Object(T.c)(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()},t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,t,r,n){return n<Object(c.e)(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(w.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(w.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,r,n))},t.prototype.forEachSegment=function(e){return Object(k.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},t.prototype.getCoordinateAtM=function(e,t){if(this.layout!=P.a.XYM&&this.layout!=P.a.XYZM)return null;var r=void 0!==t&&t;return R(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,r)},t.prototype.getCoordinates=function(){return Object(A.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getCoordinateAt=function(e,t){return L(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)},t.prototype.getLength=function(){return B(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},t.prototype.getSimplifiedGeometryInternal=function(e){var r=[];return r.length=Object(D.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,r,0),new t(r,P.a.XY)},t.prototype.getType=function(){return"LineString"},t.prototype.intersectsExtent=function(e){return Object(S.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(C.b)(this.flatCoordinates,0,e,this.stride),this.changed()},t}(x.a),K=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),j=function(e){function t(t,r,n){var i=e.call(this)||this;if(i.ends_=[],i.maxDelta_=-1,i.maxDeltaRevision_=-1,Array.isArray(t[0]))i.setCoordinates(t,r);else if(void 0!==r&&n)i.setFlatCoordinates(r,t),i.ends_=n;else{for(var o=i.getLayout(),a=t,s=[],l=[],_=0,u=a.length;_<u;++_){var c=a[_];0===_&&(o=c.getLayout()),Object(T.c)(s,c.getFlatCoordinates()),l.push(s.length)}i.setFlatCoordinates(o,s),i.ends_=l}return i}return K(t,e),t.prototype.appendLineString=function(e){this.flatCoordinates?Object(T.c)(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,t,r,n){return n<Object(c.e)(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(w.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(w.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,r,n))},t.prototype.getCoordinateAtM=function(e,t,r){if(this.layout!=P.a.XYM&&this.layout!=P.a.XYZM||0===this.flatCoordinates.length)return null;var n=void 0!==t&&t,i=void 0!==r&&r;return function(e,t,r,n,i,o,a){if(a)return R(e,t,r[r.length-1],n,i,o);var s;if(i<e[n-1])return o?((s=e.slice(0,n))[n-1]=i,s):null;if(e[e.length-1]<i)return o?((s=e.slice(e.length-n))[n-1]=i,s):null;for(var l=0,_=r.length;l<_;++l){var u=r[l];if(t!=u){if(i<e[t+n-1])return null;if(i<=e[u-1])return R(e,t,u,n,i,!1);t=u}}return null}(this.flatCoordinates,0,this.ends_,this.stride,e,n,i)},t.prototype.getCoordinates=function(){return Object(A.b)(this.flatCoordinates,0,this.ends_,this.stride)},t.prototype.getEnds=function(){return this.ends_},t.prototype.getLineString=function(e){return e<0||this.ends_.length<=e?null:new W(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)},t.prototype.getLineStrings=function(){for(var e=this.flatCoordinates,t=this.ends_,r=this.layout,n=[],i=0,o=0,a=t.length;o<a;++o){var s=t[o],l=new W(e.slice(i,s),r);n.push(l),i=s}return n},t.prototype.getFlatMidpoints=function(){for(var e=[],t=this.flatCoordinates,r=0,n=this.ends_,i=this.stride,o=0,a=n.length;o<a;++o){var s=n[o],l=L(t,r,s,i,.5);Object(T.c)(e,l),r=s}return e},t.prototype.getSimplifiedGeometryInternal=function(e){var r=[],n=[];return r.length=Object(D.b)(this.flatCoordinates,0,this.ends_,this.stride,e,r,0,n),new t(r,P.a.XY,n)},t.prototype.getType=function(){return"MultiLineString"},t.prototype.intersectsExtent=function(e){return Object(S.b)(this.flatCoordinates,0,this.ends_,this.stride,e)},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var r=Object(C.c)(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()},t}(x.a),z=r(93),F=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),q=function(e){function t(t,r){var n=e.call(this)||this;return r&&!Array.isArray(t[0])?n.setFlatCoordinates(r,t):n.setCoordinates(t,r),n}return F(t,e),t.prototype.appendPoint=function(e){this.flatCoordinates?Object(T.c)(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()},t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,t,r,n){if(n<Object(c.e)(this.getExtent(),e,t))return n;for(var i=this.flatCoordinates,o=this.stride,a=0,s=i.length;a<s;a+=o){var l=Object(I.i)(e,t,i[a],i[a+1]);if(l<n){n=l;for(var _=0;_<o;++_)r[_]=i[a+_];r.length=o}}return n},t.prototype.getCoordinates=function(){return Object(A.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getPoint=function(e){var t=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return e<0||t<=e?null:new z.a(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)},t.prototype.getPoints=function(){for(var e=this.flatCoordinates,t=this.layout,r=this.stride,n=[],i=0,o=e.length;i<o;i+=r){var a=new z.a(e.slice(i,i+r),t);n.push(a)}return n},t.prototype.getType=function(){return"MultiPoint"},t.prototype.intersectsExtent=function(e){for(var t=this.flatCoordinates,r=this.stride,n=0,i=t.length;n<i;n+=r){var o=t[n],a=t[n+1];if(Object(c.h)(e,o,a))return!0}return!1},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(C.b)(this.flatCoordinates,0,e,this.stride),this.changed()},t}(x.a),N=r(72),H=r(106),G=r(75),V=r(115);function Z(e,t,r,n){for(var i=[],o=Object(c.j)(),a=0,s=r.length;a<s;++a){var l=r[a];o=Object(c.n)(e,t,l[0],n),i.push((o[0]+o[2])/2,(o[1]+o[3])/2),t=l[l.length-1]}return i}var X=r(73),$=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Y=function(e){function t(t,r,n){var i=e.call(this)||this;if(i.endss_=[],i.flatInteriorPointsRevision_=-1,i.flatInteriorPoints_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,!n&&!Array.isArray(t[0])){for(var o=i.getLayout(),a=t,s=[],l=[],_=0,u=a.length;_<u;++_){var c=a[_];0===_&&(o=c.getLayout());for(var p=s.length,d=c.getEnds(),h=0,f=d.length;h<f;++h)d[h]+=p;Object(T.c)(s,c.getFlatCoordinates()),l.push(d)}r=o,t=s,n=l}return void 0!==r&&n?(i.setFlatCoordinates(r,t),i.endss_=n):i.setCoordinates(t,r),i}return $(t,e),t.prototype.appendPolygon=function(e){var t;if(this.flatCoordinates){var r=this.flatCoordinates.length;Object(T.c)(this.flatCoordinates,e.getFlatCoordinates());for(var n=0,i=(t=e.getEnds().slice()).length;n<i;++n)t[n]+=r}else this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();this.endss_.push(t),this.changed()},t.prototype.clone=function(){for(var e=this.endss_.length,r=new Array(e),n=0;n<e;++n)r[n]=this.endss_[n].slice();var i=new t(this.flatCoordinates.slice(),this.layout,r);return i.applyProperties(this),i},t.prototype.closestPointXY=function(e,t,r,n){return n<Object(c.e)(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(w.f)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(w.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,r,n))},t.prototype.containsXY=function(e,t){return Object(X.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)},t.prototype.getArea=function(){return Object(V.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},t.prototype.getCoordinates=function(e){var t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),Object(G.e)(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,Object(A.c)(t,0,this.endss_,this.stride)},t.prototype.getEndss=function(){return this.endss_},t.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var e=Z(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Object(H.b)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},t.prototype.getInteriorPoints=function(){return new q(this.getFlatInteriorPoints().slice(),P.a.XYM)},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;Object(G.c)(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Object(G.e)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(e){var r=[],n=[];return r.length=Object(D.d)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),r,0,n),new t(r,P.a.XY,n)},t.prototype.getPolygon=function(e){if(e<0||this.endss_.length<=e)return null;var t;if(0===e)t=0;else{var r=this.endss_[e-1];t=r[r.length-1]}var n=this.endss_[e].slice(),i=n[n.length-1];if(0!==t)for(var o=0,a=n.length;o<a;++o)n[o]-=t;return new N.a(this.flatCoordinates.slice(t,i),this.layout,n)},t.prototype.getPolygons=function(){for(var e=this.layout,t=this.flatCoordinates,r=this.endss_,n=[],i=0,o=0,a=r.length;o<a;++o){var s=r[o].slice(),l=s[s.length-1];if(0!==i)for(var _=0,u=s.length;_<u;++_)s[_]-=i;var c=new N.a(t.slice(i,l),e,s);n.push(c),i=l}return n},t.prototype.getType=function(){return"MultiPolygon"},t.prototype.intersectsExtent=function(e){return Object(S.e)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);var r=Object(C.d)(this.flatCoordinates,0,e,this.stride,this.endss_);if(0===r.length)this.flatCoordinates.length=0;else{var n=r[r.length-1];this.flatCoordinates.length=0===n.length?0:n[n.length-1]}this.changed()},t}(x.a),J=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function Q(e,t){if(!e)return null;var r;switch(e.type){case"Point":r=function(e){return new z.a(e.coordinates)}(e);break;case"LineString":r=function(e){return new W(e.coordinates)}(e);break;case"Polygon":r=function(e){return new N.a(e.coordinates)}(e);break;case"MultiPoint":r=function(e){return new q(e.coordinates)}(e);break;case"MultiLineString":r=function(e){return new j(e.coordinates)}(e);break;case"MultiPolygon":r=function(e){return new Y(e.coordinates)}(e);break;case"GeometryCollection":r=function(e,t){var r=e.geometries.map((function(e){return Q(e,t)}));return new h(r)}(e);break;default:throw new Error("Unsupported GeoJSON type: "+e.type)}return v(r,!1,t)}function ee(e,t){var r,n=(e=v(e,!0,t)).getType();switch(n){case"Point":r=function(e,t){return{type:"Point",coordinates:e.getCoordinates()}}(e);break;case"LineString":r=function(e,t){return{type:"LineString",coordinates:e.getCoordinates()}}(e);break;case"Polygon":r=function(e,t){var r;t&&(r=t.rightHanded);return{type:"Polygon",coordinates:e.getCoordinates(r)}}(e,t);break;case"MultiPoint":r=function(e,t){return{type:"MultiPoint",coordinates:e.getCoordinates()}}(e);break;case"MultiLineString":r=function(e,t){return{type:"MultiLineString",coordinates:e.getCoordinates()}}(e);break;case"MultiPolygon":r=function(e,t){var r;t&&(r=t.rightHanded);return{type:"MultiPolygon",coordinates:e.getCoordinates(r)}}(e,t);break;case"GeometryCollection":r=function(e,t){return{type:"GeometryCollection",geometries:e.getGeometriesArray().map((function(e){var r=Object(y.a)({},t);return delete r.featureProjection,ee(e,r)}))}}(e,t);break;case"Circle":r={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+n)}return r}var te=function(e){function t(t){var r=this,n=t||{};return(r=e.call(this)||this).dataProjection=Object(g.i)(n.dataProjection?n.dataProjection:"EPSG:4326"),n.featureProjection&&(r.defaultFeatureProjection=Object(g.i)(n.featureProjection)),r.geometryName_=n.geometryName,r.extractGeometryName_=n.extractGeometryName,r.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"],r}return J(t,e),t.prototype.readFeatureFromObject=function(e,t){var r=null,n=Q((r="Feature"===e.type?e:{type:"Feature",geometry:e,properties:null}).geometry,t),i=new _;return this.geometryName_?i.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in r!==void 0&&i.setGeometryName(r.geometry_name),i.setGeometry(n),"id"in r&&i.setId(r.id),r.properties&&i.setProperties(r.properties,!0),i},t.prototype.readFeaturesFromObject=function(e,t){var r=null;if("FeatureCollection"===e.type){r=[];for(var n=e.features,i=0,o=n.length;i<o;++i)r.push(this.readFeatureFromObject(n[i],t))}else r=[this.readFeatureFromObject(e,t)];return r},t.prototype.readGeometryFromObject=function(e,t){return Q(e,t)},t.prototype.readProjectionFromObject=function(e){var t,r=e.crs;return r?"name"==r.type?t=Object(g.i)(r.properties.name):"EPSG"===r.type?t=Object(g.i)("EPSG:"+r.properties.code):Object(a.a)(!1,36):t=this.dataProjection,t},t.prototype.writeFeatureObject=function(e,t){t=this.adaptOptions(t);var r={type:"Feature",geometry:null,properties:null},n=e.getId();if(void 0!==n&&(r.id=n),!e.hasProperties())return r;var i=e.getProperties(),o=e.getGeometry();return o&&(r.geometry=ee(o,t),delete i[e.getGeometryName()]),Object(y.d)(i)||(r.properties=i),r},t.prototype.writeFeaturesObject=function(e,t){t=this.adaptOptions(t);for(var r=[],n=0,i=e.length;n<i;++n)r.push(this.writeFeatureObject(e[n],t));return{type:"FeatureCollection",features:r}},t.prototype.writeGeometryObject=function(e,t){return ee(e,this.adaptOptions(t))},t}(M),re=r(272),ne=r.n(re),ie=r(96),oe=r(19),ae=r(45),se=Object(oe.c)(),le=function(){function e(e,t,r,n,i){this.styleFunction,this.extent_,this.id_=i,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=r,this.properties_=n}return e.prototype.get=function(e){return this.properties_[e]},e.prototype.getExtent=function(){return this.extent_||(this.extent_="Point"===this.type_?Object(c.m)(this.flatCoordinates_):Object(c.n)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},e.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var e=Object(c.w)(this.getExtent());this.flatInteriorPoints_=Object(H.a)(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_},e.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var e=Z(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=Object(H.b)(this.flatCoordinates_,0,this.ends_,2,e)}return this.flatInteriorPoints_},e.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=L(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},e.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var e=this.flatCoordinates_,t=0,r=this.ends_,n=0,i=r.length;n<i;++n){var o=r[n],a=L(e,t,o,2,.5);Object(T.c)(this.flatMidpoints_,a),t=o}}return this.flatMidpoints_},e.prototype.getId=function(){return this.id_},e.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},e.prototype.getGeometry=function(){return this},e.prototype.getSimplifiedGeometry=function(e){return this},e.prototype.simplifyTransformed=function(e,t){return this},e.prototype.getProperties=function(){return this.properties_},e.prototype.getStride=function(){return 2},e.prototype.getStyleFunction=function(){return this.styleFunction},e.prototype.getType=function(){return this.type_},e.prototype.transform=function(e){var t=(e=Object(g.i)(e)).getExtent(),r=e.getWorldExtent();if(t&&r){var n=Object(c.z)(r)/Object(c.z)(t);Object(oe.b)(se,r[0],r[3],n,-n,0,0,0),Object(ae.c)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,se,this.flatCoordinates_)}},e.prototype.getEnds=function(){return this.ends_},e}();le.prototype.getEndss=le.prototype.getEnds,le.prototype.getFlatCoordinates=le.prototype.getOrientedFlatCoordinates;var _e=le,ue=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function ce(e,t,r){if(3===e){var n={keys:[],values:[],features:[]},i=r.readVarint()+r.pos;r.readFields(pe,n,i),n.length=n.features.length,n.length&&(t[n.name]=n)}}function pe(e,t,r){if(15===e)t.version=r.readVarint();else if(1===e)t.name=r.readString();else if(5===e)t.extent=r.readVarint();else if(2===e)t.features.push(r.pos);else if(3===e)t.keys.push(r.readString());else if(4===e){for(var n=null,i=r.readVarint()+r.pos;r.pos<i;)n=1===(e=r.readVarint()>>3)?r.readString():2===e?r.readFloat():3===e?r.readDouble():4===e?r.readVarint64():5===e?r.readVarint():6===e?r.readSVarint():7===e?r.readBoolean():null;t.values.push(n)}}function de(e,t,r){if(1==e)t.id=r.readVarint();else if(2==e)for(var n=r.readVarint()+r.pos;r.pos<n;){var i=t.layer.keys[r.readVarint()],o=t.layer.values[r.readVarint()];t.properties[i]=o}else 3==e?t.type=r.readVarint():4==e&&(t.geometry=r.pos)}function he(e,t,r){e.pos=t.features[r];var n=e.readVarint()+e.pos,i={layer:t,type:0,properties:{}};return e.readFields(de,i,n),i}var fe=function(e){function t(t){var r=e.call(this)||this,n=t||{};return r.dataProjection=new ie.a({code:"",units:f.b.TILE_PIXELS}),r.featureClass_=n.featureClass?n.featureClass:_e,r.geometryName_=n.geometryName,r.layerName_=n.layerName?n.layerName:"layer",r.layers_=n.layers?n.layers:null,r.idProperty_=n.idProperty,r.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"],r}return ue(t,e),t.prototype.readRawGeometry_=function(e,t,r,n){e.pos=t.geometry;for(var i=e.readVarint()+e.pos,o=1,s=0,l=0,_=0,u=0,c=0;e.pos<i;){if(!s){var p=e.readVarint();o=7&p,s=p>>3}s--,1===o||2===o?(l+=e.readSVarint(),_+=e.readSVarint(),1===o&&u>c&&(n.push(u),c=u),r.push(l,_),u+=2):7===o?u>c&&(r.push(r[c],r[c+1]),u+=2):Object(a.a)(!1,59)}u>c&&(n.push(u),c=u)},t.prototype.createFeature_=function(e,t,r){var n,i=t.type;if(0===i)return null;var o,a=t.properties;this.idProperty_?(o=a[this.idProperty_],delete a[this.idProperty_]):o=t.id,a[this.layerName_]=t.layer.name;var s=[],l=[];this.readRawGeometry_(e,t,s,l);var _=function(e,t){var r;1===e?r=1===t?"Point":"MultiPoint":2===e?r=1===t?"LineString":"MultiLineString":3===e&&(r="Polygon");return r}(i,l.length);if(this.featureClass_===_e)(n=new this.featureClass_(_,s,l,a,o)).transform(r.dataProjection);else{var u=void 0;if("Polygon"==_){var c=Object(G.a)(s,l);u=c.length>1?new Y(s,P.a.XY,c):new N.a(s,P.a.XY,l)}else u="Point"===_?new z.a(s,P.a.XY):"LineString"===_?new W(s,P.a.XY):"MultiPoint"===_?new q(s,P.a.XY):"MultiLineString"===_?new j(s,P.a.XY,l):null;n=new(0,this.featureClass_),this.geometryName_&&n.setGeometryName(this.geometryName_);var p=v(u,!1,r);n.setGeometry(p),void 0!==o&&n.setId(o),n.setProperties(a,!0)}return n},t.prototype.getType=function(){return"arraybuffer"},t.prototype.readFeatures=function(e,t){var r=this.layers_,n=this.adaptOptions(t),i=Object(g.i)(n.dataProjection);i.setWorldExtent(n.extent),n.dataProjection=i;var o=new ne.a(e),a=o.readFields(ce,{}),s=[];for(var l in a)if(!r||-1!=r.indexOf(l)){var _=a[l],u=_?[0,0,_.extent,_.extent]:null;i.setExtent(u);for(var c=0,p=_.length;c<p;++c){var d=he(o,_,c),h=this.createFeature_(o,d,n);null!==h&&s.push(h)}}return s},t.prototype.readProjection=function(e){return this.dataProjection},t.prototype.setLayers=function(e){this.layers_=e},t}(b),me=r(169),ye=function(){function e(e,t,r,n){this.minX=e,this.maxX=t,this.minY=r,this.maxY=n}return e.prototype.contains=function(e){return this.containsXY(e[1],e[2])},e.prototype.containsTileRange=function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY},e.prototype.containsXY=function(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY},e.prototype.equals=function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY},e.prototype.extend=function(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)},e.prototype.getHeight=function(){return this.maxY-this.minY+1},e.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},e.prototype.getWidth=function(){return this.maxX-this.minX+1},e.prototype.intersects=function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY},e}();function ge(e,t,r,n,i){return void 0!==i?(i.minX=e,i.maxX=t,i.minY=r,i.maxY=n,i):new ye(e,t,r,n)}var be=ye,ve=r(94);function Ee(e,t,r,n){return void 0!==n?(n[0]=e,n[1]=t,n[2]=r,n):[e,t,r]}function Oe(e,t,r){return e+"/"+t+"/"+r}function Me(e){return Oe(e[0],e[1],e[2])}function Pe(e){return e.split("/").map(Number)}var xe=r(35),we=[0,0,0],Ce=function(){function e(e){var t;if(this.minZoom=void 0!==e.minZoom?e.minZoom:0,this.resolutions_=e.resolutions,Object(a.a)(Object(T.d)(this.resolutions_,(function(e,t){return t-e}),!0),17),!e.origins)for(var r=0,n=this.resolutions_.length-1;r<n;++r)if(t){if(this.resolutions_[r]/this.resolutions_[r+1]!==t){t=void 0;break}}else t=this.resolutions_[r]/this.resolutions_[r+1];this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==e.origin?e.origin:null,this.origins_=null,void 0!==e.origins&&(this.origins_=e.origins,Object(a.a)(this.origins_.length==this.resolutions_.length,20));var i=e.extent;void 0===i||this.origin_||this.origins_||(this.origin_=Object(c.C)(i)),Object(a.a)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==e.tileSizes&&(this.tileSizes_=e.tileSizes,Object(a.a)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==e.tileSize?e.tileSize:this.tileSizes_?null:ve.b,Object(a.a)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==i?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==e.sizes?this.fullTileRanges_=e.sizes.map((function(e,t){var r=new be(Math.min(0,e[0]),Math.max(e[0]-1,-1),Math.min(0,e[1]),Math.max(e[1]-1,-1));if(i){var n=this.getTileRangeForExtentAndZ(i,t);r.minX=Math.max(n.minX,r.minX),r.maxX=Math.min(n.maxX,r.maxX),r.minY=Math.max(n.minY,r.minY),r.maxY=Math.min(n.maxY,r.maxY)}return r}),this):i&&this.calculateTileRanges_(i)}return e.prototype.forEachTileCoord=function(e,t,r){for(var n=this.getTileRangeForExtentAndZ(e,t),i=n.minX,o=n.maxX;i<=o;++i)for(var a=n.minY,s=n.maxY;a<=s;++a)r([t,i,a])},e.prototype.forEachTileCoordParentTileRange=function(e,t,r,n){var i,o,a=null,s=e[0]-1;for(2===this.zoomFactor_?(i=e[1],o=e[2]):a=this.getTileCoordExtent(e,n);s>=this.minZoom;){if(t(s,2===this.zoomFactor_?ge(i=Math.floor(i/2),i,o=Math.floor(o/2),o,r):this.getTileRangeForExtentAndZ(a,s,r)))return!0;--s}return!1},e.prototype.getExtent=function(){return this.extent_},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.getMinZoom=function(){return this.minZoom},e.prototype.getOrigin=function(e){return this.origin_?this.origin_:this.origins_[e]},e.prototype.getResolution=function(e){return this.resolutions_[e]},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getTileCoordChildTileRange=function(e,t,r){if(e[0]<this.maxZoom){if(2===this.zoomFactor_){var n=2*e[1],i=2*e[2];return ge(n,n+1,i,i+1,t)}var o=this.getTileCoordExtent(e,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(o,e[0]+1,t)}return null},e.prototype.getTileRangeForTileCoordAndZ=function(e,t,r){if(t>this.maxZoom||t<this.minZoom)return null;var n=e[0],i=e[1],o=e[2];if(t===n)return ge(i,o,i,o,r);if(this.zoomFactor_){var a=Math.pow(this.zoomFactor_,t-n),s=Math.floor(i*a),l=Math.floor(o*a);return t<n?ge(s,s,l,l,r):ge(s,Math.floor(a*(i+1))-1,l,Math.floor(a*(o+1))-1,r)}var _=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(_,t,r)},e.prototype.getTileRangeExtent=function(e,t,r){var n=this.getOrigin(e),i=this.getResolution(e),o=Object(xe.c)(this.getTileSize(e),this.tmpSize_),a=n[0]+t.minX*o[0]*i,s=n[0]+(t.maxX+1)*o[0]*i,l=n[1]+t.minY*o[1]*i,_=n[1]+(t.maxY+1)*o[1]*i;return Object(c.k)(a,l,s,_,r)},e.prototype.getTileRangeForExtentAndZ=function(e,t,r){var n=we;this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,n);var i=n[1],o=n[2];return this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,n),ge(i,n[1],o,n[2],r)},e.prototype.getTileCoordCenter=function(e){var t=this.getOrigin(e[0]),r=this.getResolution(e[0]),n=Object(xe.c)(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*n[0]*r,t[1]-(e[2]+.5)*n[1]*r]},e.prototype.getTileCoordExtent=function(e,t){var r=this.getOrigin(e[0]),n=this.getResolution(e[0]),i=Object(xe.c)(this.getTileSize(e[0]),this.tmpSize_),o=r[0]+e[1]*i[0]*n,a=r[1]-(e[2]+1)*i[1]*n,s=o+i[0]*n,l=a+i[1]*n;return Object(c.k)(o,a,s,l,t)},e.prototype.getTileCoordForCoordAndResolution=function(e,t,r){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,r)},e.prototype.getTileCoordForXYAndResolution_=function(e,t,r,n,i){var o=this.getZForResolution(r),a=r/this.getResolution(o),s=this.getOrigin(o),l=Object(xe.c)(this.getTileSize(o),this.tmpSize_),_=a*(e-s[0])/r/l[0],u=a*(s[1]-t)/r/l[1];return n?(_=Object(I.a)(_,5)-1,u=Object(I.a)(u,5)-1):(_=Object(I.d)(_,5),u=Object(I.d)(u,5)),Ee(o,_,u,i)},e.prototype.getTileCoordForXYAndZ_=function(e,t,r,n,i){var o=this.getOrigin(r),a=this.getResolution(r),s=Object(xe.c)(this.getTileSize(r),this.tmpSize_),l=(e-o[0])/a/s[0],_=(o[1]-t)/a/s[1];return n?(l=Object(I.a)(l,5)-1,_=Object(I.a)(_,5)-1):(l=Object(I.d)(l,5),_=Object(I.d)(_,5)),Ee(r,l,_,i)},e.prototype.getTileCoordForCoordAndZ=function(e,t,r){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,r)},e.prototype.getTileCoordResolution=function(e){return this.resolutions_[e[0]]},e.prototype.getTileSize=function(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]},e.prototype.getFullTileRange=function(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null},e.prototype.getZForResolution=function(e,t){var r=Object(T.e)(this.resolutions_,e,t||0);return Object(I.b)(r,this.minZoom,this.maxZoom)},e.prototype.tileCoordIntersectsViewport=function(e,t){return Object(S.c)(t,0,t.length,2,this.getTileCoordExtent(e))},e.prototype.calculateTileRanges_=function(e){for(var t=this.resolutions_.length,r=new Array(t),n=this.minZoom;n<t;++n)r[n]=this.getTileRangeForExtentAndZ(e,n);this.fullTileRanges_=r},e}(),De=r(70),Te=r(15),ke=r(56),Ae=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ie=function(e){function t(t,r,n){var i=e.call(this)||this,o=n||{};return i.tileCoord=t,i.state=r,i.interimTile=null,i.key="",i.transition_=void 0===o.transition?250:o.transition,i.transitionStarts_={},i.interpolate=!!o.interpolate,i}return Ae(t,e),t.prototype.changed=function(){this.dispatchEvent(o.a.CHANGE)},t.prototype.release=function(){},t.prototype.getKey=function(){return this.key+"/"+this.tileCoord},t.prototype.getInterimTile=function(){if(!this.interimTile)return this;var e=this.interimTile;do{if(e.getState()==Te.a.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this},t.prototype.refreshInterimChain=function(){if(this.interimTile){var e=this.interimTile,t=this;do{if(e.getState()==Te.a.LOADED){e.interimTile=null;break}e.getState()==Te.a.LOADING?t=e:e.getState()==Te.a.IDLE?t.interimTile=e.interimTile:t=e,e=t.interimTile}while(e)}},t.prototype.getTileCoord=function(){return this.tileCoord},t.prototype.getState=function(){return this.state},t.prototype.setState=function(e){if(this.state!==Te.a.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()},t.prototype.load=function(){Object(m.b)()},t.prototype.getAlpha=function(e,t){if(!this.transition_)return 1;var r=this.transitionStarts_[e];if(r){if(-1===r)return 1}else r=t,this.transitionStarts_[e]=r;var n=t-r+1e3/60;return n>=this.transition_?1:Object(ke.a)(n/this.transition_)},t.prototype.inTransition=function(e){return!!this.transition_&&-1!==this.transitionStarts_[e]},t.prototype.endTransition=function(e){this.transition_&&(this.transitionStarts_[e]=-1)},t}(De.a),Le=r(25),Re=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Se=function(e){function t(t,r,n,i){var o=e.call(this)||this;return o.extent=t,o.pixelRatio_=n,o.resolution=r,o.state=i,o}return Re(t,e),t.prototype.changed=function(){this.dispatchEvent(o.a.CHANGE)},t.prototype.getExtent=function(){return this.extent},t.prototype.getImage=function(){return Object(m.b)()},t.prototype.getPixelRatio=function(){return this.pixelRatio_},t.prototype.getResolution=function(){return this.resolution},t.prototype.getState=function(){return this.state},t.prototype.load=function(){Object(m.b)()},t}(De.a),Be=0,Ue=1,We=2,Ke=3,je=r(39),ze=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function Fe(e,t,r){var n=e,i=!0,a=!1,l=!1,_=[Object(s.b)(n,o.a.LOAD,(function(){l=!0,a||t()}))];return n.src&&je.c?(a=!0,n.decode().then((function(){i&&t()})).catch((function(e){i&&(l?t():r())}))):_.push(Object(s.b)(n,o.a.ERROR,r)),function(){i=!1,_.forEach(s.c)}}!function(e){function t(t,r,n,i,o,a){var s=e.call(this,t,r,n,Be)||this;return s.src_=i,s.image_=new Image,null!==o&&(s.image_.crossOrigin=o),s.unlisten_=null,s.state=Be,s.imageLoadFunction_=a,s}ze(t,e),t.prototype.getImage=function(){return this.image_},t.prototype.handleImageError_=function(){this.state=Ke,this.unlistenImage_(),this.changed()},t.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Object(c.z)(this.extent)/this.image_.height),this.state=We,this.unlistenImage_(),this.changed()},t.prototype.load=function(){this.state!=Be&&this.state!=Ke||(this.state=Ue,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=Fe(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.setImage=function(e){this.image_=e,this.resolution=Object(c.z)(this.extent)/this.image_.height},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}(Se);var qe=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();var Ne,He=function(e){function t(t,r,n,i,o,a){var s=e.call(this,t,r,a)||this;return s.crossOrigin_=i,s.src_=n,s.key=n,s.image_=new Image,null!==i&&(s.image_.crossOrigin=i),s.unlisten_=null,s.tileLoadFunction_=o,s}return qe(t,e),t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(e){this.image_=e,this.state=Te.a.LOADED,this.unlistenImage_(),this.changed()},t.prototype.handleImageError_=function(){var e;this.state=Te.a.ERROR,this.unlistenImage_(),this.image_=((e=Object(Le.a)(1,1)).fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas),this.changed()},t.prototype.handleImageLoad_=function(){var e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=Te.a.LOADED:this.state=Te.a.EMPTY,this.unlistenImage_(),this.changed()},t.prototype.load=function(){this.state==Te.a.ERROR&&(this.state=Te.a.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Te.a.IDLE&&(this.state=Te.a.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Fe(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(Ie),Ge=function(){function e(e,t,r,n,i,o){this.sourceProj_=e,this.targetProj_=t;var a={},s=Object(g.k)(this.targetProj_,this.sourceProj_);this.transformInv_=function(e){var t=e[0]+"/"+e[1];return a[t]||(a[t]=s(e)),a[t]},this.maxSourceExtent_=n,this.errorThresholdSquared_=i*i,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!n&&!!this.sourceProj_.getExtent()&&Object(c.E)(n)==Object(c.E)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Object(c.E)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Object(c.E)(this.targetProj_.getExtent()):null;var l=Object(c.C)(r),_=Object(c.D)(r),u=Object(c.v)(r),p=Object(c.u)(r),d=this.transformInv_(l),h=this.transformInv_(_),f=this.transformInv_(u),m=this.transformInv_(p),y=10+(o?Math.max(0,Math.ceil(Object(I.f)(Object(c.t)(r)/(o*o*256*256)))):0);if(this.addQuad_(l,_,u,p,d,h,f,m,y),this.wrapsXInSource_){var b=1/0;this.triangles_.forEach((function(e,t,r){b=Math.min(b,e.source[0][0],e.source[1][0],e.source[2][0])})),this.triangles_.forEach(function(e){if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-b>this.sourceWorldWidth_/2){var t=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];t[0][0]-b>this.sourceWorldWidth_/2&&(t[0][0]-=this.sourceWorldWidth_),t[1][0]-b>this.sourceWorldWidth_/2&&(t[1][0]-=this.sourceWorldWidth_),t[2][0]-b>this.sourceWorldWidth_/2&&(t[2][0]-=this.sourceWorldWidth_);var r=Math.min(t[0][0],t[1][0],t[2][0]);Math.max(t[0][0],t[1][0],t[2][0])-r<this.sourceWorldWidth_/2&&(e.source=t)}}.bind(this))}a={}}return e.prototype.addTriangle_=function(e,t,r,n,i,o){this.triangles_.push({source:[n,i,o],target:[e,t,r]})},e.prototype.addQuad_=function(e,t,r,n,i,o,a,s,l){var _=Object(c.b)([i,o,a,s]),u=this.sourceWorldWidth_?Object(c.E)(_)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&u>.5&&u<1,h=!1;if(l>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var f=Object(c.b)([e,t,r,n]);h=Object(c.E)(f)/this.targetWorldWidth_>.25||h}!d&&this.sourceProj_.isGlobal()&&u&&(h=u>.25||h)}if(!(!h&&this.maxSourceExtent_&&isFinite(_[0])&&isFinite(_[1])&&isFinite(_[2])&&isFinite(_[3]))||Object(c.F)(_,this.maxSourceExtent_)){var m=0;if(!(h||isFinite(i[0])&&isFinite(i[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1])))if(l>0)h=!0;else if(1!=(m=(isFinite(i[0])&&isFinite(i[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(a[0])&&isFinite(a[1])?0:2)+(isFinite(s[0])&&isFinite(s[1])?0:1))&&2!=m&&4!=m&&8!=m)return;if(l>0){if(!h){var y=[(e[0]+r[0])/2,(e[1]+r[1])/2],g=this.transformInv_(y),b=void 0;if(d)b=(Object(I.g)(i[0],p)+Object(I.g)(a[0],p))/2-Object(I.g)(g[0],p);else b=(i[0]+a[0])/2-g[0];var v=(i[1]+a[1])/2-g[1];h=b*b+v*v>this.errorThresholdSquared_}if(h){if(Math.abs(e[0]-r[0])<=Math.abs(e[1]-r[1])){var E=[(t[0]+r[0])/2,(t[1]+r[1])/2],O=this.transformInv_(E),M=[(n[0]+e[0])/2,(n[1]+e[1])/2],P=this.transformInv_(M);this.addQuad_(e,t,E,M,i,o,O,P,l-1),this.addQuad_(M,E,r,n,P,O,a,s,l-1)}else{var x=[(e[0]+t[0])/2,(e[1]+t[1])/2],w=this.transformInv_(x),C=[(r[0]+n[0])/2,(r[1]+n[1])/2],D=this.transformInv_(C);this.addQuad_(e,x,C,n,i,w,D,s,l-1),this.addQuad_(x,t,r,C,w,o,a,D,l-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&m)&&this.addTriangle_(e,r,n,i,a,s),0==(14&m)&&this.addTriangle_(e,r,t,i,a,o),m&&(0==(13&m)&&this.addTriangle_(t,n,e,o,s,i),0==(7&m)&&this.addTriangle_(t,n,r,o,s,a))}},e.prototype.calculateSourceExtent=function(){var e=Object(c.j)();return this.triangles_.forEach((function(t,r,n){var i=t.source;Object(c.q)(e,i[0]),Object(c.q)(e,i[1]),Object(c.q)(e,i[2])})),e},e.prototype.getTriangles=function(){return this.triangles_},e}(),Ve={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},Ze={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},Xe=[];function $e(e,t,r,n,i){e.beginPath(),e.moveTo(0,0),e.lineTo(t,r),e.lineTo(n,i),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(t,n)+1,Math.max(r,i)),e.restore()}function Ye(e,t){return Math.abs(e[4*t]-210)>2||Math.abs(e[4*t+3]-191.25)>2}function Je(e,t,r,n){var i=Object(g.r)(r,t,e),o=Object(g.j)(t,n,r),a=t.getMetersPerUnit();void 0!==a&&(o*=a);var s=e.getMetersPerUnit();void 0!==s&&(o/=s);var l=e.getExtent();if(!l||Object(c.f)(l,i)){var _=Object(g.j)(e,o,i)/o;isFinite(_)&&_>0&&(o/=_)}return o}function Qe(e,t,r,n,i,o,a,s,l,_,u,p){var d=Object(Le.a)(Math.round(r*e),Math.round(r*t),Xe);if(p||Object(y.a)(d,Ve),0===l.length)return d.canvas;function h(e){return Math.round(e*r)/r}d.scale(r,r),d.globalCompositeOperation="lighter";var f=Object(c.j)();l.forEach((function(e,t,r){Object(c.p)(f,e.extent)}));var m=Object(c.E)(f),g=Object(c.z)(f),b=Object(Le.a)(Math.round(r*m/n),Math.round(r*g/n));p||Object(y.a)(b,Ve);var v=r/n;l.forEach((function(e,t,r){var n=e.extent[0]-f[0],i=-(e.extent[3]-f[3]),o=Object(c.E)(e.extent),a=Object(c.z)(e.extent);e.image.width>0&&e.image.height>0&&b.drawImage(e.image,_,_,e.image.width-2*_,e.image.height-2*_,n*v,i*v,o*v,a*v)}));var E=Object(c.C)(a);return s.getTriangles().forEach((function(e,t,i){var a=e.source,s=e.target,l=a[0][0],_=a[0][1],u=a[1][0],c=a[1][1],m=a[2][0],y=a[2][1],g=h((s[0][0]-E[0])/o),v=h(-(s[0][1]-E[1])/o),O=h((s[1][0]-E[0])/o),M=h(-(s[1][1]-E[1])/o),P=h((s[2][0]-E[0])/o),x=h(-(s[2][1]-E[1])/o),w=l,C=_;l=0,_=0;var D=[[u-=w,c-=C,0,0,O-g],[m-=w,y-=C,0,0,P-g],[0,0,u,c,M-v],[0,0,m,y,x-v]],T=Object(I.h)(D);if(T){if(d.save(),d.beginPath(),function(){if(void 0===Ne){var e=document.createElement("canvas").getContext("2d");e.globalCompositeOperation="lighter",e.fillStyle="rgba(210, 0, 0, 0.75)",$e(e,4,5,4,0),$e(e,4,5,0,5);var t=e.getImageData(0,0,3,3).data;Ne=Ye(t,0)||Ye(t,4)||Ye(t,8)}return Ne}()||!p){d.moveTo(O,M);for(var k=g-O,A=v-M,L=0;L<4;L++)d.lineTo(O+h((L+1)*k/4),M+h(L*A/3)),3!=L&&d.lineTo(O+h((L+1)*k/4),M+h((L+1)*A/3));d.lineTo(P,x)}else d.moveTo(O,M),d.lineTo(g,v),d.lineTo(P,x);d.clip(),d.transform(T[0],T[2],T[1],T[3],g,v),d.translate(f[0]-w,f[3]-C),d.scale(n/r,-n/r),d.drawImage(b.canvas,0,0),d.restore()}})),u&&(d.save(),d.globalCompositeOperation="source-over",d.strokeStyle="black",d.lineWidth=1,s.getTriangles().forEach((function(e,t,r){var n=e.target,i=(n[0][0]-E[0])/o,a=-(n[0][1]-E[1])/o,s=(n[1][0]-E[0])/o,l=-(n[1][1]-E[1])/o,_=(n[2][0]-E[0])/o,u=-(n[2][1]-E[1])/o;d.beginPath(),d.moveTo(s,l),d.lineTo(i,a),d.lineTo(_,u),d.closePath(),d.stroke()})),d.restore()),d.canvas}var et=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),tt=function(e){function t(t,r,n,i,o,a,s,l,_,u,p,d){var h=e.call(this,o,Te.a.IDLE,{interpolate:!!d})||this;h.renderEdges_=void 0!==p&&p,h.pixelRatio_=s,h.gutter_=l,h.canvas_=null,h.sourceTileGrid_=r,h.targetTileGrid_=i,h.wrappedTileCoord_=a||o,h.sourceTiles_=[],h.sourcesListenerKeys_=null,h.sourceZ_=0;var f=i.getTileCoordExtent(h.wrappedTileCoord_),m=h.targetTileGrid_.getExtent(),y=h.sourceTileGrid_.getExtent(),g=m?Object(c.A)(f,m):f;if(0===Object(c.t)(g))return h.state=Te.a.EMPTY,h;var b=t.getExtent();b&&(y=y?Object(c.A)(y,b):b);var v=i.getResolution(h.wrappedTileCoord_[0]),E=function(e,t,r,n){var i=Object(c.w)(r),o=Je(e,t,i,n);return(!isFinite(o)||o<=0)&&Object(c.s)(r,(function(r){return o=Je(e,t,r,n),isFinite(o)&&o>0})),o}(t,n,g,v);if(!isFinite(E)||E<=0)return h.state=Te.a.EMPTY,h;var O=void 0!==u?u:.5;if(h.triangulation_=new Ge(t,n,g,y,E*O,v),0===h.triangulation_.getTriangles().length)return h.state=Te.a.EMPTY,h;h.sourceZ_=r.getZForResolution(E);var M=h.triangulation_.calculateSourceExtent();if(y&&(t.canWrapX()?(M[1]=Object(I.b)(M[1],y[1],y[3]),M[3]=Object(I.b)(M[3],y[1],y[3])):M=Object(c.A)(M,y)),Object(c.t)(M)){for(var P=r.getTileRangeForExtentAndZ(M,h.sourceZ_),x=P.minX;x<=P.maxX;x++)for(var w=P.minY;w<=P.maxY;w++){var C=_(h.sourceZ_,x,w,s);C&&h.sourceTiles_.push(C)}0===h.sourceTiles_.length&&(h.state=Te.a.EMPTY)}else h.state=Te.a.EMPTY;return h}return et(t,e),t.prototype.getImage=function(){return this.canvas_},t.prototype.reproject_=function(){var e=[];if(this.sourceTiles_.forEach(function(t,r,n){t&&t.getState()==Te.a.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),image:t.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===e.length)this.state=Te.a.ERROR;else{var t=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(t),n="number"==typeof r?r:r[0],i="number"==typeof r?r:r[1],o=this.targetTileGrid_.getResolution(t),a=this.sourceTileGrid_.getResolution(this.sourceZ_),s=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Qe(n,i,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,s,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=Te.a.LOADED}this.changed()},t.prototype.load=function(){if(this.state==Te.a.IDLE){this.state=Te.a.LOADING,this.changed();var e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(t,r,n){var i=t.getState();if(i==Te.a.IDLE||i==Te.a.LOADING){e++;var a=Object(s.a)(t,o.a.CHANGE,(function(r){var n=t.getState();n!=Te.a.LOADED&&n!=Te.a.ERROR&&n!=Te.a.EMPTY||(Object(s.c)(a),0===--e&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(a)}}.bind(this)),0===e?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function(e,t,r){e.getState()==Te.a.IDLE&&e.load()}))}},t.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(s.c),this.sourcesListenerKeys_=null},t.prototype.release=function(){this.canvas_&&(Object(Le.d)(this.canvas_.getContext("2d")),Xe.push(this.canvas_),this.canvas_=null),e.prototype.release.call(this)},t}(Ie),rt=function(){function e(e){this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return e.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},e.prototype.expireCache=function(e){for(;this.canExpireCache();)this.pop()},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},e.prototype.containsKey=function(e){return this.entries_.hasOwnProperty(e)},e.prototype.forEach=function(e){for(var t=this.oldest_;t;)e(t.value_,t.key_,this),t=t.newer},e.prototype.get=function(e,t){var r=this.entries_[e];return Object(a.a)(void 0!==r,15),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_},e.prototype.remove=function(e){var t=this.entries_[e];return Object(a.a)(void 0!==t,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var e,t=new Array(this.count_),r=0;for(e=this.newest_;e;e=e.older)t[r++]=e.key_;return t},e.prototype.getValues=function(){var e,t=new Array(this.count_),r=0;for(e=this.newest_;e;e=e.older)t[r++]=e.value_;return t},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.peek=function(e){if(this.containsKey(e))return this.entries_[e].value_},e.prototype.pop=function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_},e.prototype.replace=function(e,t){this.get(e),this.entries_[e].value_=t},e.prototype.set=function(e,t){Object(a.a)(!(e in this.entries_),16);var r={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[e]=r,++this.count_},e.prototype.setSize=function(e){this.highWaterMark=e},e}(),nt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),it=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nt(t,e),t.prototype.expireCache=function(e){for(;this.canExpireCache();){if(this.peekLast().getKey()in e)break;this.pop().release()}},t.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var e=Pe(this.peekFirstKey())[0];this.forEach(function(t){t.tileCoord[0]!==e&&(this.remove(Me(t.tileCoord)),t.release())}.bind(this))}},t}(rt),ot="tileloadstart",at="tileloadend",st="tileloaderror",lt=r(47),_t=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function ut(e){return e?Array.isArray(e)?function(t){return e}:"function"==typeof e?e:function(t){return[e]}:null}var ct=function(e){function t(t){var r=e.call(this)||this;r.projection=Object(g.i)(t.projection),r.attributions_=ut(t.attributions),r.attributionsCollapsible_=void 0===t.attributionsCollapsible||t.attributionsCollapsible,r.loading=!1,r.state_=void 0!==t.state?t.state:"ready",r.wrapX_=void 0!==t.wrapX&&t.wrapX,r.interpolate_=!!t.interpolate,r.viewResolver=null,r.viewRejector=null;var n=r;return r.viewPromise_=new Promise((function(e,t){n.viewResolver=e,n.viewRejector=t})),r}return _t(t,e),t.prototype.getAttributions=function(){return this.attributions_},t.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},t.prototype.getProjection=function(){return this.projection},t.prototype.getResolutions=function(){return Object(m.b)()},t.prototype.getView=function(){return this.viewPromise_},t.prototype.getState=function(){return this.state_},t.prototype.getWrapX=function(){return this.wrapX_},t.prototype.getInterpolate=function(){return this.interpolate_},t.prototype.refresh=function(){this.changed()},t.prototype.setAttributions=function(e){this.attributions_=ut(e),this.changed()},t.prototype.setState=function(e){this.state_=e,this.changed()},t}(i.a);function pt(e){var t=e.getDefaultTileGrid();return t||(t=function(e,t,r,n){return function(e,t,r,n){var i=void 0!==n?n:"top-left",o=ht(e,t,r);return new Ce({extent:e,origin:Object(c.x)(e,i),resolutions:o,tileSize:r})}(ft(e),t,r,n)}(e),e.setDefaultTileGrid(t)),t}function dt(e){var t=e||{},r=t.extent||Object(g.i)("EPSG:3857").getExtent(),n={extent:r,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:ht(r,t.maxZoom,t.tileSize,t.maxResolution)};return new Ce(n)}function ht(e,t,r,n){for(var i=void 0!==t?t:ve.a,o=Object(c.z)(e),a=Object(c.E)(e),s=Object(xe.c)(void 0!==r?r:ve.b),l=n>0?n:Math.max(a/s[0],o/s[1]),_=i+1,u=new Array(_),p=0;p<_;++p)u[p]=l/Math.pow(2,p);return u}function ft(e){var t=(e=Object(g.i)(e)).getExtent();if(!t){var r=180*g.a[f.b.DEGREES]/e.getMetersPerUnit();t=Object(c.k)(-r,-r,r,r)}return t}var mt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),yt=function(e){function t(t){var r=e.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate})||this;r.on,r.once,r.un,r.opaque_=void 0!==t.opaque&&t.opaque,r.tilePixelRatio_=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,r.tileGrid=void 0!==t.tileGrid?t.tileGrid:null;return r.tileGrid&&Object(xe.c)(r.tileGrid.getTileSize(r.tileGrid.getMinZoom()),[256,256]),r.tileCache=new it(t.cacheSize||0),r.tmpSize=[0,0],r.key_=t.key||"",r.tileOptions={transition:t.transition,interpolate:t.interpolate},r.zDirection=t.zDirection?t.zDirection:0,r}return mt(t,e),t.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},t.prototype.expireCache=function(e,t){var r=this.getTileCacheForProjection(e);r&&r.expireCache(t)},t.prototype.forEachLoadedTile=function(e,t,r,n){var i=this.getTileCacheForProjection(e);if(!i)return!1;for(var o,a,s,l=!0,_=r.minX;_<=r.maxX;++_)for(var u=r.minY;u<=r.maxY;++u)a=Oe(t,_,u),s=!1,i.containsKey(a)&&(s=(o=i.get(a)).getState()===Te.a.LOADED)&&(s=!1!==n(o)),s||(l=!1);return l},t.prototype.getGutterForProjection=function(e){return 0},t.prototype.getKey=function(){return this.key_},t.prototype.setKey=function(e){this.key_!==e&&(this.key_=e,this.changed())},t.prototype.getOpaque=function(e){return this.opaque_},t.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},t.prototype.getTile=function(e,t,r,n,i){return Object(m.b)()},t.prototype.getTileGrid=function(){return this.tileGrid},t.prototype.getTileGridForProjection=function(e){return this.tileGrid?this.tileGrid:pt(e)},t.prototype.getTileCacheForProjection=function(e){var t=this.getProjection();return Object(a.a)(null===t||Object(g.d)(t,e),68),this.tileCache},t.prototype.getTilePixelRatio=function(e){return this.tilePixelRatio_},t.prototype.getTilePixelSize=function(e,t,r){var n=this.getTileGridForProjection(r),i=this.getTilePixelRatio(t),o=Object(xe.c)(n.getTileSize(e),this.tmpSize);return 1==i?o:Object(xe.b)(o,i,this.tmpSize)},t.prototype.getTileCoordForTileUrlFunction=function(e,t){var r=void 0!==t?t:this.getProjection(),n=this.getTileGridForProjection(r);return this.getWrapX()&&r.isGlobal()&&(e=function(e,t,r){var n=t[0],i=e.getTileCoordCenter(t),o=ft(r);if(Object(c.f)(o,i))return t;var a=Object(c.E)(o),s=Math.ceil((o[0]-i[0])/a);return i[0]+=a*s,e.getTileCoordForCoordAndZ(i,n)}(n,e,r)),function(e,t){var r=e[0],n=e[1],i=e[2];if(t.getMinZoom()>r||r>t.getMaxZoom())return!1;var o=t.getFullTileRange(r);return!o||o.containsXY(n,i)}(e,n)?e:null},t.prototype.clear=function(){this.tileCache.clear()},t.prototype.refresh=function(){this.clear(),e.prototype.refresh.call(this)},t.prototype.updateCacheSize=function(e,t){var r=this.getTileCacheForProjection(t);e>r.highWaterMark&&(r.highWaterMark=e)},t.prototype.useTile=function(e,t,r,n){},t}(ct),gt=function(e){function t(t,r){var n=e.call(this,t)||this;return n.tile=r,n}return mt(t,e),t}(lt.a),bt=yt;function vt(e,t){var r=/\{z\}/g,n=/\{x\}/g,i=/\{y\}/g,o=/\{-y\}/g;return function(s,l,_){return s?e.replace(r,s[0].toString()).replace(n,s[1].toString()).replace(i,s[2].toString()).replace(o,(function(){var e=s[0],r=t.getFullTileRange(e);return Object(a.a)(r,55),(r.getHeight()-s[2]-1).toString()})):void 0}}function Et(e,t){for(var r=e.length,n=new Array(r),i=0;i<r;++i)n[i]=vt(e[i],t);return function(e){if(1===e.length)return e[0];return function(t,r,n){if(t){var i=function(e){return(e[1]<<e[0])+e[2]}(t),o=Object(I.g)(i,e.length);return e[o](t,r,n)}}}(n)}var Ot=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mt=function(e){function t(r){var n=e.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,opaque:r.opaque,projection:r.projection,state:r.state,tileGrid:r.tileGrid,tilePixelRatio:r.tilePixelRatio,wrapX:r.wrapX,transition:r.transition,interpolate:r.interpolate,key:r.key,attributionsCollapsible:r.attributionsCollapsible,zDirection:r.zDirection})||this;return n.generateTileUrlFunction_=n.tileUrlFunction===t.prototype.tileUrlFunction,n.tileLoadFunction=r.tileLoadFunction,r.tileUrlFunction&&(n.tileUrlFunction=r.tileUrlFunction),n.urls=null,r.urls?n.setUrls(r.urls):r.url&&n.setUrl(r.url),n.tileLoadingKeys_={},n}return Ot(t,e),t.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},t.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},t.prototype.getUrls=function(){return this.urls},t.prototype.handleTileChange=function(e){var t,r=e.target,n=Object(m.c)(r),i=r.getState();i==Te.a.LOADING?(this.tileLoadingKeys_[n]=!0,t=ot):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],t=i==Te.a.ERROR?st:i==Te.a.LOADED?at:void 0),null!=t&&this.dispatchEvent(new gt(t,r))},t.prototype.setTileLoadFunction=function(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()},t.prototype.setTileUrlFunction=function(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),void 0!==t?this.setKey(t):this.changed()},t.prototype.setUrl=function(e){var t=function(e){var t=[],r=/\{([a-z])-([a-z])\}/.exec(e);if(r){var n=r[1].charCodeAt(0),i=r[2].charCodeAt(0),o=void 0;for(o=n;o<=i;++o)t.push(e.replace(r[0],String.fromCharCode(o)));return t}if(r=/\{(\d+)-(\d+)\}/.exec(e)){for(var a=parseInt(r[2],10),s=parseInt(r[1],10);s<=a;s++)t.push(e.replace(r[0],s.toString()));return t}return t.push(e),t}(e);this.urls=t,this.setUrls(t)},t.prototype.setUrls=function(e){this.urls=e;var t=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(Et(e,this.tileGrid),t):this.setKey(t)},t.prototype.tileUrlFunction=function(e,t,r){},t.prototype.useTile=function(e,t,r){var n=Oe(e,t,r);this.tileCache.containsKey(n)&&this.tileCache.get(n)},t}(bt),Pt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function xt(e,t){e.getImage().src=t}var wt=function(e){function t(t){var r=this,n=void 0===t.imageSmoothing||t.imageSmoothing;return void 0!==t.interpolate&&(n=t.interpolate),(r=e.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:xt,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:n,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this).crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,r.tileClass=void 0!==t.tileClass?t.tileClass:He,r.tileCacheForProjection={},r.tileGridForProjection={},r.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,r.renderReprojectionEdges_=!1,r}return Pt(t,e),t.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},t.prototype.expireCache=function(e,t){var r=this.getTileCacheForProjection(e);for(var n in this.tileCache.expireCache(this.tileCache==r?t:{}),this.tileCacheForProjection){var i=this.tileCacheForProjection[n];i.expireCache(i==r?t:{})}},t.prototype.getGutterForProjection=function(e){return this.getProjection()&&e&&!Object(g.d)(this.getProjection(),e)?0:this.getGutter()},t.prototype.getGutter=function(){return 0},t.prototype.getKey=function(){var t=e.prototype.getKey.call(this);return this.getInterpolate()||(t+=":disable-interpolation"),t},t.prototype.getOpaque=function(t){return!(this.getProjection()&&t&&!Object(g.d)(this.getProjection(),t))&&e.prototype.getOpaque.call(this,t)},t.prototype.getTileGridForProjection=function(e){var t=this.getProjection();if(!this.tileGrid||t&&!Object(g.d)(t,e)){var r=Object(m.c)(e);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=pt(e)),this.tileGridForProjection[r]}return this.tileGrid},t.prototype.getTileCacheForProjection=function(e){var t=this.getProjection();if(!t||Object(g.d)(t,e))return this.tileCache;var r=Object(m.c)(e);return r in this.tileCacheForProjection||(this.tileCacheForProjection[r]=new it(this.tileCache.highWaterMark)),this.tileCacheForProjection[r]},t.prototype.createTile_=function(e,t,r,n,i,a){var s=[e,t,r],l=this.getTileCoordForTileUrlFunction(s,i),_=l?this.tileUrlFunction(l,n,i):void 0,u=new this.tileClass(s,void 0!==_?Te.a.IDLE:Te.a.EMPTY,void 0!==_?_:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=a,u.addEventListener(o.a.CHANGE,this.handleTileChange.bind(this)),u},t.prototype.getTile=function(e,t,r,n,i){var o=this.getProjection();if(o&&i&&!Object(g.d)(o,i)){var a=this.getTileCacheForProjection(i),s=[e,t,r],l=void 0,_=Me(s);a.containsKey(_)&&(l=a.get(_));var u=this.getKey();if(l&&l.key==u)return l;var c=this.getTileGridForProjection(o),p=this.getTileGridForProjection(i),d=this.getTileCoordForTileUrlFunction(s,i),h=new tt(o,c,i,p,s,d,this.getTilePixelRatio(n),this.getGutter(),function(e,t,r,n){return this.getTileInternal(e,t,r,n,o)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return h.key=u,l?(h.interimTile=l,h.refreshInterimChain(),a.replace(_,h)):a.set(_,h),h}return this.getTileInternal(e,t,r,n,o||i)},t.prototype.getTileInternal=function(e,t,r,n,i){var o=null,a=Oe(e,t,r),s=this.getKey();if(this.tileCache.containsKey(a)){if((o=this.tileCache.get(a)).key!=s){var l=o;o=this.createTile_(e,t,r,n,i,s),l.getState()==Te.a.IDLE?o.interimTile=l.interimTile:o.interimTile=l,o.refreshInterimChain(),this.tileCache.replace(a,o)}}else o=this.createTile_(e,t,r,n,i,s),this.tileCache.set(a,o);return o},t.prototype.setRenderReprojectionEdges=function(e){if(this.renderReprojectionEdges_!=e){for(var t in this.renderReprojectionEdges_=e,this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}},t.prototype.setTileGridForProjection=function(e,t){var r=Object(g.i)(e);if(r){var n=Object(m.c)(r);n in this.tileGridForProjection||(this.tileGridForProjection[n]=t)}},t}(Mt),Ct=r(271),Dt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Tt=function(e){function t(t){var r=this,n=void 0===t.imageSmoothing||t.imageSmoothing;if(void 0!==t.interpolate&&(n=t.interpolate),(r=e.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:n,projection:Object(g.i)("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:"loading",tileLoadFunction:t.tileLoadFunction,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,zDirection:t.zDirection})||this).tileJSON_=null,r.tileSize_=t.tileSize,t.url)if(t.jsonp)Object(Ct.a)(t.url,r.handleTileJSONResponse.bind(r),r.handleTileJSONError.bind(r));else{var i=new XMLHttpRequest;i.addEventListener("load",r.onXHRLoad_.bind(r)),i.addEventListener("error",r.onXHRError_.bind(r)),i.open("GET",t.url),i.send()}else t.tileJSON?r.handleTileJSONResponse(t.tileJSON):Object(a.a)(!1,51);return r}return Dt(t,e),t.prototype.onXHRLoad_=function(e){var t=e.target;if(!t.status||t.status>=200&&t.status<300){var r=void 0;try{r=JSON.parse(t.responseText)}catch(e){return void this.handleTileJSONError()}this.handleTileJSONResponse(r)}else this.handleTileJSONError()},t.prototype.onXHRError_=function(e){this.handleTileJSONError()},t.prototype.getTileJSON=function(){return this.tileJSON_},t.prototype.handleTileJSONResponse=function(e){var t,r=Object(g.i)("EPSG:4326"),n=this.getProjection();if(void 0!==e.bounds){var i=Object(g.l)(r,n);t=Object(c.a)(e.bounds,i)}var o=ft(n),a=e.minzoom||0,s=dt({extent:o,maxZoom:e.maxzoom||22,minZoom:a,tileSize:this.tileSize_});if(this.tileGrid=s,this.tileUrlFunction=Et(e.tiles,s),void 0!==e.attribution&&!this.getAttributions()){var l=void 0!==t?t:o;this.setAttributions((function(t){return Object(c.F)(l,t.extent)?[e.attribution]:null}))}this.tileJSON_=e,this.setState("ready")},t.prototype.handleTileJSONError=function(){this.setState("error")},t}(wt),kt=r(64),At="preload",It="useInterimTilesOnError",Lt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Rt=function(e){function t(t){var r=this,n=t||{},i=Object(y.a)({},n);return delete i.preload,delete i.useInterimTilesOnError,(r=e.call(this,i)||this).on,r.once,r.un,r.setPreload(void 0!==n.preload?n.preload:0),r.setUseInterimTilesOnError(void 0===n.useInterimTilesOnError||n.useInterimTilesOnError),r}return Lt(t,e),t.prototype.getPreload=function(){return this.get(At)},t.prototype.setPreload=function(e){this.set(At,e)},t.prototype.getUseInterimTilesOnError=function(){return this.get(It)},t.prototype.setUseInterimTilesOnError=function(e){this.set(It,e)},t.prototype.getData=function(t){return e.prototype.getData.call(this,t)},t}(kt.a),St=r(95),Bt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ut=function(e){function t(t){var r=e.call(this)||this;return r.ready=!0,r.boundHandleImageChange_=r.handleImageChange_.bind(r),r.layer_=t,r.declutterExecutorGroup=null,r}return Bt(t,e),t.prototype.getFeatures=function(e){return Object(m.b)()},t.prototype.getData=function(e){return null},t.prototype.prepareFrame=function(e){return Object(m.b)()},t.prototype.renderFrame=function(e,t){return Object(m.b)()},t.prototype.loadedTileCallback=function(e,t,r){e[t]||(e[t]={}),e[t][r.tileCoord.toString()]=r},t.prototype.createLoadedTileFinder=function(e,t,r){return function(n,i){var o=this.loadedTileCallback.bind(this,r,n);return e.forEachLoadedTile(t,n,i,o)}.bind(this)},t.prototype.forEachFeatureAtCoordinate=function(e,t,r,n,i){},t.prototype.getDataAtPixel=function(e,t,r){return null},t.prototype.getLayer=function(){return this.layer_},t.prototype.handleFontsChanged=function(){},t.prototype.handleImageChange_=function(e){e.target.getState()===We&&this.renderIfReadyAndVisible()},t.prototype.loadImage=function(e){var t=e.getState();return t!=We&&t!=Ke&&e.addEventListener(o.a.CHANGE,this.boundHandleImageChange_),t==Be&&(e.load(),t=e.getState()),t==We},t.prototype.renderIfReadyAndVisible=function(){var e=this.getLayer();e&&e.getVisible()&&"ready"===e.getSourceState()&&e.changed()},t.prototype.disposeInternal=function(){delete this.layer_,e.prototype.disposeInternal.call(this)},t}(St.a),Wt=r(153),Kt=r(74),jt=r(68),zt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ft=[],qt=null;var Nt=function(e){function t(t){var r=e.call(this,t)||this;return r.container=null,r.renderedResolution,r.tempTransform=Object(oe.c)(),r.pixelTransform=Object(oe.c)(),r.inversePixelTransform=Object(oe.c)(),r.context=null,r.containerReused=!1,r.pixelContext_=null,r.frameState=null,r}return zt(t,e),t.prototype.getImageData=function(e,t,r){var n,i;qt||((n=document.createElement("canvas")).width=1,n.height=1,qt=n.getContext("2d")),qt.clearRect(0,0,1,1);try{qt.drawImage(e,t,r,1,1,0,0,1,1),i=qt.getImageData(0,0,1,1).data}catch(e){return qt=null,null}return i},t.prototype.getBackground=function(e){var t=this.getLayer().getBackground();return"function"==typeof t&&(t=t(e.viewState.resolution)),t||void 0},t.prototype.useContainer=function(e,t,r){var n,i,o=this.getLayer().getClassName();e&&e.className===o&&(!r||e&&e.style.backgroundColor&&Object(T.b)(Object(jt.a)(e.style.backgroundColor),Object(jt.a)(r)))&&((s=e.firstElementChild)instanceof HTMLCanvasElement&&(i=s.getContext("2d")));if(i&&i.canvas.style.transform===t?(this.container=e,this.context=i,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(n=document.createElement("div")).className=o;var a=n.style;a.position="absolute",a.width="100%",a.height="100%";var s=(i=Object(Le.a)()).canvas;n.appendChild(s),(a=s.style).position="absolute",a.left="0",a.transformOrigin="top left",this.container=n,this.context=i}this.containerReused||!r||this.container.style.backgroundColor||(this.container.style.backgroundColor=r)},t.prototype.clipUnrotated=function(e,t,r){var n=Object(c.C)(r),i=Object(c.D)(r),o=Object(c.v)(r),a=Object(c.u)(r);Object(oe.a)(t.coordinateToPixelTransform,n),Object(oe.a)(t.coordinateToPixelTransform,i),Object(oe.a)(t.coordinateToPixelTransform,o),Object(oe.a)(t.coordinateToPixelTransform,a);var s=this.inversePixelTransform;Object(oe.a)(s,n),Object(oe.a)(s,i),Object(oe.a)(s,o),Object(oe.a)(s,a),e.save(),e.beginPath(),e.moveTo(Math.round(n[0]),Math.round(n[1])),e.lineTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.clip()},t.prototype.dispatchRenderEvent_=function(e,t,r){var n=this.getLayer();if(n.hasListener(e)){var i=new Wt.a(e,this.inversePixelTransform,r,t);n.dispatchEvent(i)}},t.prototype.preRender=function(e,t){this.frameState=t,this.dispatchRenderEvent_(Kt.a.PRERENDER,e,t)},t.prototype.postRender=function(e,t){this.dispatchRenderEvent_(Kt.a.POSTRENDER,e,t)},t.prototype.getRenderTransform=function(e,t,r,n,i,o,a){var s=i/2,l=o/2,_=n/t,u=-_,c=-e[0]+a,p=-e[1];return Object(oe.b)(this.tempTransform,s,l,_,u,-r,c,p)},t.prototype.getDataAtPixel=function(e,t,r){var n=Object(oe.a)(this.inversePixelTransform,e.slice()),i=this.context,o=this.getLayer().getExtent();if(o){var a=Object(oe.a)(t.pixelToCoordinateTransform,e.slice());if(!Object(c.f)(o,a))return null}var s,l=Math.round(n[0]),_=Math.round(n[1]),u=this.pixelContext_;if(!u){var p=document.createElement("canvas");p.width=1,p.height=1,u=p.getContext("2d"),this.pixelContext_=u}u.clearRect(0,0,1,1);try{u.drawImage(i.canvas,l,_,1,1,0,0,1,1),s=u.getImageData(0,0,1,1).data}catch(e){return"SecurityError"===e.name?(this.pixelContext_=null,new Uint8Array):s}return 0===s[3]?null:s},t.prototype.disposeInternal=function(){delete this.frameState,e.prototype.disposeInternal.call(this)},t}(Ut),Ht=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gt=function(e){function t(t){var r=e.call(this,t)||this;return r.extentChanged=!0,r.renderedExtent_=null,r.renderedPixelRatio,r.renderedProjection=null,r.renderedRevision,r.renderedTiles=[],r.newTiles_=!1,r.tmpExtent=Object(c.j)(),r.tmpTileRange_=new be(0,0,0,0),r}return Ht(t,e),t.prototype.isDrawableTile=function(e){var t=this.getLayer(),r=e.getState(),n=t.getUseInterimTilesOnError();return r==Te.a.LOADED||r==Te.a.EMPTY||r==Te.a.ERROR&&!n},t.prototype.getTile=function(e,t,r,n){var i=n.pixelRatio,o=n.viewState.projection,a=this.getLayer(),s=a.getSource().getTile(e,t,r,i,o);return s.getState()==Te.a.ERROR&&(a.getUseInterimTilesOnError()?a.getPreload()>0&&(this.newTiles_=!0):s.setState(Te.a.LOADED)),this.isDrawableTile(s)||(s=s.getInterimTile()),s},t.prototype.getData=function(e){var t=this.frameState;if(!t)return null;var r=this.getLayer(),n=Object(oe.a)(t.pixelToCoordinateTransform,e.slice()),i=r.getExtent();if(i&&!Object(c.f)(i,n))return null;for(var o=t.pixelRatio,a=t.viewState.projection,s=t.viewState,l=r.getRenderSource(),_=l.getTileGridForProjection(s.projection),u=l.getTilePixelRatio(t.pixelRatio),p=_.getZForResolution(s.resolution);p>=_.getMinZoom();--p){var d=_.getTileCoordForCoordAndZ(n,p),h=l.getTile(p,d[1],d[2],o,a);if(!(h instanceof He||h instanceof tt))return null;if(h.getState()===Te.a.LOADED){var f=_.getOrigin(p),m=Object(xe.c)(_.getTileSize(p)),y=_.getResolution(p),g=Math.floor(u*((n[0]-f[0])/y-d[1]*m[0])),b=Math.floor(u*((f[1]-n[1])/y-d[2]*m[1])),v=Math.round(u*l.getGutterForProjection(s.projection));return this.getImageData(h.getImage(),g+v,b+v)}}return null},t.prototype.loadedTileCallback=function(t,r,n){return!!this.isDrawableTile(n)&&e.prototype.loadedTileCallback.call(this,t,r,n)},t.prototype.prepareFrame=function(e){return!!this.getLayer().getSource()},t.prototype.renderFrame=function(e,t){var r=e.layerStatesArray[e.layerIndex],n=e.viewState,i=n.projection,o=n.resolution,a=n.center,s=n.rotation,l=e.pixelRatio,_=this.getLayer(),u=_.getSource(),p=u.getRevision(),d=u.getTileGridForProjection(i),h=d.getZForResolution(o,u.zDirection),f=d.getResolution(h),b=e.extent,v=e.viewState.resolution,E=u.getTilePixelRatio(l),O=Math.round(Object(c.E)(b)/v*l),M=Math.round(Object(c.z)(b)/v*l),P=r.extent&&Object(g.g)(r.extent,i);P&&(b=Object(c.A)(b,Object(g.g)(r.extent,i)));var x=f*O/2/E,w=f*M/2/E,C=[a[0]-x,a[1]-w,a[0]+x,a[1]+w],D=d.getTileRangeForExtentAndZ(b,h),k={};k[h]={};var A=this.createLoadedTileFinder(u,i,k),I=this.tmpExtent,L=this.tmpTileRange_;this.newTiles_=!1;for(var R=s?Object(c.B)(n.center,v,s,e.size):void 0,S=D.minX;S<=D.maxX;++S)for(var B=D.minY;B<=D.maxY;++B)if(!s||d.tileCoordIntersectsViewport([h,S,B],R)){var U=this.getTile(h,S,B,e);if(this.isDrawableTile(U)){var W=Object(m.c)(this);if(U.getState()==Te.a.LOADED)k[h][U.tileCoord.toString()]=U,(le=U.inTransition(W))&&1!==r.opacity&&(U.endTransition(W),le=!1),this.newTiles_||!le&&-1!==this.renderedTiles.indexOf(U)||(this.newTiles_=!0);if(1===U.getAlpha(W,e.time))continue}var K=d.getTileCoordChildTileRange(U.tileCoord,L,I),j=!1;K&&(j=A(h+1,K)),j||d.forEachTileCoordParentTileRange(U.tileCoord,A,L,I)}var z=f/o*l/E;Object(oe.b)(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/l,1/l,s,-O/2,-M/2);var F=Object(oe.j)(this.pixelTransform);this.useContainer(t,F,this.getBackground(e));var q=this.context,N=q.canvas;Object(oe.d)(this.inversePixelTransform,this.pixelTransform),Object(oe.b)(this.tempTransform,O/2,M/2,z,z,0,-O/2,-M/2),N.width!=O||N.height!=M?(N.width=O,N.height=M):this.containerReused||q.clearRect(0,0,O,M),P&&this.clipUnrotated(q,e,P),u.getInterpolate()||Object(y.a)(q,Ve),this.preRender(q,e),this.renderedTiles.length=0;var H,G,V,Z=Object.keys(k).map(Number);Z.sort(T.f),1!==r.opacity||this.containerReused&&!u.getOpaque(e.viewState.projection)?(H=[],G=[]):Z=Z.reverse();for(var X=Z.length-1;X>=0;--X){var $=Z[X],Y=u.getTilePixelSize($,l,i),J=d.getResolution($)/f,Q=Y[0]*J*z,ee=Y[1]*J*z,te=d.getTileCoordForCoordAndZ(Object(c.C)(C),$),re=d.getTileCoordExtent(te),ne=Object(oe.a)(this.tempTransform,[E*(re[0]-C[0])/f,E*(C[3]-re[3])/f]),ie=E*u.getGutterForProjection(i),ae=k[$];for(var se in ae){var le,_e=(U=ae[se]).tileCoord,ue=te[1]-_e[1],ce=Math.round(ne[0]-(ue-1)*Q),pe=te[2]-_e[2],de=Math.round(ne[1]-(pe-1)*ee),he=ce-(S=Math.round(ne[0]-ue*Q)),fe=de-(B=Math.round(ne[1]-pe*ee)),me=h===$,ye=!1;if(!(le=me&&1!==U.getAlpha(Object(m.c)(this),e.time)))if(H){V=[S,B,S+he,B,S+he,B+fe,S,B+fe];for(var ge=0,be=H.length;ge<be;++ge)if(h!==$&&$<G[ge]){var ve=H[ge];Object(c.F)([S,B,S+he,B+fe],[ve[0],ve[3],ve[4],ve[7]])&&(ye||(q.save(),ye=!0),q.beginPath(),q.moveTo(V[0],V[1]),q.lineTo(V[2],V[3]),q.lineTo(V[4],V[5]),q.lineTo(V[6],V[7]),q.moveTo(ve[6],ve[7]),q.lineTo(ve[4],ve[5]),q.lineTo(ve[2],ve[3]),q.lineTo(ve[0],ve[1]),q.clip())}H.push(V),G.push($)}else q.clearRect(S,B,he,fe);this.drawTileImage(U,e,S,B,he,fe,ie,me),H&&!le?(ye&&q.restore(),this.renderedTiles.unshift(U)):this.renderedTiles.push(U),this.updateUsedTiles(e.usedTiles,u,U)}}return this.renderedRevision=p,this.renderedResolution=f,this.extentChanged=!this.renderedExtent_||!Object(c.o)(this.renderedExtent_,C),this.renderedExtent_=C,this.renderedPixelRatio=l,this.renderedProjection=i,this.manageTilePyramid(e,u,d,l,i,b,h,_.getPreload()),this.scheduleExpireCache(e,u),this.postRender(q,e),r.extent&&q.restore(),Object(y.a)(q,Ze),F!==N.style.transform&&(N.style.transform=F),this.container},t.prototype.drawTileImage=function(e,t,r,n,i,o,a,s){var l=this.getTileImage(e);if(l){var _=Object(m.c)(this),u=t.layerStatesArray[t.layerIndex],c=u.opacity*(s?e.getAlpha(_,t.time):1),p=c!==this.context.globalAlpha;p&&(this.context.save(),this.context.globalAlpha=c),this.context.drawImage(l,a,a,l.width-2*a,l.height-2*a,r,n,i,o),p&&this.context.restore(),c!==u.opacity?t.animate=!0:s&&e.endTransition(_)}},t.prototype.getImage=function(){var e=this.context;return e?e.canvas:null},t.prototype.getTileImage=function(e){return e.getImage()},t.prototype.scheduleExpireCache=function(e,t){if(t.canExpireCache()){var r=function(e,t,r){var n=Object(m.c)(e);n in r.usedTiles&&e.expireCache(r.viewState.projection,r.usedTiles[n])}.bind(null,t);e.postRenderFunctions.push(r)}},t.prototype.updateUsedTiles=function(e,t,r){var n=Object(m.c)(t);n in e||(e[n]={}),e[n][r.getKey()]=!0},t.prototype.manageTilePyramid=function(e,t,r,n,i,o,a,s,l){var _=Object(m.c)(t);_ in e.wantedTiles||(e.wantedTiles[_]={});var u,p,d,h,f,y,g=e.wantedTiles[_],b=e.tileQueue,v=r.getMinZoom(),E=e.viewState.rotation,O=E?Object(c.B)(e.viewState.center,e.viewState.resolution,E,e.size):void 0,M=0;for(y=v;y<=a;++y)for(p=r.getTileRangeForExtentAndZ(o,y,p),d=r.getResolution(y),h=p.minX;h<=p.maxX;++h)for(f=p.minY;f<=p.maxY;++f)E&&!r.tileCoordIntersectsViewport([y,h,f],O)||(a-y<=s?(++M,(u=t.getTile(y,h,f,n,i)).getState()==Te.a.IDLE&&(g[u.getKey()]=!0,b.isKeyQueued(u.getKey())||b.enqueue([u,_,r.getTileCoordCenter(u.tileCoord),d])),void 0!==l&&l(u)):t.useTile(y,h,f,i));t.updateCacheSize(M,i)},t}(Nt),Vt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zt=function(e){function t(t){return e.call(this,t)||this}return Vt(t,e),t.prototype.createRenderer=function(){return new Gt(this)},t}(Rt),Xt=r(154),$t=r.n(Xt),Yt=function(){function e(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=Object(xe.c)(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}return e.prototype.clone=function(){var t=this.getScale();return new e({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},e.prototype.getOpacity=function(){return this.opacity_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.getRotation=function(){return this.rotation_},e.prototype.getScale=function(){return this.scale_},e.prototype.getScaleArray=function(){return this.scaleArray_},e.prototype.getDisplacement=function(){return this.displacement_},e.prototype.getDeclutterMode=function(){return this.declutterMode_},e.prototype.getAnchor=function(){return Object(m.b)()},e.prototype.getImage=function(e){return Object(m.b)()},e.prototype.getHitDetectionImage=function(){return Object(m.b)()},e.prototype.getPixelRatio=function(e){return 1},e.prototype.getImageState=function(){return Object(m.b)()},e.prototype.getImageSize=function(){return Object(m.b)()},e.prototype.getOrigin=function(){return Object(m.b)()},e.prototype.getSize=function(){return Object(m.b)()},e.prototype.setDisplacement=function(e){this.displacement_=e},e.prototype.setOpacity=function(e){this.opacity_=e},e.prototype.setRotateWithView=function(e){this.rotateWithView_=e},e.prototype.setRotation=function(e){this.rotation_=e},e.prototype.setScale=function(e){this.scale_=e,this.scaleArray_=Object(xe.c)(e)},e.prototype.listenImageChange=function(e){Object(m.b)()},e.prototype.load=function(){Object(m.b)()},e.prototype.unlistenImageChange=function(e){Object(m.b)()},e}();function Jt(e){return Array.isArray(e)?Object(jt.c)(e):e}var Qt=r(17),er=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),tr=function(e){function t(t){var r=this,n=void 0!==t.rotateWithView&&t.rotateWithView;return(r=e.call(this,{opacity:1,rotateWithView:n,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,displacement:void 0!==t.displacement?t.displacement:[0,0],declutterMode:t.declutterMode})||this).canvas_=void 0,r.hitDetectionCanvas_=null,r.fill_=void 0!==t.fill?t.fill:null,r.origin_=[0,0],r.points_=t.points,r.radius_=void 0!==t.radius?t.radius:t.radius1,r.radius2_=t.radius2,r.angle_=void 0!==t.angle?t.angle:0,r.stroke_=void 0!==t.stroke?t.stroke:null,r.size_=null,r.renderOptions_=null,r.render(),r}return er(t,e),t.prototype.clone=function(){var e=this.getScale(),r=new t({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return r.setOpacity(this.getOpacity()),r},t.prototype.getAnchor=function(){var e=this.size_;if(!e)return null;var t=this.getDisplacement();return[e[0]/2-t[0],e[1]/2+t[1]]},t.prototype.getAngle=function(){return this.angle_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(e){this.fill_=e,this.render()},t.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},t.prototype.getImage=function(e){var t=this.canvas_[e];if(!t){var r=this.renderOptions_,n=Object(Le.a)(r.size*e,r.size*e);this.draw_(r,n,e),t=n.canvas,this.canvas_[e]=t}return t},t.prototype.getPixelRatio=function(e){return e},t.prototype.getImageSize=function(){return this.size_},t.prototype.getImageState=function(){return We},t.prototype.getOrigin=function(){return this.origin_},t.prototype.getPoints=function(){return this.points_},t.prototype.getRadius=function(){return this.radius_},t.prototype.getRadius2=function(){return this.radius2_},t.prototype.getSize=function(){return this.size_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(e){this.stroke_=e,this.render()},t.prototype.listenImageChange=function(e){},t.prototype.load=function(){},t.prototype.unlistenImageChange=function(e){},t.prototype.calculateLineJoinSize_=function(e,t,r){if(0===t||this.points_===1/0||"bevel"!==e&&"miter"!==e)return t;var n=this.radius_,i=void 0===this.radius2_?n:this.radius2_;if(n<i){var o=n;n=i,i=o}var a=void 0===this.radius2_?this.points_:2*this.points_,s=2*Math.PI/a,l=i*Math.sin(s),_=n-Math.sqrt(i*i-l*l),u=Math.sqrt(l*l+_*_),c=u/l;if("miter"===e&&c<=r)return c*t;var p=t/2/c,d=t/2*(_/u),h=Math.sqrt((n+p)*(n+p)+d*d)-n;if(void 0===this.radius2_||"bevel"===e)return 2*h;var f=n*Math.sin(s),m=i-Math.sqrt(n*n-f*f),y=Math.sqrt(f*f+m*m)/f;if(y<=r){var g=y*t/2-i-n;return 2*Math.max(h,g)}return 2*h},t.prototype.createRenderOptions=function(){var e,t=Qt.g,r=0,n=null,i=0,o=0;this.stroke_&&(null===(e=this.stroke_.getColor())&&(e=Qt.k),e=Jt(e),void 0===(o=this.stroke_.getWidth())&&(o=Qt.h),n=this.stroke_.getLineDash(),i=this.stroke_.getLineDashOffset(),void 0===(t=this.stroke_.getLineJoin())&&(t=Qt.g),void 0===(r=this.stroke_.getMiterLimit())&&(r=Qt.i));var a=this.calculateLineJoinSize_(t,o,r),s=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:e,strokeWidth:o,size:Math.ceil(2*s+a),lineDash:n,lineDashOffset:i,lineJoin:t,miterLimit:r}},t.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var e=this.renderOptions_.size;this.canvas_={},this.size_=[e,e]},t.prototype.draw_=function(e,t,r){if(t.scale(r,r),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){var n=this.fill_.getColor();null===n&&(n=Qt.b),t.fillStyle=Jt(n),t.fill()}this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,t.setLineDash&&e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())},t.prototype.createHitDetectionCanvas_=function(e){if(this.fill_){var t=this.fill_.getColor(),r=0;if("string"==typeof t&&(t=Object(jt.a)(t)),null===t?r=1:Array.isArray(t)&&(r=4===t.length?t[3]:1),0===r){var n=Object(Le.a)(e.size,e.size);this.hitDetectionCanvas_=n.canvas,this.drawHitDetectionCanvas_(e,n)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},t.prototype.createPath_=function(e){var t=this.points_,r=this.radius_;if(t===1/0)e.arc(0,0,r,0,2*Math.PI);else{var n=void 0===this.radius2_?r:this.radius2_;void 0!==this.radius2_&&(t*=2);for(var i=this.angle_-Math.PI/2,o=2*Math.PI/t,a=0;a<t;a++){var s=i+a*o,l=a%2==0?r:n;e.lineTo(l*Math.cos(s),l*Math.sin(s))}e.closePath()}},t.prototype.drawHitDetectionCanvas_=function(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=Qt.b,t.fill(),this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())},t}(Yt),rr=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),nr=function(e){function t(t){var r=t||{};return e.call(this,{points:1/0,fill:r.fill,radius:r.radius,stroke:r.stroke,scale:void 0!==r.scale?r.scale:1,rotation:void 0!==r.rotation?r.rotation:0,rotateWithView:void 0!==r.rotateWithView&&r.rotateWithView,displacement:void 0!==r.displacement?r.displacement:[0,0],declutterMode:r.declutterMode})||this}return rr(t,e),t.prototype.clone=function(){var e=this.getScale(),r=new t({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return r.setOpacity(this.getOpacity()),r},t.prototype.setRadius=function(e){this.radius_=e,this.render()},t}(tr),ir=function(){function e(e){var t=e||{};this.color_=void 0!==t.color?t.color:null}return e.prototype.clone=function(){var t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0})},e.prototype.getColor=function(){return this.color_},e.prototype.setColor=function(e){this.color_=e},e}(),or=function(){function e(e){var t=e||{};this.color_=void 0!==t.color?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=void 0!==t.lineDash?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}return e.prototype.clone=function(){var t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},e.prototype.getColor=function(){return this.color_},e.prototype.getLineCap=function(){return this.lineCap_},e.prototype.getLineDash=function(){return this.lineDash_},e.prototype.getLineDashOffset=function(){return this.lineDashOffset_},e.prototype.getLineJoin=function(){return this.lineJoin_},e.prototype.getMiterLimit=function(){return this.miterLimit_},e.prototype.getWidth=function(){return this.width_},e.prototype.setColor=function(e){this.color_=e},e.prototype.setLineCap=function(e){this.lineCap_=e},e.prototype.setLineDash=function(e){this.lineDash_=e},e.prototype.setLineDashOffset=function(e){this.lineDashOffset_=e},e.prototype.setLineJoin=function(e){this.lineJoin_=e},e.prototype.setMiterLimit=function(e){this.miterLimit_=e},e.prototype.setWidth=function(e){this.width_=e},e}(),ar=function(){function e(e){var t=e||{};this.geometry_=null,this.geometryFunction_=_r,void 0!==t.geometry&&this.setGeometry(t.geometry),this.fill_=void 0!==t.fill?t.fill:null,this.image_=void 0!==t.image?t.image:null,this.renderer_=void 0!==t.renderer?t.renderer:null,this.hitDetectionRenderer_=void 0!==t.hitDetectionRenderer?t.hitDetectionRenderer:null,this.stroke_=void 0!==t.stroke?t.stroke:null,this.text_=void 0!==t.text?t.text:null,this.zIndex_=t.zIndex}return e.prototype.clone=function(){var t=this.getGeometry();return t&&"object"==typeof t&&(t=t.clone()),new e({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.setRenderer=function(e){this.renderer_=e},e.prototype.setHitDetectionRenderer=function(e){this.hitDetectionRenderer_=e},e.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},e.prototype.getGeometry=function(){return this.geometry_},e.prototype.getGeometryFunction=function(){return this.geometryFunction_},e.prototype.getFill=function(){return this.fill_},e.prototype.setFill=function(e){this.fill_=e},e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(e){this.image_=e},e.prototype.getStroke=function(){return this.stroke_},e.prototype.setStroke=function(e){this.stroke_=e},e.prototype.getText=function(){return this.text_},e.prototype.setText=function(e){this.text_=e},e.prototype.getZIndex=function(){return this.zIndex_},e.prototype.setGeometry=function(e){"function"==typeof e?this.geometryFunction_=e:"string"==typeof e?this.geometryFunction_=function(t){return t.get(e)}:e?void 0!==e&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=_r,this.geometry_=e},e.prototype.setZIndex=function(e){this.zIndex_=e},e}();var sr=null;function lr(e,t){if(!sr){var r=new ir({color:"rgba(255,255,255,0.4)"}),n=new or({color:"#3399CC",width:1.25});sr=[new ar({image:new nr({fill:r,stroke:n,radius:5}),fill:r,stroke:n})]}return sr}function _r(e){return e.getGeometry()}var ur=ar,cr=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),pr="renderOrder",dr=function(e){function t(t){var r=this,n=t||{},i=Object(y.a)({},n);return delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,(r=e.call(this,i)||this).declutter_=void 0!==n.declutter&&n.declutter,r.renderBuffer_=void 0!==n.renderBuffer?n.renderBuffer:100,r.style_=null,r.styleFunction_=void 0,r.setStyle(n.style),r.updateWhileAnimating_=void 0!==n.updateWhileAnimating&&n.updateWhileAnimating,r.updateWhileInteracting_=void 0!==n.updateWhileInteracting&&n.updateWhileInteracting,r}return cr(t,e),t.prototype.getDeclutter=function(){return this.declutter_},t.prototype.getFeatures=function(t){return e.prototype.getFeatures.call(this,t)},t.prototype.getRenderBuffer=function(){return this.renderBuffer_},t.prototype.getRenderOrder=function(){return this.get(pr)},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},t.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},t.prototype.renderDeclutter=function(e){e.declutterTree||(e.declutterTree=new $t.a(9)),this.getRenderer().renderDeclutter(e)},t.prototype.setRenderOrder=function(e){this.set(pr,e)},t.prototype.setStyle=function(e){this.style_=void 0!==e?e:lr,this.styleFunction_=null===e?void 0:function(e){var t;if("function"==typeof e)t=e;else{var r;if(Array.isArray(e))r=e;else Object(a.a)("function"==typeof e.getZIndex,41),r=[e];t=function(){return r}}return t}(this.style_),this.changed()},t}(kt.a),hr={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},fr=[hr.FILL],mr=[hr.STROKE],yr=[hr.BEGIN_PATH],gr=[hr.CLOSE_PATH],br=hr,vr=r(44),Er=function(){function e(){}return e.prototype.drawCustom=function(e,t,r,n){},e.prototype.drawGeometry=function(e){},e.prototype.setStyle=function(e){},e.prototype.drawCircle=function(e,t){},e.prototype.drawFeature=function(e,t){},e.prototype.drawGeometryCollection=function(e,t){},e.prototype.drawLineString=function(e,t){},e.prototype.drawMultiLineString=function(e,t){},e.prototype.drawMultiPoint=function(e,t){},e.prototype.drawMultiPolygon=function(e,t){},e.prototype.drawPoint=function(e,t){},e.prototype.drawPolygon=function(e,t){},e.prototype.drawText=function(e,t){},e.prototype.setFillStrokeStyle=function(e,t){},e.prototype.setImageStyle=function(e,t){},e.prototype.setTextStyle=function(e,t){},e}(),Or=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mr=function(e){function t(t,r,n,i){var o=e.call(this)||this;return o.tolerance=t,o.maxExtent=r,o.pixelRatio=i,o.maxLineWidth=0,o.resolution=n,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return Or(t,e),t.prototype.applyPixelRatio=function(e){var t=this.pixelRatio;return 1==t?e:e.map((function(e){return e*t}))},t.prototype.appendFlatPointCoordinates=function(e,t){for(var r=this.getBufferedMaxExtent(),n=this.tmpCoordinate_,i=this.coordinates,o=i.length,a=0,s=e.length;a<s;a+=t)n[0]=e[a],n[1]=e[a+1],Object(c.f)(r,n)&&(i[o++]=n[0],i[o++]=n[1]);return o},t.prototype.appendFlatLineCoordinates=function(e,t,r,n,i,o){var a=this.coordinates,s=a.length,l=this.getBufferedMaxExtent();o&&(t+=n);var _,u,p,d=e[t],h=e[t+1],f=this.tmpCoordinate_,m=!0;for(_=t+n;_<r;_+=n)f[0]=e[_],f[1]=e[_+1],(p=Object(c.i)(l,f))!==u?(m&&(a[s++]=d,a[s++]=h,m=!1),a[s++]=f[0],a[s++]=f[1]):p===vr.a.INTERSECTING?(a[s++]=f[0],a[s++]=f[1],m=!1):m=!0,d=f[0],h=f[1],u=p;return(i&&m||_===t+n)&&(a[s++]=d,a[s++]=h),s},t.prototype.drawCustomCoordinates_=function(e,t,r,n,i){for(var o=0,a=r.length;o<a;++o){var s=r[o],l=this.appendFlatLineCoordinates(e,t,s,n,!1,!1);i.push(l),t=s}return t},t.prototype.drawCustom=function(e,t,r,n){this.beginGeometry(e,t);var i,o,a,s,l,_=e.getType(),u=e.getStride(),c=this.coordinates.length;switch(_){case"MultiPolygon":i=e.getOrientedFlatCoordinates(),s=[];var p=e.getEndss();l=0;for(var d=0,h=p.length;d<h;++d){var f=[];l=this.drawCustomCoordinates_(i,l,p[d],u,f),s.push(f)}this.instructions.push([br.CUSTOM,c,s,e,r,A.c]),this.hitDetectionInstructions.push([br.CUSTOM,c,s,e,n||r,A.c]);break;case"Polygon":case"MultiLineString":a=[],i="Polygon"==_?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),l=this.drawCustomCoordinates_(i,0,e.getEnds(),u,a),this.instructions.push([br.CUSTOM,c,a,e,r,A.b]),this.hitDetectionInstructions.push([br.CUSTOM,c,a,e,n||r,A.b]);break;case"LineString":case"Circle":i=e.getFlatCoordinates(),o=this.appendFlatLineCoordinates(i,0,i.length,u,!1,!1),this.instructions.push([br.CUSTOM,c,o,e,r,A.a]),this.hitDetectionInstructions.push([br.CUSTOM,c,o,e,n||r,A.a]);break;case"MultiPoint":i=e.getFlatCoordinates(),(o=this.appendFlatPointCoordinates(i,u))>c&&(this.instructions.push([br.CUSTOM,c,o,e,r,A.a]),this.hitDetectionInstructions.push([br.CUSTOM,c,o,e,n||r,A.a]));break;case"Point":i=e.getFlatCoordinates(),this.coordinates.push(i[0],i[1]),o=this.coordinates.length,this.instructions.push([br.CUSTOM,c,o,e,r]),this.hitDetectionInstructions.push([br.CUSTOM,c,o,e,n||r])}this.endGeometry(t)},t.prototype.beginGeometry=function(e,t){this.beginGeometryInstruction1_=[br.BEGIN_GEOMETRY,t,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[br.BEGIN_GEOMETRY,t,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},t.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},t.prototype.reverseHitDetectionInstructions=function(){var e,t=this.hitDetectionInstructions;t.reverse();var r,n,i=t.length,o=-1;for(e=0;e<i;++e)(n=(r=t[e])[0])==br.END_GEOMETRY?o=e:n==br.BEGIN_GEOMETRY&&(r[2]=e,Object(T.g)(this.hitDetectionInstructions,o,e),o=-1)},t.prototype.setFillStrokeStyle=function(e,t){var r=this.state;if(e){var n=e.getColor();r.fillStyle=Jt(n||Qt.b)}else r.fillStyle=void 0;if(t){var i=t.getColor();r.strokeStyle=Jt(i||Qt.k);var o=t.getLineCap();r.lineCap=void 0!==o?o:Qt.d;var a=t.getLineDash();r.lineDash=a?a.slice():Qt.e;var s=t.getLineDashOffset();r.lineDashOffset=s||Qt.f;var l=t.getLineJoin();r.lineJoin=void 0!==l?l:Qt.g;var _=t.getWidth();r.lineWidth=void 0!==_?_:Qt.h;var u=t.getMiterLimit();r.miterLimit=void 0!==u?u:Qt.i,r.lineWidth>this.maxLineWidth&&(this.maxLineWidth=r.lineWidth,this.bufferedMaxExtent_=null)}else r.strokeStyle=void 0,r.lineCap=void 0,r.lineDash=null,r.lineDashOffset=void 0,r.lineJoin=void 0,r.lineWidth=void 0,r.miterLimit=void 0},t.prototype.createFill=function(e){var t=e.fillStyle,r=[br.SET_FILL_STYLE,t];return"string"!=typeof t&&r.push(!0),r},t.prototype.applyStroke=function(e){this.instructions.push(this.createStroke(e))},t.prototype.createStroke=function(e){return[br.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]},t.prototype.updateFillStyle=function(e,t){var r=e.fillStyle;"string"==typeof r&&e.currentFillStyle==r||(void 0!==r&&this.instructions.push(t.call(this,e)),e.currentFillStyle=r)},t.prototype.updateStrokeStyle=function(e,t){var r=e.strokeStyle,n=e.lineCap,i=e.lineDash,o=e.lineDashOffset,a=e.lineJoin,s=e.lineWidth,l=e.miterLimit;(e.currentStrokeStyle!=r||e.currentLineCap!=n||i!=e.currentLineDash&&!Object(T.b)(e.currentLineDash,i)||e.currentLineDashOffset!=o||e.currentLineJoin!=a||e.currentLineWidth!=s||e.currentMiterLimit!=l)&&(void 0!==r&&t.call(this,e),e.currentStrokeStyle=r,e.currentLineCap=n,e.currentLineDash=i,e.currentLineDashOffset=o,e.currentLineJoin=a,e.currentLineWidth=s,e.currentMiterLimit=l)},t.prototype.endGeometry=function(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var t=[br.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)},t.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Object(c.d)(this.maxExtent),this.maxLineWidth>0)){var e=this.resolution*(this.maxLineWidth+1)/2;Object(c.c)(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},t}(Er),Pr=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),xr=function(e){function t(t,r,n,i){var o=e.call(this,t,r,n,i)||this;return o.hitDetectionImage_=null,o.image_=null,o.imagePixelRatio_=void 0,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o.declutterMode_=void 0,o.declutterImageWithText_=void 0,o}return Pr(t,e),t.prototype.drawPoint=function(e,t){if(this.image_){this.beginGeometry(e,t);var r=e.getFlatCoordinates(),n=e.getStride(),i=this.coordinates.length,o=this.appendFlatPointCoordinates(r,n);this.instructions.push([br.DRAW_IMAGE,i,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([br.DRAW_IMAGE,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}},t.prototype.drawMultiPoint=function(e,t){if(this.image_){this.beginGeometry(e,t);var r=e.getFlatCoordinates(),n=e.getStride(),i=this.coordinates.length,o=this.appendFlatPointCoordinates(r,n);this.instructions.push([br.DRAW_IMAGE,i,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([br.DRAW_IMAGE,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}},t.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,e.prototype.finish.call(this)},t.prototype.setImageStyle=function(e,t){var r=e.getAnchor(),n=e.getSize(),i=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=r[0],this.anchorY_=r[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=n[1],this.opacity_=e.getOpacity(),this.originX_=i[0],this.originY_=i[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=n[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t},t}(Mr),wr=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Cr=function(e){function t(t,r,n,i){return e.call(this,t,r,n,i)||this}return wr(t,e),t.prototype.drawFlatCoordinates_=function(e,t,r,n){var i=this.coordinates.length,o=this.appendFlatLineCoordinates(e,t,r,n,!1,!1),a=[br.MOVE_TO_LINE_TO,i,o];return this.instructions.push(a),this.hitDetectionInstructions.push(a),r},t.prototype.drawLineString=function(e,t){var r=this.state,n=r.strokeStyle,i=r.lineWidth;if(void 0!==n&&void 0!==i){this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([br.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Qt.e,Qt.f],yr);var o=e.getFlatCoordinates(),a=e.getStride();this.drawFlatCoordinates_(o,0,o.length,a),this.hitDetectionInstructions.push(mr),this.endGeometry(t)}},t.prototype.drawMultiLineString=function(e,t){var r=this.state,n=r.strokeStyle,i=r.lineWidth;if(void 0!==n&&void 0!==i){this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([br.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],yr);for(var o=e.getEnds(),a=e.getFlatCoordinates(),s=e.getStride(),l=0,_=0,u=o.length;_<u;++_)l=this.drawFlatCoordinates_(a,l,o[_],s);this.hitDetectionInstructions.push(mr),this.endGeometry(t)}},t.prototype.finish=function(){var t=this.state;return null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(mr),this.reverseHitDetectionInstructions(),this.state=null,e.prototype.finish.call(this)},t.prototype.applyStroke=function(t){null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(mr),t.lastStroke=this.coordinates.length),t.lastStroke=0,e.prototype.applyStroke.call(this,t),this.instructions.push(yr)},t}(Mr),Dr=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Tr=function(e){function t(t,r,n,i){return e.call(this,t,r,n,i)||this}return Dr(t,e),t.prototype.drawFlatCoordinatess_=function(e,t,r,n){var i=this.state,o=void 0!==i.fillStyle,a=void 0!==i.strokeStyle,s=r.length;this.instructions.push(yr),this.hitDetectionInstructions.push(yr);for(var l=0;l<s;++l){var _=r[l],u=this.coordinates.length,c=this.appendFlatLineCoordinates(e,t,_,n,!0,!a),p=[br.MOVE_TO_LINE_TO,u,c];this.instructions.push(p),this.hitDetectionInstructions.push(p),a&&(this.instructions.push(gr),this.hitDetectionInstructions.push(gr)),t=_}return o&&(this.instructions.push(fr),this.hitDetectionInstructions.push(fr)),a&&(this.instructions.push(mr),this.hitDetectionInstructions.push(mr)),t},t.prototype.drawCircle=function(e,t){var r=this.state,n=r.fillStyle,i=r.strokeStyle;if(void 0!==n||void 0!==i){this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([br.SET_FILL_STYLE,Qt.b]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([br.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);var o=e.getFlatCoordinates(),a=e.getStride(),s=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,a,!1,!1);var l=[br.CIRCLE,s];this.instructions.push(yr,l),this.hitDetectionInstructions.push(yr,l),void 0!==r.fillStyle&&(this.instructions.push(fr),this.hitDetectionInstructions.push(fr)),void 0!==r.strokeStyle&&(this.instructions.push(mr),this.hitDetectionInstructions.push(mr)),this.endGeometry(t)}},t.prototype.drawPolygon=function(e,t){var r=this.state,n=r.fillStyle,i=r.strokeStyle;if(void 0!==n||void 0!==i){this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([br.SET_FILL_STYLE,Qt.b]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([br.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);var o=e.getEnds(),a=e.getOrientedFlatCoordinates(),s=e.getStride();this.drawFlatCoordinatess_(a,0,o,s),this.endGeometry(t)}},t.prototype.drawMultiPolygon=function(e,t){var r=this.state,n=r.fillStyle,i=r.strokeStyle;if(void 0!==n||void 0!==i){this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([br.SET_FILL_STYLE,Qt.b]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([br.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);for(var o=e.getEndss(),a=e.getOrientedFlatCoordinates(),s=e.getStride(),l=0,_=0,u=o.length;_<u;++_)l=this.drawFlatCoordinatess_(a,l,o[_],s);this.endGeometry(t)}},t.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var r=this.coordinates,n=0,i=r.length;n<i;++n)r[n]=Object(D.e)(r[n],t);return e.prototype.finish.call(this)},t.prototype.setFillStrokeStyles_=function(){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},t}(Mr),kr="point",Ar="line";function Ir(e,t,r,n,i){var o,a,s,l,_,u,c,p,d,h=r,f=r,m=0,y=0,g=r;for(o=r;o<n;o+=i){var b=t[o],v=t[o+1];void 0!==l&&(p=b-l,d=v-_,s=Math.sqrt(p*p+d*d),void 0!==u&&(y+=a,Math.acos((u*p+c*d)/(a*s))>e&&(y>m&&(m=y,h=g,f=o),y=0,g=o-i)),a=s,u=p,c=d),l=b,_=v}return(y+=s)>m?[g,o]:[h,f]}var Lr=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Rr={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},Sr={Circle:Tr,Default:Mr,Image:xr,LineString:Cr,Polygon:Tr,Text:function(e){function t(t,r,n,i){var o=e.call(this,t,r,n,i)||this;return o.labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",o.declutterImageWithText_=void 0,o}return Lr(t,e),t.prototype.finish=function(){var t=e.prototype.finish.call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t},t.prototype.drawText=function(e,t){var r=this.textFillState_,n=this.textStrokeState_,i=this.textState_;if(""!==this.text_&&i&&(r||n)){var o=this.coordinates,a=o.length,s=e.getType(),l=null,_=e.getStride();if(i.placement!==Ar||"LineString"!=s&&"MultiLineString"!=s&&"Polygon"!=s&&"MultiPolygon"!=s){var u=i.overflow?null:[];switch(s){case"Point":case"MultiPoint":l=e.getFlatCoordinates();break;case"LineString":l=e.getFlatMidpoint();break;case"Circle":l=e.getCenter();break;case"MultiLineString":l=e.getFlatMidpoints(),_=2;break;case"Polygon":l=e.getFlatInteriorPoint(),i.overflow||u.push(l[2]/this.resolution),_=3;break;case"MultiPolygon":var p=e.getFlatInteriorPoints();l=[];for(M=0,P=p.length;M<P;M+=3)i.overflow||u.push(p[M+2]/this.resolution),l.push(p[M],p[M+1]);if(0===l.length)return;_=2}if((A=this.appendFlatPointCoordinates(l,_))===a)return;if(u&&(A-a)/2!=l.length/_){var d=a/2;u=u.filter((function(e,t){var r=o[2*(d+t)]===l[t*_]&&o[2*(d+t)+1]===l[t*_+1];return r||--d,r}))}this.saveTextStates_(),(i.backgroundFill||i.backgroundStroke)&&(this.setFillStrokeStyle(i.backgroundFill,i.backgroundStroke),i.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),i.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,t);var h=i.padding;if(h!=Qt.j&&(i.scale[0]<0||i.scale[1]<0)){var f=i.padding[0],m=i.padding[1],y=i.padding[2],g=i.padding[3];i.scale[0]<0&&(m=-m,g=-g),i.scale[1]<0&&(f=-f,y=-y),h=[f,m,y,g]}var b=this.pixelRatio;this.instructions.push([br.DRAW_IMAGE,a,A,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,h==Qt.j?Qt.j:h.map((function(e){return e*b})),!!i.backgroundFill,!!i.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,u]);var v=1/b;this.hitDetectionInstructions.push([br.DRAW_IMAGE,a,A,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[v,v],NaN,void 0,this.declutterImageWithText_,h,!!i.backgroundFill,!!i.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,u]),this.endGeometry(t)}else{if(!Object(c.F)(this.getBufferedMaxExtent(),e.getExtent()))return;var E=void 0;if(l=e.getFlatCoordinates(),"LineString"==s)E=[l.length];else if("MultiLineString"==s)E=e.getEnds();else if("Polygon"==s)E=e.getEnds().slice(0,1);else if("MultiPolygon"==s){var O=e.getEndss();E=[];for(var M=0,P=O.length;M<P;++M)E.push(O[M][0])}this.beginGeometry(e,t);for(var x=i.textAlign,w=0,C=void 0,D=0,T=E.length;D<T;++D){if(null==x){var k=Ir(i.maxAngle,l,w,E[D],_);w=k[0],C=k[1]}else C=E[D];for(var M=w;M<C;M+=_)o.push(l[M],l[M+1]);var A=o.length;w=E[D],this.drawChars_(a,A),a=A}this.endGeometry(t)}}},t.prototype.saveTextStates_=function(){var e=this.textStrokeState_,t=this.textState_,r=this.textFillState_,n=this.strokeKey_;e&&(n in this.strokeStates||(this.strokeStates[n]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));var i=this.textKey_;i in this.textStates||(this.textStates[i]={font:t.font,textAlign:t.textAlign||Qt.l,justify:t.justify,textBaseline:t.textBaseline||Qt.m,scale:t.scale});var o=this.fillKey_;r&&(o in this.fillStates||(this.fillStates[o]={fillStyle:r.fillStyle}))},t.prototype.drawChars_=function(e,t){var r=this.textStrokeState_,n=this.textState_,i=this.strokeKey_,o=this.textKey_,a=this.fillKey_;this.saveTextStates_();var s=this.pixelRatio,l=Rr[n.textBaseline],_=this.textOffsetY_*s,u=this.text_,c=r?r.lineWidth*Math.abs(n.scale[0])/2:0;this.instructions.push([br.DRAW_CHARS,e,t,l,n.overflow,a,n.maxAngle,s,_,i,c*s,u,o,1]),this.hitDetectionInstructions.push([br.DRAW_CHARS,e,t,l,n.overflow,a,n.maxAngle,1,_,i,c,u,o,1/s])},t.prototype.setTextStyle=function(e,t){var r,n,i;if(e){var o=e.getFill();o?((n=this.textFillState_)||(n={},this.textFillState_=n),n.fillStyle=Jt(o.getColor()||Qt.b)):(n=null,this.textFillState_=n);var a=e.getStroke();if(a){(i=this.textStrokeState_)||(i={},this.textStrokeState_=i);var s=a.getLineDash(),l=a.getLineDashOffset(),_=a.getWidth(),u=a.getMiterLimit();i.lineCap=a.getLineCap()||Qt.d,i.lineDash=s?s.slice():Qt.e,i.lineDashOffset=void 0===l?Qt.f:l,i.lineJoin=a.getLineJoin()||Qt.g,i.lineWidth=void 0===_?Qt.h:_,i.miterLimit=void 0===u?Qt.i:u,i.strokeStyle=Jt(a.getColor()||Qt.k)}else i=null,this.textStrokeState_=i;r=this.textState_;var c=e.getFont()||Qt.c;Object(Qt.r)(c);var p=e.getScaleArray();r.overflow=e.getOverflow(),r.font=c,r.maxAngle=e.getMaxAngle(),r.placement=e.getPlacement(),r.textAlign=e.getTextAlign(),r.justify=e.getJustify(),r.textBaseline=e.getTextBaseline()||Qt.m,r.backgroundFill=e.getBackgroundFill(),r.backgroundStroke=e.getBackgroundStroke(),r.padding=e.getPadding()||Qt.j,r.scale=void 0===p?[1,1]:p;var d=e.getOffsetX(),h=e.getOffsetY(),f=e.getRotateWithView(),y=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=void 0===d?0:d,this.textOffsetY_=void 0===h?0:h,this.textRotateWithView_=void 0!==f&&f,this.textRotation_=void 0===y?0:y,this.strokeKey_=i?("string"==typeof i.strokeStyle?i.strokeStyle:Object(m.c)(i.strokeStyle))+i.lineCap+i.lineDashOffset+"|"+i.lineWidth+i.lineJoin+i.miterLimit+"["+i.lineDash.join()+"]":"",this.textKey_=r.font+r.scale+(r.textAlign||"?")+(r.justify||"?")+(r.textBaseline||"?"),this.fillKey_=n?"string"==typeof n.fillStyle?n.fillStyle:"|"+Object(m.c)(n.fillStyle):""}else this.text_="";this.declutterImageWithText_=t},t}(Mr)},Br=function(){function e(e,t,r,n){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=n,this.resolution_=r,this.buildersByZIndex_={}}return e.prototype.finish=function(){var e={};for(var t in this.buildersByZIndex_){e[t]=e[t]||{};var r=this.buildersByZIndex_[t];for(var n in r){var i=r[n].finish();e[t][n]=i}}return e},e.prototype.getBuilder=function(e,t){var r=void 0!==e?e.toString():"0",n=this.buildersByZIndex_[r];void 0===n&&(n={},this.buildersByZIndex_[r]=n);var i=n[t];void 0===i&&(i=new(0,Sr[t])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),n[t]=i);return i},e}();function Ur(e,t,r,n,i,o,a,s,l,_,u,c){var p=e[t],d=e[t+1],h=0,f=0,m=0,y=0;function g(){h=p,f=d,p=e[t+=n],d=e[t+1],y+=m,m=Math.sqrt((p-h)*(p-h)+(d-f)*(d-f))}do{g()}while(t<r-n&&y+m<o);for(var b=0===m?0:(o-y)/m,v=Object(I.e)(h,p,b),E=Object(I.e)(f,d,b),O=t-n,M=y,P=o+s*l(_,i,u);t<r-n&&y+m<P;)g();b=0===m?0:(P-y)/m;var x,w=Object(I.e)(h,p,b),C=Object(I.e)(f,d,b);if(c){var D=[v,E,w,C];Object(ae.a)(D,0,4,2,c,D,D),x=D[0]>D[2]}else x=v>w;var T,k=Math.PI,A=[],L=O+n===t;if(m=0,y=M,p=e[t=O],d=e[t+1],L){g(),T=Math.atan2(d-f,p-h),x&&(T+=T>0?-k:k);var R=(w+v)/2,S=(C+E)/2;return A[0]=[R,S,(P-o)/2,T,i],A}for(var B=0,U=(i=i.replace(/\n/g," ")).length;B<U;){g();var W=Math.atan2(d-f,p-h);if(x&&(W+=W>0?-k:k),void 0!==T){var K=W-T;if(K+=K>k?-2*k:K<-k?2*k:0,Math.abs(K)>a)return null}T=W;for(var j=B,z=0;B<U;++B){var F=s*l(_,i[x?U-B-1:B],u);if(t+n<r&&y+m<o+z+F/2)break;z+=F}if(B!==j){var q=x?i.substring(U-j,U-B):i.substring(j,B);b=0===m?0:(o+z/2-y)/m;R=Object(I.e)(h,p,b),S=Object(I.e)(f,d,b);A.push([R,S,z/2,W,q]),o+=z}}return A}var Wr=Object(c.j)(),Kr=[],jr=[],zr=[],Fr=[];function qr(e){return e[3].declutterBox}var Nr=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function Hr(e,t){return"start"!==t&&"end"!==t||Nr.test(e)||(t="start"===t?"left":"right"),Rr[t]}function Gr(e,t,r){return r>0&&e.push("\n",""),e.push(t,""),e}var Vr=function(){function e(e,t,r,n){this.overlaps=r,this.pixelRatio=t,this.resolution=e,this.alignFill_,this.instructions=n.instructions,this.coordinates=n.coordinates,this.coordinateCache_={},this.renderedTransform_=Object(oe.c)(),this.hitDetectionInstructions=n.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=n.fillStates||{},this.strokeStates=n.strokeStates||{},this.textStates=n.textStates||{},this.widths_={},this.labels_={}}return e.prototype.createLabel=function(e,t,r,n){var i=e+t+r+n;if(this.labels_[i])return this.labels_[i];var o=n?this.strokeStates[n]:null,a=r?this.fillStates[r]:null,s=this.textStates[t],l=this.pixelRatio,_=[s.scale[0]*l,s.scale[1]*l],u=Array.isArray(e),c=s.justify?Rr[s.justify]:Hr(Array.isArray(e)?e[0]:e,s.textAlign||Qt.l),p=n&&o.lineWidth?o.lineWidth:0,d=u?e:e.split("\n").reduce(Gr,[]),h=Object(Qt.o)(s,d),f=h.width,m=h.height,y=h.widths,g=h.heights,b=h.lineWidths,v=f+p,E=[],O=(v+2)*_[0],M=(m+p)*_[1],P={width:O<0?Math.floor(O):Math.ceil(O),height:M<0?Math.floor(M):Math.ceil(M),contextInstructions:E};(1==_[0]&&1==_[1]||E.push("scale",_),n)&&(E.push("strokeStyle",o.strokeStyle),E.push("lineWidth",p),E.push("lineCap",o.lineCap),E.push("lineJoin",o.lineJoin),E.push("miterLimit",o.miterLimit),(je.g?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(E.push("setLineDash",[o.lineDash]),E.push("lineDashOffset",o.lineDashOffset)));r&&E.push("fillStyle",a.fillStyle),E.push("textBaseline","middle"),E.push("textAlign","center");for(var x,w=.5-c,C=c*v+w*p,D=[],T=[],k=0,A=0,I=0,L=0,R=0,S=d.length;R<S;R+=2){var B=d[R];if("\n"!==B){var U=d[R+1]||s.font;U!==x&&(n&&D.push("font",U),r&&T.push("font",U),x=U),k=Math.max(k,g[I]);var W=[B,C+w*y[I]+c*(y[I]-b[L]),.5*(p+k)+A];C+=y[I],n&&D.push("strokeText",W),r&&T.push("fillText",W),++I}else A+=k,k=0,C=c*v+w*p,++L}return Array.prototype.push.apply(E,D),Array.prototype.push.apply(E,T),this.labels_[i]=P,P},e.prototype.replayTextBackground_=function(e,t,r,n,i,o,a){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,r),e.lineTo.apply(e,n),e.lineTo.apply(e,i),e.lineTo.apply(e,t),o&&(this.alignFill_=o[2],this.fill_(e)),a&&(this.setStrokeStyle_(e,a),e.stroke())},e.prototype.calculateImageOrLabelDimensions_=function(e,t,r,n,i,o,a,s,l,_,u,p,d,h,f,m){var y,g=r-(a*=p[0]),b=n-(s*=p[1]),v=i+l>e?e-l:i,E=o+_>t?t-_:o,O=h[3]+v*p[0]+h[1],M=h[0]+E*p[1]+h[2],P=g-h[3],x=b-h[0];return(f||0!==u)&&(Kr[0]=P,Fr[0]=P,Kr[1]=x,jr[1]=x,jr[0]=P+O,zr[0]=jr[0],zr[1]=x+M,Fr[1]=zr[1]),0!==u?(y=Object(oe.b)(Object(oe.c)(),r,n,1,1,u,-r,-n),Object(oe.a)(y,Kr),Object(oe.a)(y,jr),Object(oe.a)(y,zr),Object(oe.a)(y,Fr),Object(c.k)(Math.min(Kr[0],jr[0],zr[0],Fr[0]),Math.min(Kr[1],jr[1],zr[1],Fr[1]),Math.max(Kr[0],jr[0],zr[0],Fr[0]),Math.max(Kr[1],jr[1],zr[1],Fr[1]),Wr)):Object(c.k)(Math.min(P,P+O),Math.min(x,x+M),Math.max(P,P+O),Math.max(x,x+M),Wr),d&&(g=Math.round(g),b=Math.round(b)),{drawImageX:g,drawImageY:b,drawImageW:v,drawImageH:E,originX:l,originY:_,declutterBox:{minX:Wr[0],minY:Wr[1],maxX:Wr[2],maxY:Wr[3],value:m},canvasTransform:y,scale:p}},e.prototype.replayImageOrLabel_=function(e,t,r,n,i,o,a){var s=!(!o&&!a),l=n.declutterBox,_=e.canvas,u=a?a[2]*n.scale[0]/2:0;return l.minX-u<=_.width/t&&l.maxX+u>=0&&l.minY-u<=_.height/t&&l.maxY+u>=0&&(s&&this.replayTextBackground_(e,Kr,jr,zr,Fr,o,a),Object(Qt.n)(e,n.canvasTransform,i,r,n.originX,n.originY,n.drawImageW,n.drawImageH,n.drawImageX,n.drawImageY,n.scale)),!0},e.prototype.fill_=function(e){if(this.alignFill_){var t=Object(oe.a)(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(t[0]%r,t[1]%r),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()},e.prototype.setStrokeStyle_=function(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.setLineDash&&(e.lineDashOffset=t[7],e.setLineDash(t[6]))},e.prototype.drawLabelWithPointPlacement_=function(e,t,r,n){var i=this.textStates[t],o=this.createLabel(e,t,n,r),a=this.strokeStates[r],s=this.pixelRatio,l=Hr(Array.isArray(e)?e[0]:e,i.textAlign||Qt.l),_=Rr[i.textBaseline||Qt.m],u=a&&a.lineWidth?a.lineWidth:0;return{label:o,anchorX:l*(o.width/s-2*i.scale[0])+2*(.5-l)*u,anchorY:_*o.height/s+2*(.5-_)*u}},e.prototype.execute_=function(e,t,r,n,i,o,a,s){var l;this.pixelCoordinates_&&Object(T.b)(r,this.renderedTransform_)?l=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),l=Object(ae.c)(this.coordinates,0,this.coordinates.length,2,r,this.pixelCoordinates_),Object(oe.i)(this.renderedTransform_,r));for(var _,u,p,d,h,f,m,y,g,b,v,E,O,M,P,x,w=0,C=n.length,D=0,k=0,A=0,I=null,L=null,R=this.coordinateCache_,S=this.viewRotation_,U=Math.round(1e12*Math.atan2(-r[1],r[0]))/1e12,W={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:S},K=this.instructions!=n||this.overlaps?0:200;w<C;){var j=n[w];switch(j[0]){case br.BEGIN_GEOMETRY:O=j[1],x=j[3],O.getGeometry()?void 0===a||Object(c.F)(a,x.getExtent())?++w:w=j[2]+1:w=j[2];break;case br.BEGIN_PATH:k>K&&(this.fill_(e),k=0),A>K&&(e.stroke(),A=0),k||A||(e.beginPath(),d=NaN,h=NaN),++w;break;case br.CIRCLE:var z=l[D=j[1]],F=l[D+1],q=l[D+2]-z,N=l[D+3]-F,H=Math.sqrt(q*q+N*N);e.moveTo(z+H,F),e.arc(z,F,H,0,2*Math.PI,!0),++w;break;case br.CLOSE_PATH:e.closePath(),++w;break;case br.CUSTOM:D=j[1],_=j[2];var G=j[3],V=j[4],Z=6==j.length?j[5]:void 0;W.geometry=G,W.feature=O,w in R||(R[w]=[]);var X=R[w];Z?Z(l,D,_,2,X):(X[0]=l[D],X[1]=l[D+1],X.length=2),V(X,W),++w;break;case br.DRAW_IMAGE:D=j[1],_=j[2],y=j[3],u=j[4],p=j[5];var $=j[6],Y=j[7],J=j[8],Q=j[9],ee=j[10],te=j[11],re=j[12],ne=j[13],ie=j[14],se=j[15];if(!y&&j.length>=20){g=j[19],b=j[20],v=j[21],E=j[22];var le=this.drawLabelWithPointPlacement_(g,b,v,E);y=le.label,j[3]=y;var _e=j[23];u=(le.anchorX-_e)*this.pixelRatio,j[4]=u;var ue=j[24];p=(le.anchorY-ue)*this.pixelRatio,j[5]=p,$=y.height,j[6]=$,ne=y.width,j[13]=ne}var ce=void 0;j.length>25&&(ce=j[25]);var pe=void 0,de=void 0,he=void 0;j.length>17?(pe=j[16],de=j[17],he=j[18]):(pe=Qt.j,de=!1,he=!1),ee&&U?te+=S:ee||U||(te-=S);for(var fe=0;D<_;D+=2)if(!(ce&&ce[fe++]<ne/this.pixelRatio)){var me=[e,t,y,qe=this.calculateImageOrLabelDimensions_(y.width,y.height,l[D],l[D+1],ne,$,u,p,J,Q,te,re,i,pe,de||he,O),Y,de?I:null,he?L:null];if(s){if("none"===ie)continue;if("obstacle"===ie){s.insert(qe.declutterBox);continue}var ye=void 0,ge=void 0;if(se){var be=_-D;if(!se[be]){se[be]=me;continue}if(ye=se[be],delete se[be],ge=qr(ye),s.collides(ge))continue}if(s.collides(qe.declutterBox))continue;ye&&(s.insert(ge),this.replayImageOrLabel_.apply(this,ye)),s.insert(qe.declutterBox)}this.replayImageOrLabel_.apply(this,me)}++w;break;case br.DRAW_CHARS:var ve=j[1],Ee=j[2],Oe=j[3],Me=j[4];E=j[5];var Pe=j[6],xe=j[7],we=j[8];v=j[9];var Ce=j[10];g=j[11],b=j[12];var De=[j[13],j[13]],Te=this.textStates[b],ke=Te.font,Ae=[Te.scale[0]*xe,Te.scale[1]*xe],Ie=void 0;ke in this.widths_?Ie=this.widths_[ke]:(Ie={},this.widths_[ke]=Ie);var Le=B(l,ve,Ee,2),Re=Math.abs(Ae[0])*Object(Qt.q)(ke,g,Ie);if(Me||Re<=Le){var Se=this.textStates[b].textAlign,Be=Ur(l,ve,Ee,2,g,(Le-Re)*Rr[Se],Pe,Math.abs(Ae[0]),Qt.q,ke,Ie,U?0:this.viewRotation_);e:if(Be){var Ue=[],We=void 0,Ke=void 0,je=void 0,ze=void 0,Fe=void 0;if(v)for(We=0,Ke=Be.length;We<Ke;++We){je=(Fe=Be[We])[4],ze=this.createLabel(je,b,"",v),u=Fe[2]+(Ae[0]<0?-Ce:Ce),p=Oe*ze.height+2*(.5-Oe)*Ce*Ae[1]/Ae[0]-we;var qe=this.calculateImageOrLabelDimensions_(ze.width,ze.height,Fe[0],Fe[1],ze.width,ze.height,u,p,0,0,Fe[3],De,!1,Qt.j,!1,O);if(s&&s.collides(qe.declutterBox))break e;Ue.push([e,t,ze,qe,1,null,null])}if(E)for(We=0,Ke=Be.length;We<Ke;++We){je=(Fe=Be[We])[4],ze=this.createLabel(je,b,E,""),u=Fe[2],p=Oe*ze.height-we;qe=this.calculateImageOrLabelDimensions_(ze.width,ze.height,Fe[0],Fe[1],ze.width,ze.height,u,p,0,0,Fe[3],De,!1,Qt.j,!1,O);if(s&&s.collides(qe.declutterBox))break e;Ue.push([e,t,ze,qe,1,null,null])}s&&s.load(Ue.map(qr));for(var Ne=0,He=Ue.length;Ne<He;++Ne)this.replayImageOrLabel_.apply(this,Ue[Ne])}}++w;break;case br.END_GEOMETRY:if(void 0!==o){var Ge=o(O=j[1],x);if(Ge)return Ge}++w;break;case br.FILL:K?k++:this.fill_(e),++w;break;case br.MOVE_TO_LINE_TO:for(D=j[1],_=j[2],M=l[D],m=(P=l[D+1])+.5|0,(f=M+.5|0)===d&&m===h||(e.moveTo(M,P),d=f,h=m),D+=2;D<_;D+=2)f=(M=l[D])+.5|0,m=(P=l[D+1])+.5|0,D!=_-2&&f===d&&m===h||(e.lineTo(M,P),d=f,h=m);++w;break;case br.SET_FILL_STYLE:I=j,this.alignFill_=j[2],k&&(this.fill_(e),k=0,A&&(e.stroke(),A=0)),e.fillStyle=j[1],++w;break;case br.SET_STROKE_STYLE:L=j,A&&(e.stroke(),A=0),this.setStrokeStyle_(e,j),++w;break;case br.STROKE:K?A++:e.stroke(),++w;break;default:++w}}k&&this.fill_(e),A&&e.stroke()},e.prototype.execute=function(e,t,r,n,i,o){this.viewRotation_=n,this.execute_(e,t,r,this.instructions,i,void 0,void 0,o)},e.prototype.executeHitDetection=function(e,t,r,n,i){return this.viewRotation_=r,this.execute_(e,1,t,this.hitDetectionInstructions,!0,n,i)},e}(),Zr=["Polygon","Circle","LineString","Image","Text","Default"],Xr=function(){function e(e,t,r,n,i,o){this.maxExtent_=e,this.overlaps_=n,this.pixelRatio_=r,this.resolution_=t,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Object(oe.c)(),this.createExecutors_(i)}return e.prototype.clip=function(e,t){var r=this.getClipCoords(t);e.beginPath(),e.moveTo(r[0],r[1]),e.lineTo(r[2],r[3]),e.lineTo(r[4],r[5]),e.lineTo(r[6],r[7]),e.clip()},e.prototype.createExecutors_=function(e){for(var t in e){var r=this.executorsByZIndex_[t];void 0===r&&(r={},this.executorsByZIndex_[t]=r);var n=e[t];for(var i in n){var o=n[i];r[i]=new Vr(this.resolution_,this.pixelRatio_,this.overlaps_,o)}}},e.prototype.hasExecutors=function(e){for(var t in this.executorsByZIndex_)for(var r=this.executorsByZIndex_[t],n=0,i=e.length;n<i;++n)if(e[n]in r)return!0;return!1},e.prototype.forEachFeatureAtCoordinate=function(e,t,r,n,i,o){var a=2*(n=Math.round(n))+1,s=Object(oe.b)(this.hitDetectionTransform_,n+.5,n+.5,1/t,-1/t,-r,-e[0],-e[1]),l=!this.hitDetectionContext_;l&&(this.hitDetectionContext_=Object(Le.a)(a,a));var _,u=this.hitDetectionContext_;u.canvas.width!==a||u.canvas.height!==a?(u.canvas.width=a,u.canvas.height=a):l||u.clearRect(0,0,a,a),void 0!==this.renderBuffer_&&(_=Object(c.j)(),Object(c.q)(_,e),Object(c.c)(_,t*(this.renderBuffer_+n),_));var p,d=function(e){if(void 0!==$r[e])return $r[e];for(var t=2*e+1,r=e*e,n=new Array(r+1),i=0;i<=e;++i)for(var o=0;o<=e;++o){var a=i*i+o*o;if(a>r)break;var s=n[a];s||(s=[],n[a]=s),s.push(4*((e+i)*t+(e+o))+3),i>0&&s.push(4*((e-i)*t+(e+o))+3),o>0&&(s.push(4*((e+i)*t+(e-o))+3),i>0&&s.push(4*((e-i)*t+(e-o))+3))}for(var l=[],_=(i=0,n.length);i<_;++i)n[i]&&l.push.apply(l,n[i]);return $r[e]=l,l}(n);function h(e,t){for(var r=u.getImageData(0,0,a,a).data,s=0,l=d.length;s<l;s++)if(r[d[s]]>0){if(!o||"Image"!==p&&"Text"!==p||-1!==o.indexOf(e)){var _=(d[s]-3)/4,c=n-_%a,h=n-(_/a|0),f=i(e,t,c*c+h*h);if(f)return f}u.clearRect(0,0,a,a);break}}var f,m,y,g,b,v=Object.keys(this.executorsByZIndex_).map(Number);for(v.sort(T.f),f=v.length-1;f>=0;--f){var E=v[f].toString();for(y=this.executorsByZIndex_[E],m=Zr.length-1;m>=0;--m)if(void 0!==(g=y[p=Zr[m]])&&(b=g.executeHitDetection(u,s,r,h,_)))return b}},e.prototype.getClipCoords=function(e){var t=this.maxExtent_;if(!t)return null;var r=t[0],n=t[1],i=t[2],o=t[3],a=[r,n,r,o,i,o,i,n];return Object(ae.c)(a,0,8,2,e,a),a},e.prototype.isEmpty=function(){return Object(y.d)(this.executorsByZIndex_)},e.prototype.execute=function(e,t,r,n,i,o,a){var s=Object.keys(this.executorsByZIndex_).map(Number);s.sort(T.f),this.maxExtent_&&(e.save(),this.clip(e,r));var l,_,u,c,p,d,h=o||Zr;for(a&&s.reverse(),l=0,_=s.length;l<_;++l){var f=s[l].toString();for(p=this.executorsByZIndex_[f],u=0,c=h.length;u<c;++u){void 0!==(d=p[h[u]])&&d.execute(e,t,r,n,i,a)}}this.maxExtent_&&e.restore()},e}(),$r={};var Yr=Xr,Jr=r(36),Qr=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),en=function(e){function t(t,r,n,i,o,a,s){var l=e.call(this)||this;return l.context_=t,l.pixelRatio_=r,l.extent_=n,l.transform_=i,l.viewRotation_=o,l.squaredTolerance_=a,l.userTransform_=s,l.contextFillState_=null,l.contextStrokeState_=null,l.contextTextState_=null,l.fillState_=null,l.strokeState_=null,l.image_=null,l.imageAnchorX_=0,l.imageAnchorY_=0,l.imageHeight_=0,l.imageOpacity_=0,l.imageOriginX_=0,l.imageOriginY_=0,l.imageRotateWithView_=!1,l.imageRotation_=0,l.imageScale_=[0,0],l.imageWidth_=0,l.text_="",l.textOffsetX_=0,l.textOffsetY_=0,l.textRotateWithView_=!1,l.textRotation_=0,l.textScale_=[0,0],l.textFillState_=null,l.textStrokeState_=null,l.textState_=null,l.pixelCoordinates_=[],l.tmpLocalTransform_=Object(oe.c)(),l}return Qr(t,e),t.prototype.drawImages_=function(e,t,r,n){if(this.image_){var i=Object(ae.c)(e,t,r,n,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,s=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=s*this.imageOpacity_);var l=this.imageRotation_;this.imageRotateWithView_&&(l+=this.viewRotation_);for(var _=0,u=i.length;_<u;_+=2){var c=i[_]-this.imageAnchorX_,p=i[_+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var d=c+this.imageAnchorX_,h=p+this.imageAnchorY_;Object(oe.b)(a,d,h,1,1,l,-d,-h),o.setTransform.apply(o,a),o.translate(d,h),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.setTransform(1,0,0,1,0,0)}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,c,p,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(o.globalAlpha=s)}},t.prototype.drawText_=function(e,t,r,n){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var i=Object(ae.c)(e,t,r,n,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);t<r;t+=n){var s=i[t]+this.textOffsetX_,l=i[t+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_[0]||1!=this.textScale_[1]){var _=Object(oe.b)(this.tmpLocalTransform_,s,l,1,1,a,-s,-l);o.setTransform.apply(o,_),o.translate(s,l),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&o.strokeText(this.text_,s,l),this.textFillState_&&o.fillText(this.text_,s,l)}}},t.prototype.moveToLineTo_=function(e,t,r,n,i){var o=this.context_,a=Object(ae.c)(e,t,r,n,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);var s=a.length;i&&(s-=2);for(var l=2;l<s;l+=2)o.lineTo(a[l],a[l+1]);return i&&o.closePath(),r},t.prototype.drawRings_=function(e,t,r,n){for(var i=0,o=r.length;i<o;++i)t=this.moveToLineTo_(e,t,r[i],n,!0);return t},t.prototype.drawCircle=function(e){if(Object(c.F)(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=Object(x.b)(e,this.transform_,this.pixelCoordinates_),r=t[2]-t[0],n=t[3]-t[1],i=Math.sqrt(r*r+n*n),o=this.context_;o.beginPath(),o.arc(t[0],t[1],i,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(e.getCenter(),0,2,2)}},t.prototype.setStyle=function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())},t.prototype.setTransform=function(e){this.transform_=e},t.prototype.drawGeometry=function(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e)}},t.prototype.drawFeature=function(e,t){var r=t.getGeometryFunction()(e);r&&Object(c.F)(this.extent_,r.getExtent())&&(this.setStyle(t),this.drawGeometry(r))},t.prototype.drawGeometryCollection=function(e){for(var t=e.getGeometriesArray(),r=0,n=t.length;r<n;++r)this.drawGeometry(t[r])},t.prototype.drawPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var t=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(t,0,t.length,r),""!==this.text_&&this.drawText_(t,0,t.length,r)},t.prototype.drawMultiPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var t=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(t,0,t.length,r),""!==this.text_&&this.drawText_(t,0,t.length,r)},t.prototype.drawLineString=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(c.F)(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var t=this.context_,r=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(r,0,r.length,e.getStride(),!1),t.stroke()}if(""!==this.text_){var n=e.getFlatMidpoint();this.drawText_(n,0,2,2)}}},t.prototype.drawMultiLineString=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var t=e.getExtent();if(Object(c.F)(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var r=this.context_,n=e.getFlatCoordinates(),i=0,o=e.getEnds(),a=e.getStride();r.beginPath();for(var s=0,l=o.length;s<l;++s)i=this.moveToLineTo_(n,i,o[s],a,!1);r.stroke()}if(""!==this.text_){var _=e.getFlatMidpoints();this.drawText_(_,0,_.length,2)}}},t.prototype.drawPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(c.F)(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){var r=e.getFlatInteriorPoint();this.drawText_(r,0,2,2)}}},t.prototype.drawMultiPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(c.F)(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=this.context_,r=e.getOrientedFlatCoordinates(),n=0,i=e.getEndss(),o=e.getStride();t.beginPath();for(var a=0,s=i.length;a<s;++a){var l=i[a];n=this.drawRings_(r,n,l,o)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){var _=e.getFlatInteriorPoints();this.drawText_(_,0,_.length,2)}}},t.prototype.setContextFillState_=function(e){var t=this.context_,r=this.contextFillState_;r?r.fillStyle!=e.fillStyle&&(r.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})},t.prototype.setContextStrokeState_=function(e){var t=this.context_,r=this.contextStrokeState_;r?(r.lineCap!=e.lineCap&&(r.lineCap=e.lineCap,t.lineCap=e.lineCap),t.setLineDash&&(Object(T.b)(r.lineDash,e.lineDash)||t.setLineDash(r.lineDash=e.lineDash),r.lineDashOffset!=e.lineDashOffset&&(r.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset)),r.lineJoin!=e.lineJoin&&(r.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),r.lineWidth!=e.lineWidth&&(r.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),r.miterLimit!=e.miterLimit&&(r.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),r.strokeStyle!=e.strokeStyle&&(r.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})},t.prototype.setContextTextState_=function(e){var t=this.context_,r=this.contextTextState_,n=e.textAlign?e.textAlign:Qt.l;r?(r.font!=e.font&&(r.font=e.font,t.font=e.font),r.textAlign!=n&&(r.textAlign=n,t.textAlign=n),r.textBaseline!=e.textBaseline&&(r.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=n,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:n,textBaseline:e.textBaseline})},t.prototype.setFillStrokeStyle=function(e,t){var r=this;if(e){var n=e.getColor();this.fillState_={fillStyle:Jt(n||Qt.b)}}else this.fillState_=null;if(t){var i=t.getColor(),o=t.getLineCap(),a=t.getLineDash(),s=t.getLineDashOffset(),l=t.getLineJoin(),_=t.getWidth(),u=t.getMiterLimit(),c=a||Qt.e;this.strokeState_={lineCap:void 0!==o?o:Qt.d,lineDash:1===this.pixelRatio_?c:c.map((function(e){return e*r.pixelRatio_})),lineDashOffset:(s||Qt.f)*this.pixelRatio_,lineJoin:void 0!==l?l:Qt.g,lineWidth:(void 0!==_?_:Qt.h)*this.pixelRatio_,miterLimit:void 0!==u?u:Qt.i,strokeStyle:Jt(i||Qt.k)}}else this.strokeState_=null},t.prototype.setImageStyle=function(e){var t;if(e&&(t=e.getSize())){var r=e.getAnchor(),n=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*this.pixelRatio_,this.imageAnchorY_=r[1]*this.pixelRatio_,this.imageHeight_=t[1]*this.pixelRatio_,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=n[0],this.imageOriginY_=n[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation(),this.imageScale_=e.getScaleArray(),this.imageWidth_=t[0]*this.pixelRatio_}else this.image_=null},t.prototype.setTextStyle=function(e){if(e){var t=e.getFill();if(t){var r=t.getColor();this.textFillState_={fillStyle:Jt(r||Qt.b)}}else this.textFillState_=null;var n=e.getStroke();if(n){var i=n.getColor(),o=n.getLineCap(),a=n.getLineDash(),s=n.getLineDashOffset(),l=n.getLineJoin(),_=n.getWidth(),u=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==o?o:Qt.d,lineDash:a||Qt.e,lineDashOffset:s||Qt.f,lineJoin:void 0!==l?l:Qt.g,lineWidth:void 0!==_?_:Qt.h,miterLimit:void 0!==u?u:Qt.i,strokeStyle:Jt(i||Qt.k)}}else this.textStrokeState_=null;var c=e.getFont(),p=e.getOffsetX(),d=e.getOffsetY(),h=e.getRotateWithView(),f=e.getRotation(),m=e.getScaleArray(),y=e.getText(),g=e.getTextAlign(),b=e.getTextBaseline();this.textState_={font:void 0!==c?c:Qt.c,textAlign:void 0!==g?g:Qt.l,textBaseline:void 0!==b?b:Qt.m},this.text_=void 0!==y?Array.isArray(y)?y.reduce((function(e,t,r){return e+(r%2?" ":t)}),""):y:"",this.textOffsetX_=void 0!==p?this.pixelRatio_*p:0,this.textOffsetY_=void 0!==d?this.pixelRatio_*d:0,this.textRotateWithView_=void 0!==h&&h,this.textRotation_=void 0!==f?f:0,this.textScale_=[this.pixelRatio_*m[0],this.pixelRatio_*m[1]]}else this.text_=""},t}(Er),tn="fraction",rn="pixels",nn="bottom-left",on="bottom-right",an="top-left",sn="top-right",ln=r(117),_n=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),un=null,cn=function(e){function t(t,r,n,i,o,a){var s=e.call(this)||this;return s.hitDetectionImage_=null,s.image_=t||new Image,null!==i&&(s.image_.crossOrigin=i),s.canvas_={},s.color_=a,s.unlisten_=null,s.imageState_=o,s.size_=n,s.src_=r,s.tainted_,s}return _n(t,e),t.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===We){un||(un=Object(Le.a)(1,1)),un.drawImage(this.image_,0,0);try{un.getImageData(0,0,1,1),this.tainted_=!1}catch(e){un=null,this.tainted_=!0}}return!0===this.tainted_},t.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(o.a.CHANGE)},t.prototype.handleImageError_=function(){this.imageState_=Ke,this.unlistenImage_(),this.dispatchChangeEvent_()},t.prototype.handleImageLoad_=function(){this.imageState_=We,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},t.prototype.getImage=function(e){return this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_},t.prototype.getPixelRatio=function(e){return this.replaceColor_(e),this.canvas_[e]?e:1},t.prototype.getImageState=function(){return this.imageState_},t.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],t=this.size_[1],r=Object(Le.a)(e,t);r.fillRect(0,0,e,t),this.hitDetectionImage_=r.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},t.prototype.getSize=function(){return this.size_},t.prototype.getSrc=function(){return this.src_},t.prototype.load=function(){if(this.imageState_==Be){this.imageState_=Ue;try{this.image_.src=this.src_}catch(e){this.handleImageError_()}this.unlisten_=Fe(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},t.prototype.replaceColor_=function(e){if(this.color_&&!this.canvas_[e]&&this.imageState_===We){var t=document.createElement("canvas");this.canvas_[e]=t,t.width=Math.ceil(this.image_.width*e),t.height=Math.ceil(this.image_.height*e);var r=t.getContext("2d");if(r.scale(e,e),r.drawImage(this.image_,0,0),r.globalCompositeOperation="multiply","multiply"===r.globalCompositeOperation||this.isTainted_())r.fillStyle=Object(jt.b)(this.color_),r.fillRect(0,0,t.width/e,t.height/e),r.globalCompositeOperation="destination-in",r.drawImage(this.image_,0,0);else{for(var n=r.getImageData(0,0,t.width,t.height),i=n.data,o=this.color_[0]/255,a=this.color_[1]/255,s=this.color_[2]/255,l=this.color_[3],_=0,u=i.length;_<u;_+=4)i[_]*=o,i[_+1]*=a,i[_+2]*=s,i[_+3]*=l;r.putImageData(n,0,0)}}},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(De.a);var pn=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),dn=function(e){function t(t){var r=this,n=t||{},i=void 0!==n.opacity?n.opacity:1,o=void 0!==n.rotation?n.rotation:0,s=void 0!==n.scale?n.scale:1,l=void 0!==n.rotateWithView&&n.rotateWithView;(r=e.call(this,{opacity:i,rotation:o,scale:s,displacement:void 0!==n.displacement?n.displacement:[0,0],rotateWithView:l,declutterMode:n.declutterMode})||this).anchor_=void 0!==n.anchor?n.anchor:[.5,.5],r.normalizedAnchor_=null,r.anchorOrigin_=void 0!==n.anchorOrigin?n.anchorOrigin:an,r.anchorXUnits_=void 0!==n.anchorXUnits?n.anchorXUnits:tn,r.anchorYUnits_=void 0!==n.anchorYUnits?n.anchorYUnits:tn,r.crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null;var _=void 0!==n.img?n.img:null;r.imgSize_=n.imgSize;var u=n.src;Object(a.a)(!(void 0!==u&&_),4),Object(a.a)(!_||_&&r.imgSize_,5),void 0!==u&&0!==u.length||!_||(u=_.src||Object(m.c)(_)),Object(a.a)(void 0!==u&&u.length>0,6);var c=void 0!==n.src?Be:We;return r.color_=void 0!==n.color?Object(jt.a)(n.color):null,r.iconImage_=function(e,t,r,n,i,o){var a=ln.a.get(t,n,o);return a||(a=new cn(e,t,r,n,i,o),ln.a.set(t,n,o,a)),a}(_,u,void 0!==r.imgSize_?r.imgSize_:null,r.crossOrigin_,c,r.color_),r.offset_=void 0!==n.offset?n.offset:[0,0],r.offsetOrigin_=void 0!==n.offsetOrigin?n.offsetOrigin:an,r.origin_=null,r.size_=void 0!==n.size?n.size:null,r}return pn(t,e),t.prototype.clone=function(){var e=this.getScale();return new t({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(e)?e.slice():e,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},t.prototype.getAnchor=function(){var e=this.normalizedAnchor_;if(!e){e=this.anchor_;var t=this.getSize();if(this.anchorXUnits_==tn||this.anchorYUnits_==tn){if(!t)return null;e=this.anchor_.slice(),this.anchorXUnits_==tn&&(e[0]*=t[0]),this.anchorYUnits_==tn&&(e[1]*=t[1])}if(this.anchorOrigin_!=an){if(!t)return null;e===this.anchor_&&(e=this.anchor_.slice()),this.anchorOrigin_!=sn&&this.anchorOrigin_!=on||(e[0]=-e[0]+t[0]),this.anchorOrigin_!=nn&&this.anchorOrigin_!=on||(e[1]=-e[1]+t[1])}this.normalizedAnchor_=e}var r=this.getDisplacement();return[e[0]-r[0],e[1]+r[1]]},t.prototype.setAnchor=function(e){this.anchor_=e,this.normalizedAnchor_=null},t.prototype.getColor=function(){return this.color_},t.prototype.getImage=function(e){return this.iconImage_.getImage(e)},t.prototype.getPixelRatio=function(e){return this.iconImage_.getPixelRatio(e)},t.prototype.getImageSize=function(){return this.iconImage_.getSize()},t.prototype.getImageState=function(){return this.iconImage_.getImageState()},t.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},t.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var e=this.offset_;if(this.offsetOrigin_!=an){var t=this.getSize(),r=this.iconImage_.getSize();if(!t||!r)return null;e=e.slice(),this.offsetOrigin_!=sn&&this.offsetOrigin_!=on||(e[0]=r[0]-t[0]-e[0]),this.offsetOrigin_!=nn&&this.offsetOrigin_!=on||(e[1]=r[1]-t[1]-e[1])}return this.origin_=e,this.origin_},t.prototype.getSrc=function(){return this.iconImage_.getSrc()},t.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},t.prototype.listenImageChange=function(e){this.iconImage_.addEventListener(o.a.CHANGE,e)},t.prototype.load=function(){this.iconImage_.load()},t.prototype.unlistenImageChange=function(e){this.iconImage_.removeEventListener(o.a.CHANGE,e)},t}(Yt);function hn(e,t,r,n,i,o,a){var s=.5*e[0],l=.5*e[1],_=Object(Le.a)(s,l);_.imageSmoothingEnabled=!1;for(var u=_.canvas,p=new en(_,.5,i,null,a),d=r.length,h=Math.floor(16777215/d),f={},m=1;m<=d;++m){var y=r[m-1],g=y.getStyleFunction()||n;if(n){var b=g(y,o);if(b){Array.isArray(b)||(b=[b]);for(var v="#"+("000000"+(m*h).toString(16)).slice(-6),E=0,O=b.length;E<O;++E){var M=b[E],P=M.getGeometryFunction()(y);if(P&&Object(c.F)(i,P.getExtent())){var x=M.clone(),w=x.getFill();w&&w.setColor(v);var C=x.getStroke();C&&(C.setColor(v),C.setLineDash(null)),x.setText(void 0);var D=M.getImage();if(D&&0!==D.getOpacity()){var k=D.getImageSize();if(!k)continue;var A=Object(Le.a)(k[0],k[1],void 0,{alpha:!1}),I=A.canvas;A.fillStyle=v,A.fillRect(0,0,I.width,I.height),x.setImage(new dn({img:I,imgSize:k,anchor:D.getAnchor(),anchorXUnits:rn,anchorYUnits:rn,offset:D.getOrigin(),opacity:1,size:D.getSize(),scale:D.getScale(),rotation:D.getRotation(),rotateWithView:D.getRotateWithView()}))}var L=x.getZIndex()||0;(B=f[L])||(B={},f[L]=B,B.Polygon=[],B.Circle=[],B.LineString=[],B.Point=[]),B[P.getType().replace("Multi","")].push(P,x)}}}}}for(var R=Object.keys(f).map(Number).sort(T.f),S=(m=0,R.length);m<S;++m){var B=f[R[m]];for(var U in B){var W=B[U];for(E=0,O=W.length;E<O;E+=2){p.setStyle(W[E+1]);for(var K=0,j=t.length;K<j;++K)p.setTransform(t[K]),p.drawGeometry(W[E])}}}return _.getImageData(0,0,u.width,u.height)}function fn(e,t,r){var n=[];if(r){var i=Math.floor(.5*Math.round(e[0])),o=Math.floor(.5*Math.round(e[1])),a=4*(Object(I.b)(i,0,r.width-1)+Object(I.b)(o,0,r.height-1)*r.width),s=r.data[a],l=r.data[a+1],_=r.data[a+2]+256*(l+256*s),u=Math.floor(16777215/t.length);_&&_%u==0&&n.push(t[_/u-1])}return n}var mn={Point:function(e,t,r,n,i){var o,a=r.getImage(),s=r.getText();if(a){if(a.getImageState()!=We)return;var l=e;if(i){var _=a.getDeclutterMode();if("none"!==_)if(l=i,"obstacle"===_){var u=e.getBuilder(r.getZIndex(),"Image");u.setImageStyle(a,o),u.drawPoint(t,n)}else s&&s.getText()&&(o={})}var c=l.getBuilder(r.getZIndex(),"Image");c.setImageStyle(a,o),c.drawPoint(t,n)}if(s&&s.getText()){var p=e;i&&(p=i);var d=p.getBuilder(r.getZIndex(),"Text");d.setTextStyle(s,o),d.drawText(t,n)}},LineString:function(e,t,r,n,i){var o=r.getStroke();if(o){var a=e.getBuilder(r.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawLineString(t,n)}var s=r.getText();if(s&&s.getText()){var l=(i||e).getBuilder(r.getZIndex(),"Text");l.setTextStyle(s),l.drawText(t,n)}},Polygon:function(e,t,r,n,i){var o=r.getFill(),a=r.getStroke();if(o||a){var s=e.getBuilder(r.getZIndex(),"Polygon");s.setFillStrokeStyle(o,a),s.drawPolygon(t,n)}var l=r.getText();if(l&&l.getText()){var _=(i||e).getBuilder(r.getZIndex(),"Text");_.setTextStyle(l),_.drawText(t,n)}},MultiPoint:function(e,t,r,n,i){var o,a=r.getImage(),s=r.getText();if(a){if(a.getImageState()!=We)return;var l=e;if(i){var _=a.getDeclutterMode();if("none"!==_)if(l=i,"obstacle"===_){var u=e.getBuilder(r.getZIndex(),"Image");u.setImageStyle(a,o),u.drawMultiPoint(t,n)}else s&&s.getText()&&(o={})}var c=l.getBuilder(r.getZIndex(),"Image");c.setImageStyle(a,o),c.drawMultiPoint(t,n)}if(s&&s.getText()){var p=e;i&&(p=i);var d=p.getBuilder(r.getZIndex(),"Text");d.setTextStyle(s,o),d.drawText(t,n)}},MultiLineString:function(e,t,r,n,i){var o=r.getStroke();if(o){var a=e.getBuilder(r.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawMultiLineString(t,n)}var s=r.getText();if(s&&s.getText()){var l=(i||e).getBuilder(r.getZIndex(),"Text");l.setTextStyle(s),l.drawText(t,n)}},MultiPolygon:function(e,t,r,n,i){var o=r.getFill(),a=r.getStroke();if(a||o){var s=e.getBuilder(r.getZIndex(),"Polygon");s.setFillStrokeStyle(o,a),s.drawMultiPolygon(t,n)}var l=r.getText();if(l&&l.getText()){var _=(i||e).getBuilder(r.getZIndex(),"Text");_.setTextStyle(l),_.drawText(t,n)}},GeometryCollection:function(e,t,r,n,i){var o,a,s=t.getGeometriesArray();for(o=0,a=s.length;o<a;++o){(0,mn[s[o].getType()])(e,s[o],r,n,i)}},Circle:function(e,t,r,n,i){var o=r.getFill(),a=r.getStroke();if(o||a){var s=e.getBuilder(r.getZIndex(),"Circle");s.setFillStrokeStyle(o,a),s.drawCircle(t,n)}var l=r.getText();if(l&&l.getText()){var _=(i||e).getBuilder(r.getZIndex(),"Text");_.setTextStyle(l),_.drawText(t,n)}}};function yn(e,t){return parseInt(Object(m.c)(e),10)-parseInt(Object(m.c)(t),10)}function gn(e,t){var r=bn(e,t);return r*r}function bn(e,t){return.5*e/t}function vn(e,t,r,n,i,o,a){var s=!1,l=r.getImage();if(l){var _=l.getImageState();_==We||_==Ke?l.unlistenImageChange(i):(_==Be&&l.load(),l.listenImageChange(i),s=!0)}return function(e,t,r,n,i,o){var a=r.getGeometryFunction()(t);if(!a)return;var s=a.simplifyTransformed(n,i);if(r.getRenderer())!function e(t,r,n,i){if("GeometryCollection"==r.getType()){for(var o=r.getGeometries(),a=0,s=o.length;a<s;++a)e(t,o[a],n,i);return}t.getBuilder(n.getZIndex(),"Default").drawCustom(r,i,n.getRenderer(),n.getHitDetectionRenderer())}(e,s,r,t);else{(0,mn[s.getType()])(e,s,r,t,o)}}(e,t,r,n,o,a),s}var En=r(42),On=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mn=function(e){function t(t){var r=e.call(this,t)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.animatingOrInteracting_,r.hitDetectionImageData_=null,r.renderedFeatures_=null,r.renderedRevision_=-1,r.renderedResolution_=NaN,r.renderedExtent_=Object(c.j)(),r.wrappedRenderedExtent_=Object(c.j)(),r.renderedRotation_,r.renderedCenter_=null,r.renderedProjection_=null,r.renderedRenderOrder_=null,r.replayGroup_=null,r.replayGroupChanged=!0,r.declutterExecutorGroup=null,r.clipping=!0,r.compositionContext_=null,r.opacity_=1,r}return On(t,e),t.prototype.renderWorlds=function(e,t,r){var n=t.extent,i=t.viewState,o=i.center,a=i.resolution,s=i.projection,l=i.rotation,_=s.getExtent(),u=this.getLayer().getSource(),p=t.pixelRatio,d=t.viewHints,h=!(d[Jr.a.ANIMATING]||d[Jr.a.INTERACTING]),f=this.compositionContext_,m=Math.round(t.size[0]*p),y=Math.round(t.size[1]*p),g=u.getWrapX()&&s.canWrapX(),b=g?Object(c.E)(_):null,v=g?Math.ceil((n[2]-_[2])/b)+1:1,E=g?Math.floor((n[0]-_[0])/b):0;do{var O=this.getRenderTransform(o,a,l,p,m,y,E*b);e.execute(f,1,O,l,h,void 0,r)}while(++E<v)},t.prototype.setupCompositionContext_=function(){if(1!==this.opacity_){var e=Object(Le.a)(this.context.canvas.width,this.context.canvas.height,Ft);this.compositionContext_=e}else this.compositionContext_=this.context},t.prototype.releaseCompositionContext_=function(){if(1!==this.opacity_){var e=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=e,Object(Le.d)(this.compositionContext_),Ft.push(this.compositionContext_.canvas),this.compositionContext_=null}},t.prototype.renderDeclutter=function(e){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree),this.releaseCompositionContext_())},t.prototype.renderFrame=function(e,t){var r=e.pixelRatio,n=e.layerStatesArray[e.layerIndex];Object(oe.e)(this.pixelTransform,1/r,1/r),Object(oe.d)(this.inversePixelTransform,this.pixelTransform);var i=Object(oe.j)(this.pixelTransform);this.useContainer(t,i,this.getBackground(e));var o=this.context,a=o.canvas,s=this.replayGroup_,l=this.declutterExecutorGroup;if((!s||s.isEmpty())&&(!l||l.isEmpty()))return null;var _=Math.round(e.size[0]*r),u=Math.round(e.size[1]*r);a.width!=_||a.height!=u?(a.width=_,a.height=u,a.style.transform!==i&&(a.style.transform=i)):this.containerReused||o.clearRect(0,0,_,u),this.preRender(o,e);var p=e.viewState,d=p.projection;this.opacity_=n.opacity,this.setupCompositionContext_();var h=!1,f=!0;if(n.extent&&this.clipping){var m=Object(g.g)(n.extent,d);(h=(f=Object(c.F)(m,e.extent))&&!Object(c.g)(m,e.extent))&&this.clipUnrotated(this.compositionContext_,e,m)}return f&&this.renderWorlds(s,e),h&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(o,e),this.renderedRotation_!==p.rotation&&(this.renderedRotation_=p.rotation,this.hitDetectionImageData_=null),this.container},t.prototype.getFeatures=function(e){return new Promise(function(t){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var r=[this.context.canvas.width,this.context.canvas.height];Object(oe.a)(this.pixelTransform,r);var n=this.renderedCenter_,i=this.renderedResolution_,o=this.renderedRotation_,a=this.renderedProjection_,s=this.wrappedRenderedExtent_,l=this.getLayer(),_=[],u=.5*r[0],p=.5*r[1];_.push(this.getRenderTransform(n,i,o,.5,u,p,0).slice());var d=l.getSource(),h=a.getExtent();if(d.getWrapX()&&a.canWrapX()&&!Object(c.g)(h,s)){for(var f=s[0],m=Object(c.E)(h),y=0,g=void 0;f<h[0];)g=m*--y,_.push(this.getRenderTransform(n,i,o,.5,u,p,g).slice()),f+=m;for(y=0,f=s[2];f>h[2];)g=m*++y,_.push(this.getRenderTransform(n,i,o,.5,u,p,g).slice()),f-=m}this.hitDetectionImageData_=hn(r,_,this.renderedFeatures_,l.getStyleFunction(),s,i,o)}t(fn(e,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},t.prototype.forEachFeatureAtCoordinate=function(e,t,r,n,i){var o=this;if(this.replayGroup_){var a,s=t.viewState.resolution,l=t.viewState.rotation,_=this.getLayer(),u={},c=function(e,t,r){var o=Object(m.c)(e),a=u[o];if(a){if(!0!==a&&r<a.distanceSq){if(0===r)return u[o]=!0,i.splice(i.lastIndexOf(a),1),n(e,_,t);a.geometry=t,a.distanceSq=r}}else{if(0===r)return u[o]=!0,n(e,_,t);i.push(u[o]={feature:e,layer:_,geometry:t,distanceSq:r,callback:n})}},p=[this.replayGroup_];return this.declutterExecutorGroup&&p.push(this.declutterExecutorGroup),p.some((function(n){return a=n.forEachFeatureAtCoordinate(e,s,l,r,c,n===o.declutterExecutorGroup&&t.declutterTree?t.declutterTree.all().map((function(e){return e.value})):null)})),a}},t.prototype.handleFontsChanged=function(){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},t.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},t.prototype.prepareFrame=function(e){var t=this.getLayer(),r=t.getSource();if(!r)return!1;var n=e.viewHints[Jr.a.ANIMATING],i=e.viewHints[Jr.a.INTERACTING],o=t.getUpdateWhileAnimating(),a=t.getUpdateWhileInteracting();if(this.ready&&!o&&n||!a&&i)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var s=e.extent,l=e.viewState,_=l.projection,u=l.resolution,p=e.pixelRatio,d=t.getRevision(),h=t.getRenderBuffer(),f=t.getRenderOrder();void 0===f&&(f=yn);var m=l.center.slice(),y=Object(c.c)(s,h*u),b=y.slice(),v=[y.slice()],E=_.getExtent();if(r.getWrapX()&&_.canWrapX()&&!Object(c.g)(E,e.extent)){var O=Object(c.E)(E),M=Math.max(Object(c.E)(y)/2,O);y[0]=E[0]-M,y[2]=E[2]+M,Object(En.f)(m,_);var P=Object(c.K)(v[0],_);P[0]<E[0]&&P[2]<E[2]?v.push([P[0]+O,P[1],P[2]+O,P[3]]):P[0]>E[0]&&P[2]>E[2]&&v.push([P[0]-O,P[1],P[2]-O,P[3]])}if(this.ready&&this.renderedResolution_==u&&this.renderedRevision_==d&&this.renderedRenderOrder_==f&&Object(c.g)(this.wrappedRenderedExtent_,y))return Object(T.b)(this.renderedExtent_,b)||(this.hitDetectionImageData_=null,this.renderedExtent_=b),this.renderedCenter_=m,this.replayGroupChanged=!1,!0;this.replayGroup_=null;var x,w=new Br(bn(u,p),y,u,p);this.getLayer().getDeclutter()&&(x=new Br(bn(u,p),y,u,p));var C,D=Object(g.m)();if(D){for(var k=0,A=v.length;k<A;++k){var I=v[k],L=Object(g.p)(I,_);r.loadFeatures(L,Object(g.q)(u,_),D)}C=Object(g.l)(D,_)}else for(k=0,A=v.length;k<A;++k)r.loadFeatures(v[k],u,_);var R=gn(u,p),S=!0,B=function(e){var r,n=e.getStyleFunction()||t.getStyleFunction();if(n&&(r=n(e,u)),r){var i=this.renderFeature(e,R,r,w,C,x);S=S&&!i}}.bind(this),U=Object(g.p)(y,_),W=r.getFeaturesInExtent(U);f&&W.sort(f);for(k=0,A=W.length;k<A;++k)B(W[k]);this.renderedFeatures_=W,this.ready=S;var K=w.finish(),j=new Yr(y,u,p,r.getOverlaps(),K,t.getRenderBuffer());return x&&(this.declutterExecutorGroup=new Yr(y,u,p,r.getOverlaps(),x.finish(),t.getRenderBuffer())),this.renderedResolution_=u,this.renderedRevision_=d,this.renderedRenderOrder_=f,this.renderedExtent_=b,this.wrappedRenderedExtent_=y,this.renderedCenter_=m,this.renderedProjection_=_,this.replayGroup_=j,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},t.prototype.renderFeature=function(e,t,r,n,i,o){if(!r)return!1;var a=!1;if(Array.isArray(r))for(var s=0,l=r.length;s<l;++s)a=vn(n,e,r[s],t,this.boundHandleStyleImageChange_,i,o)||a;else a=vn(n,e,r,t,this.boundHandleStyleImageChange_,i,o);return a},t}(Nt),Pn=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),xn=function(e){function t(t){return e.call(this,t)||this}return Pn(t,e),t.prototype.createRenderer=function(){return new Mn(this)},t}(dr),wn=r(53),Cn=r(49),Dn=r(80),Tn=function(){function e(e){this.rbush_=new $t.a(e),this.items_={}}return e.prototype.insert=function(e,t){var r={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(r),this.items_[Object(m.c)(t)]=r},e.prototype.load=function(e,t){for(var r=new Array(t.length),n=0,i=t.length;n<i;n++){var o=e[n],a=t[n],s={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:a};r[n]=s,this.items_[Object(m.c)(a)]=s}this.rbush_.load(r)},e.prototype.remove=function(e){var t=Object(m.c)(e),r=this.items_[t];return delete this.items_[t],null!==this.rbush_.remove(r)},e.prototype.update=function(e,t){var r=this.items_[Object(m.c)(t)],n=[r.minX,r.minY,r.maxX,r.maxY];Object(c.o)(n,e)||(this.remove(t),this.insert(e,t))},e.prototype.getAll=function(){return this.rbush_.all().map((function(e){return e.value}))},e.prototype.getInExtent=function(e){var t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map((function(e){return e.value}))},e.prototype.forEach=function(e){return this.forEach_(this.getAll(),e)},e.prototype.forEachInExtent=function(e,t){return this.forEach_(this.getInExtent(e),t)},e.prototype.forEach_=function(e,t){for(var r,n=0,i=e.length;n<i;n++)if(r=t(e[n]))return r;return r},e.prototype.isEmpty=function(){return Object(y.d)(this.items_)},e.prototype.clear=function(){this.rbush_.clear(),this.items_={}},e.prototype.getExtent=function(e){var t=this.rbush_.toJSON();return Object(c.k)(t.minX,t.minY,t.maxX,t.maxY,e)},e.prototype.concat=function(e){for(var t in this.rbush_.load(e.rbush_.all()),e.items_)this.items_[t]=e.items_[t]},e}(),kn="addfeature",An="changefeature",In="clear",Ln="removefeature",Rn="featuresloadstart",Sn="featuresloadend",Bn="featuresloaderror",Un=r(30);function Wn(e,t){return[[-1/0,-1/0,1/0,1/0]]}var Kn=!1;function jn(e,t,r,n,i,o,a){var s=new XMLHttpRequest;s.open("GET","function"==typeof e?e(r,n,i):e,!0),"arraybuffer"==t.getType()&&(s.responseType="arraybuffer"),s.withCredentials=Kn,s.onload=function(e){if(!s.status||s.status>=200&&s.status<300){var n=t.getType(),l=void 0;"json"==n||"text"==n?l=s.responseText:"xml"==n?(l=s.responseXML)||(l=(new DOMParser).parseFromString(s.responseText,"application/xml")):"arraybuffer"==n&&(l=s.response),l?o(t.readFeatures(l,{extent:r,featureProjection:i}),t.readProjection(l)):a()}else a()},s.onerror=a,s.send()}function zn(e,t){return function(r,n,i,o,a){var s=this;jn(e,t,r,n,i,(function(e,t){s.addFeatures(e),void 0!==o&&o(e)}),a||Un.c)}}var Fn=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),qn=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.feature=r,i.features=n,i}return Fn(t,e),t}(lt.a),Nn=function(e){function t(t){var r=this,n=t||{};(r=e.call(this,{attributions:n.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===n.wrapX||n.wrapX})||this).on,r.once,r.un,r.loader_=Un.c,r.format_=n.format,r.overlaps_=void 0===n.overlaps||n.overlaps,r.url_=n.url,void 0!==n.loader?r.loader_=n.loader:void 0!==r.url_&&(Object(a.a)(r.format_,7),r.loader_=zn(r.url_,r.format_)),r.strategy_=void 0!==n.strategy?n.strategy:Wn;var i,o,s=void 0===n.useSpatialIndex||n.useSpatialIndex;return r.featuresRtree_=s?new Tn:null,r.loadedExtentsRtree_=new Tn,r.loadingExtentsCount_=0,r.nullGeometryFeatures_={},r.idIndex_={},r.uidIndex_={},r.featureChangeKeys_={},r.featuresCollection_=null,Array.isArray(n.features)?o=n.features:n.features&&(o=(i=n.features).getArray()),s||void 0!==i||(i=new wn.a(o)),void 0!==o&&r.addFeaturesInternal(o),void 0!==i&&r.bindFeaturesCollection_(i),r}return Fn(t,e),t.prototype.addFeature=function(e){this.addFeatureInternal(e),this.changed()},t.prototype.addFeatureInternal=function(e){var t=Object(m.c)(e);if(this.addToIndex_(t,e)){this.setupChangeEvents_(t,e);var r=e.getGeometry();if(r){var n=r.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(n,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new qn(kn,e))}else this.featuresCollection_&&this.featuresCollection_.remove(e)},t.prototype.setupChangeEvents_=function(e,t){this.featureChangeKeys_[e]=[Object(s.a)(t,o.a.CHANGE,this.handleFeatureChange_,this),Object(s.a)(t,Dn.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]},t.prototype.addToIndex_=function(e,t){var r=!0,n=t.getId();return void 0!==n&&(n.toString()in this.idIndex_?r=!1:this.idIndex_[n.toString()]=t),r&&(Object(a.a)(!(e in this.uidIndex_),30),this.uidIndex_[e]=t),r},t.prototype.addFeatures=function(e){this.addFeaturesInternal(e),this.changed()},t.prototype.addFeaturesInternal=function(e){for(var t=[],r=[],n=[],i=0,o=e.length;i<o;i++){var a=e[i],s=Object(m.c)(a);this.addToIndex_(s,a)&&r.push(a)}i=0;for(var l=r.length;i<l;i++){a=r[i],s=Object(m.c)(a);this.setupChangeEvents_(s,a);var _=a.getGeometry();if(_){var u=_.getExtent();t.push(u),n.push(a)}else this.nullGeometryFeatures_[s]=a}if(this.featuresRtree_&&this.featuresRtree_.load(t,n),this.hasListener(kn)){i=0;for(var c=r.length;i<c;i++)this.dispatchEvent(new qn(kn,r[i]))}},t.prototype.bindFeaturesCollection_=function(e){var t=!1;this.addEventListener(kn,(function(r){t||(t=!0,e.push(r.feature),t=!1)})),this.addEventListener(Ln,(function(r){t||(t=!0,e.remove(r.feature),t=!1)})),e.addEventListener(Cn.a.ADD,function(e){t||(t=!0,this.addFeature(e.element),t=!1)}.bind(this)),e.addEventListener(Cn.a.REMOVE,function(e){t||(t=!0,this.removeFeature(e.element),t=!1)}.bind(this)),this.featuresCollection_=e},t.prototype.clear=function(e){if(e){for(var t in this.featureChangeKeys_){this.featureChangeKeys_[t].forEach(s.c)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var r=function(e){this.removeFeatureInternal(e)}.bind(this);for(var n in this.featuresRtree_.forEach(r),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var i=new qn(In);this.dispatchEvent(i),this.changed()},t.prototype.forEachFeature=function(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},t.prototype.forEachFeatureAtCoordinateDirect=function(e,t){var r=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(r,(function(r){return r.getGeometry().intersectsCoordinate(e)?t(r):void 0}))},t.prototype.forEachFeatureInExtent=function(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},t.prototype.forEachFeatureIntersectingExtent=function(e,t){return this.forEachFeatureInExtent(e,(function(r){if(r.getGeometry().intersectsExtent(e)){var n=t(r);if(n)return n}}))},t.prototype.getFeaturesCollection=function(){return this.featuresCollection_},t.prototype.getFeatures=function(){var e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),Object(y.d)(this.nullGeometryFeatures_)||Object(T.c)(e,Object(y.c)(this.nullGeometryFeatures_))),e},t.prototype.getFeaturesAtCoordinate=function(e){var t=[];return this.forEachFeatureAtCoordinateDirect(e,(function(e){t.push(e)})),t},t.prototype.getFeaturesInExtent=function(e,t){var r=this;if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);var n=Object(c.J)(e,t);return[].concat.apply([],n.map((function(e){return r.featuresRtree_.getInExtent(e)})))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},t.prototype.getClosestFeatureToCoordinate=function(e,t){var r=e[0],n=e[1],i=null,o=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],l=t||Un.b;return this.featuresRtree_.forEachInExtent(s,(function(e){if(l(e)){var t=e.getGeometry(),_=a;if((a=t.closestPointXY(r,n,o,a))<_){i=e;var u=Math.sqrt(a);s[0]=r-u,s[1]=n-u,s[2]=r+u,s[3]=n+u}}})),i},t.prototype.getExtent=function(e){return this.featuresRtree_.getExtent(e)},t.prototype.getFeatureById=function(e){var t=this.idIndex_[e.toString()];return void 0!==t?t:null},t.prototype.getFeatureByUid=function(e){var t=this.uidIndex_[e];return void 0!==t?t:null},t.prototype.getFormat=function(){return this.format_},t.prototype.getOverlaps=function(){return this.overlaps_},t.prototype.getUrl=function(){return this.url_},t.prototype.handleFeatureChange_=function(e){var t=e.target,r=Object(m.c)(t),n=t.getGeometry();if(n){var i=n.getExtent();r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(i,t)):this.featuresRtree_&&this.featuresRtree_.update(i,t)}else r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[r]=t);var o=t.getId();if(void 0!==o){var a=o.toString();this.idIndex_[a]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[a]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[r]=t;this.changed(),this.dispatchEvent(new qn(An,t))},t.prototype.hasFeature=function(e){var t=e.getId();return void 0!==t?t in this.idIndex_:Object(m.c)(e)in this.uidIndex_},t.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Object(y.d)(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()},t.prototype.loadFeatures=function(e,t,r){for(var n=this.loadedExtentsRtree_,i=this.strategy_(e,t,r),o=function(e,o){var s=i[e];n.forEachInExtent(s,(function(e){return Object(c.g)(e.extent,s)}))||(++a.loadingExtentsCount_,a.dispatchEvent(new qn(Rn)),a.loader_.call(a,s,t,r,function(e){--this.loadingExtentsCount_,this.dispatchEvent(new qn(Sn,void 0,e))}.bind(a),function(){--this.loadingExtentsCount_,this.dispatchEvent(new qn(Bn))}.bind(a)),n.insert(s,{extent:s.slice()}))},a=this,s=0,l=i.length;s<l;++s)o(s);this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0},t.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),e.prototype.refresh.call(this)},t.prototype.removeLoadedExtent=function(e){var t,r=this.loadedExtentsRtree_;r.forEachInExtent(e,(function(r){if(Object(c.o)(r.extent,e))return t=r,!0})),t&&r.remove(t)},t.prototype.removeFeature=function(e){if(e){var t=Object(m.c)(e);t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e)&&this.changed()}},t.prototype.removeFeatureInternal=function(e){var t=Object(m.c)(e),r=this.featureChangeKeys_[t];if(r){r.forEach(s.c),delete this.featureChangeKeys_[t];var n=e.getId();return void 0!==n&&delete this.idIndex_[n.toString()],delete this.uidIndex_[t],this.dispatchEvent(new qn(Ln,e)),e}},t.prototype.removeFromIdIndex_=function(e){var t=!1;for(var r in this.idIndex_)if(this.idIndex_[r]===e){delete this.idIndex_[r],t=!0;break}return t},t.prototype.setLoader=function(e){this.loader_=e},t.prototype.setUrl=function(e){Object(a.a)(this.format_,7),this.url_=e,this.setLoader(zn(e,this.format_))},t}(ct),Hn="image",Gn="hybrid",Vn="vector",Zn=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xn={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},$n={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]},Yn=function(e){function t(t){var r=e.call(this,t)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.renderedLayerRevision_,r.renderedPixelToCoordinateTransform_=null,r.renderedRotation_,r.tmpTransform_=Object(oe.c)(),r}return Zn(t,e),t.prototype.prepareTile=function(e,t,r){var n,i=e.getState();return i!==Te.a.LOADED&&i!==Te.a.ERROR||(this.updateExecutorGroup_(e,t,r),this.tileImageNeedsRender_(e)&&(n=!0)),n},t.prototype.getTile=function(t,r,n,i){var o=i.pixelRatio,a=i.viewState,s=a.resolution,l=a.projection,_=this.getLayer(),u=_.getSource().getTile(t,r,n,o,l),c=i.viewHints,p=!(c[Jr.a.ANIMATING]||c[Jr.a.INTERACTING]);return!p&&u.wantedResolution||(u.wantedResolution=s),this.prepareTile(u,o,l)&&(p||Date.now()-i.time<8)&&_.getRenderMode()!==Vn&&this.renderTileImage_(u,i),e.prototype.getTile.call(this,t,r,n,i)},t.prototype.isDrawableTile=function(t){var r=this.getLayer();return e.prototype.isDrawableTile.call(this,t)&&(r.getRenderMode()===Vn?Object(m.c)(r)in t.executorGroups:t.hasContext(r))},t.prototype.getTileImage=function(e){return e.getImage(this.getLayer())},t.prototype.prepareFrame=function(t){var r=this.getLayer().getRevision();return this.renderedLayerRevision_!==r&&(this.renderedLayerRevision_=r,this.renderedTiles.length=0),e.prototype.prepareFrame.call(this,t)},t.prototype.updateExecutorGroup_=function(e,t,r){var n=this.getLayer(),i=n.getRevision(),o=n.getRenderOrder()||null,a=e.wantedResolution,s=e.getReplayState(n);if(s.dirty||s.renderedResolution!==a||s.renderedRevision!=i||s.renderedRenderOrder!=o){var l=n.getSource(),_=n.getDeclutter(),u=l.getTileGrid(),p=l.getTileGridForProjection(r).getTileCoordExtent(e.wrappedTileCoord),d=l.getSourceTiles(t,r,e),h=Object(m.c)(n);delete e.hitDetectionImageData[h],e.executorGroups[h]=[],_&&(e.declutterExecutorGroups[h]=[]),s.dirty=!1;for(var f=function(r,i){var f=d[r];if(f.getState()!=Te.a.LOADED)return"continue";var m=f.tileCoord,g=u.getTileCoordExtent(m),b=Object(c.A)(p,g),v=Object(c.c)(b,n.getRenderBuffer()*a,y.tmpExtent),E=Object(c.o)(g,b)?null:v,O=new Br(0,v,a,t),M=_?new Br(0,b,a,t):void 0,P=gn(a,t),x=function(e){var t,r=e.getStyleFunction()||n.getStyleFunction();if(r&&(t=r(e,a)),t){var i=this.renderFeature(e,P,t,O,M);s.dirty=s.dirty||i}},w=f.getFeatures();o&&o!==s.renderedRenderOrder&&w.sort(o);for(var C=0,D=w.length;C<D;++C){var T=w[C];E&&!Object(c.F)(E,T.getGeometry().getExtent())||x.call(y,T)}var k=O.finish(),A=n.getRenderMode()!==Vn&&_&&1===d.length?null:b,I=new Yr(A,a,t,l.getOverlaps(),k,n.getRenderBuffer());if(e.executorGroups[h].push(I),M){var L=new Yr(null,a,t,l.getOverlaps(),M.finish(),n.getRenderBuffer());e.declutterExecutorGroups[h].push(L)}},y=this,g=0,b=d.length;g<b;++g)f(g);s.renderedRevision=i,s.renderedRenderOrder=o,s.renderedResolution=a}},t.prototype.forEachFeatureAtCoordinate=function(e,t,r,n,i){var o=t.viewState.resolution,a=t.viewState.rotation;r=null==r?0:r;var s=this.getLayer(),l=s.getSource().getTileGridForProjection(t.viewState.projection),_=Object(c.b)([e]);Object(c.c)(_,o*r,_);for(var u,p={},d=function(e,t,r){var o=e.getId();void 0===o&&(o=Object(m.c)(e));var a=p[o];if(a){if(!0!==a&&r<a.distanceSq){if(0===r)return p[o]=!0,i.splice(i.lastIndexOf(a),1),n(e,s,t);a.geometry=t,a.distanceSq=r}}else{if(0===r)return p[o]=!0,n(e,s,t);i.push(p[o]={feature:e,layer:s,geometry:t,distanceSq:r,callback:n})}},h=this.renderedTiles,f=function(n,i){var p=h[n],f=l.getTileCoordExtent(p.wrappedTileCoord);if(!Object(c.F)(f,_))return"continue";var y=Object(m.c)(s),g=[p.executorGroups[y]],b=p.declutterExecutorGroups[y];b&&g.push(b),g.some((function(n){for(var i=n===b?t.declutterTree.all().map((function(e){return e.value})):null,s=0,l=n.length;s<l;++s){var _=n[s];if(u=_.forEachFeatureAtCoordinate(e,o,a,r,d,i))return!0}}))},y=0,g=h.length;!u&&y<g;++y)f(y);return u},t.prototype.getFeatures=function(e){return new Promise(function(t,r){for(var n,i=this.getLayer(),o=Object(m.c)(i),a=i.getSource(),s=this.renderedProjection,l=s.getExtent(),_=this.renderedResolution,u=a.getTileGridForProjection(s),p=Object(oe.a)(this.renderedPixelToCoordinateTransform_,e.slice()),d=u.getTileCoordForCoordAndResolution(p,_),h=0,f=this.renderedTiles.length;h<f;++h)if(d.toString()===this.renderedTiles[h].tileCoord.toString()){if((n=this.renderedTiles[h]).getState()===Te.a.LOADED){var y=u.getTileCoordExtent(n.tileCoord);a.getWrapX()&&s.canWrapX()&&!Object(c.g)(l,y)&&Object(En.f)(p,s);break}n=void 0}if(!n||n.loadingSourceTiles>0)t([]);else{var g=u.getTileCoordExtent(n.wrappedTileCoord),b=Object(c.C)(g),v=[(p[0]-b[0])/_,(b[1]-p[1])/_],E=n.getSourceTiles().reduce((function(e,t){return e.concat(t.getFeatures())}),[]),O=n.hitDetectionImageData[o];if(!O&&!this.animatingOrInteracting_){var M=Object(xe.c)(u.getTileSize(u.getZForResolution(_,a.zDirection))),P=this.renderedRotation_;O=hn(M,[this.getRenderTransform(u.getTileCoordCenter(n.wrappedTileCoord),_,0,.5,.5*M[0],.5*M[1],0)],E,i.getStyleFunction(),u.getTileCoordExtent(n.wrappedTileCoord),n.getReplayState(i).renderedResolution,P),n.hitDetectionImageData[o]=O}t(fn(v,E,O))}}.bind(this))},t.prototype.handleFontsChanged=function(){var e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()},t.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},t.prototype.renderDeclutter=function(e){var t=this.context,r=t.globalAlpha;t.globalAlpha=this.getLayer().getOpacity();for(var n=e.viewHints,i=!(n[Jr.a.ANIMATING]||n[Jr.a.INTERACTING]),o=this.renderedTiles,a=0,s=o.length;a<s;++a){var l=o[a],_=l.declutterExecutorGroups[Object(m.c)(this.getLayer())];if(_)for(var u=_.length-1;u>=0;--u)_[u].execute(this.context,1,this.getTileRenderTransform(l,e),e.viewState.rotation,i,void 0,e.declutterTree)}t.globalAlpha=r},t.prototype.getTileRenderTransform=function(e,t){var r=t.pixelRatio,n=t.viewState,i=n.center,o=n.resolution,a=n.rotation,s=t.size,l=Math.round(s[0]*r),_=Math.round(s[1]*r),u=this.getLayer().getSource().getTileGridForProjection(t.viewState.projection),c=e.tileCoord,p=u.getTileCoordExtent(e.wrappedTileCoord),d=u.getTileCoordExtent(c,this.tmpExtent)[0]-p[0];return Object(oe.f)(Object(oe.h)(this.inversePixelTransform.slice(),1/r,1/r),this.getRenderTransform(i,o,a,r,l,_,d))},t.prototype.renderFrame=function(t,r){var n=t.viewHints,i=!(n[Jr.a.ANIMATING]||n[Jr.a.INTERACTING]);e.prototype.renderFrame.call(this,t,r),this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform.slice(),this.renderedRotation_=t.viewState.rotation;var o=this.getLayer(),a=o.getRenderMode(),s=this.context,l=s.globalAlpha;s.globalAlpha=o.getOpacity();for(var _=$n[a],u=t.viewState,p=u.rotation,d=o.getSource(),h=d.getTileGridForProjection(u.projection).getZForResolution(u.resolution,d.zDirection),f=this.renderedTiles,y=[],g=[],b=!0,v=f.length-1;v>=0;--v){var E=f[v];b=b&&!E.getReplayState(o).dirty;var O=E.executorGroups[Object(m.c)(o)].filter((function(e){return e.hasExecutors(_)}));if(0!==O.length){var M=this.getTileRenderTransform(E,t),P=E.tileCoord[0],x=!1,w=O[0].getClipCoords(M);if(w){for(var C=0,D=y.length;C<D;++C)if(h!==P&&P<g[C]){var T=y[C];Object(c.F)([w[0],w[3],w[4],w[7]],[T[0],T[3],T[4],T[7]])&&(x||(s.save(),x=!0),s.beginPath(),s.moveTo(w[0],w[1]),s.lineTo(w[2],w[3]),s.lineTo(w[4],w[5]),s.lineTo(w[6],w[7]),s.moveTo(T[6],T[7]),s.lineTo(T[4],T[5]),s.lineTo(T[2],T[3]),s.lineTo(T[0],T[1]),s.clip())}y.push(w),g.push(P)}for(var k=0,A=O.length;k<A;++k){O[k].execute(s,1,M,p,i,_)}x&&s.restore()}}return s.globalAlpha=l,this.ready=b,this.container},t.prototype.renderFeature=function(e,t,r,n,i){if(!r)return!1;var o=!1;if(Array.isArray(r))for(var a=0,s=r.length;a<s;++a)o=vn(n,e,r[a],t,this.boundHandleStyleImageChange_,void 0,i)||o;else o=vn(n,e,r,t,this.boundHandleStyleImageChange_,void 0,i);return o},t.prototype.tileImageNeedsRender_=function(e){var t=this.getLayer();if(t.getRenderMode()===Vn)return!1;var r=e.getReplayState(t),n=t.getRevision(),i=e.wantedResolution;return r.renderedTileResolution!==i||r.renderedTileRevision!==n},t.prototype.renderTileImage_=function(e,t){var r=this.getLayer(),n=e.getReplayState(r),i=r.getRevision(),o=e.executorGroups[Object(m.c)(r)];n.renderedTileRevision=i;var a=e.wrappedTileCoord,s=a[0],l=r.getSource(),_=t.pixelRatio,u=t.viewState.projection,c=l.getTileGridForProjection(u),p=c.getResolution(e.tileCoord[0]),d=t.pixelRatio/e.wantedResolution*p,h=c.getResolution(s),f=e.getContext(r);_=Math.round(Math.max(_,d/_));var y=l.getTilePixelSize(s,_,u);f.canvas.width=y[0],f.canvas.height=y[1];var g=_/d;if(1!==g){var b=Object(oe.g)(this.tmpTransform_);Object(oe.h)(b,g,g),f.setTransform.apply(f,b)}var v=c.getTileCoordExtent(a,this.tmpExtent),E=d/h,O=Object(oe.g)(this.tmpTransform_);Object(oe.h)(O,E,-E),Object(oe.k)(O,-v[0],-v[3]);for(var M=0,P=o.length;M<P;++M){o[M].execute(f,g,O,0,!0,Xn[r.getRenderMode()])}n.renderedTileResolution=e.wantedResolution},t}(Gt),Jn=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qn=function(e){function t(t){var r=this,n=t||{},i=Object(y.a)({},n);delete i.preload,delete i.useInterimTilesOnError,(r=e.call(this,i)||this).on,r.once,r.un,n.renderMode===Hn&&(console.warn('renderMode: "image" is deprecated. Option ignored.'),n.renderMode=void 0);var o=n.renderMode||Gn;return Object(a.a)(o==Gn||o==Vn,28),r.renderMode_=o,r.setPreload(n.preload?n.preload:0),r.setUseInterimTilesOnError(void 0===n.useInterimTilesOnError||n.useInterimTilesOnError),r.getBackground,r.setBackground,r}return Jn(t,e),t.prototype.createRenderer=function(){return new Yn(this)},t.prototype.getFeatures=function(t){return e.prototype.getFeatures.call(this,t)},t.prototype.getRenderMode=function(){return this.renderMode_},t.prototype.getPreload=function(){return this.get(At)},t.prototype.getUseInterimTilesOnError=function(){return this.get(It)},t.prototype.setPreload=function(e){this.set(At,e)},t.prototype.setUseInterimTilesOnError=function(e){this.set(It,e)},t}(dr),ei=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ti=function(e){function t(t,r,n,i,o,a){var s=e.call(this,t,r,a)||this;return s.extent=null,s.format_=i,s.features_=null,s.loader_,s.projection=null,s.resolution,s.tileLoadFunction_=o,s.url_=n,s.key=n,s}return ei(t,e),t.prototype.getFormat=function(){return this.format_},t.prototype.getFeatures=function(){return this.features_},t.prototype.load=function(){this.state==Te.a.IDLE&&(this.setState(Te.a.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))},t.prototype.onLoad=function(e,t){this.setFeatures(e)},t.prototype.onError=function(){this.setState(Te.a.ERROR)},t.prototype.setFeatures=function(e){this.features_=e,this.setState(Te.a.LOADED)},t.prototype.setLoader=function(e){this.loader_=e},t}(Ie),ri=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ni=[],ii=function(e){function t(t,r,n,i){var o=e.call(this,t,r,{transition:0})||this;return o.context_={},o.executorGroups={},o.declutterExecutorGroups={},o.loadingSourceTiles=0,o.hitDetectionImageData={},o.replayState_={},o.sourceTiles=[],o.errorTileKeys={},o.wantedResolution,o.getSourceTiles=i.bind(void 0,o),o.wrappedTileCoord=n,o}return ri(t,e),t.prototype.getContext=function(e){var t=Object(m.c)(e);return t in this.context_||(this.context_[t]=Object(Le.a)(1,1,ni)),this.context_[t]},t.prototype.hasContext=function(e){return Object(m.c)(e)in this.context_},t.prototype.getImage=function(e){return this.hasContext(e)?this.getContext(e).canvas:null},t.prototype.getReplayState=function(e){var t=Object(m.c)(e);return t in this.replayState_||(this.replayState_[t]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[t]},t.prototype.load=function(){this.getSourceTiles()},t.prototype.release=function(){for(var t in this.context_){var r=this.context_[t];Object(Le.d)(r),ni.push(r.canvas),delete this.context_[t]}e.prototype.release.call(this)},t}(Ie),oi=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ai=function(e){function t(t){var r=this,n=t.projection||"EPSG:3857",i=t.extent||ft(n),o=t.tileGrid||dt({extent:i,maxResolution:t.maxResolution,maxZoom:void 0!==t.maxZoom?t.maxZoom:22,minZoom:t.minZoom,tileSize:t.tileSize||512});return(r=e.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,interpolate:!0,opaque:!1,projection:n,state:t.state,tileGrid:o,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:si,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,zDirection:void 0===t.zDirection?1:t.zDirection})||this).format_=t.format?t.format:null,r.sourceTileCache=new it(r.tileCache.highWaterMark),r.overlaps_=null==t.overlaps||t.overlaps,r.tileClass=t.tileClass?t.tileClass:ti,r.tileGrids_={},r}return oi(t,e),t.prototype.getFeaturesInExtent=function(e){var t=[],r=this.tileCache;if(0===r.getCount())return t;var n=Pe(r.peekFirstKey())[0],i=this.tileGrid;return r.forEach((function(r){if(r.tileCoord[0]===n&&r.getState()===Te.a.LOADED)for(var o=r.getSourceTiles(),a=0,s=o.length;a<s;++a){var l=o[a],_=l.tileCoord;if(Object(c.F)(e,i.getTileCoordExtent(_))){var u=l.getFeatures();if(u)for(var p=0,d=u.length;p<d;++p){var h=u[p],f=h.getGeometry();Object(c.F)(e,f.getExtent())&&t.push(h)}}}})),t},t.prototype.getOverlaps=function(){return this.overlaps_},t.prototype.clear=function(){this.tileCache.clear(),this.sourceTileCache.clear()},t.prototype.expireCache=function(t,r){var n=this.getTileCacheForProjection(t),i=Object.keys(r).reduce((function(e,t){var r,i,o=Oe((i=(r=t).substring(r.lastIndexOf("/")+1,r.length).split(",").map(Number))[0],i[1],i[2]),a=n.peek(o);if(a)for(var s=a.sourceTiles,l=0,_=s.length;l<_;++l)e[s[l].getKey()]=!0;return e}),{});e.prototype.expireCache.call(this,t,r),this.sourceTileCache.expireCache(i)},t.prototype.getSourceTiles=function(e,t,r){var n=this;if(r.getState()===Te.a.IDLE){r.setState(Te.a.LOADING);var i=r.wrappedTileCoord,a=this.getTileGridForProjection(t),s=a.getTileCoordExtent(i),l=i[0],_=a.getResolution(l);Object(c.c)(s,-_,s);var u=this.tileGrid,p=u.getExtent();p&&Object(c.A)(s,p,s);var d=u.getZForResolution(_,this.zDirection);u.forEachTileCoord(s,d,(function(i){var a=n.tileUrlFunction(i,e,t),s=n.sourceTileCache.containsKey(a)?n.sourceTileCache.get(a):new n.tileClass(i,a?Te.a.IDLE:Te.a.EMPTY,a,n.format_,n.tileLoadFunction);r.sourceTiles.push(s);var l=s.getState();if(l<Te.a.LOADED){var _=function(e){n.handleTileChange(e);var t=s.getState();if(t===Te.a.LOADED||t===Te.a.ERROR){var i=s.getKey();i in r.errorTileKeys?s.getState()===Te.a.LOADED&&delete r.errorTileKeys[i]:r.loadingSourceTiles--,t===Te.a.ERROR?r.errorTileKeys[i]=!0:s.removeEventListener(o.a.CHANGE,_),0===r.loadingSourceTiles&&r.setState(Object(y.d)(r.errorTileKeys)?Te.a.LOADED:Te.a.ERROR)}};s.addEventListener(o.a.CHANGE,_),r.loadingSourceTiles++}l===Te.a.IDLE&&(s.extent=u.getTileCoordExtent(i),s.projection=t,s.resolution=u.getResolution(i[0]),n.sourceTileCache.set(a,s),s.load())})),r.loadingSourceTiles||r.setState(r.sourceTiles.some((function(e){return e.getState()===Te.a.ERROR}))?Te.a.ERROR:Te.a.LOADED)}return r.sourceTiles},t.prototype.getTile=function(e,t,r,n,i){var o,a=Oe(e,t,r),s=this.getKey();if(this.tileCache.containsKey(a)&&(o=this.tileCache.get(a)).key===s)return o;var l=[e,t,r],_=this.getTileCoordForTileUrlFunction(l,i),u=this.getTileGrid().getExtent(),p=this.getTileGridForProjection(i);if(_&&u){var d=p.getTileCoordExtent(_);Object(c.c)(d,-p.getResolution(e),d),Object(c.F)(u,d)||(_=null)}var h=!0;if(null!==_){var f=this.tileGrid,m=p.getResolution(e),y=f.getZForResolution(m,1),g=p.getTileCoordExtent(_);Object(c.c)(g,-m,g),f.forEachTileCoord(g,y,function(e){h=h&&!this.tileUrlFunction(e,n,i)}.bind(this))}var b=new ii(l,h?Te.a.EMPTY:Te.a.IDLE,_,this.getSourceTiles.bind(this,n,i));return b.key=s,o?(b.interimTile=o,b.refreshInterimChain(),this.tileCache.replace(a,b)):this.tileCache.set(a,b),b},t.prototype.getTileGridForProjection=function(e){var t=e.getCode(),r=this.tileGrids_[t];if(!r){for(var n=this.tileGrid,i=n.getResolutions().slice(),o=i.map((function(e,t){return n.getOrigin(t)})),a=i.map((function(e,t){return n.getTileSize(t)})),s=ve.a+1,l=i.length;l<s;++l)i.push(i[l-1]/2),o.push(o[l-1]),a.push(a[l-1]);r=new Ce({extent:n.getExtent(),origins:o,resolutions:i,tileSizes:a}),this.tileGrids_[t]=r}return r},t.prototype.getTilePixelRatio=function(e){return e},t.prototype.getTilePixelSize=function(e,t,r){var n=this.getTileGridForProjection(r),i=Object(xe.c)(n.getTileSize(e),this.tmpSize);return[Math.round(i[0]*t),Math.round(i[1]*t)]},t.prototype.updateCacheSize=function(t,r){e.prototype.updateCacheSize.call(this,2*t,r),this.sourceTileCache.highWaterMark=this.getTileCacheForProjection(r).highWaterMark},t}(Mt);function si(e,t){e.setLoader((function(r,n,i){jn(t,e.getFormat(),r,n,i,e.onLoad.bind(e),e.onError.bind(e))}))}var li=r(83),_i=function(){function e(e){var t=e||{};this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=Object(xe.c)(void 0!==t.scale?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.textBaseline_=t.textBaseline,this.fill_=void 0!==t.fill?t.fill:new ir({color:"#333"}),this.maxAngle_=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.placement_=void 0!==t.placement?t.placement:kr,this.overflow_=!!t.overflow,this.stroke_=void 0!==t.stroke?t.stroke:null,this.offsetX_=void 0!==t.offsetX?t.offsetX:0,this.offsetY_=void 0!==t.offsetY?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=void 0===t.padding?null:t.padding}return e.prototype.clone=function(){var t=this.getScale();return new e({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})},e.prototype.getOverflow=function(){return this.overflow_},e.prototype.getFont=function(){return this.font_},e.prototype.getMaxAngle=function(){return this.maxAngle_},e.prototype.getPlacement=function(){return this.placement_},e.prototype.getOffsetX=function(){return this.offsetX_},e.prototype.getOffsetY=function(){return this.offsetY_},e.prototype.getFill=function(){return this.fill_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.getRotation=function(){return this.rotation_},e.prototype.getScale=function(){return this.scale_},e.prototype.getScaleArray=function(){return this.scaleArray_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.getText=function(){return this.text_},e.prototype.getTextAlign=function(){return this.textAlign_},e.prototype.getJustify=function(){return this.justify_},e.prototype.getTextBaseline=function(){return this.textBaseline_},e.prototype.getBackgroundFill=function(){return this.backgroundFill_},e.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},e.prototype.getPadding=function(){return this.padding_},e.prototype.setOverflow=function(e){this.overflow_=e},e.prototype.setFont=function(e){this.font_=e},e.prototype.setMaxAngle=function(e){this.maxAngle_=e},e.prototype.setOffsetX=function(e){this.offsetX_=e},e.prototype.setOffsetY=function(e){this.offsetY_=e},e.prototype.setPlacement=function(e){this.placement_=e},e.prototype.setRotateWithView=function(e){this.rotateWithView_=e},e.prototype.setFill=function(e){this.fill_=e},e.prototype.setRotation=function(e){this.rotation_=e},e.prototype.setScale=function(e){this.scale_=e,this.scaleArray_=Object(xe.c)(void 0!==e?e:1)},e.prototype.setStroke=function(e){this.stroke_=e},e.prototype.setText=function(e){this.text_=e},e.prototype.setTextAlign=function(e){this.textAlign_=e},e.prototype.setJustify=function(e){this.justify_=e},e.prototype.setTextBaseline=function(e){this.textBaseline_=e},e.prototype.setBackgroundFill=function(e){this.backgroundFill_=e},e.prototype.setBackgroundStroke=function(e){this.backgroundStroke_=e},e.prototype.setPadding=function(e){this.padding_=e},e}(),ui=r(126),ci=r.n(ui),pi=r(22),di="function"==typeof Object.assign?Object.assign:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1,i=arguments.length;n<i;++n){var o=arguments[n];if(null!=o)for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])}return r};function hi(e){return e*Math.PI/180}var fi=function(){for(var e=[],t=78271.51696402048;e.length<=24;t/=2)e.push(t);return e}();function mi(e,t){if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas)return new OffscreenCanvas(e,t);var r=document.createElement("canvas");return r.width=e,r.height=t,r}var yi,gi=Array(256).join(" ");function bi(e,t){if(t>=.05){for(var r="",n=e.split("\n"),i=gi.slice(0,Math.round(t/.1)),o=0,a=n.length;o<a;++o)o>0&&(r+="\n"),r+=n[o].split("").join(i);return r}return e}function vi(){return yi||(yi=mi(1,1).getContext("2d")),yi}function Ei(e,t){return vi().measureText(e).width+(e.length-1)*t}var Oi={};function Mi(e,t,r,n){if(-1!==e.indexOf("\n")){for(var i=e.split("\n"),o=[],a=0,s=i.length;a<s;++a)o.push(Mi(i[a],t,r,n));return o.join("\n")}var l=r+","+t+","+e+","+n,_=Oi[l];if(!_){var u=e.split(" ");if(u.length>1){var c=vi();c.font=t;var p=c.measureText("M").width*r,d="";for(o=[],a=0,s=u.length;a<s;++a){var h=u[a],f=d+(d?" ":"")+h;Ei(f,n)<=p?d=f:(d&&o.push(d),d=h)}d&&o.push(d);for(a=0,s=o.length;a<s&&s>1;++a){var m=o[a];if(Ei(m,n)<.35*p){var y=a>0?Ei(o[a-1],n):1/0,g=a<s-1?Ei(o[a+1],n):1/0;o.splice(a,1),s-=1,y<g?(o[a-1]+=" "+m,a-=1):o[a]=m+" "+o[a]}}for(a=0,s=o.length-1;a<s;++a){var b=o[a],v=o[a+1];if(Ei(b,n)>.7*p&&Ei(v,n)<.6*p){var E=b.split(" "),O=E.pop();Ei(O,n)<.2*p&&(o[a]=E.join(" "),o[a+1]=O+" "+v),s-=1}}_=o.join("\n")}else _=e;_=bi(_,n),Oi[l]=_}return _}Qt.p&&Object(s.a)(Qt.p,o.a.CLEAR,(function(){Oi={}}));var Pi,xi,wi=pi.g.isFunction,Ci=pi.g.convertFunction,Di=pi.d.isExpression,Ti=pi.d.createPropertyExpression,ki={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},Ai={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},Ii={},Li={zoom:0};function Ri(e,t,r,n,i,o){var a=e.id;o||(o={},console.warn("No functionCache provided to getValue()")),o[a]||(o[a]={});var s=o[a];if(!s[r]){var l=(e[t]||Ii)[r],_=pi.h["".concat(t,"_").concat(e.type)][r];void 0===l&&(l=_.default);var u=Di(l);if(!u&&wi(l)&&(l=Ci(l,_),u=!0),u){var c=function(e,t){var r=Ti(e,t);if("error"===r.result)throw new Error(r.value.map((function(e){return"".concat(e.key,": ").concat(e.message)})).join(", "));return r.value}(l,_);s[r]=c.evaluate.bind(c)}else"color"==_.type&&(l=pi.a.parse(l)),s[r]=function(){return l}}return Li.zoom=n,s[r](Li,i)}var Si=!1;function Bi(e,t){if(e){if(!Si&&(0===e.a||0===t))return;var r=e.a;return t=void 0===t?1:t,0===r?"transparent":"rgba("+Math.round(255*e.r/r)+","+Math.round(255*e.g/r)+","+Math.round(255*e.b/r)+","+r*t+")"}return e}var Ui=/^([^]*)\{(.*)\}([^]*)$/;function Wi(e,t){var r;do{if(r=e.match(Ui)){var n=t[r[2]]||"";e=r[1]+n+r[3]}}while(r);return e}var Ki=!1;var ji,zi=function(e,t,r,n,i,o,a){if(void 0===n&&(n=fi),"string"==typeof t&&(t=JSON.parse(t)),8!=t.version)throw new Error("glStyle version 8 required.");var s,l;if(o)if("undefined"!=typeof Image){var _=new Image;_.crossOrigin="anonymous",_.onload=function(){s=_,l=[_.width,_.height],e.changed(),_.onload=null},_.src=o}else if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var u=self;u.postMessage({action:"loadImage",src:o}),u.addEventListener("message",(function(e){"imageLoaded"===e.data.action&&e.data.src===o&&(s=e.data.image,l=[s.width,s.height])}))}for(var c,p=Object(pi.c)(t.layers),d={},h=[],f={},m={},y={},g={},b=0,v=p.length;b<v;++b){var E=p[b],O=E.id;if("string"==typeof r&&E.source==r||-1!==r.indexOf(O)){var M=E["source-layer"];if(!c){c=E.source;var P=t.sources[c];if(!P)throw new Error('Source "'.concat(c,'" is not defined'));var x=P.type;if("vector"!==x&&"geojson"!==x)throw new Error('Source "'.concat(c,'" is not of type "vector" or "geojson", but "').concat(x,'"'))}var w=d[M];w||(w=[],d[M]=w),w.push({layer:E,index:b}),h.push(O)}}var C=new or,D=new ir,T=[],k=function(e,t){var r=e.getProperties(),o=d[r.layer];if(o){var _=n.indexOf(t);-1==_&&(_=function(e,t){for(var r=0,n=t.length;r<n;++r){if(t[r]<e&&r+1<n){var i=t[r]/t[r+1];return r+Math.log(t[r]/e)/Math.log(i)}}return n-1}(t,n));for(var u,c=ki[e.getGeometry().getType()],p={properties:r,type:c},h=-1,b=function(n,d){var b=o[n],v=b.layer,E=v.id,O=v.layout||Ii,M=v.paint||Ii;if("none"===O.visibility||"minzoom"in v&&_<v.minzoom||"maxzoom"in v&&_>=v.maxzoom)return"continue";var P=v.filter;if(!P||function(e,t,r,n,i){return i||console.warn("No filterCache provided to evaluateFilter()"),e in i||(i[e]=Object(pi.e)(t).filter),Li.zoom=n,i[e](Li,r)}(E,P,p,_,g)){u=v;var x=void 0,w=void 0,k=void 0,A=void 0,I=void 0,L=void 0,R=b.index;if(3==c&&("fill"==v.type||"fill-extrusion"==v.type))if(w=Ri(v,"paint",v.type+"-opacity",_,p,y),v.type+"-pattern"in M){var S=Ri(v,"paint",v.type+"-pattern",_,p,y);if(S){var B="string"==typeof S?Wi(S,r):S.toString();if(s&&i&&i[B]){++h,(L=T[h])&&L.getFill()&&!L.getStroke()&&!L.getText()||(L=new ur({fill:new ir}),T[h]=L),k=L.getFill(),L.setZIndex(R);var U=m[fe=B+"."+w];if(!U){var W=i[B],K=mi(W.width,W.height),j=K.getContext("2d");j.globalAlpha=w,j.drawImage(s,W.x,W.y,W.width,W.height,0,0,W.width,W.height),U=j.createPattern(K,"repeat"),m[fe]=U}k.setColor(U)}}}else x=Bi(Ri(v,"paint",v.type+"-color",_,p,y),w),v.type+"-outline-color"in M&&(I=Bi(Ri(v,"paint",v.type+"-outline-color",_,p,y),w)),I||(I=x),(x||I)&&(++h,(!(L=T[h])||x&&!L.getFill()||!x&&L.getFill()||I&&!L.getStroke()||!I&&L.getStroke()||L.getText())&&(L=new ur({fill:x?new ir:void 0,stroke:I?new or:void 0}),T[h]=L),x&&(k=L.getFill()).setColor(x),I&&((A=L.getStroke()).setColor(I),A.setWidth(.5)),L.setZIndex(R));if(1!=c&&"line"==v.type){x=!("line-pattern"in M)&&"line-color"in M?Bi(Ri(v,"paint","line-color",_,p,y),Ri(v,"paint","line-opacity",_,p,y)):void 0;var z=Ri(v,"paint","line-width",_,p,y);x&&z>0&&(++h,(L=T[h])&&L.getStroke()&&!L.getFill()&&!L.getText()||(L=new ur({stroke:new or}),T[h]=L),(A=L.getStroke()).setLineCap(Ri(v,"layout","line-cap",_,p,y)),A.setLineJoin(Ri(v,"layout","line-join",_,p,y)),A.setMiterLimit(Ri(v,"layout","line-miter-limit",_,p,y)),A.setColor(x),A.setWidth(z),A.setLineDash(M["line-dasharray"]?Ri(v,"paint","line-dasharray",_,p,y).map((function(e){return e*z})):null),L.setZIndex(R))}var F=!1,q=null,N=0,H=void 0,G=void 0,V=void 0;if((1==c||2==c)&&"icon-image"in O){var Z=Ri(v,"layout","icon-image",_,p,y);if(Z){H="string"==typeof Z?Wi(Z,r):Z.toString();var X=void 0;if(s&&i&&i[H]){var $=Ri(v,"layout","icon-rotation-alignment",_,p,y);if(2==c){var Y=e.getGeometry();if(Y.getFlatMidpoint||Y.getFlatMidpoints){var J=Y.getExtent();if(Math.sqrt(Math.max(Math.pow((J[2]-J[0])/t,2),Math.pow((J[3]-J[1])/t,2)))>150){var Q="MultiLineString"===Y.getType()?Y.getFlatMidpoints():Y.getFlatMidpoint();if(xi||(xi=new _e("Point",Pi=[NaN,NaN],[],{},null)),X=xi,Pi[0]=Q[0],Pi[1]=Q[1],"line"===(Le=Ri(v,"layout","symbol-placement",_,p,y))&&"map"===$)for(var ee=Y.getStride(),te=Y.getFlatCoordinates(),re=0,ne=te.length-ee;re<ne;re+=ee){var ie=te[re],oe=te[re+1],ae=te[re+ee],se=te[re+ee+1],le=Math.min(ie,ae),ue=Math.min(oe,se),ce=Math.max(ie,ae),pe=Math.max(oe,se);if(Q[0]>=le&&Q[0]<=ce&&Q[1]>=ue&&Q[1]<=pe){N=Math.atan2(oe-se,ae-ie);break}}}}}if(2!==c||X){var de=Ri(v,"layout","icon-size",_,p,y),he=void 0!==M["icon-color"]?Ri(v,"paint","icon-color",_,p,y):null;if(!he||0!==he.a){var fe=H+"."+de;if(null!==he&&(fe+="."+he),!(G=f[fe])){var me=i[H];G=new dn({color:he?[255*he.r,255*he.g,255*he.b,he.a]:void 0,img:s,imgSize:l,size:[me.width,me.height],offset:[me.x,me.y],rotateWithView:"map"===$,scale:de/me.pixelRatio,displacement:"icon-offset"in O?Ri(v,"layout","icon-offset",_,p,y).map((function(e){return-e*me.pixelRatio})):void 0}),f[fe]=G}}G&&(++h,(L=T[h])&&L.getImage()&&!L.getFill()&&!L.getStroke()||(L=new ur,T[h]=L),L.setGeometry(X),G.setRotation(N+hi(Ri(v,"layout","icon-rotate",_,p,y))),G.setOpacity(Ri(v,"paint","icon-opacity",_,p,y)),G.setAnchor(Ai[Ri(v,"layout","icon-anchor",_,p,y)]),L.setImage(G),q=L.getText(),L.setText(void 0),L.setZIndex(R),F=!0,V=!1)}else V=!0}}}if(1==c&&"circle"===v.type){++h,(L=T[h])&&L.getImage()&&!L.getFill()&&!L.getStroke()||(L=new ur,T[h]=L);var ye="circle-radius"in M?Ri(v,"paint","circle-radius",_,p,y):5,ge=Bi(Ri(v,"paint","circle-stroke-color",_,p,y),Ri(v,"paint","circle-stroke-opacity",_,p,y)),be=Bi(Ri(v,"paint","circle-color",_,p,y),Ri(v,"paint","circle-opacity",_,p,y)),ve=Ri(v,"paint","circle-stroke-width",_,p,y),Ee=ye+"."+ge+"."+be+"."+ve;(G=f[Ee])||(G=new nr({radius:ye,stroke:ge&&ve>0?new or({width:ve,color:ge}):void 0,fill:be?new ir({color:be}):void 0}),f[Ee]=G),L.setImage(G),q=L.getText(),L.setText(void 0),L.setGeometry(void 0),L.setZIndex(R),F=!0}var Oe,Me,Pe,xe,we=void 0,Ce=void 0;if("text-field"in O){Me=Math.round(Ri(v,"layout","text-size",_,p,y));var De=Ri(v,"layout","text-font",_,p,y);Oe=Ri(v,"layout","text-line-height",_,p,y),Ce=ci()(a?a(De):De,Me,Oe),Pe=Ri(v,"layout","text-letter-spacing",_,p,y),xe=Ri(v,"layout","text-max-width",_,p,y);var Te=Ri(v,"layout","text-field",_,p,y);we="object"==typeof Te&&Te.sections?1===Te.sections.length?Te.toString():Te.sections.reduce((function(e,t,r){var n=t.fontStack?t.fontStack.split(","):De,i=ci()(a?a(n):n,Me*(t.scale||1),Oe),o=t.text;if("\n"===o)return e.push("\n",""),e;if(2!=c){for(var s=0,l=(o=Mi(o,i,xe,Pe).split("\n")).length;s<l;++s)s>0&&e.push("\n",""),e.push(o[s],i);return e}e.push(bi(o,Pe),i)}),[]):Wi(Te,r).trim(),w=Ri(v,"paint","text-opacity",_,p,y)}if(we&&w&&!V){F||(++h,(L=T[h])&&L.getText()&&!L.getFill()&&!L.getStroke()||(L=new ur,T[h]=L),L.setImage(void 0),L.setGeometry(void 0)),L.getText()||L.setText(q||new _i({padding:[2,2,2,2]})),q=L.getText();var ke=O["text-transform"];"uppercase"==ke?we=Array.isArray(we)?we.map((function(e,t){return t%2?e:e.toUpperCase()})):we.toUpperCase():"lowercase"==ke&&(we=Array.isArray(we)?we.map((function(e,t){return t%2?e:e.toLowerCase()})):we.toLowerCase());var Ae=Array.isArray(we)?we:2==c?bi(we,Pe):Mi(we,Ce,xe,Pe);q.setText(Ae),q.setFont(Ce),q.setRotation(hi(Ri(v,"layout","text-rotate",_,p,y)));var Ie=Ri(v,"layout","text-anchor",_,p,y),Le=F||1==c?"point":Ri(v,"layout","symbol-placement",_,p,y);q.setPlacement(Le),q.setOverflow("point"===Le);var Re=Ri(v,"paint","text-halo-width",_,p,y),Se=Ri(v,"layout","text-offset",_,p,y),Be=Ri(v,"paint","text-translate",_,p,y),Ue=0,We=0;if("point"==Le){var Ke="center";-1!==Ie.indexOf("left")?(Ke="left",We=Re):-1!==Ie.indexOf("right")&&(Ke="right",We=-Re),q.setTextAlign(Ke);var je=Ri(v,"layout","text-rotation-alignment",_,p,y);q.setRotateWithView("map"==je)}else q.setMaxAngle(hi(Ri(v,"layout","text-max-angle",_,p,y))*we.length/Ae.length),q.setTextAlign(),q.setRotateWithView(!1);var ze="middle";0==Ie.indexOf("bottom")?(ze="bottom",Ue=-Re-.5*(Oe-1)*Me):0==Ie.indexOf("top")&&(ze="top",Ue=Re+.5*(Oe-1)*Me),q.setTextBaseline(ze),q.setOffsetX(Se[0]*Me+We+Be[0]),q.setOffsetY(Se[1]*Me+Ue+Be[1]),D.setColor(Bi(Ri(v,"paint","text-color",_,p,y),w)),q.setFill(D);var Fe=Bi(Ri(v,"paint","text-halo-color",_,p,y),w);if(Fe){C.setColor(Fe),Re*=2;var qe=.5*Me;C.setWidth(Re<=qe?Re:qe),q.setStroke(C)}else q.setStroke(void 0);var Ne=Ri(v,"layout","text-padding",_,p,y),He=q.getPadding();Ne!==He[0]&&(He[0]=Ne,He[1]=Ne,He[2]=Ne,He[3]=Ne),L.setZIndex(R)}}},v=0,E=o.length;v<E;++v)b(v);return h>-1?(T.length=h+1,Ki&&("function"==typeof e.set?e.set("mapbox-layer",u):e.getProperties()["mapbox-layer"]=u),T):void 0}};return e.setStyle(k),e.set("mapbox-source",c),e.set("mapbox-layers",h),k},Fi=r(270),qi={},Ni=/font-family: ?([^;]*);/,Hi=/("|')/g;function Gi(e){if(!ji){ji={};for(var t=document.styleSheets,r=0,n=t.length;r<n;++r){var i=t[r];try{var o=i.rules||i.cssRules;if(o)for(var a=0,s=o.length;a<s;++a){var l=o[a];if(5==l.type){var _=l.cssText.match(Ni);ji[_[1].replace(Hi,"")]=!0}}}catch(e){}}}return e in ji}var Vi={},Zi=r.n(Fi).a.getNames();function Xi(e){var t=e.toString();if(t in Vi)return e;for(var r=e.map((function(e){var t=ci()(e,1).split(" ");return[t.slice(3).join(" ").replace(/"/g,""),t[1]+t[0]]})),n=0,i=r.length;n<i;++n){var o=r[n],a=o[0];if(!Gi(a)&&-1!==Zi.indexOf(a)){var s="https://fonts.googleapis.com/css?family="+a.replace(/ /g,"+")+":"+o[1];if(!document.querySelector('link[href="'+s+'"]')){var l=document.createElement("link");l.href=s,l.rel="stylesheet",document.head.appendChild(l)}}}return Vi[t]=!0,e}var $i=/^(.*)(\?.*)$/;function Yi(e,t){return t&&0===e.indexOf(".")&&(e=t+e),e}function Ji(e,t,r){var n=(e=Yi(e,t)).match($i);return n?n[1]+r+(n.length>2?n[2]:""):e+r}var Qi={};function eo(e,t){var r={id:t.id,type:t.type},n={};function i(i){var o=t.layout||{},a=t.paint||{};r.paint=a;var s,l,_="function"==typeof e.getSource?e.getSource().getTileGrid().getZForResolution(i):e.getView().getZoom(),u="function"==typeof e.getTargetElement?e.getTargetElement():void 0;if(void 0!==a["background-color"]&&(s=Ri(r,"paint","background-color",_,Qi,n),u&&(u.style.background=pi.a.parse(s).toString())),void 0!==a["background-opacity"]&&(l=Ri(r,"paint","background-opacity",_,Qi,n),u&&(u.style.opacity=l)),"none"!=o.visibility)return Bi(s,l);u&&(u.style.backgroundColor="",u.style.opacity="")}if("function"==typeof e.getTargetElement)e.getTargetElement()&&i(),e.on(["change:resolution","change:target"],i);else{if("function"!=typeof e.setBackground)throw new Error("Unable to apply background.");e.setBackground(i)}}function to(e){var t=e.bounds;if(t){var r=Object(g.e)([t[0],t[1]]),n=Object(g.e)([t[2],t[3]]);return[r[0],r[1],n[0],n[1]]}}function ro(e,t){var r=new Qn({declutter:!0,visible:!1});return function(e,t){e=di({},e);var r=[t,JSON.stringify(e)].toString(),n=qi[r];return n||(n=new Tt({url:e.tiles?void 0:t,tileJSON:e.tiles?e:void 0}),qi[r]=n),new Promise((function(e){var r=n.on("change",(function(){var i=n.getState();if("ready"===i){var o=n.getTileJSON(),a=Array.isArray(o.tiles)?o.tiles:[o.tiles];if(t)for(var s=0,l=a.length;s<l;++s)a[s]=decodeURI(new URL(a[s],t).href);var _=n.getTileGrid(),u=to(o),c=o.minzoom||0,p=o.maxzoom||22,d=n.get("ol-source");void 0===d&&(d=new ai({attributions:n.getAttributions(),format:new fe,tileGrid:new Ce({origin:_.getOrigin(0),extent:u||_.getExtent(),minZoom:c,resolutions:fi.slice(0,p+1),tileSize:512}),urls:a}),n.set("ol-source",d)),Object(St.b)(r),e(d)}else"error"===i&&(n.set("ol-source",null),Object(St.b)(r),e(void 0))}));"ready"===n.getState()&&n.changed()}))}(e,t).then((function(e){r.setSource(e)})),r}var no=new te;function io(e,t,r,n){var i=Ri(e,"paint","raster-opacity",r.getZoom(),Qi,n);t.setOpacity(i)}function oo(e,t,r,n,i,o){void 0===o&&(o="");var a=[],s=t.getView();s.isDef()||s.getRotation()||s.getResolutions()||(s=new li.a(di(s.getProperties(),{maxResolution:fi[0]})),t.setView(s)),"center"in e&&!s.getCenter()&&s.setCenter(Object(g.e)(e.center)),"zoom"in e&&void 0===s.getZoom()&&s.setResolution(fi[0]/Math.pow(2,e.zoom)),s.getCenter()&&void 0!==s.getZoom()||s.fit(s.getProjection().getExtent(),{nearest:!0,size:t.getSize()}),e.sprite&&(0==e.sprite.indexOf("mapbox://")?e.sprite=r+"/sprite"+o:0!=e.sprite.indexOf("http")&&(e.sprite=(n?n+i:"")+e.sprite+o));for(var l,_,u,c,p,d,h=e.layers,f=[],m=function(r,m){var g,b,v,E=(l=h[r]).type;if("heatmap"==E||"hillshade"==E);else if("background"==E)eo(t,l);else{if((c=l.source||(g=h,b=l.ref,g.some((function(e){if(e.id==b)return v=e.source,!0})),v))!=u){if(f.length&&(a.push(so(p,f,e,i,t)),f=[]),_=e.sources[c],d=_.url)if(0==(d=Yi(d,i)).indexOf("mapbox://")){var O=d.replace("mapbox://","");_.tiles=["a","b","c","d"].map((function(e){return"https://"+e+".tiles.mapbox.com/v4/"+O+"/{z}/{x}/{y}."+("vector"==_.type?"vector.pbf":"png")+o}))}else 0===d.indexOf("/")&&0===n.indexOf("http")&&(d=n+d);if(_.tiles&&(_.tiles=_.tiles.map((function(e){return Yi(e,i)}))),"vector"==_.type)p=ro(_,d);else if("raster"==_.type){(p=function(e,t){var r=new Zt,n=new Tt({transition:0,url:e.tiles?void 0:t,tileJSON:e.tiles?e:void 0,crossOrigin:"anonymous"}),i=n.on("change",(function(){var t=n.getState();if("ready"===t){Object(St.b)(i);var o=n.getTileJSON(),a=to(o),s=n.getTileGrid(),l=e.tileSize||o.tileSize||512,_=o.minzoom||0,u=o.maxzoom||22;n.tileGrid=new Ce({origin:s.getOrigin(0),extent:a||s.getExtent(),minZoom:_,resolutions:dt({maxZoom:u,tileSize:l}).getResolutions(),tileSize:l}),r.setSource(n)}else"error"===t&&(Object(St.b)(i),r.setSource(void 0))}));return n.setTileLoadFunction((function(e,t){if(-1!=t.indexOf("{bbox-epsg-3857}")){var r=n.getTileGrid().getTileCoordExtent(e.getTileCoord());t=t.replace("{bbox-epsg-3857}",r.toString())}e.getImage().src=t})),r}(_,d)).setVisible(!l.layout||"none"!==l.layout.visibility);var M={};s.on("change:resolution",io.bind(y,l,p,s,M)),io(l,p,s,M)}else"geojson"==_.type&&(p=function(e,t){var r,n,i=e.data;return"string"==typeof i?n=Yi(i,t):r=no.readFeatures(i,{featureProjection:"EPSG:3857"}),new xn({declutter:!0,source:new Nn({attributions:e.attribution,features:r,format:no,url:n}),visible:!1})}(_,i));u=c,p&&p.set("mapbox-source",u)}f.push(l.id)}},y=this,b=0,v=h.length;b<v;++b)m(b);return a.push(so(p,f,e,i,t)),t.set("mapbox-style",e),Promise.all(a)}function ao(e,t){return("string"==typeof e||e instanceof HTMLElement)&&(e=new me.a({target:e})),setTimeout((function(){!function(e,t){var r,n="",i="",o="",a="";if(("string"==typeof e||e instanceof HTMLElement)&&(e=new me.a({target:e})),"string"==typeof t){var s=t.match($i);s&&(i=s[1],n=s.length>2?s[2]:""),r=new Promise((function(r,s){fetch(t,{credentials:"same-origin"}).then((function(e){return e.json()})).then((function(l){var _=document.createElement("A");_.href=t;var u=_.href;a=_.pathname.split("/").slice(0,-1).join("/")+"/",o=u.substr(0,u.indexOf(a)),oo(l,e,i,o,a,n).then((function(){r(e)})).catch(s)})).catch((function(e){s(new Error("Could not load ".concat(t,": ").concat(e.message)))}))}))}else r=new Promise((function(r,n){oo(t,e).then((function(){r(e)})).catch(n)}))}(e,t)}),0),e}function so(e,t,r,n,i){for(var o=24,a=0,s=r.layers,l=0,_=s.length;l<_;++l){var u=s[l];-1!==t.indexOf(u.id)&&(o=Math.min("minzoom"in u?u.minzoom:0,o),a=Math.max("maxzoom"in u?u.maxzoom:24,a))}return new Promise((function(s,l){var _=function(){var i=e.getSource();if(i&&"error"!==i.getState()){if("getTileGrid"in i){var _=i.getTileGrid();if(_){var u=_.getMinZoom();(o>0||u>0)&&e.setMaxResolution(Math.min(fi[o],_.getResolution(u))+1e-9),a<24&&e.setMinResolution(fi[a]+1e-9)}}i instanceof Nn||i instanceof ai?function(e,t,r,n,i){return new Promise((function(o,a){if("object"!=typeof t&&(t=JSON.parse(t)),8!=t.version)return a(new Error("glStyle version 8 required."));if(!(e instanceof xn||e instanceof Qn))return a(new Error("Can only apply to VectorLayer or VectorTileLayer"));var s,l,_;function u(){_||t.sprite&&!s?_?(e.setStyle(_),o()):a(new Error("Something went wrong trying to apply style.")):(_=zi(e,t,r,i,s,l,Xi),e.getStyle()?o():a(new Error("Nothing to show for source [".concat(r,"]"))))}if(t.sprite){var c=.5==(window.devicePixelRatio>=1.5?.5:1)?"@2x":"",p=Ji(t.sprite,n,c+".json");fetch(p,{credentials:"same-origin"}).then((function(e){return e.ok||""===c?e:(p=Ji(t.sprite,n,".json"),fetch(p,{credentials:"same-origin"}))})).then((function(e){if(e.ok)return e.json();a(new Error("Problem fetching sprite from ".concat(p,": ").concat(e.statusText)))})).then((function(e){if(void 0===e)return a(new Error("No sprites found."));s=e,l=Ji(t.sprite,n,c+".png"),u()})).catch((function(e){a(new Error("Sprites cannot be loaded: ".concat(p,": ").concat(e.message)))}))}else u()}))}(e,r,t,n).then((function(){e.setVisible(!0),s()}),(function(e){l(e)})):s()}else l(new Error("Error accessing data for source "+e.get("mapbox-source")))};e.set("mapbox-layers",t),-1===i.getLayers().getArray().indexOf(e)&&i.addLayer(e),e.getSource()?_():e.once("change:source",_)}))}},function(e,t,r){"use strict";var n=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function i(e,t){const r={};for(const t in e)"ref"!==t&&(r[t]=e[t]);return n.forEach(e=>{e in t&&(r[e]=t[e])}),r}t.a=function(e){e=e.slice();const t=Object.create(null);for(let r=0;r<e.length;r++)t[e[r].id]=e[r];for(let r=0;r<e.length;r++)"ref"in e[r]&&(e[r]=i(e[r],t[e[r].ref]));return e}},,,,,,,,,,,,,,,function(e,t,r){"use strict";
/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(208),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,_=i?Symbol.for("react.profiler"):60114,u=i?Symbol.for("react.provider"):60109,c=i?Symbol.for("react.context"):60110,p=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,h=i?Symbol.for("react.memo"):60115,f=i?Symbol.for("react.lazy"):60116,m="function"==typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function v(e,t,r){this.props=e,this.context=t,this.refs=b,this.updater=r||g}function E(){}function O(e,t,r){this.props=e,this.context=t,this.refs=b,this.updater=r||g}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},E.prototype=v.prototype;var M=O.prototype=new E;M.constructor=O,n(M,v.prototype),M.isPureReactComponent=!0;var P={current:null},x=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var n,i={},a=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,n)&&!w.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var _=Array(l),u=0;u<l;u++)_[u]=arguments[u+2];i.children=_}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===i[n]&&(i[n]=l[n]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:P.current}}function D(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var T=/\/+/g,k=[];function A(e,t,r,n){if(k.length){var i=k.pop();return i.result=e,i.keyPrefix=t,i.func=r,i.context=n,i.count=0,i}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function I(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>k.length&&k.push(e)}function L(e,t,r){return null==e?0:function e(t,r,n,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case o:case a:l=!0}}if(l)return n(i,t,""===r?"."+R(t,0):r),1;if(l=0,r=""===r?".":r+":",Array.isArray(t))for(var _=0;_<t.length;_++){var u=r+R(s=t[_],_);l+=e(s,u,n,i)}else if(null===t||"object"!=typeof t?u=null:u="function"==typeof(u=m&&t[m]||t["@@iterator"])?u:null,"function"==typeof u)for(t=u.call(t),_=0;!(s=t.next()).done;)l+=e(s=s.value,u=r+R(s,_++),n,i);else if("object"===s)throw n=""+t,Error(y(31,"[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return l}(e,"",t,r)}function R(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function S(e,t){e.func.call(e.context,t,e.count++)}function B(e,t,r){var n=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?U(e,n,r,(function(e){return e})):null!=e&&(D(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(T,"$&/")+"/")+r)),n.push(e))}function U(e,t,r,n,i){var o="";null!=r&&(o=(""+r).replace(T,"$&/")+"/"),L(e,B,t=A(t,o,n,i)),I(t)}var W={current:null};function K(){var e=W.current;if(null===e)throw Error(y(321));return e}var j={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:P,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:function(e,t,r){if(null==e)return e;var n=[];return U(e,n,null,t,r),n},forEach:function(e,t,r){if(null==e)return e;L(e,S,t=A(null,null,t,r)),I(t)},count:function(e){return L(e,(function(){return null}),null)},toArray:function(e){var t=[];return U(e,t,null,(function(e){return e})),t},only:function(e){if(!D(e))throw Error(y(143));return e}},t.Component=v,t.Fragment=s,t.Profiler=_,t.PureComponent=O,t.StrictMode=l,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,t.cloneElement=function(e,t,r){if(null==e)throw Error(y(267,e));var i=n({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=P.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var _=e.type.defaultProps;for(u in t)x.call(t,u)&&!w.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==_?_[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){_=Array(u);for(var c=0;c<u;c++)_[c]=arguments[c+2];i.children=_}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:c,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:p,render:e}},t.isValidElement=D,t.lazy=function(e){return{$$typeof:f,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return K().useCallback(e,t)},t.useContext=function(e,t){return K().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return K().useEffect(e,t)},t.useImperativeHandle=function(e,t,r){return K().useImperativeHandle(e,t,r)},t.useLayoutEffect=function(e,t){return K().useLayoutEffect(e,t)},t.useMemo=function(e,t){return K().useMemo(e,t)},t.useReducer=function(e,t,r){return K().useReducer(e,t,r)},t.useRef=function(e){return K().useRef(e)},t.useState=function(e){return K().useState(e)},t.version="16.14.0"},function(e,t,r){"use strict";
/** @license React v16.14.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(1),i=r(208),o=r(337);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(a(227));function s(e,t,r,n,i,o,a,s,l){var _=Array.prototype.slice.call(arguments,3);try{t.apply(r,_)}catch(e){this.onError(e)}}var l=!1,_=null,u=!1,c=null,p={onError:function(e){l=!0,_=e}};function d(e,t,r,n,i,o,a,u,c){l=!1,_=null,s.apply(p,arguments)}var h=null,f=null,m=null;function y(e,t,r){var n=e.type||"unknown-event";e.currentTarget=m(r),function(e,t,r,n,i,o,s,p,h){if(d.apply(this,arguments),l){if(!l)throw Error(a(198));var f=_;l=!1,_=null,u||(u=!0,c=f)}}(n,t,void 0,e),e.currentTarget=null}var g=null,b={};function v(){if(g)for(var e in b){var t=b[e],r=g.indexOf(e);if(!(-1<r))throw Error(a(96,e));if(!O[r]){if(!t.extractEvents)throw Error(a(97,e));for(var n in O[r]=t,r=t.eventTypes){var i=void 0,o=r[n],s=t,l=n;if(M.hasOwnProperty(l))throw Error(a(99,l));M[l]=o;var _=o.phasedRegistrationNames;if(_){for(i in _)_.hasOwnProperty(i)&&E(_[i],s,l);i=!0}else o.registrationName?(E(o.registrationName,s,l),i=!0):i=!1;if(!i)throw Error(a(98,n,e))}}}}function E(e,t,r){if(P[e])throw Error(a(100,e));P[e]=t,x[e]=t.eventTypes[r].dependencies}var O=[],M={},P={},x={};function w(e){var t,r=!1;for(t in e)if(e.hasOwnProperty(t)){var n=e[t];if(!b.hasOwnProperty(t)||b[t]!==n){if(b[t])throw Error(a(102,t));b[t]=n,r=!0}}r&&v()}var C=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),D=null,T=null,k=null;function A(e){if(e=f(e)){if("function"!=typeof D)throw Error(a(280));var t=e.stateNode;t&&(t=h(t),D(e.stateNode,e.type,t))}}function I(e){T?k?k.push(e):k=[e]:T=e}function L(){if(T){var e=T,t=k;if(k=T=null,A(e),t)for(e=0;e<t.length;e++)A(t[e])}}function R(e,t){return e(t)}function S(e,t,r,n,i){return e(t,r,n,i)}function B(){}var U=R,W=!1,K=!1;function j(){null===T&&null===k||(B(),L())}function z(e,t,r){if(K)return e(t,r);K=!0;try{return U(e,t,r)}finally{K=!1,j()}}var F=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,q=Object.prototype.hasOwnProperty,N={},H={};function G(e,t,r,n,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){V[e]=new G(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];V[t]=new G(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){V[e]=new G(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){V[e]=new G(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){V[e]=new G(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){V[e]=new G(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){V[e]=new G(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){V[e]=new G(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){V[e]=new G(e,5,!1,e.toLowerCase(),null,!1)}));var Z=/[\-:]([a-z])/g;function X(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Z,X);V[t]=new G(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Z,X);V[t]=new G(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Z,X);V[t]=new G(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){V[e]=new G(e,1,!1,e.toLowerCase(),null,!1)})),V.xlinkHref=new G("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){V[e]=new G(e,1,!1,e.toLowerCase(),null,!0)}));var $=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Y(e,t,r,n){var i=V.hasOwnProperty(t)?V[t]:null;(null!==i?0===i.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,r,n){if(null==t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,i,n)&&(r=null),n||null===i?function(e){return!!q.call(H,e)||!q.call(N,e)&&(F.test(e)?H[e]=!0:(N[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}$.hasOwnProperty("ReactCurrentDispatcher")||($.ReactCurrentDispatcher={current:null}),$.hasOwnProperty("ReactCurrentBatchConfig")||($.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Q="function"==typeof Symbol&&Symbol.for,ee=Q?Symbol.for("react.element"):60103,te=Q?Symbol.for("react.portal"):60106,re=Q?Symbol.for("react.fragment"):60107,ne=Q?Symbol.for("react.strict_mode"):60108,ie=Q?Symbol.for("react.profiler"):60114,oe=Q?Symbol.for("react.provider"):60109,ae=Q?Symbol.for("react.context"):60110,se=Q?Symbol.for("react.concurrent_mode"):60111,le=Q?Symbol.for("react.forward_ref"):60112,_e=Q?Symbol.for("react.suspense"):60113,ue=Q?Symbol.for("react.suspense_list"):60120,ce=Q?Symbol.for("react.memo"):60115,pe=Q?Symbol.for("react.lazy"):60116,de=Q?Symbol.for("react.block"):60121,he="function"==typeof Symbol&&Symbol.iterator;function fe(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=he&&e[he]||e["@@iterator"])?e:null}function me(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case re:return"Fragment";case te:return"Portal";case ie:return"Profiler";case ne:return"StrictMode";case _e:return"Suspense";case ue:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case oe:return"Context.Provider";case le:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case ce:return me(e.type);case de:return me(e.render);case pe:if(e=1===e._status?e._result:null)return me(e)}return null}function ye(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var r="";break e;default:var n=e._debugOwner,i=e._debugSource,o=me(e.type);r=null,n&&(r=me(n.type)),n=o,o="",i?o=" (at "+i.fileName.replace(J,"")+":"+i.lineNumber+")":r&&(o=" (created by "+r+")"),r="\n    in "+(n||"Unknown")+o}t+=r,e=e.return}while(e);return t}function ge(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ve(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ee(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=be(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function Oe(e,t){var r=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Me(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=ge(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Pe(e,t){null!=(t=t.checked)&&Y(e,"checked",t,!1)}function xe(e,t){Pe(e,t);var r=ge(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ce(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ce(e,t.type,ge(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function we(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function Ce(e,t,r){"number"===t&&e.ownerDocument.activeElement===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function De(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return n.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Te(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ge(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ke(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ae(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(a(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(a(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:ge(r)}}function Ie(e,t){var r=ge(t.value),n=ge(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function Le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Re="http://www.w3.org/1999/xhtml",Se="http://www.w3.org/2000/svg";function Be(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Be(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var We,Ke=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction((function(){return e(t,r)}))}:e}((function(e,t){if(e.namespaceURI!==Se||"innerHTML"in e)e.innerHTML=t;else{for((We=We||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=We.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function je(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}function ze(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Fe={animationend:ze("Animation","AnimationEnd"),animationiteration:ze("Animation","AnimationIteration"),animationstart:ze("Animation","AnimationStart"),transitionend:ze("Transition","TransitionEnd")},qe={},Ne={};function He(e){if(qe[e])return qe[e];if(!Fe[e])return e;var t,r=Fe[e];for(t in r)if(r.hasOwnProperty(t)&&t in Ne)return qe[e]=r[t];return e}C&&(Ne=document.createElement("div").style,"AnimationEvent"in window||(delete Fe.animationend.animation,delete Fe.animationiteration.animation,delete Fe.animationstart.animation),"TransitionEvent"in window||delete Fe.transitionend.transition);var Ge=He("animationend"),Ve=He("animationiteration"),Ze=He("animationstart"),Xe=He("transitionend"),$e="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ye=new("function"==typeof WeakMap?WeakMap:Map);function Je(e){var t=Ye.get(e);return void 0===t&&(t=new Map,Ye.set(e,t)),t}function Qe(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Qe(e)!==e)throw Error(a(188))}function rt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(a(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(n=i.return)){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return tt(i),e;if(o===n)return tt(i),t;o=o.sibling}throw Error(a(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,l=i.child;l;){if(l===r){s=!0,r=i,n=o;break}if(l===n){s=!0,n=i,r=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===r){s=!0,r=o,n=i;break}if(l===n){s=!0,n=o,r=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(r.alternate!==n)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function nt(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function it(e,t,r){Array.isArray(e)?e.forEach(t,r):e&&t.call(r,e)}var ot=null;function at(e){if(e){var t=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(t))for(var n=0;n<t.length&&!e.isPropagationStopped();n++)y(e,t[n],r[n]);else t&&y(e,t,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(ot=nt(ot,e)),e=ot,ot=null,e){if(it(e,at),ot)throw Error(a(95));if(u)throw e=c,u=!1,c=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function _t(e){if(!C)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var ut=[];function ct(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ut.length&&ut.push(e)}function pt(e,t,r,n){if(ut.length){var i=ut.pop();return i.topLevelType=e,i.eventSystemFlags=n,i.nativeEvent=t,i.targetInst=r,i}return{topLevelType:e,eventSystemFlags:n,nativeEvent:t,targetInst:r,ancestors:[]}}function dt(e){var t=e.targetInst,r=t;do{if(!r){e.ancestors.push(r);break}var n=r;if(3===n.tag)n=n.stateNode.containerInfo;else{for(;n.return;)n=n.return;n=3!==n.tag?null:n.stateNode.containerInfo}if(!n)break;5!==(t=r.tag)&&6!==t||e.ancestors.push(r),r=wr(n)}while(r);for(r=0;r<e.ancestors.length;r++){t=e.ancestors[r];var i=lt(e.nativeEvent);n=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===r&&(a|=64);for(var s=null,l=0;l<O.length;l++){var _=O[l];_&&(_=_.extractEvents(n,t,o,i,a))&&(s=nt(s,_))}st(s)}}function ht(e,t,r){if(!r.has(e)){switch(e){case"scroll":Zt(t,"scroll",!0);break;case"focus":case"blur":Zt(t,"focus",!0),Zt(t,"blur",!0),r.set("blur",null),r.set("focus",null);break;case"cancel":case"close":_t(e)&&Zt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===$e.indexOf(e)&&Vt(e,t)}r.set(e,null)}}var ft,mt,yt,gt=!1,bt=[],vt=null,Et=null,Ot=null,Mt=new Map,Pt=new Map,xt=[],wt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ct="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Dt(e,t,r,n,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|r,nativeEvent:i,container:n}}function Tt(e,t){switch(e){case"focus":case"blur":vt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function kt(e,t,r,n,i,o){return null===e||e.nativeEvent!==o?(e=Dt(t,r,n,i,o),null!==t&&(null!==(t=Cr(t))&&mt(t)),e):(e.eventSystemFlags|=n,e)}function At(e){var t=wr(e.target);if(null!==t){var r=Qe(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=et(r)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){yt(r)}))}else if(3===t&&r.stateNode.hydrate)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function It(e){if(null!==e.blockedOn)return!1;var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var r=Cr(t);return null!==r&&mt(r),e.blockedOn=t,!1}return!0}function Lt(e,t,r){It(e)&&r.delete(t)}function Rt(){for(gt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=Cr(e.blockedOn))&&ft(e);break}var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:bt.shift()}null!==vt&&It(vt)&&(vt=null),null!==Et&&It(Et)&&(Et=null),null!==Ot&&It(Ot)&&(Ot=null),Mt.forEach(Lt),Pt.forEach(Lt)}function St(e,t){e.blockedOn===t&&(e.blockedOn=null,gt||(gt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Rt)))}function Bt(e){function t(t){return St(t,e)}if(0<bt.length){St(bt[0],e);for(var r=1;r<bt.length;r++){var n=bt[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==vt&&St(vt,e),null!==Et&&St(Et,e),null!==Ot&&St(Ot,e),Mt.forEach(t),Pt.forEach(t),r=0;r<xt.length;r++)(n=xt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<xt.length&&null===(r=xt[0]).blockedOn;)At(r),null===r.blockedOn&&xt.shift()}var Ut={},Wt=new Map,Kt=new Map,jt=["abort","abort",Ge,"animationEnd",Ve,"animationIteration",Ze,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Xe,"transitionEnd","waiting","waiting"];function zt(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[n],eventPriority:t},Kt.set(n,t),Wt.set(n,o),Ut[i]=o}}zt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),zt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),zt(jt,2);for(var Ft="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),qt=0;qt<Ft.length;qt++)Kt.set(Ft[qt],0);var Nt=o.unstable_UserBlockingPriority,Ht=o.unstable_runWithPriority,Gt=!0;function Vt(e,t){Zt(t,e,!1)}function Zt(e,t,r){var n=Kt.get(t);switch(void 0===n?2:n){case 0:n=Xt.bind(null,t,1,e);break;case 1:n=$t.bind(null,t,1,e);break;default:n=Yt.bind(null,t,1,e)}r?e.addEventListener(t,n,!0):e.addEventListener(t,n,!1)}function Xt(e,t,r,n){W||B();var i=Yt,o=W;W=!0;try{S(i,e,t,r,n)}finally{(W=o)||j()}}function $t(e,t,r,n){Ht(Nt,Yt.bind(null,e,t,r,n))}function Yt(e,t,r,n){if(Gt)if(0<bt.length&&-1<wt.indexOf(e))e=Dt(null,e,t,r,n),bt.push(e);else{var i=Jt(e,t,r,n);if(null===i)Tt(e,n);else if(-1<wt.indexOf(e))e=Dt(i,e,t,r,n),bt.push(e);else if(!function(e,t,r,n,i){switch(t){case"focus":return vt=kt(vt,e,t,r,n,i),!0;case"dragenter":return Et=kt(Et,e,t,r,n,i),!0;case"mouseover":return Ot=kt(Ot,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return Mt.set(o,kt(Mt.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Pt.set(o,kt(Pt.get(o)||null,e,t,r,n,i)),!0}return!1}(i,e,t,r,n)){Tt(e,n),e=pt(e,n,null,t);try{z(dt,e)}finally{ct(e)}}}}function Jt(e,t,r,n){if(null!==(r=wr(r=lt(n)))){var i=Qe(r);if(null===i)r=null;else{var o=i.tag;if(13===o){if(null!==(r=et(i)))return r;r=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}e=pt(e,n,r,t);try{z(dt,e)}finally{ct(e)}return null}var Qt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},er=["Webkit","ms","Moz","O"];function tr(e,t,r){return null==t||"boolean"==typeof t||""===t?"":r||"number"!=typeof t||0===t||Qt.hasOwnProperty(e)&&Qt[e]?(""+t).trim():t+"px"}function rr(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=tr(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(Qt).forEach((function(e){er.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qt[t]=Qt[e]}))}));var nr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ir(e,t){if(t){if(nr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62,""))}}function or(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ar=Re;function sr(e,t){var r=Je(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=x[t];for(var n=0;n<t.length;n++)ht(t[n],e,r)}function lr(){}function _r(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var r,n=ur(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ur(n)}}function pr(){for(var e=window,t=_r();t instanceof e.HTMLIFrameElement;){try{var r="string"==typeof t.contentWindow.location.href}catch(e){r=!1}if(!r)break;t=_r((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var hr=null,fr=null;function mr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function yr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var gr="function"==typeof setTimeout?setTimeout:void 0,br="function"==typeof clearTimeout?clearTimeout:void 0;function vr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Er(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var Or=Math.random().toString(36).slice(2),Mr="__reactInternalInstance$"+Or,Pr="__reactEventHandlers$"+Or,xr="__reactContainere$"+Or;function wr(e){var t=e[Mr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[xr]||r[Mr]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=Er(e);null!==e;){if(r=e[Mr])return r;e=Er(e)}return t}r=(e=r).parentNode}return null}function Cr(e){return!(e=e[Mr]||e[xr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Dr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Tr(e){return e[Pr]||null}function kr(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Ar(e,t){var r=e.stateNode;if(!r)return null;var n=h(r);if(!n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(a(231,t,typeof r));return r}function Ir(e,t,r){(t=Ar(e,r.dispatchConfig.phasedRegistrationNames[t]))&&(r._dispatchListeners=nt(r._dispatchListeners,t),r._dispatchInstances=nt(r._dispatchInstances,e))}function Lr(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,r=[];t;)r.push(t),t=kr(t);for(t=r.length;0<t--;)Ir(r[t],"captured",e);for(t=0;t<r.length;t++)Ir(r[t],"bubbled",e)}}function Rr(e,t,r){e&&r&&r.dispatchConfig.registrationName&&(t=Ar(e,r.dispatchConfig.registrationName))&&(r._dispatchListeners=nt(r._dispatchListeners,t),r._dispatchInstances=nt(r._dispatchInstances,e))}function Sr(e){e&&e.dispatchConfig.registrationName&&Rr(e._targetInst,null,e)}function Br(e){it(e,Lr)}var Ur=null,Wr=null,Kr=null;function jr(){if(Kr)return Kr;var e,t,r=Wr,n=r.length,i="value"in Ur?Ur.value:Ur.textContent,o=i.length;for(e=0;e<n&&r[e]===i[e];e++);var a=n-e;for(t=1;t<=a&&r[n-t]===i[o-t];t++);return Kr=i.slice(e,1<t?1-t:void 0)}function zr(){return!0}function Fr(){return!1}function qr(e,t,r,n){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=r,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(r):"target"===i?this.target=n:this[i]=r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?zr:Fr,this.isPropagationStopped=Fr,this}function Nr(e,t,r,n){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,r,n),i}return new this(e,t,r,n)}function Hr(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Gr(e){e.eventPool=[],e.getPooled=Nr,e.release=Hr}i(qr.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=zr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=zr)},persist:function(){this.isPersistent=zr},isPersistent:Fr,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Fr,this._dispatchInstances=this._dispatchListeners=null}}),qr.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},qr.extend=function(e){function t(){}function r(){return n.apply(this,arguments)}var n=this;t.prototype=n.prototype;var o=new t;return i(o,r.prototype),r.prototype=o,r.prototype.constructor=r,r.Interface=i({},n.Interface,e),r.extend=n.extend,Gr(r),r},Gr(qr);var Vr=qr.extend({data:null}),Zr=qr.extend({data:null}),Xr=[9,13,27,32],$r=C&&"CompositionEvent"in window,Yr=null;C&&"documentMode"in document&&(Yr=document.documentMode);var Jr=C&&"TextEvent"in window&&!Yr,Qr=C&&(!$r||Yr&&8<Yr&&11>=Yr),en=String.fromCharCode(32),tn={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rn=!1;function nn(e,t){switch(e){case"keyup":return-1!==Xr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function on(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var an=!1;var sn={eventTypes:tn,extractEvents:function(e,t,r,n){var i;if($r)e:{switch(e){case"compositionstart":var o=tn.compositionStart;break e;case"compositionend":o=tn.compositionEnd;break e;case"compositionupdate":o=tn.compositionUpdate;break e}o=void 0}else an?nn(e,r)&&(o=tn.compositionEnd):"keydown"===e&&229===r.keyCode&&(o=tn.compositionStart);return o?(Qr&&"ko"!==r.locale&&(an||o!==tn.compositionStart?o===tn.compositionEnd&&an&&(i=jr()):(Wr="value"in(Ur=n)?Ur.value:Ur.textContent,an=!0)),o=Vr.getPooled(o,t,r,n),i?o.data=i:null!==(i=on(r))&&(o.data=i),Br(o),i=o):i=null,(e=Jr?function(e,t){switch(e){case"compositionend":return on(t);case"keypress":return 32!==t.which?null:(rn=!0,en);case"textInput":return(e=t.data)===en&&rn?null:e;default:return null}}(e,r):function(e,t){if(an)return"compositionend"===e||!$r&&nn(e,t)?(e=jr(),Kr=Wr=Ur=null,an=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qr&&"ko"!==t.locale?null:t.data;default:return null}}(e,r))?((t=Zr.getPooled(tn.beforeInput,t,r,n)).data=e,Br(t)):t=null,null===i?t:null===t?i:[i,t]}},ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!ln[e.type]:"textarea"===t}var un={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function cn(e,t,r){return(e=qr.getPooled(un.change,e,t,r)).type="change",I(r),Br(e),e}var pn=null,dn=null;function hn(e){st(e)}function fn(e){if(Ee(Dr(e)))return e}function mn(e,t){if("change"===e)return t}var yn=!1;function gn(){pn&&(pn.detachEvent("onpropertychange",bn),dn=pn=null)}function bn(e){if("value"===e.propertyName&&fn(dn))if(e=cn(dn,e,lt(e)),W)st(e);else{W=!0;try{R(hn,e)}finally{W=!1,j()}}}function vn(e,t,r){"focus"===e?(gn(),dn=r,(pn=t).attachEvent("onpropertychange",bn)):"blur"===e&&gn()}function En(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return fn(dn)}function On(e,t){if("click"===e)return fn(t)}function Mn(e,t){if("input"===e||"change"===e)return fn(t)}C&&(yn=_t("input")&&(!document.documentMode||9<document.documentMode));var Pn={eventTypes:un,_isInputEventSupported:yn,extractEvents:function(e,t,r,n){var i=t?Dr(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=mn;else if(_n(i))if(yn)a=Mn;else{a=En;var s=vn}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=On);if(a&&(a=a(e,t)))return cn(a,r,n);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Ce(i,"number",i.value)}},xn=qr.extend({view:null,detail:null}),wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Dn(){return Cn}var Tn=0,kn=0,An=!1,In=!1,Ln=xn.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Dn,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Tn;return Tn=e.screenX,An?"mousemove"===e.type?e.screenX-t:0:(An=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=kn;return kn=e.screenY,In?"mousemove"===e.type?e.screenY-t:0:(In=!0,0)}}),Rn=Ln.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Sn={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Bn={eventTypes:Sn,extractEvents:function(e,t,r,n,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0==(32&i)&&(r.relatedTarget||r.fromElement)||!a&&!o)return null;(o=n.window===n?n:(o=n.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=r.relatedTarget||r.toElement)?wr(t):null)&&(t!==Qe(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Ln,l=Sn.mouseLeave,_=Sn.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Rn,l=Sn.pointerLeave,_=Sn.pointerEnter,u="pointer");if(e=null==a?o:Dr(a),o=null==t?o:Dr(t),(l=s.getPooled(l,a,r,n)).type=u+"leave",l.target=e,l.relatedTarget=o,(r=s.getPooled(_,t,r,n)).type=u+"enter",r.target=o,r.relatedTarget=e,u=t,(n=a)&&u)e:{for(_=u,a=0,e=s=n;e;e=kr(e))a++;for(e=0,t=_;t;t=kr(t))e++;for(;0<a-e;)s=kr(s),a--;for(;0<e-a;)_=kr(_),e--;for(;a--;){if(s===_||s===_.alternate)break e;s=kr(s),_=kr(_)}s=null}else s=null;for(_=s,s=[];n&&n!==_&&(null===(a=n.alternate)||a!==_);)s.push(n),n=kr(n);for(n=[];u&&u!==_&&(null===(a=u.alternate)||a!==_);)n.push(u),u=kr(u);for(u=0;u<s.length;u++)Rr(s[u],"bubbled",l);for(u=n.length;0<u--;)Rr(n[u],"captured",r);return 0==(64&i)?[l]:[l,r]}};var Un="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Wn=Object.prototype.hasOwnProperty;function Kn(e,t){if(Un(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!Wn.call(t,r[n])||!Un(e[r[n]],t[r[n]]))return!1;return!0}var jn=C&&"documentMode"in document&&11>=document.documentMode,zn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Fn=null,qn=null,Nn=null,Hn=!1;function Gn(e,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Hn||null==Fn||Fn!==_r(r)?null:("selectionStart"in(r=Fn)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Nn&&Kn(Nn,r)?null:(Nn=r,(e=qr.getPooled(zn.select,qn,e,t)).type="select",e.target=Fn,Br(e),e))}var Vn={eventTypes:zn,extractEvents:function(e,t,r,n,i,o){if(!(o=!(i=o||(n.window===n?n.document:9===n.nodeType?n:n.ownerDocument)))){e:{i=Je(i),o=x.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?Dr(t):window,e){case"focus":(_n(i)||"true"===i.contentEditable)&&(Fn=i,qn=t,Nn=null);break;case"blur":Nn=qn=Fn=null;break;case"mousedown":Hn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Hn=!1,Gn(r,n);case"selectionchange":if(jn)break;case"keydown":case"keyup":return Gn(r,n)}return null}},Zn=qr.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Xn=qr.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$n=xn.extend({relatedTarget:null});function Yn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Jn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ei=xn.extend({key:function(e){if(e.key){var t=Jn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Yn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Qn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Dn,charCode:function(e){return"keypress"===e.type?Yn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Yn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ti=Ln.extend({dataTransfer:null}),ri=xn.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Dn}),ni=qr.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=Ln.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),oi={eventTypes:Ut,extractEvents:function(e,t,r,n){var i=Wt.get(e);if(!i)return null;switch(e){case"keypress":if(0===Yn(r))return null;case"keydown":case"keyup":e=ei;break;case"blur":case"focus":e=$n;break;case"click":if(2===r.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ti;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ri;break;case Ge:case Ve:case Ze:e=Zn;break;case Xe:e=ni;break;case"scroll":e=xn;break;case"wheel":e=ii;break;case"copy":case"cut":case"paste":e=Xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Rn;break;default:e=qr}return Br(t=e.getPooled(i,t,r,n)),t}};if(g)throw Error(a(101));g=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),v(),h=Tr,f=Cr,m=Dr,w({SimpleEventPlugin:oi,EnterLeaveEventPlugin:Bn,ChangeEventPlugin:Pn,SelectEventPlugin:Vn,BeforeInputEventPlugin:sn});var ai=[],si=-1;function li(e){0>si||(e.current=ai[si],ai[si]=null,si--)}function _i(e,t){si++,ai[si]=e.current,e.current=t}var ui={},ci={current:ui},pi={current:!1},di=ui;function hi(e,t){var r=e.type.contextTypes;if(!r)return ui;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in r)o[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function fi(e){return null!=(e=e.childContextTypes)}function mi(){li(pi),li(ci)}function yi(e,t,r){if(ci.current!==ui)throw Error(a(168));_i(ci,t),_i(pi,r)}function gi(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,"function"!=typeof n.getChildContext)return r;for(var o in n=n.getChildContext())if(!(o in e))throw Error(a(108,me(t)||"Unknown",o));return i({},r,{},n)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,di=ci.current,_i(ci,e),_i(pi,pi.current),!0}function vi(e,t,r){var n=e.stateNode;if(!n)throw Error(a(169));r?(e=gi(e,t,di),n.__reactInternalMemoizedMergedChildContext=e,li(pi),li(ci),_i(ci,e)):li(pi),_i(pi,r)}var Ei=o.unstable_runWithPriority,Oi=o.unstable_scheduleCallback,Mi=o.unstable_cancelCallback,Pi=o.unstable_requestPaint,xi=o.unstable_now,wi=o.unstable_getCurrentPriorityLevel,Ci=o.unstable_ImmediatePriority,Di=o.unstable_UserBlockingPriority,Ti=o.unstable_NormalPriority,ki=o.unstable_LowPriority,Ai=o.unstable_IdlePriority,Ii={},Li=o.unstable_shouldYield,Ri=void 0!==Pi?Pi:function(){},Si=null,Bi=null,Ui=!1,Wi=xi(),Ki=1e4>Wi?xi:function(){return xi()-Wi};function ji(){switch(wi()){case Ci:return 99;case Di:return 98;case Ti:return 97;case ki:return 96;case Ai:return 95;default:throw Error(a(332))}}function zi(e){switch(e){case 99:return Ci;case 98:return Di;case 97:return Ti;case 96:return ki;case 95:return Ai;default:throw Error(a(332))}}function Fi(e,t){return e=zi(e),Ei(e,t)}function qi(e,t,r){return e=zi(e),Oi(e,t,r)}function Ni(e){return null===Si?(Si=[e],Bi=Oi(Ci,Gi)):Si.push(e),Ii}function Hi(){if(null!==Bi){var e=Bi;Bi=null,Mi(e)}Gi()}function Gi(){if(!Ui&&null!==Si){Ui=!0;var e=0;try{var t=Si;Fi(99,(function(){for(;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}})),Si=null}catch(t){throw null!==Si&&(Si=Si.slice(e+1)),Oi(Ci,Hi),t}finally{Ui=!1}}}function Vi(e,t,r){return 1073741821-(1+((1073741821-e+t/10)/(r/=10)|0))*r}function Zi(e,t){if(e&&e.defaultProps)for(var r in t=i({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}var Xi={current:null},$i=null,Yi=null,Ji=null;function Qi(){Ji=Yi=$i=null}function eo(e){var t=Xi.current;li(Xi),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var r=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t);else{if(!(null!==r&&r.childExpirationTime<t))break;r.childExpirationTime=t}e=e.return}}function ro(e,t){$i=e,Ji=Yi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(ka=!0),e.firstContext=null)}function no(e,t){if(Ji!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Ji=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Yi){if(null===$i)throw Error(a(308));Yi=t,$i.dependencies={expirationTime:0,firstContext:t,responders:null}}else Yi=Yi.next=t;return e._currentValue}var io=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function so(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function lo(e,t){if(null!==(e=e.updateQueue)){var r=(e=e.shared).pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function _o(e,t){var r=e.alternate;null!==r&&ao(r,e),null===(r=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=r.next,r.next=t)}function uo(e,t,r,n){var o=e.updateQueue;io=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var l=a.next;a.next=s.next,s.next=l}a=s,o.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==a){l=a.next;var _=o.baseState,u=0,c=null,p=null,d=null;if(null!==l)for(var h=l;;){if((s=h.expirationTime)<n){var f={expirationTime:h.expirationTime,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null};null===d?(p=d=f,c=_):d=d.next=f,s>u&&(u=s)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null}),ol(s,h.suspenseConfig);e:{var m=e,y=h;switch(s=t,f=r,y.tag){case 1:if("function"==typeof(m=y.payload)){_=m.call(f,_,s);break e}_=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null==(s="function"==typeof(m=y.payload)?m.call(f,_,s):m))break e;_=i({},_,s);break e;case 2:io=!0}}null!==h.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[h]:s.push(h))}if(null===(h=h.next)||h===l){if(null===(s=o.shared.pending))break;h=a.next=s.next,s.next=l,o.baseQueue=a=s,o.shared.pending=null}}null===d?c=_:d.next=p,o.baseState=c,o.baseQueue=d,al(u),e.expirationTime=u,e.memoizedState=_}}function co(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){if(n.callback=null,n=i,i=r,"function"!=typeof n)throw Error(a(191,n));n.call(i)}}}var po=$.ReactCurrentBatchConfig,ho=(new n.Component).refs;function fo(e,t,r,n){r=null==(r=r(n,t=e.memoizedState))?t:i({},t,r),e.memoizedState=r,0===e.expirationTime&&(e.updateQueue.baseState=r)}var mo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Qe(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternalFiber;var n=Gs(),i=po.suspense;(i=so(n=Vs(n,e,i),i)).payload=t,null!=r&&(i.callback=r),lo(e,i),Zs(e,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternalFiber;var n=Gs(),i=po.suspense;(i=so(n=Vs(n,e,i),i)).tag=1,i.payload=t,null!=r&&(i.callback=r),lo(e,i),Zs(e,n)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var r=Gs(),n=po.suspense;(n=so(r=Vs(r,e,n),n)).tag=2,null!=t&&(n.callback=t),lo(e,n),Zs(e,r)}};function yo(e,t,r,n,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Kn(r,n)||!Kn(i,o))}function go(e,t,r){var n=!1,i=ui,o=t.contextType;return"object"==typeof o&&null!==o?o=no(o):(i=fi(t)?di:ci.current,o=(n=null!=(n=t.contextTypes))?hi(e,i):ui),t=new t(r,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mo,e.stateNode=t,t._reactInternalFiber=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function bo(e,t,r,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function vo(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=ho,oo(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=no(o):(o=fi(t)?di:ci.current,i.context=hi(e,o)),uo(e,r,i,n),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(fo(e,t,o,r),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&mo.enqueueReplaceState(i,i.state,null),uo(e,r,i,n),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var Eo=Array.isArray;function Oo(e,t,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(a(309));var n=r.stateNode}if(!n)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=n.refs;t===ho&&(t=n.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function Mo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Po(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.effectTag=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=wl(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.effectTag=2,r):n:(t.effectTag=2,r):r}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Tl(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function _(e,t,r,n){return null!==t&&t.elementType===r.type?((n=i(t,r.props)).ref=Oo(e,t,r),n.return=e,n):((n=Cl(r.type,r.key,r.props,null,e.mode,n)).ref=Oo(e,t,r),n.return=e,n)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=kl(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function c(e,t,r,n,o){return null===t||7!==t.tag?((t=Dl(r,e.mode,n,o)).return=e,t):((t=i(t,r)).return=e,t)}function p(e,t,r){if("string"==typeof t||"number"==typeof t)return(t=Tl(""+t,e.mode,r)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ee:return(r=Cl(t.type,t.key,t.props,null,e.mode,r)).ref=Oo(e,null,t),r.return=e,r;case te:return(t=kl(t,e.mode,r)).return=e,t}if(Eo(t)||fe(t))return(t=Dl(t,e.mode,r,null)).return=e,t;Mo(e,t)}return null}function d(e,t,r,n){var i=null!==t?t.key:null;if("string"==typeof r||"number"==typeof r)return null!==i?null:l(e,t,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ee:return r.key===i?r.type===re?c(e,t,r.props.children,n,i):_(e,t,r,n):null;case te:return r.key===i?u(e,t,r,n):null}if(Eo(r)||fe(r))return null!==i?null:c(e,t,r,n,null);Mo(e,r)}return null}function h(e,t,r,n,i){if("string"==typeof n||"number"==typeof n)return l(t,e=e.get(r)||null,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ee:return e=e.get(null===n.key?r:n.key)||null,n.type===re?c(t,e,n.props.children,i,n.key):_(t,e,n,i);case te:return u(t,e=e.get(null===n.key?r:n.key)||null,n,i)}if(Eo(n)||fe(n))return c(t,e=e.get(r)||null,n,i,null);Mo(t,n)}return null}function f(i,a,s,l){for(var _=null,u=null,c=a,f=a=0,m=null;null!==c&&f<s.length;f++){c.index>f?(m=c,c=null):m=c.sibling;var y=d(i,c,s[f],l);if(null===y){null===c&&(c=m);break}e&&c&&null===y.alternate&&t(i,c),a=o(y,a,f),null===u?_=y:u.sibling=y,u=y,c=m}if(f===s.length)return r(i,c),_;if(null===c){for(;f<s.length;f++)null!==(c=p(i,s[f],l))&&(a=o(c,a,f),null===u?_=c:u.sibling=c,u=c);return _}for(c=n(i,c);f<s.length;f++)null!==(m=h(c,i,f,s[f],l))&&(e&&null!==m.alternate&&c.delete(null===m.key?f:m.key),a=o(m,a,f),null===u?_=m:u.sibling=m,u=m);return e&&c.forEach((function(e){return t(i,e)})),_}function m(i,s,l,_){var u=fe(l);if("function"!=typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var c=u=null,f=s,m=s=0,y=null,g=l.next();null!==f&&!g.done;m++,g=l.next()){f.index>m?(y=f,f=null):y=f.sibling;var b=d(i,f,g.value,_);if(null===b){null===f&&(f=y);break}e&&f&&null===b.alternate&&t(i,f),s=o(b,s,m),null===c?u=b:c.sibling=b,c=b,f=y}if(g.done)return r(i,f),u;if(null===f){for(;!g.done;m++,g=l.next())null!==(g=p(i,g.value,_))&&(s=o(g,s,m),null===c?u=g:c.sibling=g,c=g);return u}for(f=n(i,f);!g.done;m++,g=l.next())null!==(g=h(f,i,m,g.value,_))&&(e&&null!==g.alternate&&f.delete(null===g.key?m:g.key),s=o(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&f.forEach((function(e){return t(i,e)})),u}return function(e,n,o,l){var _="object"==typeof o&&null!==o&&o.type===re&&null===o.key;_&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case ee:e:{for(u=o.key,_=n;null!==_;){if(_.key===u){switch(_.tag){case 7:if(o.type===re){r(e,_.sibling),(n=i(_,o.props.children)).return=e,e=n;break e}break;default:if(_.elementType===o.type){r(e,_.sibling),(n=i(_,o.props)).ref=Oo(e,_,o),n.return=e,e=n;break e}}r(e,_);break}t(e,_),_=_.sibling}o.type===re?((n=Dl(o.props.children,e.mode,l,o.key)).return=e,e=n):((l=Cl(o.type,o.key,o.props,null,e.mode,l)).ref=Oo(e,n,o),l.return=e,e=l)}return s(e);case te:e:{for(_=o.key;null!==n;){if(n.key===_){if(4===n.tag&&n.stateNode.containerInfo===o.containerInfo&&n.stateNode.implementation===o.implementation){r(e,n.sibling),(n=i(n,o.children||[])).return=e,e=n;break e}r(e,n);break}t(e,n),n=n.sibling}(n=kl(o,e.mode,l)).return=e,e=n}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==n&&6===n.tag?(r(e,n.sibling),(n=i(n,o)).return=e,e=n):(r(e,n),(n=Tl(o,e.mode,l)).return=e,e=n),s(e);if(Eo(o))return f(e,n,o,l);if(fe(o))return m(e,n,o,l);if(u&&Mo(e,o),void 0===o&&!_)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return r(e,n)}}var xo=Po(!0),wo=Po(!1),Co={},Do={current:Co},To={current:Co},ko={current:Co};function Ao(e){if(e===Co)throw Error(a(174));return e}function Io(e,t){switch(_i(ko,t),_i(To,e),_i(Do,Co),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ue(null,"");break;default:t=Ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Do),_i(Do,t)}function Lo(){li(Do),li(To),li(ko)}function Ro(e){Ao(ko.current);var t=Ao(Do.current),r=Ue(t,e.type);t!==r&&(_i(To,e),_i(Do,r))}function So(e){To.current===e&&(li(Do),li(To))}var Bo={current:0};function Uo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Wo(e,t){return{responder:e,props:t}}var Ko=$.ReactCurrentDispatcher,jo=$.ReactCurrentBatchConfig,zo=0,Fo=null,qo=null,No=null,Ho=!1;function Go(){throw Error(a(321))}function Vo(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Un(e[r],t[r]))return!1;return!0}function Zo(e,t,r,n,i,o){if(zo=o,Fo=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Ko.current=null===e||null===e.memoizedState?ya:ga,e=r(n,i),t.expirationTime===zo){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,No=qo=null,t.updateQueue=null,Ko.current=ba,e=r(n,i)}while(t.expirationTime===zo)}if(Ko.current=ma,t=null!==qo&&null!==qo.next,zo=0,No=qo=Fo=null,Ho=!1,t)throw Error(a(300));return e}function Xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===No?Fo.memoizedState=No=e:No=No.next=e,No}function $o(){if(null===qo){var e=Fo.alternate;e=null!==e?e.memoizedState:null}else e=qo.next;var t=null===No?Fo.memoizedState:No.next;if(null!==t)No=t,qo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(qo=e).memoizedState,baseState:qo.baseState,baseQueue:qo.baseQueue,queue:qo.queue,next:null},null===No?Fo.memoizedState=No=e:No=No.next=e}return No}function Yo(e,t){return"function"==typeof t?t(e):t}function Jo(e){var t=$o(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=qo,i=n.baseQueue,o=r.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(null!==i){i=i.next,n=n.baseState;var l=s=o=null,_=i;do{var u=_.expirationTime;if(u<zo){var c={expirationTime:_.expirationTime,suspenseConfig:_.suspenseConfig,action:_.action,eagerReducer:_.eagerReducer,eagerState:_.eagerState,next:null};null===l?(s=l=c,o=n):l=l.next=c,u>Fo.expirationTime&&(Fo.expirationTime=u,al(u))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:_.suspenseConfig,action:_.action,eagerReducer:_.eagerReducer,eagerState:_.eagerState,next:null}),ol(u,_.suspenseConfig),n=_.eagerReducer===e?_.eagerState:e(n,_.action);_=_.next}while(null!==_&&_!==i);null===l?o=n:l.next=s,Un(n,t.memoizedState)||(ka=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function Qo(e){var t=$o(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(null!==i){r.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);Un(o,t.memoizedState)||(ka=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function ea(e){var t=Xo();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Yo,lastRenderedState:e}).dispatch=fa.bind(null,Fo,e),[t.memoizedState,e]}function ta(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=Fo.updateQueue)?(t={lastEffect:null},Fo.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function ra(){return $o().memoizedState}function na(e,t,r,n){var i=Xo();Fo.effectTag|=e,i.memoizedState=ta(1|t,r,void 0,void 0===n?null:n)}function ia(e,t,r,n){var i=$o();n=void 0===n?null:n;var o=void 0;if(null!==qo){var a=qo.memoizedState;if(o=a.destroy,null!==n&&Vo(n,a.deps))return void ta(t,r,o,n)}Fo.effectTag|=e,i.memoizedState=ta(1|t,r,o,n)}function oa(e,t){return na(516,4,e,t)}function aa(e,t){return ia(516,4,e,t)}function sa(e,t){return ia(4,2,e,t)}function la(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function _a(e,t,r){return r=null!=r?r.concat([e]):null,ia(4,2,la.bind(null,t,e),r)}function ua(){}function ca(e,t){return Xo().memoizedState=[e,void 0===t?null:t],e}function pa(e,t){var r=$o();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Vo(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function da(e,t){var r=$o();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Vo(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ha(e,t,r){var n=ji();Fi(98>n?98:n,(function(){e(!0)})),Fi(97<n?97:n,(function(){var n=jo.suspense;jo.suspense=void 0===t?null:t;try{e(!1),r()}finally{jo.suspense=n}}))}function fa(e,t,r){var n=Gs(),i=po.suspense;i={expirationTime:n=Vs(n,e,i),suspenseConfig:i,action:r,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===Fo||null!==o&&o===Fo)Ho=!0,i.expirationTime=zo,Fo.expirationTime=zo;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,r);if(i.eagerReducer=o,i.eagerState=s,Un(s,a))return}catch(e){}Zs(e,n)}}var ma={readContext:no,useCallback:Go,useContext:Go,useEffect:Go,useImperativeHandle:Go,useLayoutEffect:Go,useMemo:Go,useReducer:Go,useRef:Go,useState:Go,useDebugValue:Go,useResponder:Go,useDeferredValue:Go,useTransition:Go},ya={readContext:no,useCallback:ca,useContext:no,useEffect:oa,useImperativeHandle:function(e,t,r){return r=null!=r?r.concat([e]):null,na(4,2,la.bind(null,t,e),r)},useLayoutEffect:function(e,t){return na(4,2,e,t)},useMemo:function(e,t){var r=Xo();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Xo();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=fa.bind(null,Fo,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Xo().memoizedState=e},useState:ea,useDebugValue:ua,useResponder:Wo,useDeferredValue:function(e,t){var r=ea(e),n=r[0],i=r[1];return oa((function(){var r=jo.suspense;jo.suspense=void 0===t?null:t;try{i(e)}finally{jo.suspense=r}}),[e,t]),n},useTransition:function(e){var t=ea(!1),r=t[0];return t=t[1],[ca(ha.bind(null,t,e),[t,e]),r]}},ga={readContext:no,useCallback:pa,useContext:no,useEffect:aa,useImperativeHandle:_a,useLayoutEffect:sa,useMemo:da,useReducer:Jo,useRef:ra,useState:function(){return Jo(Yo)},useDebugValue:ua,useResponder:Wo,useDeferredValue:function(e,t){var r=Jo(Yo),n=r[0],i=r[1];return aa((function(){var r=jo.suspense;jo.suspense=void 0===t?null:t;try{i(e)}finally{jo.suspense=r}}),[e,t]),n},useTransition:function(e){var t=Jo(Yo),r=t[0];return t=t[1],[pa(ha.bind(null,t,e),[t,e]),r]}},ba={readContext:no,useCallback:pa,useContext:no,useEffect:aa,useImperativeHandle:_a,useLayoutEffect:sa,useMemo:da,useReducer:Qo,useRef:ra,useState:function(){return Qo(Yo)},useDebugValue:ua,useResponder:Wo,useDeferredValue:function(e,t){var r=Qo(Yo),n=r[0],i=r[1];return aa((function(){var r=jo.suspense;jo.suspense=void 0===t?null:t;try{i(e)}finally{jo.suspense=r}}),[e,t]),n},useTransition:function(e){var t=Qo(Yo),r=t[0];return t=t[1],[pa(ha.bind(null,t,e),[t,e]),r]}},va=null,Ea=null,Oa=!1;function Ma(e,t){var r=Pl(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function Pa(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function xa(e){if(Oa){var t=Ea;if(t){var r=t;if(!Pa(e,t)){if(!(t=vr(r.nextSibling))||!Pa(e,t))return e.effectTag=-1025&e.effectTag|2,Oa=!1,void(va=e);Ma(va,r)}va=e,Ea=vr(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Oa=!1,va=e}}function wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;va=e}function Ca(e){if(e!==va)return!1;if(!Oa)return wa(e),Oa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!yr(t,e.memoizedProps))for(t=Ea;t;)Ma(e,t),t=vr(t.nextSibling);if(wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){Ea=vr(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}Ea=null}}else Ea=va?vr(e.stateNode.nextSibling):null;return!0}function Da(){Ea=va=null,Oa=!1}var Ta=$.ReactCurrentOwner,ka=!1;function Aa(e,t,r,n){t.child=null===e?wo(t,null,r,n):xo(t,e.child,r,n)}function Ia(e,t,r,n,i){r=r.render;var o=t.ref;return ro(t,i),n=Zo(e,t,r,n,o,i),null===e||ka?(t.effectTag|=1,Aa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Za(e,t,i))}function La(e,t,r,n,i,o){if(null===e){var a=r.type;return"function"!=typeof a||xl(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Cl(r.type,null,n,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ra(e,t,a,n,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(r=null!==(r=r.compare)?r:Kn)(i,n)&&e.ref===t.ref)?Za(e,t,o):(t.effectTag|=1,(e=wl(a,n)).ref=t.ref,e.return=t,t.child=e)}function Ra(e,t,r,n,i,o){return null!==e&&Kn(e.memoizedProps,n)&&e.ref===t.ref&&(ka=!1,i<o)?(t.expirationTime=e.expirationTime,Za(e,t,o)):Ba(e,t,r,n,o)}function Sa(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.effectTag|=128)}function Ba(e,t,r,n,i){var o=fi(r)?di:ci.current;return o=hi(t,o),ro(t,i),r=Zo(e,t,r,n,o,i),null===e||ka?(t.effectTag|=1,Aa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Za(e,t,i))}function Ua(e,t,r,n,i){if(fi(r)){var o=!0;bi(t)}else o=!1;if(ro(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),go(t,r,n),vo(t,r,n,i),n=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,_=r.contextType;"object"==typeof _&&null!==_?_=no(_):_=hi(t,_=fi(r)?di:ci.current);var u=r.getDerivedStateFromProps,c="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;c||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==n||l!==_)&&bo(t,a,n,_),io=!1;var p=t.memoizedState;a.state=p,uo(t,n,a,i),l=t.memoizedState,s!==n||p!==l||pi.current||io?("function"==typeof u&&(fo(t,r,u,n),l=t.memoizedState),(s=io||yo(t,r,s,n,p,l,_))?(c||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=_,n=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),n=!1)}else a=t.stateNode,ao(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:Zi(t.type,s),l=a.context,"object"==typeof(_=r.contextType)&&null!==_?_=no(_):_=hi(t,_=fi(r)?di:ci.current),(c="function"==typeof(u=r.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==n||l!==_)&&bo(t,a,n,_),io=!1,l=t.memoizedState,a.state=l,uo(t,n,a,i),p=t.memoizedState,s!==n||l!==p||pi.current||io?("function"==typeof u&&(fo(t,r,u,n),p=t.memoizedState),(u=io||yo(t,r,s,n,l,p,_))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(n,p,_),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,p,_)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=n,t.memoizedState=p),a.props=n,a.state=p,a.context=_,n=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),n=!1);return Wa(e,t,r,n,o,i)}function Wa(e,t,r,n,i,o){Sa(e,t);var a=0!=(64&t.effectTag);if(!n&&!a)return i&&vi(t,r,!1),Za(e,t,o);n=t.stateNode,Ta.current=t;var s=a&&"function"!=typeof r.getDerivedStateFromError?null:n.render();return t.effectTag|=1,null!==e&&a?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,s,o)):Aa(e,t,s,o),t.memoizedState=n.state,i&&vi(t,r,!0),t.child}function Ka(e){var t=e.stateNode;t.pendingContext?yi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yi(0,t.context,!1),Io(e,t.containerInfo)}var ja,za,Fa,qa={dehydrated:null,retryTime:0};function Na(e,t,r){var n,i=t.mode,o=t.pendingProps,a=Bo.current,s=!1;if((n=0!=(64&t.effectTag))||(n=0!=(2&a)&&(null===e||null!==e.memoizedState)),n?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),_i(Bo,1&a),null===e){if(void 0!==o.fallback&&xa(t),s){if(s=o.fallback,(o=Dl(null,i,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(r=Dl(s,i,r,null)).return=t,o.sibling=r,t.memoizedState=qa,t.child=o,r}return i=o.children,t.memoizedState=null,t.child=wo(t,null,i,r)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(r=wl(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(r.child=s;null!==s;)s.return=r,s=s.sibling;return(i=wl(i,o)).return=t,r.sibling=i,r.childExpirationTime=0,t.memoizedState=qa,t.child=r,i}return r=xo(t,e.child,o.children,r),t.memoizedState=null,t.child=r}if(e=e.child,s){if(s=o.fallback,(o=Dl(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(r=Dl(s,i,r,null)).return=t,o.sibling=r,r.effectTag|=2,o.childExpirationTime=0,t.memoizedState=qa,t.child=o,r}return t.memoizedState=null,t.child=xo(t,e,o.children,r)}function Ha(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t),to(e.return,t)}function Ga(e,t,r,n,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function Va(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Aa(e,t,n.children,r),0!=(2&(n=Bo.current)))n=1&n|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ha(e,r);else if(19===e.tag)Ha(e,r);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(_i(Bo,n),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===Uo(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Ga(t,!1,i,r,o,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Uo(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Ga(t,!0,r,null,o,t.lastEffect);break;case"together":Ga(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Za(e,t,r){null!==e&&(t.dependencies=e.dependencies);var n=t.expirationTime;if(0!==n&&al(n),t.childExpirationTime<r)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(r=wl(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=wl(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Xa(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function $a(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return fi(t.type)&&mi(),null;case 3:return Lo(),li(pi),li(ci),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||!Ca(t)||(t.effectTag|=4),null;case 5:So(t),r=Ao(ko.current);var o=t.type;if(null!==e&&null!=t.stateNode)za(e,t,o,n,r),e.ref!==t.ref&&(t.effectTag|=128);else{if(!n){if(null===t.stateNode)throw Error(a(166));return null}if(e=Ao(Do.current),Ca(t)){n=t.stateNode,o=t.type;var s=t.memoizedProps;switch(n[Mr]=t,n[Pr]=s,o){case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(e=0;e<$e.length;e++)Vt($e[e],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"form":Vt("reset",n),Vt("submit",n);break;case"details":Vt("toggle",n);break;case"input":Me(n,s),Vt("invalid",n),sr(r,"onChange");break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Vt("invalid",n),sr(r,"onChange");break;case"textarea":Ae(n,s),Vt("invalid",n),sr(r,"onChange")}for(var l in ir(o,s),e=null,s)if(s.hasOwnProperty(l)){var _=s[l];"children"===l?"string"==typeof _?n.textContent!==_&&(e=["children",_]):"number"==typeof _&&n.textContent!==""+_&&(e=["children",""+_]):P.hasOwnProperty(l)&&null!=_&&sr(r,l)}switch(o){case"input":ve(n),we(n,s,!0);break;case"textarea":ve(n),Le(n);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(n.onclick=lr)}r=e,t.updateQueue=r,null!==r&&(t.effectTag|=4)}else{switch(l=9===r.nodeType?r:r.ownerDocument,e===ar&&(e=Be(o)),e===ar?"script"===o?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof n.is?e=l.createElement(o,{is:n.is}):(e=l.createElement(o),"select"===o&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,o),e[Mr]=t,e[Pr]=n,ja(e,t),t.stateNode=e,l=or(o,n),o){case"iframe":case"object":case"embed":Vt("load",e),_=n;break;case"video":case"audio":for(_=0;_<$e.length;_++)Vt($e[_],e);_=n;break;case"source":Vt("error",e),_=n;break;case"img":case"image":case"link":Vt("error",e),Vt("load",e),_=n;break;case"form":Vt("reset",e),Vt("submit",e),_=n;break;case"details":Vt("toggle",e),_=n;break;case"input":Me(e,n),_=Oe(e,n),Vt("invalid",e),sr(r,"onChange");break;case"option":_=De(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},_=i({},n,{value:void 0}),Vt("invalid",e),sr(r,"onChange");break;case"textarea":Ae(e,n),_=ke(e,n),Vt("invalid",e),sr(r,"onChange");break;default:_=n}ir(o,_);var u=_;for(s in u)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?rr(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&Ke(e,c):"children"===s?"string"==typeof c?("textarea"!==o||""!==c)&&je(e,c):"number"==typeof c&&je(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(P.hasOwnProperty(s)?null!=c&&sr(r,s):null!=c&&Y(e,s,c,l))}switch(o){case"input":ve(e),we(e,n,!1);break;case"textarea":ve(e),Le(e);break;case"option":null!=n.value&&e.setAttribute("value",""+ge(n.value));break;case"select":e.multiple=!!n.multiple,null!=(r=n.value)?Te(e,!!n.multiple,r,!1):null!=n.defaultValue&&Te(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof _.onClick&&(e.onclick=lr)}mr(o,n)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Fa(0,t,e.memoizedProps,n);else{if("string"!=typeof n&&null===t.stateNode)throw Error(a(166));r=Ao(ko.current),Ao(Do.current),Ca(t)?(r=t.stateNode,n=t.memoizedProps,r[Mr]=t,r.nodeValue!==n&&(t.effectTag|=4)):((r=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[Mr]=t,t.stateNode=r)}return null;case 13:return li(Bo),n=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=r,t):(r=null!==n,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ca(t):(n=null!==(o=e.memoizedState),r||null===o||null!==(o=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=o,o.nextEffect=s):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Bo.current)?Cs===vs&&(Cs=Es):(Cs!==vs&&Cs!==Es||(Cs=Os),0!==Is&&null!==Ps&&(Ll(Ps,ws),Rl(Ps,Is)))),(r||n)&&(t.effectTag|=4),null);case 4:return Lo(),null;case 10:return eo(t),null;case 17:return fi(t.type)&&mi(),null;case 19:if(li(Bo),null===(n=t.memoizedState))return null;if(o=0!=(64&t.effectTag),null===(s=n.rendering)){if(o)Xa(n,!1);else if(Cs!==vs||null!==e&&0!=(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Uo(s))){for(t.effectTag|=64,Xa(n,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===n.lastEffect&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=t.child;null!==n;)s=r,(o=n).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),n=n.sibling;return _i(Bo,1&Bo.current|2),t.child}s=s.sibling}}else{if(!o)if(null!==(e=Uo(s))){if(t.effectTag|=64,o=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),Xa(n,!0),null===n.tail&&"hidden"===n.tailMode&&!s.alternate)return null!==(t=t.lastEffect=n.lastEffect)&&(t.nextEffect=null),null}else 2*Ki()-n.renderingStartTime>n.tailExpiration&&1<r&&(t.effectTag|=64,o=!0,Xa(n,!1),t.expirationTime=t.childExpirationTime=r-1);n.isBackwards?(s.sibling=t.child,t.child=s):(null!==(r=n.last)?r.sibling=s:t.child=s,n.last=s)}return null!==n.tail?(0===n.tailExpiration&&(n.tailExpiration=Ki()+500),r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=Ki(),r.sibling=null,t=Bo.current,_i(Bo,o?1&t|2:1&t),r):null}throw Error(a(156,t.tag))}function Ya(e){switch(e.tag){case 1:fi(e.type)&&mi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Lo(),li(pi),li(ci),0!=(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return So(e),null;case 13:return li(Bo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return li(Bo),null;case 4:return Lo(),null;case 10:return eo(e),null;default:return null}}function Ja(e,t){return{value:e,source:t,stack:ye(t)}}ja=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},za=function(e,t,r,n,o){var a=e.memoizedProps;if(a!==n){var s,l,_=t.stateNode;switch(Ao(Do.current),e=null,r){case"input":a=Oe(_,a),n=Oe(_,n),e=[];break;case"option":a=De(_,a),n=De(_,n),e=[];break;case"select":a=i({},a,{value:void 0}),n=i({},n,{value:void 0}),e=[];break;case"textarea":a=ke(_,a),n=ke(_,n),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof n.onClick&&(_.onclick=lr)}for(s in ir(r,n),r=null,a)if(!n.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in _=a[s])_.hasOwnProperty(l)&&(r||(r={}),r[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(P.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in n){var u=n[s];if(_=null!=a?a[s]:void 0,n.hasOwnProperty(s)&&u!==_&&(null!=u||null!=_))if("style"===s)if(_){for(l in _)!_.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in u)u.hasOwnProperty(l)&&_[l]!==u[l]&&(r||(r={}),r[l]=u[l])}else r||(e||(e=[]),e.push(s,r)),r=u;else"dangerouslySetInnerHTML"===s?(u=u?u.__html:void 0,_=_?_.__html:void 0,null!=u&&_!==u&&(e=e||[]).push(s,u)):"children"===s?_===u||"string"!=typeof u&&"number"!=typeof u||(e=e||[]).push(s,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(P.hasOwnProperty(s)?(null!=u&&sr(o,s),e||_===u||(e=[])):(e=e||[]).push(s,u))}r&&(e=e||[]).push("style",r),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},Fa=function(e,t,r,n){r!==n&&(t.effectTag|=4)};var Qa="function"==typeof WeakSet?WeakSet:Set;function es(e,t){var r=t.source,n=t.stack;null===n&&null!==r&&(n=ye(r)),null!==r&&me(r.type),t=t.value,null!==e&&1===e.tag&&me(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function ts(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){gl(e,t)}else t.current=null}function rs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var r=e.memoizedProps,n=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?r:Zi(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ns(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.destroy;r.destroy=void 0,void 0!==n&&n()}r=r.next}while(r!==t)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function os(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:return void is(3,r);case 1:if(e=r.stateNode,4&r.effectTag)if(null===t)e.componentDidMount();else{var n=r.elementType===r.type?t.memoizedProps:Zi(r.type,t.memoizedProps);e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=r.updateQueue)&&co(r,t,e));case 3:if(null!==(t=r.updateQueue)){if(e=null,null!==r.child)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}co(r,t,e)}return;case 5:return e=r.stateNode,void(null===t&&4&r.effectTag&&mr(r.type,r.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&Bt(r)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function as(e,t,r){switch("function"==typeof Ol&&Ol(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e.next;Fi(97<r?97:r,(function(){var e=n;do{var r=e.destroy;if(void 0!==r){var i=t;try{r()}catch(e){gl(i,e)}}e=e.next}while(e!==n)}))}break;case 1:ts(t),"function"==typeof(r=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){gl(e,t)}}(t,r);break;case 5:ts(t);break;case 4:us(e,t,r)}}function ss(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ss(t)}function ls(e){return 5===e.tag||3===e.tag||4===e.tag}function _s(e){e:{for(var t=e.return;null!==t;){if(ls(t)){var r=t;break e}t=t.return}throw Error(a(160))}switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:case 4:t=t.containerInfo,n=!0;break;default:throw Error(a(161))}16&r.effectTag&&(je(t,""),r.effectTag&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||ls(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.effectTag)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.effectTag)){r=r.stateNode;break e}}n?function e(t,r,n){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,r?8===n.nodeType?n.parentNode.insertBefore(t,r):n.insertBefore(t,r):(8===n.nodeType?(r=n.parentNode).insertBefore(t,n):(r=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==r.onclick||(r.onclick=lr));else if(4!==i&&null!==(t=t.child))for(e(t,r,n),t=t.sibling;null!==t;)e(t,r,n),t=t.sibling}(e,r,t):function e(t,r,n){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,r?n.insertBefore(t,r):n.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,r,n),t=t.sibling;null!==t;)e(t,r,n),t=t.sibling}(e,r,t)}function us(e,t,r){for(var n,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(n=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:n=n.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var l=e,_=o,u=r,c=_;;)if(as(l,c,u),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===_)break e;for(;null===c.sibling;){if(null===c.return||c.return===_)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}i?(l=n,_=o.stateNode,8===l.nodeType?l.parentNode.removeChild(_):l.removeChild(_)):n.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){n=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(as(e,o,r),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function cs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ns(3,t);case 1:return;case 5:var r=t.stateNode;if(null!=r){var n=t.memoizedProps,i=null!==e?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(r[Pr]=n,"input"===e&&"radio"===n.type&&null!=n.name&&Pe(r,n),or(e,i),t=or(e,n),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?rr(r,l):"dangerouslySetInnerHTML"===s?Ke(r,l):"children"===s?je(r,l):Y(r,s,l,t)}switch(e){case"input":xe(r,n);break;case"textarea":Ie(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,null!=(e=n.value)?Te(r,!!n.multiple,e,!1):t!==!!n.multiple&&(null!=n.defaultValue?Te(r,!!n.multiple,n.defaultValue,!0):Te(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Bt(t.containerInfo)));case 12:return;case 13:if(r=t,null===t.memoizedState?n=!1:(n=!0,r=t.child,Rs=Ki()),null!==r)e:for(e=r;;){if(5===e.tag)o=e.stateNode,n?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=null!=(i=e.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=tr("display",i));else if(6===e.tag)e.stateNode.nodeValue=n?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===r)break;for(;null===e.sibling;){if(null===e.return||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void ps(t);case 19:return void ps(t);case 17:return}throw Error(a(163))}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Qa),t.forEach((function(t){var n=vl.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}var ds="function"==typeof WeakMap?WeakMap:Map;function hs(e,t,r){(r=so(r,null)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Bs||(Bs=!0,Us=n),es(e,t)},r}function fs(e,t,r){(r=so(r,null)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var i=t.value;r.payload=function(){return es(e,t),n(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(r.callback=function(){"function"!=typeof n&&(null===Ws?Ws=new Set([this]):Ws.add(this),es(e,t));var r=t.stack;this.componentDidCatch(t.value,{componentStack:null!==r?r:""})}),r}var ms,ys=Math.ceil,gs=$.ReactCurrentDispatcher,bs=$.ReactCurrentOwner,vs=0,Es=3,Os=4,Ms=0,Ps=null,xs=null,ws=0,Cs=vs,Ds=null,Ts=1073741823,ks=1073741823,As=null,Is=0,Ls=!1,Rs=0,Ss=null,Bs=!1,Us=null,Ws=null,Ks=!1,js=null,zs=90,Fs=null,qs=0,Ns=null,Hs=0;function Gs(){return 0!=(48&Ms)?1073741821-(Ki()/10|0):0!==Hs?Hs:Hs=1073741821-(Ki()/10|0)}function Vs(e,t,r){if(0==(2&(t=t.mode)))return 1073741823;var n=ji();if(0==(4&t))return 99===n?1073741823:1073741822;if(0!=(16&Ms))return ws;if(null!==r)e=Vi(e,0|r.timeoutMs||5e3,250);else switch(n){case 99:e=1073741823;break;case 98:e=Vi(e,150,100);break;case 97:case 96:e=Vi(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==Ps&&e===ws&&--e,e}function Zs(e,t){if(50<qs)throw qs=0,Ns=null,Error(a(185));if(null!==(e=Xs(e,t))){var r=ji();1073741823===t?0!=(8&Ms)&&0==(48&Ms)?Qs(e):(Ys(e),0===Ms&&Hi()):Ys(e),0==(4&Ms)||98!==r&&99!==r||(null===Fs?Fs=new Map([[e,t]]):(void 0===(r=Fs.get(e))||r>t)&&Fs.set(e,t))}}function Xs(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t);var n=e.return,i=null;if(null===n&&3===e.tag)i=e.stateNode;else for(;null!==n;){if(r=n.alternate,n.childExpirationTime<t&&(n.childExpirationTime=t),null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t),null===n.return&&3===n.tag){i=n.stateNode;break}n=n.return}return null!==i&&(Ps===i&&(al(t),Cs===Os&&Ll(i,ws)),Rl(i,t)),i}function $s(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Il(e,t=e.firstPendingTime))return t;var r=e.lastPingedTime;return 2>=(e=r>(e=e.nextKnownPendingLevel)?r:e)&&t!==e?0:e}function Ys(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Ni(Qs.bind(null,e));else{var t=$s(e),r=e.callbackNode;if(0===t)null!==r&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var n=Gs();if(1073741823===t?n=99:1===t||2===t?n=95:n=0>=(n=10*(1073741821-t)-10*(1073741821-n))?99:250>=n?98:5250>=n?97:95,null!==r){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=n)return;r!==Ii&&Mi(r)}e.callbackExpirationTime=t,e.callbackPriority=n,t=1073741823===t?Ni(Qs.bind(null,e)):qi(n,Js.bind(null,e),{timeout:10*(1073741821-t)-Ki()}),e.callbackNode=t}}}function Js(e,t){if(Hs=0,t)return Sl(e,t=Gs()),Ys(e),null;var r=$s(e);if(0!==r){if(t=e.callbackNode,0!=(48&Ms))throw Error(a(327));if(fl(),e===Ps&&r===ws||rl(e,r),null!==xs){var n=Ms;Ms|=16;for(var i=il();;)try{ll();break}catch(t){nl(e,t)}if(Qi(),Ms=n,gs.current=i,1===Cs)throw t=Ds,rl(e,r),Ll(e,r),Ys(e),t;if(null===xs)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=r,n=Cs,Ps=null,n){case vs:case 1:throw Error(a(345));case 2:Sl(e,2<r?2:r);break;case Es:if(Ll(e,r),r===(n=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=cl(i)),1073741823===Ts&&10<(i=Rs+500-Ki())){if(Ls){var o=e.lastPingedTime;if(0===o||o>=r){e.lastPingedTime=r,rl(e,r);break}}if(0!==(o=$s(e))&&o!==r)break;if(0!==n&&n!==r){e.lastPingedTime=n;break}e.timeoutHandle=gr(pl.bind(null,e),i);break}pl(e);break;case Os:if(Ll(e,r),r===(n=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=cl(i)),Ls&&(0===(i=e.lastPingedTime)||i>=r)){e.lastPingedTime=r,rl(e,r);break}if(0!==(i=$s(e))&&i!==r)break;if(0!==n&&n!==r){e.lastPingedTime=n;break}if(1073741823!==ks?n=10*(1073741821-ks)-Ki():1073741823===Ts?n=0:(n=10*(1073741821-Ts)-5e3,0>(n=(i=Ki())-n)&&(n=0),(r=10*(1073741821-r)-i)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ys(n/1960))-n)&&(n=r)),10<n){e.timeoutHandle=gr(pl.bind(null,e),n);break}pl(e);break;case 5:if(1073741823!==Ts&&null!==As){o=Ts;var s=As;if(0>=(n=0|s.busyMinDurationMs)?n=0:(i=0|s.busyDelayMs,n=(o=Ki()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+n-o),10<n){Ll(e,r),e.timeoutHandle=gr(pl.bind(null,e),n);break}}pl(e);break;default:throw Error(a(329))}if(Ys(e),e.callbackNode===t)return Js.bind(null,e)}}return null}function Qs(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&Ms))throw Error(a(327));if(fl(),e===Ps&&t===ws||rl(e,t),null!==xs){var r=Ms;Ms|=16;for(var n=il();;)try{sl();break}catch(t){nl(e,t)}if(Qi(),Ms=r,gs.current=n,1===Cs)throw r=Ds,rl(e,t),Ll(e,t),Ys(e),r;if(null!==xs)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ps=null,pl(e),Ys(e)}return null}function el(e,t){var r=Ms;Ms|=1;try{return e(t)}finally{0===(Ms=r)&&Hi()}}function tl(e,t){var r=Ms;Ms&=-2,Ms|=8;try{return e(t)}finally{0===(Ms=r)&&Hi()}}function rl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,br(r)),null!==xs)for(r=xs.return;null!==r;){var n=r;switch(n.tag){case 1:null!=(n=n.type.childContextTypes)&&mi();break;case 3:Lo(),li(pi),li(ci);break;case 5:So(n);break;case 4:Lo();break;case 13:case 19:li(Bo);break;case 10:eo(n)}r=r.return}Ps=e,xs=wl(e.current,null),ws=t,Cs=vs,Ds=null,ks=Ts=1073741823,As=null,Is=0,Ls=!1}function nl(e,t){for(;;){try{if(Qi(),Ko.current=ma,Ho)for(var r=Fo.memoizedState;null!==r;){var n=r.queue;null!==n&&(n.pending=null),r=r.next}if(zo=0,No=qo=Fo=null,Ho=!1,null===xs||null===xs.return)return Cs=1,Ds=t,xs=null;e:{var i=e,o=xs.return,a=xs,s=t;if(t=ws,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var l=s;if(0==(2&a.mode)){var _=a.alternate;_?(a.updateQueue=_.updateQueue,a.memoizedState=_.memoizedState,a.expirationTime=_.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var u=0!=(1&Bo.current),c=o;do{var p;if(p=13===c.tag){var d=c.memoizedState;if(null!==d)p=null!==d.dehydrated;else{var h=c.memoizedProps;p=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!u)}}if(p){var f=c.updateQueue;if(null===f){var m=new Set;m.add(l),c.updateQueue=m}else f.add(l);if(0==(2&c.mode)){if(c.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var y=so(1073741823,null);y.tag=2,lo(a,y)}a.expirationTime=1073741823;break e}s=void 0,a=t;var g=i.pingCache;if(null===g?(g=i.pingCache=new ds,s=new Set,g.set(l,s)):void 0===(s=g.get(l))&&(s=new Set,g.set(l,s)),!s.has(a)){s.add(a);var b=bl.bind(null,i,l,a);l.then(b,b)}c.effectTag|=4096,c.expirationTime=t;break e}c=c.return}while(null!==c);s=Error((me(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ye(a))}5!==Cs&&(Cs=2),s=Ja(s,a),c=o;do{switch(c.tag){case 3:l=s,c.effectTag|=4096,c.expirationTime=t,_o(c,hs(c,l,t));break e;case 1:l=s;var v=c.type,E=c.stateNode;if(0==(64&c.effectTag)&&("function"==typeof v.getDerivedStateFromError||null!==E&&"function"==typeof E.componentDidCatch&&(null===Ws||!Ws.has(E)))){c.effectTag|=4096,c.expirationTime=t,_o(c,fs(c,l,t));break e}}c=c.return}while(null!==c)}xs=ul(xs)}catch(e){t=e;continue}break}}function il(){var e=gs.current;return gs.current=ma,null===e?ma:e}function ol(e,t){e<Ts&&2<e&&(Ts=e),null!==t&&e<ks&&2<e&&(ks=e,As=t)}function al(e){e>Is&&(Is=e)}function sl(){for(;null!==xs;)xs=_l(xs)}function ll(){for(;null!==xs&&!Li();)xs=_l(xs)}function _l(e){var t=ms(e.alternate,e,ws);return e.memoizedProps=e.pendingProps,null===t&&(t=ul(e)),bs.current=null,t}function ul(e){xs=e;do{var t=xs.alternate;if(e=xs.return,0==(2048&xs.effectTag)){if(t=$a(t,xs,ws),1===ws||1!==xs.childExpirationTime){for(var r=0,n=xs.child;null!==n;){var i=n.expirationTime,o=n.childExpirationTime;i>r&&(r=i),o>r&&(r=o),n=n.sibling}xs.childExpirationTime=r}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=xs.firstEffect),null!==xs.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=xs.firstEffect),e.lastEffect=xs.lastEffect),1<xs.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=xs:e.firstEffect=xs,e.lastEffect=xs))}else{if(null!==(t=Ya(xs)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=xs.sibling))return t;xs=e}while(null!==xs);return Cs===vs&&(Cs=5),null}function cl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function pl(e){var t=ji();return Fi(99,dl.bind(null,e,t)),null}function dl(e,t){do{fl()}while(null!==js);if(0!=(48&Ms))throw Error(a(327));var r=e.finishedWork,n=e.finishedExpirationTime;if(null===r)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=cl(r);if(e.firstPendingTime=i,n<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:n<=e.firstSuspendedTime&&(e.firstSuspendedTime=n-1),n<=e.lastPingedTime&&(e.lastPingedTime=0),n<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ps&&(xs=Ps=null,ws=0),1<r.effectTag?null!==r.lastEffect?(r.lastEffect.nextEffect=r,i=r.firstEffect):i=r:i=r.firstEffect,null!==i){var o=Ms;Ms|=32,bs.current=null,hr=Gt;var s=pr();if(dr(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var _=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(_&&0!==_.rangeCount){l=_.anchorNode;var u=_.anchorOffset,c=_.focusNode;_=_.focusOffset;try{l.nodeType,c.nodeType}catch(e){l=null;break e}var p=0,d=-1,h=-1,f=0,m=0,y=s,g=null;t:for(;;){for(var b;y!==l||0!==u&&3!==y.nodeType||(d=p+u),y!==c||0!==_&&3!==y.nodeType||(h=p+_),3===y.nodeType&&(p+=y.nodeValue.length),null!==(b=y.firstChild);)g=y,y=b;for(;;){if(y===s)break t;if(g===l&&++f===u&&(d=p),g===c&&++m===_&&(h=p),null!==(b=y.nextSibling))break;g=(y=g).parentNode}y=b}l=-1===d||-1===h?null:{start:d,end:h}}else l=null}l=l||{start:0,end:0}}else l=null;fr={activeElementDetached:null,focusedElem:s,selectionRange:l},Gt=!1,Ss=i;do{try{hl()}catch(e){if(null===Ss)throw Error(a(330));gl(Ss,e),Ss=Ss.nextEffect}}while(null!==Ss);Ss=i;do{try{for(s=e,l=t;null!==Ss;){var v=Ss.effectTag;if(16&v&&je(Ss.stateNode,""),128&v){var E=Ss.alternate;if(null!==E){var O=E.ref;null!==O&&("function"==typeof O?O(null):O.current=null)}}switch(1038&v){case 2:_s(Ss),Ss.effectTag&=-3;break;case 6:_s(Ss),Ss.effectTag&=-3,cs(Ss.alternate,Ss);break;case 1024:Ss.effectTag&=-1025;break;case 1028:Ss.effectTag&=-1025,cs(Ss.alternate,Ss);break;case 4:cs(Ss.alternate,Ss);break;case 8:us(s,u=Ss,l),ss(u)}Ss=Ss.nextEffect}}catch(e){if(null===Ss)throw Error(a(330));gl(Ss,e),Ss=Ss.nextEffect}}while(null!==Ss);if(O=fr,E=pr(),v=O.focusedElem,l=O.selectionRange,E!==v&&v&&v.ownerDocument&&function e(t,r){return!(!t||!r)&&(t===r||(!t||3!==t.nodeType)&&(r&&3===r.nodeType?e(t,r.parentNode):"contains"in t?t.contains(r):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(r))))}(v.ownerDocument.documentElement,v)){null!==l&&dr(v)&&(E=l.start,void 0===(O=l.end)&&(O=E),"selectionStart"in v?(v.selectionStart=E,v.selectionEnd=Math.min(O,v.value.length)):(O=(E=v.ownerDocument||document)&&E.defaultView||window).getSelection&&(O=O.getSelection(),u=v.textContent.length,s=Math.min(l.start,u),l=void 0===l.end?s:Math.min(l.end,u),!O.extend&&s>l&&(u=l,l=s,s=u),u=cr(v,s),c=cr(v,l),u&&c&&(1!==O.rangeCount||O.anchorNode!==u.node||O.anchorOffset!==u.offset||O.focusNode!==c.node||O.focusOffset!==c.offset)&&((E=E.createRange()).setStart(u.node,u.offset),O.removeAllRanges(),s>l?(O.addRange(E),O.extend(c.node,c.offset)):(E.setEnd(c.node,c.offset),O.addRange(E))))),E=[];for(O=v;O=O.parentNode;)1===O.nodeType&&E.push({element:O,left:O.scrollLeft,top:O.scrollTop});for("function"==typeof v.focus&&v.focus(),v=0;v<E.length;v++)(O=E[v]).element.scrollLeft=O.left,O.element.scrollTop=O.top}Gt=!!hr,fr=hr=null,e.current=r,Ss=i;do{try{for(v=e;null!==Ss;){var M=Ss.effectTag;if(36&M&&os(v,Ss.alternate,Ss),128&M){E=void 0;var P=Ss.ref;if(null!==P){var x=Ss.stateNode;switch(Ss.tag){case 5:E=x;break;default:E=x}"function"==typeof P?P(E):P.current=E}}Ss=Ss.nextEffect}}catch(e){if(null===Ss)throw Error(a(330));gl(Ss,e),Ss=Ss.nextEffect}}while(null!==Ss);Ss=null,Ri(),Ms=o}else e.current=r;if(Ks)Ks=!1,js=e,zs=t;else for(Ss=i;null!==Ss;)t=Ss.nextEffect,Ss.nextEffect=null,Ss=t;if(0===(t=e.firstPendingTime)&&(Ws=null),1073741823===t?e===Ns?qs++:(qs=0,Ns=e):qs=0,"function"==typeof El&&El(r.stateNode,n),Ys(e),Bs)throw Bs=!1,e=Us,Us=null,e;return 0!=(8&Ms)||Hi(),null}function hl(){for(;null!==Ss;){var e=Ss.effectTag;0!=(256&e)&&rs(Ss.alternate,Ss),0==(512&e)||Ks||(Ks=!0,qi(97,(function(){return fl(),null}))),Ss=Ss.nextEffect}}function fl(){if(90!==zs){var e=97<zs?97:zs;return zs=90,Fi(e,ml)}}function ml(){if(null===js)return!1;var e=js;if(js=null,0!=(48&Ms))throw Error(a(331));var t=Ms;for(Ms|=32,e=e.current.firstEffect;null!==e;){try{var r=e;if(0!=(512&r.effectTag))switch(r.tag){case 0:case 11:case 15:case 22:ns(5,r),is(5,r)}}catch(t){if(null===e)throw Error(a(330));gl(e,t)}r=e.nextEffect,e.nextEffect=null,e=r}return Ms=t,Hi(),!0}function yl(e,t,r){lo(e,t=hs(e,t=Ja(r,t),1073741823)),null!==(e=Xs(e,1073741823))&&Ys(e)}function gl(e,t){if(3===e.tag)yl(e,e,t);else for(var r=e.return;null!==r;){if(3===r.tag){yl(r,e,t);break}if(1===r.tag){var n=r.stateNode;if("function"==typeof r.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===Ws||!Ws.has(n))){lo(r,e=fs(r,e=Ja(t,e),1073741823)),null!==(r=Xs(r,1073741823))&&Ys(r);break}}r=r.return}}function bl(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),Ps===e&&ws===r?Cs===Os||Cs===Es&&1073741823===Ts&&Ki()-Rs<500?rl(e,ws):Ls=!0:Il(e,r)&&(0!==(t=e.lastPingedTime)&&t<r||(e.lastPingedTime=r,Ys(e)))}function vl(e,t){var r=e.stateNode;null!==r&&r.delete(t),0===(t=0)&&(t=Vs(t=Gs(),e,null)),null!==(e=Xs(e,t))&&Ys(e)}ms=function(e,t,r){var n=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||pi.current)ka=!0;else{if(n<r){switch(ka=!1,t.tag){case 3:Ka(t),Da();break;case 5:if(Ro(t),4&t.mode&&1!==r&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:fi(t.type)&&bi(t);break;case 4:Io(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value,i=t.type._context,_i(Xi,i._currentValue),i._currentValue=n;break;case 13:if(null!==t.memoizedState)return 0!==(n=t.child.childExpirationTime)&&n>=r?Na(e,t,r):(_i(Bo,1&Bo.current),null!==(t=Za(e,t,r))?t.sibling:null);_i(Bo,1&Bo.current);break;case 19:if(n=t.childExpirationTime>=r,0!=(64&e.effectTag)){if(n)return Va(e,t,r);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),_i(Bo,Bo.current),!n)return null}return Za(e,t,r)}ka=!1}}else ka=!1;switch(t.expirationTime=0,t.tag){case 2:if(n=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=hi(t,ci.current),ro(t,r),i=Zo(null,t,n,e,i,r),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,fi(n)){var o=!0;bi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(t);var s=n.getDerivedStateFromProps;"function"==typeof s&&fo(t,n,s,e),i.updater=mo,t.stateNode=i,i._reactInternalFiber=t,vo(t,n,e,r),t=Wa(null,t,n,!0,o,r)}else t.tag=0,Aa(null,t,i,r),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"==typeof e)return xl(e)?1:0;if(null!=e){if((e=e.$$typeof)===le)return 11;if(e===ce)return 14}return 2}(i),e=Zi(i,e),o){case 0:t=Ba(null,t,i,e,r);break e;case 1:t=Ua(null,t,i,e,r);break e;case 11:t=Ia(null,t,i,e,r);break e;case 14:t=La(null,t,i,Zi(i.type,e),n,r);break e}throw Error(a(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,Ba(e,t,n,i=t.elementType===n?i:Zi(n,i),r);case 1:return n=t.type,i=t.pendingProps,Ua(e,t,n,i=t.elementType===n?i:Zi(n,i),r);case 3:if(Ka(t),n=t.updateQueue,null===e||null===n)throw Error(a(282));if(n=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ao(e,t),uo(t,n,null,r),(n=t.memoizedState.element)===i)Da(),t=Za(e,t,r);else{if((i=t.stateNode.hydrate)&&(Ea=vr(t.stateNode.containerInfo.firstChild),va=t,i=Oa=!0),i)for(r=wo(t,null,n,r),t.child=r;r;)r.effectTag=-3&r.effectTag|1024,r=r.sibling;else Aa(e,t,n,r),Da();t=t.child}return t;case 5:return Ro(t),null===e&&xa(t),n=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,yr(n,i)?s=null:null!==o&&yr(n,o)&&(t.effectTag|=16),Sa(e,t),4&t.mode&&1!==r&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Aa(e,t,s,r),t=t.child),t;case 6:return null===e&&xa(t),null;case 13:return Na(e,t,r);case 4:return Io(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=xo(t,null,n,r):Aa(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,Ia(e,t,n,i=t.elementType===n?i:Zi(n,i),r);case 7:return Aa(e,t,t.pendingProps,r),t.child;case 8:case 12:return Aa(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var l=t.type._context;if(_i(Xi,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=Un(l,o)?0:0|("function"==typeof n._calculateChangedBits?n._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!pi.current){t=Za(e,t,r);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var _=l.dependencies;if(null!==_){s=l.child;for(var u=_.firstContext;null!==u;){if(u.context===n&&0!=(u.observedBits&o)){1===l.tag&&((u=so(r,null)).tag=2,lo(l,u)),l.expirationTime<r&&(l.expirationTime=r),null!==(u=l.alternate)&&u.expirationTime<r&&(u.expirationTime=r),to(l.return,r),_.expirationTime<r&&(_.expirationTime=r);break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Aa(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=(o=t.pendingProps).children,ro(t,r),n=n(i=no(i,o.unstable_observedBits)),t.effectTag|=1,Aa(e,t,n,r),t.child;case 14:return o=Zi(i=t.type,t.pendingProps),La(e,t,i,o=Zi(i.type,o),n,r);case 15:return Ra(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Zi(n,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,fi(n)?(e=!0,bi(t)):e=!1,ro(t,r),go(t,n,i),vo(t,n,i,r),Wa(null,t,n,!0,e,r);case 19:return Va(e,t,r)}throw Error(a(156,t.tag))};var El=null,Ol=null;function Ml(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Pl(e,t,r,n){return new Ml(e,t,r,n)}function xl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function wl(e,t){var r=e.alternate;return null===r?((r=Pl(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childExpirationTime=e.childExpirationTime,r.expirationTime=e.expirationTime,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Cl(e,t,r,n,i,o){var s=2;if(n=e,"function"==typeof e)xl(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case re:return Dl(r.children,i,o,t);case se:s=8,i|=7;break;case ne:s=8,i|=1;break;case ie:return(e=Pl(12,r,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=o,e;case _e:return(e=Pl(13,r,t,i)).type=_e,e.elementType=_e,e.expirationTime=o,e;case ue:return(e=Pl(19,r,t,i)).elementType=ue,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case oe:s=10;break e;case ae:s=9;break e;case le:s=11;break e;case ce:s=14;break e;case pe:s=16,n=null;break e;case de:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pl(s,r,t,i)).elementType=e,t.type=n,t.expirationTime=o,t}function Dl(e,t,r,n){return(e=Pl(7,e,n,t)).expirationTime=r,e}function Tl(e,t,r){return(e=Pl(6,e,null,t)).expirationTime=r,e}function kl(e,t,r){return(t=Pl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Al(e,t,r){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Il(e,t){var r=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==r&&r>=t&&e<=t}function Ll(e,t){var r=e.firstSuspendedTime,n=e.lastSuspendedTime;r<t&&(e.firstSuspendedTime=t),(n>t||0===r)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Rl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var r=e.firstSuspendedTime;0!==r&&(t>=r?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Sl(e,t){var r=e.lastExpiredTime;(0===r||r>t)&&(e.lastExpiredTime=t)}function Bl(e,t,r,n){var i=t.current,o=Gs(),s=po.suspense;o=Vs(o,i,s);e:if(r){t:{if(Qe(r=r._reactInternalFiber)!==r||1!==r.tag)throw Error(a(170));var l=r;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(fi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===r.tag){var _=r.type;if(fi(_)){r=gi(r,_,l);break e}}r=l}else r=ui;return null===t.context?t.context=r:t.pendingContext=r,(t=so(o,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),lo(i,t),Zs(i,o),o}function Ul(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Wl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Kl(e,t){Wl(e,t),(e=e.alternate)&&Wl(e,t)}function jl(e,t,r){var n=new Al(e,t,r=null!=r&&!0===r.hydrate),i=Pl(3,null,null,2===t?7:1===t?3:0);n.current=i,i.stateNode=n,oo(i),e[xr]=n.current,r&&0!==t&&function(e,t){var r=Je(t);wt.forEach((function(e){ht(e,t,r)})),Ct.forEach((function(e){ht(e,t,r)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=n}function zl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Fl(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Ul(a);s.call(e)}}Bl(t,a,e,i)}else{if(o=r._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new jl(e,0,t?{hydrate:!0}:void 0)}(r,n),a=o._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Ul(a);l.call(e)}}tl((function(){Bl(t,a,e,i)}))}return Ul(a)}function ql(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}function Nl(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!zl(t))throw Error(a(200));return ql(e,t,null,r)}jl.prototype.render=function(e){Bl(e,this._internalRoot,null,null)},jl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Bl(null,e,null,(function(){t[xr]=null}))},ft=function(e){if(13===e.tag){var t=Vi(Gs(),150,100);Zs(e,t),Kl(e,t)}},mt=function(e){13===e.tag&&(Zs(e,3),Kl(e,3))},yt=function(e){if(13===e.tag){var t=Gs();Zs(e,t=Vs(t,e,null)),Kl(e,t)}},D=function(e,t,r){switch(t){case"input":if(xe(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Tr(n);if(!i)throw Error(a(90));Ee(n),xe(n,i)}}}break;case"textarea":Ie(e,r);break;case"select":null!=(t=r.value)&&Te(e,!!r.multiple,t,!1)}},R=el,S=function(e,t,r,n,i){var o=Ms;Ms|=4;try{return Fi(98,e.bind(null,t,r,n,i))}finally{0===(Ms=o)&&Hi()}},B=function(){0==(49&Ms)&&(function(){if(null!==Fs){var e=Fs;Fs=null,e.forEach((function(e,t){Sl(t,e),Ys(t)})),Hi()}}(),fl())},U=function(e,t){var r=Ms;Ms|=2;try{return e(t)}finally{0===(Ms=r)&&Hi()}};var Hl,Gl,Vl={Events:[Cr,Dr,Tr,w,M,Br,function(e){it(e,Sr)},I,L,Yt,st,fl,{current:!1}]};Gl=(Hl={findFiberByHostInstance:wr,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var r=t.inject(e);El=function(e){try{t.onCommitFiberRoot(r,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Ol=function(e){try{t.onCommitFiberUnmount(r,e)}catch(e){}}}catch(e){}}(i({},Hl,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return Gl?Gl(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vl,t.createPortal=Nl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!=(48&Ms))throw Error(a(187));var r=Ms;Ms|=1;try{return Fi(99,e.bind(null,t))}finally{Ms=r,Hi()}},t.hydrate=function(e,t,r){if(!zl(t))throw Error(a(200));return Fl(null,e,t,!0,r)},t.render=function(e,t,r){if(!zl(t))throw Error(a(200));return Fl(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!zl(e))throw Error(a(40));return!!e._reactRootContainer&&(tl((function(){Fl(null,null,e,!1,(function(){e._reactRootContainer=null,e[xr]=null}))})),!0)},t.unstable_batchedUpdates=el,t.unstable_createPortal=function(e,t){return Nl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!zl(r))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return Fl(e,t,r,!1,n)},t.version="16.14.0"},function(e,t,r){"use strict";e.exports=r(338)},function(e,t,r){"use strict";
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n,i,o,a,s;if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,_=null,u=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(u,0),e}},c=Date.now();t.unstable_now=function(){return Date.now()-c},n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(u,0))},i=function(e,t){_=setTimeout(e,t)},o=function(){clearTimeout(_)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var p=window.performance,d=window.Date,h=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var m=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof p&&"function"==typeof p.now)t.unstable_now=function(){return p.now()};else{var y=d.now();t.unstable_now=function(){return d.now()-y}}var g=!1,b=null,v=-1,E=5,O=0;a=function(){return t.unstable_now()>=O},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):E=0<e?Math.floor(1e3/e):5};var M=new MessageChannel,P=M.port2;M.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();O=e+E;try{b(!0,e)?P.postMessage(null):(g=!1,b=null)}catch(e){throw P.postMessage(null),e}}else g=!1},n=function(e){b=e,g||(g=!0,P.postMessage(null))},i=function(e,r){v=h((function(){e(t.unstable_now())}),r)},o=function(){f(v),v=-1}}function x(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,i=e[n];if(!(void 0!==i&&0<D(i,t)))break e;e[n]=t,e[r]=i,r=n}}function w(e){return void 0===(e=e[0])?null:e}function C(e){var t=e[0];if(void 0!==t){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var o=2*(n+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>D(a,r))void 0!==l&&0>D(l,a)?(e[n]=l,e[s]=r,n=s):(e[n]=a,e[o]=r,n=o);else{if(!(void 0!==l&&0>D(l,r)))break e;e[n]=l,e[s]=r,n=s}}}return t}return null}function D(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}var T=[],k=[],A=1,I=null,L=3,R=!1,S=!1,B=!1;function U(e){for(var t=w(k);null!==t;){if(null===t.callback)C(k);else{if(!(t.startTime<=e))break;C(k),t.sortIndex=t.expirationTime,x(T,t)}t=w(k)}}function W(e){if(B=!1,U(e),!S)if(null!==w(T))S=!0,n(K);else{var t=w(k);null!==t&&i(W,t.startTime-e)}}function K(e,r){S=!1,B&&(B=!1,o()),R=!0;var n=L;try{for(U(r),I=w(T);null!==I&&(!(I.expirationTime>r)||e&&!a());){var s=I.callback;if(null!==s){I.callback=null,L=I.priorityLevel;var l=s(I.expirationTime<=r);r=t.unstable_now(),"function"==typeof l?I.callback=l:I===w(T)&&C(T),U(r)}else C(T);I=w(T)}if(null!==I)var _=!0;else{var u=w(k);null!==u&&i(W,u.startTime-r),_=!1}return _}finally{I=null,L=n,R=!1}}function j(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var z=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){S||R||(S=!0,n(K))},t.unstable_getCurrentPriorityLevel=function(){return L},t.unstable_getFirstCallbackNode=function(){return w(T)},t.unstable_next=function(e){switch(L){case 1:case 2:case 3:var t=3;break;default:t=L}var r=L;L=t;try{return e()}finally{L=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=z,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=L;L=e;try{return t()}finally{L=r}},t.unstable_scheduleCallback=function(e,r,a){var s=t.unstable_now();if("object"==typeof a&&null!==a){var l=a.delay;l="number"==typeof l&&0<l?s+l:s,a="number"==typeof a.timeout?a.timeout:j(e)}else a=j(e),l=s;return e={id:A++,callback:r,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,x(k,e),null===w(T)&&e===w(k)&&(B?o():B=!0,i(W,l-s))):(e.sortIndex=a,x(T,e),S||R||(S=!0,n(K))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();U(e);var r=w(T);return r!==I&&null!==I&&null!==r&&null!==r.callback&&r.startTime<=e&&r.expirationTime<I.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=L;return function(){var r=L;L=t;try{return e.apply(this,arguments)}finally{L=r}}}},function(e,t,r){var n=r(209);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t,n)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(void 0===e)return void console.error("Autobind error: No context provided.");var t=Object.getPrototypeOf(e);i=arguments.length>1?Array.prototype.slice.call(arguments,1):Object.getOwnPropertyNames(t);i.forEach((function(e){var r=Object.getOwnPropertyDescriptor(t,e);void 0!==r?-1===n.indexOf(e)&&"function"==typeof r.value&&Object.defineProperty(t,e,o(t,e,r)):console.warn('Autobind: "'+e+'" method not found in class.')}))};var n=["constructor","render","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","componentWillUnmount"],i=[];function o(e,t,r){var n=r.value;return{configurable:!0,get:function(){if(this===e||this.hasOwnProperty(t))return n;var r=n.bind(this);return Object.defineProperty(this,t,{value:r,configurable:!0,writable:!0}),r}}}e.exports=t.default},function(e,t,r){(function(e,n){var i;/*! https://mths.be/punycode v1.3.2 by @mathias */!function(o){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof n&&n;a.global!==a&&a.window!==a&&a.self;var s,l=2147483647,_=/^xn--/,u=/[^\x20-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,h=String.fromCharCode;function f(e){throw RangeError(p[e])}function m(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function y(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+m((e=e.replace(c,".")).split("."),t).join(".")}function g(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function b(e){return m(e,(function(e){var t="";return e>65535&&(t+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=h(e)})).join("")}function v(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function E(e,t,r){var n=0;for(e=r?d(e/700):e>>1,e+=d(e/t);e>455;n+=36)e=d(e/35);return d(n+36*e/(e+38))}function O(e){var t,r,n,i,o,a,s,_,u,c,p,h=[],m=e.length,y=0,g=128,v=72;for((r=e.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&f("not-basic"),h.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<m;){for(o=y,a=1,s=36;i>=m&&f("invalid-input"),((_=(p=e.charCodeAt(i++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:36)>=36||_>d((l-y)/a))&&f("overflow"),y+=_*a,!(_<(u=s<=v?1:s>=v+26?26:s-v));s+=36)a>d(l/(c=36-u))&&f("overflow"),a*=c;v=E(y-o,t=h.length+1,0==o),d(y/t)>l-g&&f("overflow"),g+=d(y/t),y%=t,h.splice(y++,0,g)}return b(h)}function M(e){var t,r,n,i,o,a,s,_,u,c,p,m,y,b,O,M=[];for(m=(e=g(e)).length,t=128,r=0,o=72,a=0;a<m;++a)(p=e[a])<128&&M.push(h(p));for(n=i=M.length,i&&M.push("-");n<m;){for(s=l,a=0;a<m;++a)(p=e[a])>=t&&p<s&&(s=p);for(s-t>d((l-r)/(y=n+1))&&f("overflow"),r+=(s-t)*y,t=s,a=0;a<m;++a)if((p=e[a])<t&&++r>l&&f("overflow"),p==t){for(_=r,u=36;!(_<(c=u<=o?1:u>=o+26?26:u-o));u+=36)O=_-c,b=36-c,M.push(h(v(c+O%b,0))),_=d(O/b);M.push(h(v(_,0))),o=E(r,y,n==i),r=0,++n}++r,++t}return M.join("")}s={version:"1.3.2",ucs2:{decode:g,encode:b},decode:O,encode:M,toASCII:function(e){return y(e,(function(e){return u.test(e)?"xn--"+M(e):e}))},toUnicode:function(e){return y(e,(function(e){return _.test(e)?O(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return s}.call(t,r,t,e))||(e.exports=i)}()}).call(this,r(101)(e),r(50))},function(e,t,r){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,o){t=t||"&",r=r||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var l=1e3;o&&"number"==typeof o.maxKeys&&(l=o.maxKeys);var _=e.length;l>0&&_>l&&(_=l);for(var u=0;u<_;++u){var c,p,d,h,f=e[u].replace(s,"%20"),m=f.indexOf(r);m>=0?(c=f.substr(0,m),p=f.substr(m+1)):(c=f,p=""),d=decodeURIComponent(c),h=decodeURIComponent(p),n(a,d)?i(a[d])?a[d].push(h):a[d]=[a[d],h]:a[d]=h}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,s){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?o(a(e),(function(a){var s=encodeURIComponent(n(a))+r;return i(e[a])?o(e[a],(function(e){return s+encodeURIComponent(n(e))})).join(t):s+encodeURIComponent(n(e[a]))})).join(t):s?encodeURIComponent(n(s))+r+encodeURIComponent(n(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var a=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t,r){var n=r(124),i=r(352),o=r(111),a=r(353),s=r(123);function l(e){return Object.keys(e.sources).forEach((function(t){var r;e.sources[t]=("raster"===(r=e.sources[t]).type||"raster-dem"===r.type)&&r.tileSize&&r.tiles?{type:r.type,tileSize:r.tileSize,tiles:r.tiles}:"raster"!==r.type&&"raster-dem"!==r.type||!r.url?r:{type:r.type,url:r.url}})),e}function _(e){if(!(this instanceof _))throw new Error("MapboxInspect needs to be called with the new keyword");var t,r,o=null;window.mapboxgl?(t=window.mapboxgl,(r=t.version.split(".").map(parseFloat))[0]<1&&r[1]<29&&console.error("MapboxInspect only supports Mapbox GL JS >= v0.29.0. Please upgrade your Mapbox GL JS version."),o=new window.mapboxgl.Popup({closeButton:!1,closeOnClick:!1})):e.popup||console.error("Mapbox GL JS can not be found. Make sure to include it or pass an initialized MapboxGL Popup to MapboxInspect if you are using moduleis."),this.options=Object.assign({showInspectMap:!1,showInspectButton:!0,showInspectMapPopup:!0,showMapPopup:!1,showMapPopupOnHover:!0,showInspectMapPopupOnHover:!0,blockHoverPopupOnClick:!1,backgroundColor:"#fff",assignLayerColor:s.brightColor,buildInspectStyle:n.generateInspectStyle,renderPopup:a,popup:o,selectThreshold:5,useInspectStyle:!0,queryParameters:{},sources:{}},e),this.sources=this.options.sources,this.assignLayerColor=this.options.assignLayerColor,this.toggleInspector=this.toggleInspector.bind(this),this._popup=this.options.popup,this._popupBlocked=!1,this._showInspectMap=this.options.showInspectMap,this._onSourceChange=this._onSourceChange.bind(this),this._onMousemove=this._onMousemove.bind(this),this._onStyleChange=this._onStyleChange.bind(this),this._originalStyle=null,this._toggle=new i({show:this.options.showInspectButton,onToggle:this.toggleInspector.bind(this)})}_.prototype.toggleInspector=function(){this._showInspectMap=!this._showInspectMap,this.render()},_.prototype._inspectStyle=function(){var e=n.generateColoredLayers(this.sources,this.assignLayerColor);return this.options.buildInspectStyle(this._map.getStyle(),e,{backgroundColor:this.options.backgroundColor})},_.prototype.render=function(){var e;this._showInspectMap?(this.options.useInspectStyle&&this._map.setStyle(l((e=this._inspectStyle(),Object.assign(e,{metadata:Object.assign({},e.metadata,{"mapbox-gl-inspect:inspect":!0})})))),this._toggle.setMapIcon()):this._originalStyle&&(this._popup&&this._popup.remove(),this.options.useInspectStyle&&this._map.setStyle(l(this._originalStyle)),this._toggle.setInspectIcon())},_.prototype._onSourceChange=function(){var e=this.sources,t=this._map,r=t.getStyle(),n=Object.keys(r.sources),i=Object.assign({},e);Object.keys(t.style.sourceCaches).forEach((function(r){var n=t.style.sourceCaches[r]||{_source:{}},i=n._source.vectorLayerIds;i?e[r]=i:"geojson"===n._source.type&&(e[r]=[])})),Object.keys(e).forEach((function(t){-1===n.indexOf(t)&&delete e[t]})),!o(i,e)&&Object.keys(e).length>0&&this.render()},_.prototype._onStyleChange=function(){var e=this._map.getStyle();(function(e){return e.metadata&&e.metadata["mapbox-gl-inspect:inspect"]})(e)||(this._originalStyle=e)},_.prototype._onMousemove=function(e){var t;t=0===this.options.selectThreshold?e.point:[[e.point.x-this.options.selectThreshold,e.point.y+this.options.selectThreshold],[e.point.x+this.options.selectThreshold,e.point.y-this.options.selectThreshold]];var r=this._map.queryRenderedFeatures(t,this.options.queryParameters)||[];if(this._map.getCanvas().style.cursor=r.length?"pointer":"",this._showInspectMap){if(!this.options.showInspectMapPopup)return;if("mousemove"===e.type&&!this.options.showInspectMapPopupOnHover)return;"click"===e.type&&this.options.showInspectMapPopupOnHover&&this.options.blockHoverPopupOnClick&&(this._popupBlocked=!this._popupBlocked)}else{if(!this.options.showMapPopup)return;if("mousemove"===e.type&&!this.options.showMapPopupOnHover)return;"click"===e.type&&this.options.showMapPopupOnHover&&this.options.blockHoverPopupOnClick&&(this._popupBlocked=!this._popupBlocked)}!this._popupBlocked&&this._popup&&(r.length?(this._popup.setLngLat(e.lngLat),"string"===typeof this.options.renderPopup(r)?this._popup.setHTML(this.options.renderPopup(r)):this._popup.setDOMContent(this.options.renderPopup(r)),this._popup.addTo(this._map)):this._popup.remove())},_.prototype.onAdd=function(e){return this._map=e,0===Object.keys(this.sources).length&&(e.on("tiledata",this._onSourceChange),e.on("sourcedata",this._onSourceChange)),e.on("styledata",this._onStyleChange),e.on("load",this._onStyleChange),e.on("mousemove",this._onMousemove),e.on("click",this._onMousemove),this._toggle.elem},_.prototype.onRemove=function(){this._map.off("styledata",this._onStyleChange),this._map.off("load",this._onStyleChange),this._map.off("tiledata",this._onSourceChange),this._map.off("sourcedata",this._onSourceChange),this._map.off("mousemove",this._onMousemove),this._map.off("click",this._onMousemove);var e=this._toggle.elem;e.parentNode.removeChild(e),this._map=void 0},e.exports=_},function(e,t){function r(e){var t;e=Object.assign({show:!0,onToggle:function(){}},e),this._btn=((t=document.createElement("button")).className="mapboxgl-ctrl-icon mapboxgl-ctrl-inspect",t.type="button",t["aria-label"]="Inspect",t),this._btn.onclick=e.onToggle,this.elem=function(e,t){var r=document.createElement("div");return r.className="mapboxgl-ctrl mapboxgl-ctrl-group",r.appendChild(e),t||(r.style.display="none"),r}(this._btn,e.show)}r.prototype.setInspectIcon=function(){this._btn.className="mapboxgl-ctrl-icon mapboxgl-ctrl-inspect"},r.prototype.setMapIcon=function(){this._btn.className="mapboxgl-ctrl-icon mapboxgl-ctrl-map"},e.exports=r},function(e,t){function r(e,t){return'<div class="mapbox-gl-inspect_property"><div class="mapbox-gl-inspect_property-name">'+e+'</div><div class="mapbox-gl-inspect_property-value">'+function(e){return null==e?e:e instanceof Date?e.toLocaleString():"object"==typeof e||"number"==typeof e||"string"==typeof e?e.toString():e}(t)+"</div></div>"}function n(e){return e.map((function(e){return'<div class="mapbox-gl-inspect_feature">'+(n='<div class="mapbox-gl-inspect_layer">'+((t=e).layer["source-layer"]||t.layer.source)+"</div>",i=r("$type",t.geometry.type),o=Object.keys(t.properties).map((function(e){return r(e,t.properties[e])})),[n,i].concat(o).join("")+"</div>");var t,n,i,o})).join("")}e.exports=function(e){return'<div class="mapbox-gl-inspect_popup">'+n(e)+"</div>"}},function(e,t,r){var n,i,o;i=[],void 0===(o="function"==typeof(n=function(){var e=null,t={};o("monochrome",null,[[0,0],[100,0]]),o("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),o("orange",[19,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),o("yellow",[47,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),o("green",[63,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),o("blue",[179,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),o("purple",[258,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),o("pink",[283,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]]);var r=function(o){if((o=o||{}).seed&&o.seed===parseInt(o.seed,10))e=o.seed;else if("string"==typeof o.seed)e=function(e){for(var t=0,r=0;r!==e.length&&!(t>=Number.MAX_SAFE_INTEGER);r++)t+=e.charCodeAt(r);return t}(o.seed);else{if(void 0!==o.seed&&null!==o.seed)throw new TypeError("The seed value must be an integer or string");e=null}var l,_;if(null!==o.count&&void 0!==o.count){var u=o.count,c=[];for(o.count=null;u>c.length;)e&&o.seed&&(o.seed+=1),c.push(r(o));return o.count=u,c}return function(e,t){switch(t.format){case"hsvArray":return e;case"hslArray":return s(e);case"hsl":var r=s(e);return"hsl("+r[0]+", "+r[1]+"%, "+r[2]+"%)";case"hsla":var n=s(e);return"hsla("+n[0]+", "+n[1]+"%, "+n[2]+"%, "+Math.random()+")";case"rgbArray":return a(e);case"rgb":return"rgb("+a(e).join(", ")+")";case"rgba":return"rgba("+a(e).join(", ")+", "+Math.random()+")";default:return function(e){var t=a(e);function r(e){var t=e.toString(16);return 1==t.length?"0"+t:t}return"#"+r(t[0])+r(t[1])+r(t[2])}(e)}}([l=function(e){var r=i(function(e){if("number"==typeof parseInt(e)){var r=parseInt(e);if(r<360&&r>0)return[r,r]}if("string"==typeof e&&t[e]){var n=t[e];if(n.hueRange)return n.hueRange}return[0,360]}(e.hue));return r<0&&(r=360+r),r}(o),_=function(e,t){if("random"===t.luminosity)return i([0,100]);if("monochrome"===t.hue)return 0;var r=function(e){return n(e).saturationRange}(e),o=r[0],a=r[1];switch(t.luminosity){case"bright":o=55;break;case"dark":o=a-10;break;case"light":a=55}return i([o,a])}(l,o),function(e,t,r){var o=function(e,t){for(var r=n(e).lowerBounds,i=0;i<r.length-1;i++){var o=r[i][0],a=r[i][1],s=r[i+1][0],l=r[i+1][1];if(t>=o&&t<=s){var _=(l-a)/(s-o);return _*t+(a-_*o)}}return 0}(e,t),a=100;switch(r.luminosity){case"dark":a=o+20;break;case"light":o=(a+o)/2;break;case"random":o=0,a=100}return i([o,a])}(l,_,o)],o)};function n(e){for(var r in e>=334&&e<=360&&(e-=360),t){var n=t[r];if(n.hueRange&&e>=n.hueRange[0]&&e<=n.hueRange[1])return t[r]}return"Color not found"}function i(t){if(null===e)return Math.floor(t[0]+Math.random()*(t[1]+1-t[0]));var r=t[1]||1,n=t[0]||0,i=(e=(9301*e+49297)%233280)/233280;return Math.floor(n+i*(r-n))}function o(e,r,n){var i=n[0][0],o=n[n.length-1][0],a=n[n.length-1][1],s=n[0][1];t[e]={hueRange:r,lowerBounds:n,saturationRange:[i,o],brightnessRange:[a,s]}}function a(e){var t=e[0];0===t&&(t=1),360===t&&(t=359),t/=360;var r=e[1]/100,n=e[2]/100,i=Math.floor(6*t),o=6*t-i,a=n*(1-r),s=n*(1-o*r),l=n*(1-(1-o)*r),_=256,u=256,c=256;switch(i){case 0:_=n,u=l,c=a;break;case 1:_=s,u=n,c=a;break;case 2:_=a,u=n,c=l;break;case 3:_=a,u=s,c=n;break;case 4:_=l,u=a,c=n;break;case 5:_=n,u=a,c=s}return[Math.floor(255*_),Math.floor(255*u),Math.floor(255*c)]}function s(e){var t=e[0],r=e[1]/100,n=e[2]/100,i=(2-r)*n;return[t,Math.round(r*n/(i<1?i:2-i)*1e4)/100,i/2*100]}return r})?n.apply(t,i):n)||(e.exports=o)},function(e,t,r){"use strict";var n=r(356);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,o,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){"use strict";t.byteLength=function(e){var t=_(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=_(e),a=n[0],s=n[1],l=new o(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),u=0,c=s>0?a-4:a;for(r=0;r<c;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,l[u++]=255&t);1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(u(e,a,a+16383>s?s:a+16383));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function _(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";var n=r(61),i=r.n(n),o=r(193),a={insert:"head",singleton:!1};i()(o.a,a),o.a.locals},function(e,t,r){"use strict";var n=r(61),i=r.n(n),o=r(194),a={insert:"head",singleton:!1};i()(o.a,a),o.a.locals},function(e,t,r){"use strict";(function(e,t){var n,i=r(81),o=r.n(i),a=r(268);(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var s,l,_=Object(a.readFileSync)(t+"/../../node_modules/@mapbox/mapbox-gl-rtl-text/mapbox-gl-rtl-text.js","utf8"),u=new window.Blob([_],{type:"text/javascript"}),c=window.URL.createObjectURL(u);o.a.setRTLTextPlugin(c),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(s.register(_,"data","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\mapbox-rtl.js"),s.register(u,"blob","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\mapbox-rtl.js"),s.register(c,"objectUrl","C:\\Repos\\Azure-Maps-Style-Editor\\code\\src\\libs\\mapbox-rtl.js")),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)}).call(this,r(14)(e),"/")},function(e,t,r){var n=r(213),i=r(363),o=Object.hasOwnProperty,a=Object.create(null);for(var s in n)o.call(n,s)&&(a[n[s]]=s);var l=e.exports={to:{},get:{}};function _(e,t,r){return Math.min(Math.max(t,e),r)}function u(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}l.get=function(e){var t,r;switch(e.substring(0,3).toLowerCase()){case"hsl":t=l.get.hsl(e),r="hsl";break;case"hwb":t=l.get.hwb(e),r="hwb";break;default:t=l.get.rgb(e),r="rgb"}return t?{model:r,value:t}:null},l.get.rgb=function(e){if(!e)return null;var t,r,i,a=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=t[2],t=t[1],r=0;r<3;r++){var s=2*r;a[r]=parseInt(t.slice(s,s+2),16)}i&&(a[3]=parseInt(i,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(i=(t=t[1])[3],r=0;r<3;r++)a[r]=parseInt(t[r]+t[r],16);i&&(a[3]=parseInt(i+i,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(r=0;r<3;r++)a[r]=parseInt(t[r+1],0);t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(t=e.match(/^(\w+)$/))?"transparent"===t[1]?[0,0,0,0]:o.call(n,t[1])?((a=n[t[1]])[3]=1,a):null:null;for(r=0;r<3;r++)a[r]=Math.round(2.55*parseFloat(t[r+1]));t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}for(r=0;r<3;r++)a[r]=_(a[r],0,255);return a[3]=_(a[3],0,1),a},l.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var r=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,_(parseFloat(t[2]),0,100),_(parseFloat(t[3]),0,100),_(isNaN(r)?1:r,0,1)]}return null},l.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var r=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,_(parseFloat(t[2]),0,100),_(parseFloat(t[3]),0,100),_(isNaN(r)?1:r,0,1)]}return null},l.to.hex=function(){var e=i(arguments);return"#"+u(e[0])+u(e[1])+u(e[2])+(e[3]<1?u(Math.round(255*e[3])):"")},l.to.rgb=function(){var e=i(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},l.to.rgb.percent=function(){var e=i(arguments),t=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),n=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+r+"%, "+n+"%)":"rgba("+t+"%, "+r+"%, "+n+"%, "+e[3]+")"},l.to.hsl=function(){var e=i(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},l.to.hwb=function(){var e=i(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},l.to.keyword=function(e){return a[e.slice(0,3)]}},function(e,t,r){"use strict";var n=r(364),i=Array.prototype.concat,o=Array.prototype.slice,a=e.exports=function(e){for(var t=[],r=0,a=e.length;r<a;r++){var s=e[r];n(s)?t=i.call(t,o.call(s)):t.push(s)}return t};a.wrap=function(e){return function(){return e(a(arguments))}}},function(e,t){e.exports=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},function(e,t,r){const n=r(214),i=r(366),o={};Object.keys(n).forEach(e=>{o[e]={},Object.defineProperty(o[e],"channels",{value:n[e].channels}),Object.defineProperty(o[e],"labels",{value:n[e].labels});const t=i(e);Object.keys(t).forEach(r=>{const n=t[r];o[e][r]=function(e){const t=function(...t){const r=t[0];if(null==r)return r;r.length>1&&(t=r);const n=e(t);if("object"==typeof n)for(let e=n.length,t=0;t<e;t++)n[t]=Math.round(n[t]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}(n),o[e][r].raw=function(e){const t=function(...t){const r=t[0];return null==r?r:(r.length>1&&(t=r),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(n)})}),e.exports=o},function(e,t,r){const n=r(214);function i(e){const t=function(){const e={},t=Object.keys(n);for(let r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}(),r=[e];for(t[e].distance=0;r.length;){const e=r.pop(),i=Object.keys(n[e]);for(let n=i.length,o=0;o<n;o++){const n=i[o],a=t[n];-1===a.distance&&(a.distance=t[e].distance+1,a.parent=e,r.unshift(n))}}return t}function o(e,t){return function(r){return t(e(r))}}function a(e,t){const r=[t[e].parent,e];let i=n[t[e].parent][e],a=t[e].parent;for(;t[a].parent;)r.unshift(t[a].parent),i=o(n[t[a].parent][a],i),a=t[a].parent;return i.conversion=r,i}e.exports=function(e){const t=i(e),r={},n=Object.keys(t);for(let e=n.length,i=0;i<e;i++){const e=n[i];null!==t[e].parent&&(r[e]=a(e,t))}return r}},function(e,t,r){"use strict";var n=r(61),i=r.n(n),o=r(195),a={insert:"head",singleton:!1};i()(o.a,a),o.a.locals},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,i,o,a,s,l=1,_={},u=!1,c=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){h(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){h(e.data)},n=function(e){o.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(i=c.documentElement,n=function(e){var t=c.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):n=function(e){setTimeout(h,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&h(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),n=function(t){e.postMessage(a+t,"*")}),p.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return _[l]=i,n(l),l++},p.clearImmediate=d}function d(e){delete _[e]}function h(e){if(u)setTimeout(h,0,e);else{var t=_[e];if(t){u=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{d(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(50),r(216))},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=_(e);if(t){var i=_(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}function s(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=r(1),c=r(79),p=r(2),d=r(370).createFocusTrap,h=r(82).isFocusable,f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(_,e);var t,r,n,s=a(_);function _(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_),(t=s.call(this,e)).handleDeactivate=t.handleDeactivate.bind(l(t)),t.handlePostDeactivate=t.handlePostDeactivate.bind(l(t)),t.handleClickOutsideDeactivates=t.handleClickOutsideDeactivates.bind(l(t)),t.internalOptions={returnFocusOnDeactivate:!1,checkCanReturnFocus:null,onDeactivate:t.handleDeactivate,onPostDeactivate:t.handlePostDeactivate,clickOutsideDeactivates:t.handleClickOutsideDeactivates},t.originalOptions={returnFocusOnDeactivate:!0,onDeactivate:null,onPostDeactivate:null,checkCanReturnFocus:null,clickOutsideDeactivates:!1};var r=e.focusTrapOptions;for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&("returnFocusOnDeactivate"!==n&&"onDeactivate"!==n&&"onPostDeactivate"!==n&&"checkCanReturnFocus"!==n&&"clickOutsideDeactivates"!==n?t.internalOptions[n]=r[n]:t.originalOptions[n]=r[n]);return t.outsideClick=null,t.focusTrapElements=e.containerElements||[],t.updatePreviousElement(),t}return t=_,(r=[{key:"getDocument",value:function(){return this.props.focusTrapOptions.document||("undefined"!=typeof document?document:void 0)}},{key:"getNodeForOption",value:function(e){var t=this.internalOptions[e];if(!t)return null;var r,n=t;if("string"==typeof t&&!(n=null===(r=this.getDocument())||void 0===r?void 0:r.querySelector(t)))throw new Error("`".concat(e,"` refers to no known node"));if("function"==typeof t&&!(n=t()))throw new Error("`".concat(e,"` did not return a node"));return n}},{key:"getReturnFocusNode",value:function(){var e=this.getNodeForOption("setReturnFocus");return e||this.previouslyFocusedElement}},{key:"updatePreviousElement",value:function(){var e=this.getDocument();e&&(this.previouslyFocusedElement=e.activeElement)}},{key:"deactivateTrap",value:function(){this.focusTrap&&this.focusTrap.active&&this.focusTrap.deactivate({returnFocus:!1,checkCanReturnFocus:null,onDeactivate:this.originalOptions.onDeactivate})}},{key:"handleClickOutsideDeactivates",value:function(e){var t="function"==typeof this.originalOptions.clickOutsideDeactivates?this.originalOptions.clickOutsideDeactivates.call(null,e):this.originalOptions.clickOutsideDeactivates;return t&&(this.outsideClick={target:e.target,allowDeactivation:t}),t}},{key:"handleDeactivate",value:function(){this.originalOptions.onDeactivate&&this.originalOptions.onDeactivate.call(null),this.deactivateTrap()}},{key:"handlePostDeactivate",value:function(){var e=this,t=function(){var t=e.getReturnFocusNode(),r=!(!e.originalOptions.returnFocusOnDeactivate||null==t||!t.focus||e.outsideClick&&(!e.outsideClick.allowDeactivation||h(e.outsideClick.target,e.internalOptions.tabbableOptions))),n=e.internalOptions.preventScroll,i=void 0!==n&&n;r&&t.focus({preventScroll:i}),e.originalOptions.onPostDeactivate&&e.originalOptions.onPostDeactivate.call(null),e.outsideClick=null};this.originalOptions.checkCanReturnFocus?this.originalOptions.checkCanReturnFocus.call(null,this.getReturnFocusNode()).then(t,t):t()}},{key:"setupFocusTrap",value:function(){if(!this.focusTrap){var e=this.focusTrapElements.map(c.findDOMNode);e.some(Boolean)&&(this.focusTrap=this.props._createFocusTrap(e,this.internalOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause())}}},{key:"componentDidMount",value:function(){this.props.active&&this.setupFocusTrap()}},{key:"componentDidUpdate",value:function(e){if(this.focusTrap){e.containerElements!==this.props.containerElements&&this.focusTrap.updateContainerElements(this.props.containerElements);var t=!e.active&&this.props.active,r=e.active&&!this.props.active,n=!e.paused&&this.props.paused,i=e.paused&&!this.props.paused;if(t&&(this.updatePreviousElement(),this.focusTrap.activate()),r)return void this.deactivateTrap();n&&this.focusTrap.pause(),i&&this.focusTrap.unpause()}else e.containerElements!==this.props.containerElements&&(this.focusTrapElements=this.props.containerElements),this.props.active&&(this.updatePreviousElement(),this.setupFocusTrap())}},{key:"componentWillUnmount",value:function(){this.deactivateTrap()}},{key:"render",value:function(){var e=this,t=this.props.children?u.Children.only(this.props.children):void 0;if(t){if(t.type&&t.type===u.Fragment)throw new Error("A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.");return u.cloneElement(t,{ref:function(r){var n=e.props.containerElements;t&&("function"==typeof t.ref?t.ref(r):t.ref&&(t.ref.current=r)),e.focusTrapElements=n||[r]}})}return null}}])&&i(t.prototype,r),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),_}(u.Component),m="undefined"==typeof Element?Function:Element;f.propTypes={active:p.bool,paused:p.bool,focusTrapOptions:p.shape({document:p.object,onActivate:p.func,onPostActivate:p.func,checkCanFocusTrap:p.func,onDeactivate:p.func,onPostDeactivate:p.func,checkCanReturnFocus:p.func,initialFocus:p.oneOfType([p.instanceOf(m),p.string,p.func,p.bool]),fallbackFocus:p.oneOfType([p.instanceOf(m),p.string,p.func]),escapeDeactivates:p.oneOfType([p.bool,p.func]),clickOutsideDeactivates:p.oneOfType([p.bool,p.func]),returnFocusOnDeactivate:p.bool,setReturnFocus:p.oneOfType([p.instanceOf(m),p.string,p.func]),allowOutsideClick:p.oneOfType([p.bool,p.func]),preventScroll:p.bool,tabbableOptions:p.shape({displayCheck:p.oneOf(["full","non-zero-area","none"]),getShadowRoot:p.oneOfType([p.bool,p.func])})}),containerElements:p.arrayOf(p.instanceOf(m)),children:p.oneOfType([p.element,p.instanceOf(m)])},f.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:d},e.exports=f},function(e,t,r){"use strict";r.r(t),r.d(t,"createFocusTrap",(function(){return d}));var n=r(82);
/*!
* focus-trap 6.9.2
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s,l=(s=[],{activateTrap:function(e){if(s.length>0){var t=s[s.length-1];t!==e&&t.pause()}var r=s.indexOf(e);-1===r||s.splice(r,1),s.push(e)},deactivateTrap:function(e){var t=s.indexOf(e);-1!==t&&s.splice(t,1),s.length>0&&s[s.length-1].unpause()}}),_=function(e){return setTimeout(e,0)},u=function(e,t){var r=-1;return e.every((function(e,n){return!t(e)||(r=n,!1)})),r},c=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return"function"==typeof e?e.apply(void 0,r):e},p=function(e){return e.target.shadowRoot&&"function"==typeof e.composedPath?e.composedPath()[0]:e.target},d=function(e,t){var r,i=(null==t?void 0:t.document)||document,a=o({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},t),s={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},d=function(e,t,r){return e&&void 0!==e[t]?e[t]:a[r||t]},h=function(e){return s.containerGroups.findIndex((function(t){var r=t.container,n=t.tabbableNodes;return r.contains(e)||n.find((function(t){return t===e}))}))},f=function(e){var t=a[e];if("function"==typeof t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];t=t.apply(void 0,n)}if(!0===t&&(t=void 0),!t){if(void 0===t||!1===t)return t;throw new Error("`".concat(e,"` was specified but was not a node, or did not return a node"))}var s=t;if("string"==typeof t&&!(s=i.querySelector(t)))throw new Error("`".concat(e,"` as selector refers to no known node"));return s},m=function(){var e=f("initialFocus");if(!1===e)return!1;if(void 0===e)if(h(i.activeElement)>=0)e=i.activeElement;else{var t=s.tabbableGroups[0];e=t&&t.firstTabbableNode||f("fallbackFocus")}if(!e)throw new Error("Your focus-trap needs to have at least one focusable element");return e},y=function(){if(s.containerGroups=s.containers.map((function(e){var t=Object(n.tabbable)(e,a.tabbableOptions),r=Object(n.focusable)(e,a.tabbableOptions);return{container:e,tabbableNodes:t,focusableNodes:r,firstTabbableNode:t.length>0?t[0]:null,lastTabbableNode:t.length>0?t[t.length-1]:null,nextTabbableNode:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=r.findIndex((function(t){return t===e}));if(!(i<0))return t?r.slice(i+1).find((function(e){return Object(n.isTabbable)(e,a.tabbableOptions)})):r.slice(0,i).reverse().find((function(e){return Object(n.isTabbable)(e,a.tabbableOptions)}))}}})),s.tabbableGroups=s.containerGroups.filter((function(e){return e.tabbableNodes.length>0})),s.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},g=function e(t){!1!==t&&t!==i.activeElement&&(t&&t.focus?(t.focus({preventScroll:!!a.preventScroll}),s.mostRecentlyFocusedNode=t,function(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"==typeof e.select}(t)&&t.select()):e(m()))},b=function(e){var t=f("setReturnFocus",e);return t||!1!==t&&e},v=function(e){var t=p(e);h(t)>=0||(c(a.clickOutsideDeactivates,e)?r.deactivate({returnFocus:a.returnFocusOnDeactivate&&!Object(n.isFocusable)(t,a.tabbableOptions)}):c(a.allowOutsideClick,e)||e.preventDefault())},E=function(e){var t=p(e),r=h(t)>=0;r||t instanceof Document?r&&(s.mostRecentlyFocusedNode=t):(e.stopImmediatePropagation(),g(s.mostRecentlyFocusedNode||m()))},O=function(e){if(function(e){return"Escape"===e.key||"Esc"===e.key||27===e.keyCode}(e)&&!1!==c(a.escapeDeactivates,e))return e.preventDefault(),void r.deactivate();(function(e){return"Tab"===e.key||9===e.keyCode})(e)&&function(e){var t=p(e);y();var r=null;if(s.tabbableGroups.length>0){var i=h(t),o=i>=0?s.containerGroups[i]:void 0;if(i<0)r=e.shiftKey?s.tabbableGroups[s.tabbableGroups.length-1].lastTabbableNode:s.tabbableGroups[0].firstTabbableNode;else if(e.shiftKey){var l=u(s.tabbableGroups,(function(e){var r=e.firstTabbableNode;return t===r}));if(l<0&&(o.container===t||Object(n.isFocusable)(t,a.tabbableOptions)&&!Object(n.isTabbable)(t,a.tabbableOptions)&&!o.nextTabbableNode(t,!1))&&(l=i),l>=0){var _=0===l?s.tabbableGroups.length-1:l-1;r=s.tabbableGroups[_].lastTabbableNode}}else{var c=u(s.tabbableGroups,(function(e){var r=e.lastTabbableNode;return t===r}));if(c<0&&(o.container===t||Object(n.isFocusable)(t,a.tabbableOptions)&&!Object(n.isTabbable)(t,a.tabbableOptions)&&!o.nextTabbableNode(t))&&(c=i),c>=0){var d=c===s.tabbableGroups.length-1?0:c+1;r=s.tabbableGroups[d].firstTabbableNode}}}else r=f("fallbackFocus");r&&(e.preventDefault(),g(r))}(e)},M=function(e){var t=p(e);h(t)>=0||c(a.clickOutsideDeactivates,e)||c(a.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation())},P=function(){if(s.active)return l.activateTrap(r),s.delayInitialFocusTimer=a.delayInitialFocus?_((function(){g(m())})):g(m()),i.addEventListener("focusin",E,!0),i.addEventListener("mousedown",v,{capture:!0,passive:!1}),i.addEventListener("touchstart",v,{capture:!0,passive:!1}),i.addEventListener("click",M,{capture:!0,passive:!1}),i.addEventListener("keydown",O,{capture:!0,passive:!1}),r},x=function(){if(s.active)return i.removeEventListener("focusin",E,!0),i.removeEventListener("mousedown",v,!0),i.removeEventListener("touchstart",v,!0),i.removeEventListener("click",M,!0),i.removeEventListener("keydown",O,!0),r};return(r={get active(){return s.active},get paused(){return s.paused},activate:function(e){if(s.active)return this;var t=d(e,"onActivate"),r=d(e,"onPostActivate"),n=d(e,"checkCanFocusTrap");n||y(),s.active=!0,s.paused=!1,s.nodeFocusedBeforeActivation=i.activeElement,t&&t();var o=function(){n&&y(),P(),r&&r()};return n?(n(s.containers.concat()).then(o,o),this):(o(),this)},deactivate:function(e){if(!s.active)return this;var t=o({onDeactivate:a.onDeactivate,onPostDeactivate:a.onPostDeactivate,checkCanReturnFocus:a.checkCanReturnFocus},e);clearTimeout(s.delayInitialFocusTimer),s.delayInitialFocusTimer=void 0,x(),s.active=!1,s.paused=!1,l.deactivateTrap(r);var n=d(t,"onDeactivate"),i=d(t,"onPostDeactivate"),u=d(t,"checkCanReturnFocus"),c=d(t,"returnFocus","returnFocusOnDeactivate");n&&n();var p=function(){_((function(){c&&g(b(s.nodeFocusedBeforeActivation)),i&&i()}))};return c&&u?(u(b(s.nodeFocusedBeforeActivation)).then(p,p),this):(p(),this)},pause:function(){return s.paused||!s.active||(s.paused=!0,x()),this},unpause:function(){return s.paused&&s.active?(s.paused=!1,y(),P(),this):this},updateContainerElements:function(e){var t=[].concat(e).filter(Boolean);return s.containers=t.map((function(e){return"string"==typeof e?i.querySelector(e):e})),s.active&&y(),this}}).updateContainerElements(e),r}},function(e,t,r){"use strict";(function(t){var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=r(1),l=r(79),_=!!l.createPortal;e.exports=function(e,r){if(!t.document)return function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),n(t,[{key:"render",value:function(){return!1}}]),t}(s.Component);r=r||{};var u=function(t){function u(){var t,r,n;i(this,u);for(var a=arguments.length,_=Array(a),c=0;c<a;c++)_[c]=arguments[c];return r=n=o(this,(t=u.__proto__||Object.getPrototypeOf(u)).call.apply(t,[this].concat(_))),n.renderDisplaced=function(){l.unstable_renderSubtreeIntoContainer(n,s.createElement(e,n.props,n.props.children),n.container)},n.removeDisplaced=function(){l.unmountComponentAtNode(n.container)},o(n,r)}return a(u,t),n(u,[{key:"componentWillMount",value:function(){this.container=function(){if(r.renderTo)return"string"==typeof r.renderTo?document.querySelector(r.renderTo):r.renderTo;var e=document.createElement("div");return document.body.appendChild(e),e}()}},{key:"componentDidMount",value:function(){_||this.props.mounted&&this.renderDisplaced()}},{key:"componentDidUpdate",value:function(e){_||(e.mounted&&!this.props.mounted?l.unmountComponentAtNode(this.container):this.props.mounted&&this.renderDisplaced())}},{key:"componentWillUnmount",value:function(){_||l.unmountComponentAtNode(this.container),r.renderTo||this.container.parentNode.removeChild(this.container)}},{key:"render",value:function(){return _&&!1!==this.props.mounted?l.createPortal(s.createElement(e,this.props,this.props.children),this.container):null}}]),u}(s.Component);return u.defaultProps={mounted:!0},u.WrappedComponent=e,u}}).call(this,r(50))},function(e,t,r){!function(t){var r,n,i=!1;function o(e){if("undefined"!=typeof document&&!i){var t=document.documentElement;n=window.pageYOffset,document.documentElement.scrollHeight>window.innerHeight?t.style.width="calc(100% - "+function(){if(void 0!==r)return r;var e=document.documentElement,t=document.createElement("div");return t.setAttribute("style","width:99px;height:99px;position:absolute;top:-9999px;overflow:scroll;"),e.appendChild(t),r=t.offsetWidth-t.clientWidth,e.removeChild(t),r}()+"px)":t.style.width="100%",t.style.position="fixed",t.style.top=-n+"px",t.style.overflow="hidden",i=!0}}function a(){if("undefined"!=typeof document&&i){var e=document.documentElement;e.style.width="",e.style.position="",e.style.top="",e.style.overflow="",window.scroll(0,n),i=!1}}var s={on:o,off:a,toggle:function(){i?a():o()}};void 0!==e.exports?e.exports=s:t.noScroll=s}(this)},function(e,t,r){e.exports=r(374)},function(e,t,r){var n=r(375);e.exports=function(e,t,r){r=r||{},9===t.nodeType&&(t=n.getWindow(t));var i=r.allowHorizontalScroll,o=r.onlyScrollIfNeeded,a=r.alignWithTop,s=r.alignWithLeft;i=void 0===i||i;var l,_,u,c,p,d,h,f,m,y,g=n.isWindow(t),b=n.offset(e),v=n.outerHeight(e),E=n.outerWidth(e);g?(h=t,y=n.height(h),m=n.width(h),f={left:n.scrollLeft(h),top:n.scrollTop(h)},p={left:b.left-f.left,top:b.top-f.top},d={left:b.left+E-(f.left+m),top:b.top+v-(f.top+y)},c=f):(l=n.offset(t),_=t.clientHeight,u=t.clientWidth,c={left:t.scrollLeft,top:t.scrollTop},p={left:b.left-(l.left+(parseFloat(n.css(t,"borderLeftWidth"))||0)),top:b.top-(l.top+(parseFloat(n.css(t,"borderTopWidth"))||0))},d={left:b.left+E-(l.left+u+(parseFloat(n.css(t,"borderRightWidth"))||0)),top:b.top+v-(l.top+_+(parseFloat(n.css(t,"borderBottomWidth"))||0))}),p.top<0||d.top>0?!0===a?n.scrollTop(t,c.top+p.top):!1===a?n.scrollTop(t,c.top+d.top):p.top<0?n.scrollTop(t,c.top+p.top):n.scrollTop(t,c.top+d.top):o||((a=void 0===a||!!a)?n.scrollTop(t,c.top+p.top):n.scrollTop(t,c.top+d.top)),i&&(p.left<0||d.left>0?!0===s?n.scrollLeft(t,c.left+p.left):!1===s?n.scrollLeft(t,c.left+d.left):p.left<0?n.scrollLeft(t,c.left+p.left):n.scrollLeft(t,c.left+d.left):o||((s=void 0===s||!!s)?n.scrollLeft(t,c.left+p.left):n.scrollLeft(t,c.left+d.left)))}},function(e,t){function r(e,t){var r=e["page"+(t?"Y":"X")+"Offset"],n="scroll"+(t?"Top":"Left");if("number"!=typeof r){var i=e.document;"number"!=typeof(r=i.documentElement[n])&&(r=i.body[n])}return r}function n(e){return r(e)}function i(e){return r(e,!0)}function o(e){var t=function(e){var t,r,n,i=e.ownerDocument,o=i.body,a=i&&i.documentElement;return r=(t=e.getBoundingClientRect()).left,n=t.top,{left:r-=a.clientLeft||o.clientLeft||0,top:n-=a.clientTop||o.clientTop||0}}(e),r=e.ownerDocument,o=r.defaultView||r.parentWindow;return t.left+=n(o),t.top+=i(o),t}var a,s=new RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i"),l=/^(top|right|bottom|left)$/,_="left";function u(e,t){for(var r=0;r<e.length;r++)t(e[r])}function c(e){return"border-box"===a(e,"boxSizing")}"undefined"!=typeof window&&(a=window.getComputedStyle?function(e,t,r){var n="",i=e.ownerDocument;return(r=r||i.defaultView.getComputedStyle(e,null))&&(n=r.getPropertyValue(t)||r[t]),n}:function(e,t){var r=e.currentStyle&&e.currentStyle[t];if(s.test(r)&&!l.test(t)){var n=e.style,i=n[_],o=e.runtimeStyle[_];e.runtimeStyle[_]=e.currentStyle[_],n[_]="fontSize"===t?"1em":r||0,r=n.pixelLeft+"px",n[_]=i,e.runtimeStyle[_]=o}return""===r?"auto":r});var p=["margin","border","padding"];function d(e,t,r){var n,i={},o=e.style;for(n in t)i[n]=o[n],o[n]=t[n];for(n in r.call(e),t)o[n]=i[n]}function h(e,t,r){var n,i,o,s=0;for(i=0;i<t.length;i++)if(n=t[i])for(o=0;o<r.length;o++){var l;l="border"===n?n+r[o]+"Width":n+r[o],s+=parseFloat(a(e,l))||0}return s}function f(e){return null!=e&&e==e.window}var m={};function y(e,t,r){if(f(e))return"width"===t?m.viewportWidth(e):m.viewportHeight(e);if(9===e.nodeType)return"width"===t?m.docWidth(e):m.docHeight(e);var n="width"===t?["Left","Right"]:["Top","Bottom"],i="width"===t?e.offsetWidth:e.offsetHeight,o=(a(e),c(e)),s=0;(null==i||i<=0)&&(i=void 0,(null==(s=a(e,t))||Number(s)<0)&&(s=e.style[t]||0),s=parseFloat(s)||0),void 0===r&&(r=o?1:-1);var l=void 0!==i||o,_=i||s;return-1===r?l?_-h(e,["border","padding"],n):s:l?_+(1===r?0:2===r?-h(e,["border"],n):h(e,["margin"],n)):s+h(e,p.slice(r),n)}u(["Width","Height"],(function(e){m["doc"+e]=function(t){var r=t.document;return Math.max(r.documentElement["scroll"+e],r.body["scroll"+e],m["viewport"+e](r))},m["viewport"+e]=function(t){var r="client"+e,n=t.document,i=n.body,o=n.documentElement[r];return"CSS1Compat"===n.compatMode&&o||i&&i[r]||o}}));var g={position:"absolute",visibility:"hidden",display:"block"};function b(e){var t,r=arguments;return 0!==e.offsetWidth?t=y.apply(void 0,r):d(e,g,(function(){t=y.apply(void 0,r)})),t}function v(e,t,r){if("object"!=typeof t){if(void 0===r)return a(e,t);"number"==typeof r&&(r+="px"),e.style[t]=r}else for(var n in t)v(e,n,t[n])}function E(e,t){for(var r in t)e[r]=t[r];return e}u(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);m["outer"+t]=function(t,r){return t&&b(t,e,r?0:1)};var r="width"===e?["Left","Right"]:["Top","Bottom"];m[e]=function(t,n){if(void 0===n)return t&&b(t,e,-1);if(t){a(t);return c(t)&&(n+=h(t,["padding","border"],r)),v(t,e,n)}}}));var O=e.exports={getWindow:function(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},offset:function(e,t){if(void 0===t)return o(e);!function(e,t){"static"===v(e,"position")&&(e.style.position="relative");var r,n,i=o(e),a={};for(n in t)r=parseFloat(v(e,n))||0,a[n]=r+t[n]-i[n];v(e,a)}(e,t)},isWindow:f,each:u,css:v,clone:function(e){var t={};for(var r in e)t[r]=e[r];if(e.overflow)for(r in e)t.overflow[r]=e.overflow[r];return t},mix:E,scrollLeft:function(e,t){if(f(e)){if(void 0===t)return n(e);window.scrollTo(t,i(e))}else{if(void 0===t)return e.scrollLeft;e.scrollLeft=t}},scrollTop:function(e,t){if(f(e)){if(void 0===t)return i(e);window.scrollTo(n(e),t)}else{if(void 0===t)return e.scrollTop;e.scrollTop=t}},merge:function(){for(var e={},t=0;t<arguments.length;t++)O.mix(e,arguments[t]);return e},viewportWidth:0,viewportHeight:0};E(O,m)},function(e,t,r){"use strict";var n=r(1),i=r(2),o=r(377),a=r(135),s=r(136).refType,l=r(137),_={children:i.node.isRequired,forwardedRef:s,onMenuToggle:i.func,onSelection:i.func,closeOnSelection:i.bool,closeOnBlur:i.bool,tag:i.string},u=function(e){return{onMenuToggle:e.onMenuToggle,onSelection:e.onSelection,closeOnSelection:e.closeOnSelection,closeOnBlur:e.closeOnBlur,id:e.id}},c=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,r));return n.manager=o(u(r)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(){this.manager.updateOptions(u(this.props))},t.prototype.render=function(){var e={};return l(e,this.props,_),n.createElement(a.Provider,{value:this.manager},n.createElement(this.props.tag,e,this.props.children))},t}(n.Component);c.propTypes=_,c.defaultProps={tag:"div"},e.exports=n.forwardRef((function(e,t){var r={forwardedRef:t};return l(r,e,{children:_.children,forwardedRef:_.forwardedRef}),l(r,{forwardedRef:t}),n.createElement(c,r,e.children)}))},function(e,t,r){"use strict";var n=r(378),i=r(217),o={wrap:!0,stringSearch:!0},a={init:function(e){this.updateOptions(e),this.handleBlur=s.bind(this),this.handleSelection=l.bind(this),this.handleMenuKey=_.bind(this),this.focusGroup=n(o),this.button=null,this.menu=null,this.isOpen=!1},updateOptions:function(e){var t=this.options;this.options=e||this.options||{},void 0===this.options.closeOnSelection&&(this.options.closeOnSelection=!0),void 0===this.options.closeOnBlur&&(this.options.closeOnBlur=!0),this.options.id&&i.registerManager(this.options.id,this),t&&t.id&&t.id!==this.options.id&&i.unregisterManager(this.options.id,this)},focusItem:function(e){this.focusGroup.focusNodeAtIndex(e)},addItem:function(e){this.focusGroup.addMember(e)},clearItems:function(){this.focusGroup.clearMembers()},handleButtonNonArrowKey:function(e){this.focusGroup._handleUnboundKey(e)},destroy:function(){this.button=null,this.menu=null,this.focusGroup.deactivate(),clearTimeout(this.blurTimer),clearTimeout(this.moveFocusTimer)},update:function(){this.menu.setState({isOpen:this.isOpen}),this.button.setState({menuOpen:this.isOpen}),this.options.onMenuToggle&&this.options.onMenuToggle({isOpen:this.isOpen})},openMenu:function(e){if(!this.isOpen&&(void 0===(e=e||{}).focusMenu&&(e.focusMenu=!0),this.isOpen=!0,this.update(),this.focusGroup.activate(),e.focusMenu)){var t=this;this.moveFocusTimer=setTimeout((function(){t.focusItem(0)}),0)}},closeMenu:function(e){this.isOpen&&(e=e||{},this.isOpen=!1,this.update(),e.focusButton&&this.button.ref.current.focus())},toggleMenu:function(e,t){e=e||{},t=t||{},this.isOpen?this.closeMenu(e):this.openMenu(t)}};function s(){var e=this;e.blurTimer=setTimeout((function(){if(e.button){var t=e.button.ref.current;if(t){var r=t.ownerDocument.activeElement;if(!t||r!==t){var n=e.menu.ref.current;n!==r?n&&n.contains(r)||e.isOpen&&e.closeMenu({focusButton:!1}):e.focusItem(0)}}}}),0)}function l(e,t){this.options.closeOnSelection&&this.closeMenu({focusButton:!0}),this.options.onSelection&&this.options.onSelection(e,t)}function _(e){if(this.isOpen)switch(e.key){case"Escape":e.preventDefault(),this.closeMenu({focusButton:!0});break;case"Home":e.preventDefault(),this.focusGroup.moveFocusToFirst();break;case"End":e.preventDefault(),this.focusGroup.moveFocusToLast()}}e.exports=function(e){var t=Object.create(a);return t.init(e),t}},function(e,t){function r(e){var t,r,n=(e=e||{}).keybindings||{};for(t in this._settings={keybindings:{next:n.next||{keyCode:40},prev:n.prev||{keyCode:38},first:n.first,last:n.last},wrap:e.wrap,stringSearch:e.stringSearch,stringSearchDelay:800},this._keybindingsLookup=[],this._settings.keybindings)(r=this._settings.keybindings[t])&&[].concat(r).forEach(function(e){e.metaKey=e.metaKey||!1,e.ctrlKey=e.ctrlKey||!1,e.altKey=e.altKey||!1,e.shiftKey=e.shiftKey||!1,this._keybindingsLookup.push({action:t,eventMatcher:e})}.bind(this));this._searchString="",this._members=[],e.members&&this.setMembers(e.members),this._boundHandleKeydownEvent=this._handleKeydownEvent.bind(this)}function n(e){e&&e.focus&&(e.focus(),"input"===e.tagName.toLowerCase()&&e.select())}r.prototype.activate=function(){return document.addEventListener("keydown",this._boundHandleKeydownEvent,!0),this},r.prototype.deactivate=function(){return document.removeEventListener("keydown",this._boundHandleKeydownEvent,!0),this._clearSearchStringRefreshTimer(),this},r.prototype._handleKeydownEvent=function(e){if(-1!==this._getActiveElementIndex()){var t=!1;this._keybindingsLookup.forEach(function(r){if(function(e,t){for(var r in e)if(void 0!==t[r]&&e[r]!==t[r])return!1;return!0}(r.eventMatcher,e))switch(t=!0,e.preventDefault(),r.action){case"next":this.moveFocusForward();break;case"prev":this.moveFocusBack();break;case"first":this.moveFocusToFirst();break;case"last":this.moveFocusToLast();break;default:return}}.bind(this)),t||this._handleUnboundKey(e)}},r.prototype.moveFocusForward=function(){var e,t=this._getActiveElementIndex();return e=t<this._members.length-1?t+1:this._settings.wrap?0:t,this.focusNodeAtIndex(e),e},r.prototype.moveFocusBack=function(){var e,t=this._getActiveElementIndex();return e=t>0?t-1:this._settings.wrap?this._members.length-1:t,this.focusNodeAtIndex(e),e},r.prototype.moveFocusToFirst=function(){this.focusNodeAtIndex(0)},r.prototype.moveFocusToLast=function(){this.focusNodeAtIndex(this._members.length-1)},r.prototype._handleUnboundKey=function(e){if(this._settings.stringSearch){if(""!==this._searchString&&(" "===e.key||32===e.keyCode))return e.preventDefault(),-1;if(!((t=e.keyCode)>=65&&t<=90))return-1;var t;if(e.ctrlKey||e.metaKey||e.altKey)return-1;e.preventDefault(),this._addToSearchString(String.fromCharCode(e.keyCode)),this._runStringSearch()}},r.prototype._clearSearchString=function(){this._searchString=""},r.prototype._addToSearchString=function(e){this._searchString+=e.toLowerCase()},r.prototype._startSearchStringRefreshTimer=function(){var e=this;this._clearSearchStringRefreshTimer(),this._stringSearchTimer=setTimeout((function(){e._clearSearchString()}),this._settings.stringSearchDelay)},r.prototype._clearSearchStringRefreshTimer=function(){clearTimeout(this._stringSearchTimer)},r.prototype._runStringSearch=function(){this._startSearchStringRefreshTimer(),this.moveFocusByString(this._searchString)},r.prototype.moveFocusByString=function(e){for(var t,r=0,i=this._members.length;r<i;r++)if((t=this._members[r]).text&&0===t.text.indexOf(e))return n(t.node)},r.prototype._findIndexOfNode=function(e){for(var t=0,r=this._members.length;t<r;t++)if(this._members[t].node===e)return t;return-1},r.prototype._getActiveElementIndex=function(){return this._findIndexOfNode(document.activeElement)},r.prototype.focusNodeAtIndex=function(e){var t=this._members[e];return t&&n(t.node),this},r.prototype.addMember=function(e,t){var r=e.node||e,n=e.text||r.getAttribute("data-focus-group-text")||r.textContent||"";this._checkNode(r);var i={node:r,text:n.replace(/[\W_]/g,"").toLowerCase()};return null!=t?this._members.splice(t,0,i):this._members.push(i),this},r.prototype.removeMember=function(e){var t="number"==typeof e?e:this._findIndexOfNode(e);if(-1!==t)return this._members.splice(t,1),this},r.prototype.clearMembers=function(){return this._members=[],this},r.prototype.setMembers=function(e){this.clearMembers();for(var t=0,r=e.length;t<r;t++)this.addMember(e[t]);return this},r.prototype.getMembers=function(){return this._members},r.prototype._checkNode=function(e){if(!e.nodeType||e.nodeType!==window.Node.ELEMENT_NODE)throw new Error("focus-group: only DOM nodes allowed");return e},e.exports=function(e){return new r(e)}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var o=r(1),a=r(2),s=r(135),l=r(136).refType,_=r(137),u={ambManager:a.object.isRequired,children:a.node.isRequired,disabled:a.bool,forwardedRef:l,tag:a.string},c=function(e){function t(){var r,a;n(this,t);for(var s=arguments.length,l=Array(s),_=0;_<s;_++)l[_]=arguments[_];return r=a=i(this,e.call.apply(e,[this].concat(l))),a.ref=o.createRef(),a.handleKeyDown=function(e){if(!a.props.disabled){var t=a.props.ambManager;switch(e.key){case"ArrowDown":e.preventDefault(),t.isOpen?t.focusItem(0):t.openMenu();break;case"Enter":case" ":e.preventDefault(),t.toggleMenu();break;case"Escape":t.handleMenuKey(e);break;default:t.handleButtonNonArrowKey(e)}}},a.handleClick=function(){a.props.disabled||a.props.ambManager.toggleMenu({},{focusMenu:!1})},a.setRef=function(e){a.ref.current=e,"function"==typeof a.props.forwardedRef?a.props.forwardedRef(e):a.props.forwardedRef&&(a.props.forwardedRef.current=e)},i(a,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.ambManager.button=this},t.prototype.componentWillUnmount=function(){this.props.ambManager.destroy()},t.prototype.render=function(){var e=this.props,t=this.props.ambManager,r={role:"button",tabIndex:e.disabled?"":"0","aria-haspopup":!0,"aria-expanded":t.isOpen,"aria-disabled":e.disabled,onKeyDown:this.handleKeyDown,onClick:this.handleClick},n={};return _(n,u),["button","fieldset","input","optgroup","option","select","textarea"].indexOf(e.tag)>=0&&delete n.disabled,t.options.closeOnBlur&&(r.onBlur=t.handleBlur),_(r,e,n),_(r,{ref:this.setRef}),o.createElement(e.tag,r,e.children)},t}(o.Component);c.propTypes=u,c.defaultProps={tag:"span"},e.exports=o.forwardRef((function(e,t){return o.createElement(s.Consumer,null,(function(r){var n={ambManager:r,forwardedRef:t};return _(n,e,{ambManager:u.ambManager,children:u.children,forwardedRef:u.forwardedRef}),o.createElement(c,n,e.children)}))}))},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var o=r(1),a=r(2),s=r(381),l=r(135),_=r(136).refType,u=r(137),c={ambManager:a.object.isRequired,children:a.oneOfType([a.func,a.node]).isRequired,forwardedRef:_,tag:a.string},p=function(e){function t(){var r,a;n(this,t);for(var l=arguments.length,_=Array(l),u=0;u<l;u++)_[u]=arguments[u];return r=a=i(this,e.call.apply(e,[this].concat(_))),a.ref=o.createRef(),a.addTapListener=function(){var e=a.ref.current;if(e){var t=e.ownerDocument;t&&(a.tapListener=s(t.documentElement,a.handleTap))}},a.handleTap=function(e){a.ref.current.contains(e.target)||a.props.ambManager.button.ref.current.contains(e.target)||a.props.ambManager.closeMenu()},a.setRef=function(e){a.ref.current=e,"function"==typeof a.props.forwardedRef?a.props.forwardedRef(e):a.props.forwardedRef&&(a.props.forwardedRef.current=e)},i(a,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.ambManager.menu=this},t.prototype.componentDidUpdate=function(){var e=this.props.ambManager;e.options.closeOnBlur&&(e.isOpen&&!this.tapListener?this.addTapListener():!e.isOpen&&this.tapListener&&(this.tapListener.remove(),delete this.tapListener),e.isOpen||e.clearItems())},t.prototype.componentWillUnmount=function(){this.tapListener&&this.tapListener.remove(),this.props.ambManager.destroy()},t.prototype.render=function(){var e=this.props,t=this.props.ambManager,r="function"==typeof e.children?e.children({isOpen:t.isOpen}):!!t.isOpen&&e.children;if(!r)return!1;var n={onKeyDown:t.handleMenuKey,role:"menu",tabIndex:-1};return t.options.closeOnBlur&&(n.onBlur=t.handleBlur),u(n,e,c),u(n,{ref:this.setRef}),o.createElement(e.tag,n,r)},t}(o.Component);p.propTypes=c,p.defaultProps={tag:"div"},e.exports=o.forwardRef((function(e,t){return o.createElement(l.Consumer,null,(function(r){var n={ambManager:r,forwardedRef:t};return u(n,e,{ambManager:c.ambManager,children:c.children,forwardedRef:c.forwardedRef}),o.createElement(p,n,e.children)}))}))},function(e,t){e.exports=function(e,t,r){var n=0,i=0,o=!1,a=!1,s=!1;function l(e){s||t(e)}function _(t){s=!0,o||(o=!0,e.addEventListener("touchmove",u,r),e.addEventListener("touchend",c,r),e.addEventListener("touchcancel",p,r),a=!1,n=t.touches[0].clientX,i=t.touches[0].clientY)}function u(e){a||Math.abs(e.touches[0].clientX-n)<=10&&Math.abs(e.touches[0].clientY-i)<=10||(a=!0)}function c(e){o=!1,d(),a||t(e)}function p(){o=!1,a=!1,n=0,i=0}function d(){e.removeEventListener("touchmove",u,r),e.removeEventListener("touchend",c,r),e.removeEventListener("touchcancel",p,r)}return e.addEventListener("click",l,r),e.addEventListener("touchstart",_,r),{remove:function(){e.removeEventListener("click",l,r),e.removeEventListener("touchstart",_,r),d()}}}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var o=r(1),a=r(2),s=r(135),l=r(136).refType,_=r(137),u={ambManager:a.object.isRequired,children:a.node.isRequired,forwardedRef:l,tag:a.string,text:a.string,value:a.any},c=function(e){function t(){var r,a;n(this,t);for(var s=arguments.length,l=Array(s),_=0;_<s;_++)l[_]=arguments[_];return r=a=i(this,e.call.apply(e,[this].concat(l))),a.ref=o.createRef(),a.handleKeyDown=function(e){"Enter"!==e.key&&" "!==e.key||"a"===a.props.tag&&a.props.href||(e.preventDefault(),a.selectItem(e))},a.selectItem=function(e){var t=void 0!==a.props.value?a.props.value:a.props.children;a.props.ambManager.handleSelection(t,e)},a.setRef=function(e){a.ref.current=e,"function"==typeof a.props.forwardedRef?a.props.forwardedRef(e):a.props.forwardedRef&&(a.props.forwardedRef.current=e)},i(a,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.ambManager.addItem({node:this.ref.current,text:this.props.text})},t.prototype.render=function(){var e={onClick:this.selectItem,onKeyDown:this.handleKeyDown,role:"menuitem",tabIndex:"-1",ref:this.setRef};return _(e,this.props,u),o.createElement(this.props.tag,e,this.props.children)},t}(o.Component);c.propTypes=u,c.defaultProps={tag:"div"},e.exports=o.forwardRef((function(e,t){return o.createElement(s.Consumer,null,(function(r){var n={ambManager:r,forwardedRef:t};return _(n,e,{ambManager:u.ambManager,children:u.children,forwardedRef:u.forwardedRef}),o.createElement(c,n,e.children)}))}))},function(e,t,r){!function(e){"use strict";e.defineMode("javascript",(function(t,r){var n,i,o=t.indentUnit,a=r.statementIndent,s=r.jsonld,l=r.json||s,_=!1!==r.trackScope,u=r.typescript,c=r.wordCharacters||/[\w$\xa1-\uffff]/,p=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),r=e("keyword b"),n=e("keyword c"),i=e("keyword d"),o=e("operator"),a={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:r,do:r,try:r,finally:r,return:i,break:i,continue:i,new:e("new"),delete:n,void:n,throw:n,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:o,typeof:o,instanceof:o,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:e("this"),class:e("class"),super:e("atom"),yield:n,export:e("export"),import:e("import"),extends:n,await:n}}(),d=/[+\-*&%=<>!?|~^@]/,h=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function f(e,t,r){return n=e,i=r,t}function m(e,t){var r,n=e.next();if('"'==n||"'"==n)return t.tokenize=(r=n,function(e,t){var n,i=!1;if(s&&"@"==e.peek()&&e.match(h))return t.tokenize=m,f("jsonld-keyword","meta");for(;null!=(n=e.next())&&(n!=r||i);)i=!i&&"\\"==n;return i||(t.tokenize=m),f("string","string")}),t.tokenize(e,t);if("."==n&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return f("number","number");if("."==n&&e.match(".."))return f("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return f(n);if("="==n&&e.eat(">"))return f("=>","operator");if("0"==n&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return f("number","number");if(/\d/.test(n))return e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),f("number","number");if("/"==n)return e.eat("*")?(t.tokenize=y,y(e,t)):e.eat("/")?(e.skipToEnd(),f("comment","comment")):Je(e,t,1)?(function(e){for(var t,r=!1,n=!1;null!=(t=e.next());){if(!r){if("/"==t&&!n)return;"["==t?n=!0:n&&"]"==t&&(n=!1)}r=!r&&"\\"==t}}(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),f("regexp","string-2")):(e.eat("="),f("operator","operator",e.current()));if("`"==n)return t.tokenize=g,g(e,t);if("#"==n&&"!"==e.peek())return e.skipToEnd(),f("meta","meta");if("#"==n&&e.eatWhile(c))return f("variable","property");if("<"==n&&e.match("!--")||"-"==n&&e.match("->")&&!/\S/.test(e.string.slice(0,e.start)))return e.skipToEnd(),f("comment","comment");if(d.test(n))return">"==n&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=n&&"="!=n||e.eat("="):/[<>*+\-|&?]/.test(n)&&(e.eat(n),">"==n&&e.eat(n))),"?"==n&&e.eat(".")?f("."):f("operator","operator",e.current());if(c.test(n)){e.eatWhile(c);var i=e.current();if("."!=t.lastType){if(p.propertyIsEnumerable(i)){var o=p[i];return f(o.type,o.style,i)}if("async"==i&&e.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return f("async","keyword",i)}return f("variable","variable",i)}}function y(e,t){for(var r,n=!1;r=e.next();){if("/"==r&&n){t.tokenize=m;break}n="*"==r}return f("comment","comment")}function g(e,t){for(var r,n=!1;null!=(r=e.next());){if(!n&&("`"==r||"$"==r&&e.eat("{"))){t.tokenize=m;break}n=!n&&"\\"==r}return f("quasi","string-2",e.current())}function b(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var r=e.string.indexOf("=>",e.start);if(!(r<0)){if(u){var n=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,r));n&&(r=n.index)}for(var i=0,o=!1,a=r-1;a>=0;--a){var s=e.string.charAt(a),l="([{}])".indexOf(s);if(l>=0&&l<3){if(!i){++a;break}if(0==--i){"("==s&&(o=!0);break}}else if(l>=3&&l<6)++i;else if(c.test(s))o=!0;else if(/["'\/`]/.test(s))for(;;--a){if(0==a)return;if(e.string.charAt(a-1)==s&&"\\"!=e.string.charAt(a-2)){a--;break}}else if(o&&!i){++a;break}}o&&!i&&(t.fatArrowAt=a)}}var v={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function E(e,t,r,n,i,o){this.indented=e,this.column=t,this.type=r,this.prev=i,this.info=o,null!=n&&(this.align=n)}function O(e,t){if(!_)return!1;for(var r=e.localVars;r;r=r.next)if(r.name==t)return!0;for(var n=e.context;n;n=n.prev)for(r=n.vars;r;r=r.next)if(r.name==t)return!0}function M(e,t,r,n,i){var o=e.cc;for(P.state=e,P.stream=i,P.marked=null,P.cc=o,P.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((o.length?o.pop():l?z:K)(r,n)){for(;o.length&&o[o.length-1].lex;)o.pop()();return P.marked?P.marked:"variable"==r&&O(e,n)?"variable-2":t}}var P={state:null,column:null,marked:null,cc:null};function x(){for(var e=arguments.length-1;e>=0;e--)P.cc.push(arguments[e])}function w(){return x.apply(null,arguments),!0}function C(e,t){for(var r=t;r;r=r.next)if(r.name==e)return!0;return!1}function D(e){var t=P.state;if(P.marked="def",_){if(t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var n=function e(t,r){if(r){if(r.block){var n=e(t,r.prev);return n?n==r.prev?r:new k(n,r.vars,!0):null}return C(t,r.vars)?r:new k(r.prev,new A(t,r.vars),!1)}return null}(e,t.context);if(null!=n)return void(t.context=n)}else if(!C(e,t.localVars))return void(t.localVars=new A(e,t.localVars));r.globalVars&&!C(e,t.globalVars)&&(t.globalVars=new A(e,t.globalVars))}}function T(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function k(e,t,r){this.prev=e,this.vars=t,this.block=r}function A(e,t){this.name=e,this.next=t}var I=new A("this",new A("arguments",null));function L(){P.state.context=new k(P.state.context,P.state.localVars,!1),P.state.localVars=I}function R(){P.state.context=new k(P.state.context,P.state.localVars,!0),P.state.localVars=null}function S(){P.state.localVars=P.state.context.vars,P.state.context=P.state.context.prev}function B(e,t){var r=function(){var r=P.state,n=r.indented;if("stat"==r.lexical.type)n=r.lexical.indented;else for(var i=r.lexical;i&&")"==i.type&&i.align;i=i.prev)n=i.indented;r.lexical=new E(n,P.stream.column(),e,null,r.lexical,t)};return r.lex=!0,r}function U(){var e=P.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function W(e){return function t(r){return r==e?w():";"==e||"}"==r||")"==r||"]"==r?x():w(t)}}function K(e,t){return"var"==e?w(B("vardef",t),Me,W(";"),U):"keyword a"==e?w(B("form"),q,K,U):"keyword b"==e?w(B("form"),K,U):"keyword d"==e?P.stream.match(/^\s*$/,!1)?w():w(B("stat"),H,W(";"),U):"debugger"==e?w(W(";")):"{"==e?w(B("}"),R,se,U,S):";"==e?w():"if"==e?("else"==P.state.lexical.info&&P.state.cc[P.state.cc.length-1]==U&&P.state.cc.pop()(),w(B("form"),q,K,U,Te)):"function"==e?w(Le):"for"==e?w(B("form"),R,ke,K,S,U):"class"==e||u&&"interface"==t?(P.marked="keyword",w(B("form","class"==e?e:t),We,U)):"variable"==e?u&&"declare"==t?(P.marked="keyword",w(K)):u&&("module"==t||"enum"==t||"type"==t)&&P.stream.match(/^\s*\w/,!1)?(P.marked="keyword","enum"==t?w($e):"type"==t?w(Se,W("operator"),pe,W(";")):w(B("form"),Pe,W("{"),B("}"),se,U,U)):u&&"namespace"==t?(P.marked="keyword",w(B("form"),z,K,U)):u&&"abstract"==t?(P.marked="keyword",w(K)):w(B("stat"),ee):"switch"==e?w(B("form"),q,W("{"),B("}","switch"),R,se,U,U,S):"case"==e?w(z,W(":")):"default"==e?w(W(":")):"catch"==e?w(B("form"),L,j,K,U,S):"export"==e?w(B("stat"),Fe,U):"import"==e?w(B("stat"),Ne,U):"async"==e?w(K):"@"==t?w(z,K):x(B("stat"),z,W(";"),U)}function j(e){if("("==e)return w(Be,W(")"))}function z(e,t){return N(e,t,!1)}function F(e,t){return N(e,t,!0)}function q(e){return"("!=e?x():w(B(")"),H,W(")"),U)}function N(e,t,r){if(P.state.fatArrowAt==P.stream.start){var n=r?Y:$;if("("==e)return w(L,B(")"),oe(Be,")"),U,W("=>"),n,S);if("variable"==e)return x(L,Pe,W("=>"),n,S)}var i=r?V:G;return v.hasOwnProperty(e)?w(i):"function"==e?w(Le,i):"class"==e||u&&"interface"==t?(P.marked="keyword",w(B("form"),Ue,U)):"keyword c"==e||"async"==e?w(r?F:z):"("==e?w(B(")"),H,W(")"),U,i):"operator"==e||"spread"==e?w(r?F:z):"["==e?w(B("]"),Xe,U,i):"{"==e?ae(re,"}",null,i):"quasi"==e?x(Z,i):"new"==e?w(function(e){return function(t){return"."==t?w(e?Q:J):"variable"==t&&u?w(ve,e?V:G):x(e?F:z)}}(r)):w()}function H(e){return e.match(/[;\}\)\],]/)?x():x(z)}function G(e,t){return","==e?w(H):V(e,t,!1)}function V(e,t,r){var n=0==r?G:V,i=0==r?z:F;return"=>"==e?w(L,r?Y:$,S):"operator"==e?/\+\+|--/.test(t)||u&&"!"==t?w(n):u&&"<"==t&&P.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?w(B(">"),oe(pe,">"),U,n):"?"==t?w(z,W(":"),i):w(i):"quasi"==e?x(Z,n):";"!=e?"("==e?ae(F,")","call",n):"."==e?w(te,n):"["==e?w(B("]"),H,W("]"),U,n):u&&"as"==t?(P.marked="keyword",w(pe,n)):"regexp"==e?(P.state.lastType=P.marked="operator",P.stream.backUp(P.stream.pos-P.stream.start-1),w(i)):void 0:void 0}function Z(e,t){return"quasi"!=e?x():"${"!=t.slice(t.length-2)?w(Z):w(H,X)}function X(e){if("}"==e)return P.marked="string-2",P.state.tokenize=g,w(Z)}function $(e){return b(P.stream,P.state),x("{"==e?K:z)}function Y(e){return b(P.stream,P.state),x("{"==e?K:F)}function J(e,t){if("target"==t)return P.marked="keyword",w(G)}function Q(e,t){if("target"==t)return P.marked="keyword",w(V)}function ee(e){return":"==e?w(U,K):x(G,W(";"),U)}function te(e){if("variable"==e)return P.marked="property",w()}function re(e,t){return"async"==e?(P.marked="property",w(re)):"variable"==e||"keyword"==P.style?(P.marked="property","get"==t||"set"==t?w(ne):(u&&P.state.fatArrowAt==P.stream.start&&(r=P.stream.match(/^\s*:\s*/,!1))&&(P.state.fatArrowAt=P.stream.pos+r[0].length),w(ie))):"number"==e||"string"==e?(P.marked=s?"property":P.style+" property",w(ie)):"jsonld-keyword"==e?w(ie):u&&T(t)?(P.marked="keyword",w(re)):"["==e?w(z,le,W("]"),ie):"spread"==e?w(F,ie):"*"==t?(P.marked="keyword",w(re)):":"==e?x(ie):void 0;var r}function ne(e){return"variable"!=e?x(ie):(P.marked="property",w(Le))}function ie(e){return":"==e?w(F):"("==e?x(Le):void 0}function oe(e,t,r){function n(i,o){if(r?r.indexOf(i)>-1:","==i){var a=P.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),w((function(r,n){return r==t||n==t?x():x(e)}),n)}return i==t||o==t?w():r&&r.indexOf(";")>-1?x(e):w(W(t))}return function(r,i){return r==t||i==t?w():x(e,n)}}function ae(e,t,r){for(var n=3;n<arguments.length;n++)P.cc.push(arguments[n]);return w(B(t,r),oe(e,t),U)}function se(e){return"}"==e?w():x(K,se)}function le(e,t){if(u){if(":"==e)return w(pe);if("?"==t)return w(le)}}function _e(e,t){if(u&&(":"==e||"in"==t))return w(pe)}function ue(e){if(u&&":"==e)return P.stream.match(/^\s*\w+\s+is\b/,!1)?w(z,ce,pe):w(pe)}function ce(e,t){if("is"==t)return P.marked="keyword",w()}function pe(e,t){return"keyof"==t||"typeof"==t||"infer"==t||"readonly"==t?(P.marked="keyword",w("typeof"==t?F:pe)):"variable"==e||"void"==t?(P.marked="type",w(be)):"|"==t||"&"==t?w(pe):"string"==e||"number"==e||"atom"==e?w(be):"["==e?w(B("]"),oe(pe,"]",","),U,be):"{"==e?w(B("}"),he,U,be):"("==e?w(oe(ge,")"),de,be):"<"==e?w(oe(pe,">"),pe):"quasi"==e?x(me,be):void 0}function de(e){if("=>"==e)return w(pe)}function he(e){return e.match(/[\}\)\]]/)?w():","==e||";"==e?w(he):x(fe,he)}function fe(e,t){return"variable"==e||"keyword"==P.style?(P.marked="property",w(fe)):"?"==t||"number"==e||"string"==e?w(fe):":"==e?w(pe):"["==e?w(W("variable"),_e,W("]"),fe):"("==e?x(Re,fe):e.match(/[;\}\)\],]/)?void 0:w()}function me(e,t){return"quasi"!=e?x():"${"!=t.slice(t.length-2)?w(me):w(pe,ye)}function ye(e){if("}"==e)return P.marked="string-2",P.state.tokenize=g,w(me)}function ge(e,t){return"variable"==e&&P.stream.match(/^\s*[?:]/,!1)||"?"==t?w(ge):":"==e?w(pe):"spread"==e?w(ge):x(pe)}function be(e,t){return"<"==t?w(B(">"),oe(pe,">"),U,be):"|"==t||"."==e||"&"==t?w(pe):"["==e?w(pe,W("]"),be):"extends"==t||"implements"==t?(P.marked="keyword",w(pe)):"?"==t?w(pe,W(":"),pe):void 0}function ve(e,t){if("<"==t)return w(B(">"),oe(pe,">"),U,be)}function Ee(){return x(pe,Oe)}function Oe(e,t){if("="==t)return w(pe)}function Me(e,t){return"enum"==t?(P.marked="keyword",w($e)):x(Pe,le,Ce,De)}function Pe(e,t){return u&&T(t)?(P.marked="keyword",w(Pe)):"variable"==e?(D(t),w()):"spread"==e?w(Pe):"["==e?ae(we,"]"):"{"==e?ae(xe,"}"):void 0}function xe(e,t){return"variable"!=e||P.stream.match(/^\s*:/,!1)?("variable"==e&&(P.marked="property"),"spread"==e?w(Pe):"}"==e?x():"["==e?w(z,W("]"),W(":"),xe):w(W(":"),Pe,Ce)):(D(t),w(Ce))}function we(){return x(Pe,Ce)}function Ce(e,t){if("="==t)return w(F)}function De(e){if(","==e)return w(Me)}function Te(e,t){if("keyword b"==e&&"else"==t)return w(B("form","else"),K,U)}function ke(e,t){return"await"==t?w(ke):"("==e?w(B(")"),Ae,U):void 0}function Ae(e){return"var"==e?w(Me,Ie):"variable"==e?w(Ie):x(Ie)}function Ie(e,t){return")"==e?w():";"==e?w(Ie):"in"==t||"of"==t?(P.marked="keyword",w(z,Ie)):x(z,Ie)}function Le(e,t){return"*"==t?(P.marked="keyword",w(Le)):"variable"==e?(D(t),w(Le)):"("==e?w(L,B(")"),oe(Be,")"),U,ue,K,S):u&&"<"==t?w(B(">"),oe(Ee,">"),U,Le):void 0}function Re(e,t){return"*"==t?(P.marked="keyword",w(Re)):"variable"==e?(D(t),w(Re)):"("==e?w(L,B(")"),oe(Be,")"),U,ue,S):u&&"<"==t?w(B(">"),oe(Ee,">"),U,Re):void 0}function Se(e,t){return"keyword"==e||"variable"==e?(P.marked="type",w(Se)):"<"==t?w(B(">"),oe(Ee,">"),U):void 0}function Be(e,t){return"@"==t&&w(z,Be),"spread"==e?w(Be):u&&T(t)?(P.marked="keyword",w(Be)):u&&"this"==e?w(le,Ce):x(Pe,le,Ce)}function Ue(e,t){return"variable"==e?We(e,t):Ke(e,t)}function We(e,t){if("variable"==e)return D(t),w(Ke)}function Ke(e,t){return"<"==t?w(B(">"),oe(Ee,">"),U,Ke):"extends"==t||"implements"==t||u&&","==e?("implements"==t&&(P.marked="keyword"),w(u?pe:z,Ke)):"{"==e?w(B("}"),je,U):void 0}function je(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||u&&T(t))&&P.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(P.marked="keyword",w(je)):"variable"==e||"keyword"==P.style?(P.marked="property",w(ze,je)):"number"==e||"string"==e?w(ze,je):"["==e?w(z,le,W("]"),ze,je):"*"==t?(P.marked="keyword",w(je)):u&&"("==e?x(Re,je):";"==e||","==e?w(je):"}"==e?w():"@"==t?w(z,je):void 0}function ze(e,t){if("!"==t)return w(ze);if("?"==t)return w(ze);if(":"==e)return w(pe,Ce);if("="==t)return w(F);var r=P.state.lexical.prev;return x(r&&"interface"==r.info?Re:Le)}function Fe(e,t){return"*"==t?(P.marked="keyword",w(Ze,W(";"))):"default"==t?(P.marked="keyword",w(z,W(";"))):"{"==e?w(oe(qe,"}"),Ze,W(";")):x(K)}function qe(e,t){return"as"==t?(P.marked="keyword",w(W("variable"))):"variable"==e?x(F,qe):void 0}function Ne(e){return"string"==e?w():"("==e?x(z):"."==e?x(G):x(He,Ge,Ze)}function He(e,t){return"{"==e?ae(He,"}"):("variable"==e&&D(t),"*"==t&&(P.marked="keyword"),w(Ve))}function Ge(e){if(","==e)return w(He,Ge)}function Ve(e,t){if("as"==t)return P.marked="keyword",w(He)}function Ze(e,t){if("from"==t)return P.marked="keyword",w(z)}function Xe(e){return"]"==e?w():x(oe(F,"]"))}function $e(){return x(B("form"),Pe,W("{"),B("}"),oe(Ye,"}"),U,U)}function Ye(){return x(Pe,Ce)}function Je(e,t,r){return t.tokenize==m&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(r||0)))}return L.lex=R.lex=!0,S.lex=!0,U.lex=!0,{startState:function(e){var t={tokenize:m,lastType:"sof",cc:[],lexical:new E((e||0)-o,0,"block",!1),localVars:r.localVars,context:r.localVars&&new k(null,null,!1),indented:e||0};return r.globalVars&&"object"==typeof r.globalVars&&(t.globalVars=r.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),b(e,t)),t.tokenize!=y&&e.eatSpace())return null;var r=t.tokenize(e,t);return"comment"==n?r:(t.lastType="operator"!=n||"++"!=i&&"--"!=i?n:"incdec",M(t,r,n,i,e))},indent:function(t,n){if(t.tokenize==y||t.tokenize==g)return e.Pass;if(t.tokenize!=m)return 0;var i,s=n&&n.charAt(0),l=t.lexical;if(!/^\s*else\b/.test(n))for(var _=t.cc.length-1;_>=0;--_){var u=t.cc[_];if(u==U)l=l.prev;else if(u!=Te&&u!=S)break}for(;("stat"==l.type||"form"==l.type)&&("}"==s||(i=t.cc[t.cc.length-1])&&(i==G||i==V)&&!/^[,\.=+\-*:?[\(]/.test(n));)l=l.prev;a&&")"==l.type&&"stat"==l.prev.type&&(l=l.prev);var c=l.type,p=s==c;return"vardef"==c?l.indented+("operator"==t.lastType||","==t.lastType?l.info.length+1:0):"form"==c&&"{"==s?l.indented:"form"==c?l.indented+o:"stat"==c?l.indented+(function(e,t){return"operator"==e.lastType||","==e.lastType||d.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}(t,n)?a||o:0):"switch"!=l.info||p||0==r.doubleIndentSwitch?l.align?l.column+(p?0:1):l.indented+(p?0:o):l.indented+(/^(?:case|default)\b/.test(n)?o:2*o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:l?null:"/*",blockCommentEnd:l?null:"*/",blockCommentContinue:l?null:" * ",lineComment:l?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:l?"json":"javascript",jsonldMode:s,jsonMode:l,expressionAllowed:Je,skipExpression:function(t){M(t,"atom","atom","true",new e.StringStream("",2,null))}}})),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/manifest+json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(r(48))},function(e,t,r){!function(e){"use strict";var t="CodeMirror-lint-markers";function r(e){e.parentNode&&e.parentNode.removeChild(e)}function n(t,n,i,o){var a=function(t,r,n){var i=document.createElement("div");function o(t){if(!i.parentNode)return e.off(document,"mousemove",o);i.style.top=Math.max(0,t.clientY-i.offsetHeight-5)+"px",i.style.left=t.clientX+5+"px"}return i.className="CodeMirror-lint-tooltip cm-s-"+t.options.theme,i.appendChild(n.cloneNode(!0)),t.state.lint.options.selfContain?t.getWrapperElement().appendChild(i):document.body.appendChild(i),e.on(document,"mousemove",o),o(r),null!=i.style.opacity&&(i.style.opacity=1),i}(t,n,i);function s(){var t;e.off(o,"mouseout",s),a&&((t=a).parentNode&&(null==t.style.opacity&&r(t),t.style.opacity=0,setTimeout((function(){r(t)}),600)),a=null)}var l=setInterval((function(){if(a)for(var e=o;;e=e.parentNode){if(e&&11==e.nodeType&&(e=e.host),e==document.body)return;if(!e){s();break}}if(!a)return clearInterval(l)}),400);e.on(o,"mouseout",s)}function i(e,t,r){for(var i in this.marked=[],t instanceof Function&&(t={getAnnotations:t}),t&&!0!==t||(t={}),this.options={},this.linterOptions=t.options||{},o)this.options[i]=o[i];for(var i in t)o.hasOwnProperty(i)?null!=t[i]&&(this.options[i]=t[i]):t.options||(this.linterOptions[i]=t[i]);this.timeout=null,this.hasGutter=r,this.onMouseOver=function(t){!function(e,t){var r=t.target||t.srcElement;if(/\bCodeMirror-lint-mark-/.test(r.className)){for(var i=r.getBoundingClientRect(),o=(i.left+i.right)/2,a=(i.top+i.bottom)/2,s=e.findMarksAt(e.coordsChar({left:o,top:a},"client")),_=[],u=0;u<s.length;++u){var c=s[u].__annotation;c&&_.push(c)}_.length&&function(e,t,r){for(var i=r.target||r.srcElement,o=document.createDocumentFragment(),a=0;a<t.length;a++){var s=t[a];o.appendChild(l(s))}n(e,r,o,i)}(e,_,t)}}(e,t)},this.waitingFor=0}var o={highlightLines:!1,tooltips:!0,delay:500,lintOnChange:!0,getAnnotations:null,async:!1,selfContain:null,formatAnnotation:null,onUpdateLinting:null};function a(e){var r=e.state.lint;r.hasGutter&&e.clearGutter(t),r.options.highlightLines&&function(e){e.eachLine((function(t){var r=t.wrapClass&&/\bCodeMirror-lint-line-\w+\b/.exec(t.wrapClass);r&&e.removeLineClass(t,"wrap",r[0])}))}(e);for(var n=0;n<r.marked.length;++n)r.marked[n].clear();r.marked.length=0}function s(t,r,i,o,a){var s=document.createElement("div"),l=s;return s.className="CodeMirror-lint-marker CodeMirror-lint-marker-"+i,o&&((l=s.appendChild(document.createElement("div"))).className="CodeMirror-lint-marker CodeMirror-lint-marker-multiple"),0!=a&&e.on(l,"mouseover",(function(e){n(t,e,r,l)})),s}function l(e){var t=e.severity;t||(t="error");var r=document.createElement("div");return r.className="CodeMirror-lint-message CodeMirror-lint-message-"+t,void 0!==e.messageHTML?r.innerHTML=e.messageHTML:r.appendChild(document.createTextNode(e.message)),r}function _(t){var r=t.state.lint;if(r){var n=r.options,i=n.getAnnotations||t.getHelper(e.Pos(0,0),"lint");if(i)if(n.async||i.async)!function(t,r){var n=t.state.lint,i=++n.waitingFor;function o(){i=-1,t.off("change",o)}t.on("change",o),r(t.getValue(),(function(r,a){t.off("change",o),n.waitingFor==i&&(a&&r instanceof e&&(r=a),t.operation((function(){u(t,r)})))}),n.linterOptions,t)}(t,i);else{var o=i(t.getValue(),r.linterOptions,t);if(!o)return;o.then?o.then((function(e){t.operation((function(){u(t,e)}))})):t.operation((function(){u(t,o)}))}}}function u(e,r){var n=e.state.lint;if(n){var i=n.options;a(e);for(var o,_,u=function(e){for(var t=[],r=0;r<e.length;++r){var n=e[r],i=n.from.line;(t[i]||(t[i]=[])).push(n)}return t}(r),c=0;c<u.length;++c){var p=u[c];if(p){var d=[];p=p.filter((function(e){return!(d.indexOf(e.message)>-1)&&d.push(e.message)}));for(var h=null,f=n.hasGutter&&document.createDocumentFragment(),m=0;m<p.length;++m){var y=p[m],g=y.severity;g||(g="error"),_=g,h="error"==(o=h)?o:_,i.formatAnnotation&&(y=i.formatAnnotation(y)),n.hasGutter&&f.appendChild(l(y)),y.to&&n.marked.push(e.markText(y.from,y.to,{className:"CodeMirror-lint-mark CodeMirror-lint-mark-"+g,__annotation:y}))}n.hasGutter&&e.setGutterMarker(c,t,s(e,f,h,u[c].length>1,i.tooltips)),i.highlightLines&&e.addLineClass(c,"wrap","CodeMirror-lint-line-"+h)}}i.onUpdateLinting&&i.onUpdateLinting(r,u,e)}}function c(e){var t=e.state.lint;t&&(clearTimeout(t.timeout),t.timeout=setTimeout((function(){_(e)}),t.options.delay))}e.defineOption("lint",!1,(function(r,n,o){if(o&&o!=e.Init&&(a(r),!1!==r.state.lint.options.lintOnChange&&r.off("change",c),e.off(r.getWrapperElement(),"mouseover",r.state.lint.onMouseOver),clearTimeout(r.state.lint.timeout),delete r.state.lint),n){for(var s=r.getOption("gutters"),l=!1,u=0;u<s.length;++u)s[u]==t&&(l=!0);var p=r.state.lint=new i(r,n,l);p.options.lintOnChange&&r.on("change",c),0!=p.options.tooltips&&"gutter"!=p.options.tooltips&&e.on(r.getWrapperElement(),"mouseover",p.onMouseOver),_(r)}})),e.defineExtension("performLint",(function(){_(this)}))}(r(48))},function(e,t,r){!function(e){var t=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),r=e.Pos,n={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function i(e){return e&&e.bracketRegex||/[(){}[\]]/}function o(e,t,o){var s=e.getLineHandle(t.line),l=t.ch-1,_=o&&o.afterCursor;null==_&&(_=/(^| )cm-fat-cursor($| )/.test(e.getWrapperElement().className));var u=i(o),c=!_&&l>=0&&u.test(s.text.charAt(l))&&n[s.text.charAt(l)]||u.test(s.text.charAt(l+1))&&n[s.text.charAt(++l)];if(!c)return null;var p=">"==c.charAt(1)?1:-1;if(o&&o.strict&&p>0!=(l==t.ch))return null;var d=e.getTokenTypeAt(r(t.line,l+1)),h=a(e,r(t.line,l+(p>0?1:0)),p,d,o);return null==h?null:{from:r(t.line,l),to:h&&h.pos,match:h&&h.ch==c.charAt(0),forward:p>0}}function a(e,t,o,a,s){for(var l=s&&s.maxScanLineLength||1e4,_=s&&s.maxScanLines||1e3,u=[],c=i(s),p=o>0?Math.min(t.line+_,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-_),d=t.line;d!=p;d+=o){var h=e.getLine(d);if(h){var f=o>0?0:h.length-1,m=o>0?h.length:-1;if(!(h.length>l))for(d==t.line&&(f=t.ch-(o<0?1:0));f!=m;f+=o){var y=h.charAt(f);if(c.test(y)&&(void 0===a||(e.getTokenTypeAt(r(d,f+1))||"")==(a||""))){var g=n[y];if(g&&">"==g.charAt(1)==o>0)u.push(y);else{if(!u.length)return{pos:r(d,f),ch:y};u.pop()}}}}}return d-o!=(o>0?e.lastLine():e.firstLine())&&null}function s(e,n,i){for(var a=e.state.matchBrackets.maxHighlightLineLength||1e3,s=i&&i.highlightNonMatching,l=[],_=e.listSelections(),u=0;u<_.length;u++){var c=_[u].empty()&&o(e,_[u].head,i);if(c&&(c.match||!1!==s)&&e.getLine(c.from.line).length<=a){var p=c.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";l.push(e.markText(c.from,r(c.from.line,c.from.ch+1),{className:p})),c.to&&e.getLine(c.to.line).length<=a&&l.push(e.markText(c.to,r(c.to.line,c.to.ch+1),{className:p}))}}if(l.length){t&&e.state.focused&&e.focus();var d=function(){e.operation((function(){for(var e=0;e<l.length;e++)l[e].clear()}))};if(!n)return d;setTimeout(d,800)}}function l(e){e.operation((function(){e.state.matchBrackets.currentlyHighlighted&&(e.state.matchBrackets.currentlyHighlighted(),e.state.matchBrackets.currentlyHighlighted=null),e.state.matchBrackets.currentlyHighlighted=s(e,!1,e.state.matchBrackets)}))}function _(e){e.state.matchBrackets&&e.state.matchBrackets.currentlyHighlighted&&(e.state.matchBrackets.currentlyHighlighted(),e.state.matchBrackets.currentlyHighlighted=null)}e.defineOption("matchBrackets",!1,(function(t,r,n){n&&n!=e.Init&&(t.off("cursorActivity",l),t.off("focus",l),t.off("blur",_),_(t)),r&&(t.state.matchBrackets="object"==typeof r?r:{},t.on("cursorActivity",l),t.on("focus",l),t.on("blur",_))})),e.defineExtension("matchBrackets",(function(){s(this,!0)})),e.defineExtension("findMatchingBracket",(function(e,t,r){return(r||"boolean"==typeof t)&&(r?(r.strict=t,t=r):t=t?{strict:!0}:null),o(this,e,t)})),e.defineExtension("scanForBracket",(function(e,t,r,n){return a(this,e,t,r,n)}))}(r(48))},function(e,t,r){"use strict";var n=r(61),i=r.n(n),o=r(197),a={insert:"head",singleton:!1};i()(o.a,a),o.a.locals},function(e,t,r){"use strict";var n=r(61),i=r.n(n),o=r(198),a={insert:"head",singleton:!1};i()(o.a,a),o.a.locals},function(e,t,r){"use strict";var n=r(3),i=r.n(n),o=r(128),a=r.n(o),s=r(48),l=r.n(s),_=r(281),u=r.n(_),c=r(22);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;l.a.defineMode("mgl",(function(e,t){return l.a.modes.javascript(d(d({},e),{},{json:!0}),t)})),l.a.registerHelper("lint","json",(function(e){var t=[];a.a.parser.parseError=function(e,r){var n=r.loc;t.push({from:l.a.Pos(n.first_line-1,n.first_column),to:l.a.Pos(n.last_line-1,n.last_column),message:e})};try{a.a.parse(e)}catch(e){}return t})),l.a.registerHelper("lint","mgl",(function(e,t,r){var n=[],i=a.a.parser,o=t.context;i.parseError=function(e,t){var r=t.loc;n.push({from:l.a.Pos(r.first_line-1,r.first_column),to:l.a.Pos(r.last_line-1,r.last_column),message:e})};try{i.parse(e)}catch(e){}if(n.length>0)return n;var s,_=u()(e),p=JSON.parse(e);if("layer"===o){var d=Object(c.j)({version:8,name:"Empty Style",metadata:{},sources:{},sprite:"",glyphs:"https://example.com/glyphs/{fontstack}/{range}.pbf",layers:[p]});d&&(s={result:"error",value:d.filter((function(e){return!e.message.match(/^layers\[0\]: source ".*" not found$/)})).map((function(e){var t=e.message.replace(/^layers\[0\]./,"").split(":");return{key:t[0],message:t[1]}}))})}else{if("expression"!==o)throw new Error("Invalid context ".concat(o));s=c.d.createExpression(p,t.spec)}"error"===s.result&&s.value.forEach((function(e){var t=e.key,i=e.message;if(t){if(t){var o=t.replace(/^\[|\]$/g,"").split(/\.|[\[\]]+/).filter(Boolean),a=function e(t,r){if(t){if(r.length<1)return t;if(t.children){var n,i=r[0];return i.match(/^[0-9]+$/)?n=t.children[r[0]]:(n=t.children.find((function(e){return e.key&&"Identifier"===e.key.type&&e.key.value===i})))&&(n=n.value),e(n,r.slice(1))}}else;}(_,o);if(!a)return void console.warn("Something went wrong parsing error:",e);var s=a.loc,u=s.start,c=s.end;n.push({from:l.a.Pos(u.line-1,u.column),to:l.a.Pos(c.line-1,c.column),message:i})}}else{var p=r.getLineHandle(r.lastLine()),d={from:l.a.Pos(r.firstLine(),0),to:l.a.Pos(r.lastLine(),p.text.length),message:i};n.push(d)}}));return n}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var n=s(r(390)),i=s(r(170)),o=s(r(224)),a=s(r(400));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=[];return(0,a.default)(t,(function(t){Array.isArray(t)?e(t).map((function(e){return r.push(e)})):(0,o.default)(t)?(0,i.default)(t,(function(e,t){!0===e&&r.push(t),r.push(t+"-"+e)})):(0,n.default)(t)&&r.push(t)})),r};t.default=l},function(e,t,r){var n=r(102),i=r(67),o=r(84);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==n(e)}},function(e,t,r){var n=r(118),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var i=a.call(e);return n&&(t?e[s]=r:delete e[s]),i}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},function(e,t){e.exports=function(e){return function(t,r,n){for(var i=-1,o=Object(t),a=n(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===r(o[l],l,o))break}return t}}},function(e,t){e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},function(e,t,r){var n=r(102),i=r(84);e.exports=function(e){return i(e)&&"[object Arguments]"==n(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,r){var n=r(102),i=r(174),o=r(84),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[n(e)]}},function(e,t,r){var n=r(177),i=r(399),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=[];for(var r in Object(e))o.call(e,r)&&"constructor"!=r&&t.push(r);return t}},function(e,t,r){var n=r(222)(Object.keys,Object);e.exports=n},function(e,t,r){var n=r(225),i=r(401),o=r(459),a=r(67);e.exports=function(e,t){return(a(e)?n:o)(e,i(t,3))}},function(e,t,r){var n=r(402),i=r(446),o=r(139),a=r(67),s=r(456);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):n(e):s(e)}},function(e,t,r){var n=r(403),i=r(445),o=r(235);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},function(e,t,r){var n=r(140),i=r(227);e.exports=function(e,t,r,o){var a=r.length,s=a,l=!o;if(null==e)return!s;for(e=Object(e);a--;){var _=r[a];if(l&&_[2]?_[1]!==e[_[0]]:!(_[0]in e))return!1}for(;++a<s;){var u=(_=r[a])[0],c=e[u],p=_[1];if(l&&_[2]){if(void 0===c&&!(u in e))return!1}else{var d=new n;if(o)var h=o(c,p,u,e,t,d);if(!(void 0===h?i(p,c,3,o,d):h))return!1}}return!0}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,r){var n=r(142),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():i.call(t,r,1),--this.size,!0)}},function(e,t,r){var n=r(142);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},function(e,t,r){var n=r(142);e.exports=function(e){return n(this.__data__,e)>-1}},function(e,t,r){var n=r(142);e.exports=function(e,t){var r=this.__data__,i=n(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}},function(e,t,r){var n=r(141);e.exports=function(){this.__data__=new n,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,r){var n=r(141),i=r(180),o=r(181);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new o(a)}return r.set(e,t),this.size=r.size,this}},function(e,t,r){var n=r(178),i=r(415),o=r(69),a=r(226),s=/^\[object .+?Constructor\]$/,l=Function.prototype,_=Object.prototype,u=l.toString,c=_.hasOwnProperty,p=RegExp("^"+u.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(n(e)?p:s).test(a(e))}},function(e,t,r){var n,i=r(416),o=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!o&&o in e}},function(e,t,r){var n=r(78)["__core-js_shared__"];e.exports=n},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,r){var n=r(419),i=r(141),o=r(180);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||i),string:new n}}},function(e,t,r){var n=r(420),i=r(421),o=r(422),a=r(423),s=r(424);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,r){var n=r(143);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,r){var n=r(143),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(t,e)?t[e]:void 0}},function(e,t,r){var n=r(143),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:i.call(t,e)}},function(e,t,r){var n=r(143);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,r){var n=r(144);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,r){var n=r(144);e.exports=function(e){return n(this,e).get(e)}},function(e,t,r){var n=r(144);e.exports=function(e){return n(this,e).has(e)}},function(e,t,r){var n=r(144);e.exports=function(e,t){var r=n(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}},function(e,t,r){var n=r(140),i=r(228),o=r(436),a=r(439),s=r(145),l=r(67),_=r(138),u=r(173),c="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,d,h,f){var m=l(e),y=l(t),g=m?"[object Array]":s(e),b=y?"[object Array]":s(t),v=(g="[object Arguments]"==g?c:g)==c,E=(b="[object Arguments]"==b?c:b)==c,O=g==b;if(O&&_(e)){if(!_(t))return!1;m=!0,v=!1}if(O&&!v)return f||(f=new n),m||u(e)?i(e,t,r,d,h,f):o(e,t,g,r,d,h,f);if(!(1&r)){var M=v&&p.call(e,"__wrapped__"),P=E&&p.call(t,"__wrapped__");if(M||P){var x=M?e.value():e,w=P?t.value():t;return f||(f=new n),h(x,w,r,d,f)}}return!!O&&(f||(f=new n),a(e,t,r,d,h,f))}},function(e,t,r){var n=r(181),i=r(432),o=r(433);function a(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,r){var n=r(118),i=r(229),o=r(120),a=r(228),s=r(437),l=r(438),_=n?n.prototype:void 0,u=_?_.valueOf:void 0;e.exports=function(e,t,r,n,_,c,p){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!c(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=s;case"[object Set]":var h=1&n;if(d||(d=l),e.size!=t.size&&!h)return!1;var f=p.get(e);if(f)return f==t;n|=2,p.set(e,t);var m=a(d(e),d(t),n,_,c,p);return p.delete(e),m;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}},function(e,t){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},function(e,t,r){var n=r(230),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,o,a,s){var l=1&r,_=n(e),u=_.length;if(u!=n(t).length&&!l)return!1;for(var c=u;c--;){var p=_[c];if(!(l?p in t:i.call(t,p)))return!1}var d=s.get(e),h=s.get(t);if(d&&h)return d==t&&h==e;var f=!0;s.set(e,t),s.set(t,e);for(var m=l;++c<u;){var y=e[p=_[c]],g=t[p];if(o)var b=l?o(g,y,p,t,e,s):o(y,g,p,e,t,s);if(!(void 0===b?y===g||a(y,g,r,o,s):b)){f=!1;break}m||(m="constructor"==p)}if(f&&!m){var v=e.constructor,E=t.constructor;v==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof E&&E instanceof E||(f=!1)}return s.delete(e),s.delete(t),f}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}},function(e,t,r){var n=r(103)(r(78),"DataView");e.exports=n},function(e,t,r){var n=r(103)(r(78),"Promise");e.exports=n},function(e,t,r){var n=r(103)(r(78),"Set");e.exports=n},function(e,t,r){var n=r(103)(r(78),"WeakMap");e.exports=n},function(e,t,r){var n=r(234),i=r(119);e.exports=function(e){for(var t=i(e),r=t.length;r--;){var o=t[r],a=e[o];t[r]=[o,a,n(a)]}return t}},function(e,t,r){var n=r(227),i=r(447),o=r(453),a=r(183),s=r(234),l=r(235),_=r(147);e.exports=function(e,t){return a(e)&&s(t)?l(_(e),t):function(r){var a=i(r,e);return void 0===a&&a===t?o(r,e):n(t,a,3)}}},function(e,t,r){var n=r(236);e.exports=function(e,t,r){var i=null==e?void 0:n(e,t);return void 0===i?r:i}},function(e,t,r){var n=r(449),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,r,n,i){t.push(n?i.replace(o,"$1"):r||e)})),t}));e.exports=a},function(e,t,r){var n=r(450);e.exports=function(e){var t=n(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}},function(e,t,r){var n=r(181);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(i.Cache||n),r}i.Cache=n,e.exports=i},function(e,t,r){var n=r(452);e.exports=function(e){return null==e?"":n(e)}},function(e,t,r){var n=r(118),i=r(225),o=r(67),a=r(146),s=n?n.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return l?l.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}},function(e,t,r){var n=r(454),i=r(455);e.exports=function(e,t){return null!=e&&i(e,t,n)}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,r){var n=r(237),i=r(171),o=r(67),a=r(172),s=r(174),l=r(147);e.exports=function(e,t,r){for(var _=-1,u=(t=n(t,e)).length,c=!1;++_<u;){var p=l(t[_]);if(!(c=null!=e&&r(e,p)))break;e=e[p]}return c||++_!=u?c:!!(u=null==e?0:e.length)&&s(u)&&a(p,u)&&(o(e)||i(e))}},function(e,t,r){var n=r(457),i=r(458),o=r(183),a=r(147);e.exports=function(e){return o(e)?n(a(e)):i(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,r){var n=r(236);e.exports=function(e){return function(t){return n(t,e)}}},function(e,t,r){var n=r(238),i=r(109);e.exports=function(e,t){var r=-1,o=i(e)?Array(e.length):[];return n(e,(function(e,n,i){o[++r]=t(e,n,i)})),o}},function(e,t,r){var n=r(109);e.exports=function(e,t){return function(r,i){if(null==r)return r;if(!n(r))return e(r,i);for(var o=r.length,a=t?o:-1,s=Object(r);(t?a--:++a<o)&&!1!==i(s[a],a,s););return r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var n=a(r(170)),i=a(r(462)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function a(e){return e&&e.__esModule?e:{default:e}}var s=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.default&&(0,i.default)(e.default)||{};return t.map((function(t){var i=e[t];return i&&(0,n.default)(i,(function(e,t){r[t]||(r[t]={}),r[t]=o({},r[t],i[t])})),t})),r};t.default=s},function(e,t,r){var n=r(463);e.exports=function(e){return n(e,5)}},function(e,t,r){var n=r(140),i=r(239),o=r(240),a=r(464),s=r(465),l=r(242),_=r(243),u=r(468),c=r(469),p=r(230),d=r(470),h=r(145),f=r(471),m=r(472),y=r(246),g=r(67),b=r(138),v=r(477),E=r(69),O=r(479),M=r(119),P=r(122),x={};x["[object Arguments]"]=x["[object Array]"]=x["[object ArrayBuffer]"]=x["[object DataView]"]=x["[object Boolean]"]=x["[object Date]"]=x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Map]"]=x["[object Number]"]=x["[object Object]"]=x["[object RegExp]"]=x["[object Set]"]=x["[object String]"]=x["[object Symbol]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x["[object Error]"]=x["[object Function]"]=x["[object WeakMap]"]=!1,e.exports=function e(t,r,w,C,D,T){var k,A=1&r,I=2&r,L=4&r;if(w&&(k=D?w(t,C,D,T):w(t)),void 0!==k)return k;if(!E(t))return t;var R=g(t);if(R){if(k=f(t),!A)return _(t,k)}else{var S=h(t),B="[object Function]"==S||"[object GeneratorFunction]"==S;if(b(t))return l(t,A);if("[object Object]"==S||"[object Arguments]"==S||B&&!D){if(k=I||B?{}:y(t),!A)return I?c(t,s(k,t)):u(t,a(k,t))}else{if(!x[S])return D?t:{};k=m(t,S,A)}}T||(T=new n);var U=T.get(t);if(U)return U;T.set(t,k),O(t)?t.forEach((function(n){k.add(e(n,r,w,n,t,T))})):v(t)&&t.forEach((function(n,i){k.set(i,e(n,r,w,i,t,T))}));var W=R?void 0:(L?I?d:p:I?P:M)(t);return i(W||t,(function(n,i){W&&(n=t[i=n]),o(k,i,e(n,r,w,i,t,T))})),k}},function(e,t,r){var n=r(121),i=r(119);e.exports=function(e,t){return e&&n(t,i(t),e)}},function(e,t,r){var n=r(121),i=r(122);e.exports=function(e,t){return e&&n(t,i(t),e)}},function(e,t,r){var n=r(69),i=r(177),o=r(467),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=i(e),r=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&r.push(s);return r}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},function(e,t,r){var n=r(121),i=r(182);e.exports=function(e,t){return n(e,i(e),t)}},function(e,t,r){var n=r(121),i=r(244);e.exports=function(e,t){return n(e,i(e),t)}},function(e,t,r){var n=r(231),i=r(244),o=r(122);e.exports=function(e){return n(e,o,i)}},function(e,t){var r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},function(e,t,r){var n=r(185),i=r(473),o=r(474),a=r(475),s=r(245);e.exports=function(e,t,r){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return n(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return i(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,r);case"[object Map]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return o(e);case"[object Set]":return new l;case"[object Symbol]":return a(e)}}},function(e,t,r){var n=r(185);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}},function(e,t){var r=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,r){var n=r(118),i=n?n.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},function(e,t,r){var n=r(69),i=Object.create,o=function(){function e(){}return function(t){if(!n(t))return{};if(i)return i(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=o},function(e,t,r){var n=r(478),i=r(175),o=r(176),a=o&&o.isMap,s=a?i(a):n;e.exports=s},function(e,t,r){var n=r(145),i=r(84);e.exports=function(e){return i(e)&&"[object Map]"==n(e)}},function(e,t,r){var n=r(480),i=r(175),o=r(176),a=o&&o.isSet,s=a?i(a):n;e.exports=s},function(e,t,r){var n=r(145),i=r(84);e.exports=function(e){return i(e)&&"[object Set]"==n(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var n,i=r(170),o=(n=i)&&n.__esModule?n:{default:n},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var s={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var r=t[e];return r||{extend:e}}},l=t.autoprefix=function(e){var t={};return(0,o.default)(e,(function(e,r){var n={};(0,o.default)(e,(function(e,t){var r=s[t];r?n=a({},n,r(e)):n[t]=e})),t[r]=n})),t};t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var n,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(1),a=(n=o)&&n.__esModule?n:{default:n};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(r){function n(){var r,o,_;s(this,n);for(var u=arguments.length,c=Array(u),p=0;p<u;p++)c[p]=arguments[p];return o=_=l(this,(r=n.__proto__||Object.getPrototypeOf(n)).call.apply(r,[this].concat(c))),_.state={hover:!1},_.handleMouseOver=function(){return _.setState({hover:!0})},_.handleMouseOut=function(){return _.setState({hover:!1})},_.render=function(){return a.default.createElement(t,{onMouseOver:_.handleMouseOver,onMouseOut:_.handleMouseOut},a.default.createElement(e,i({},_.props,_.state)))},l(_,o)}return _(n,r),n}(a.default.Component)};t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var n,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(1),a=(n=o)&&n.__esModule?n:{default:n};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(r){function n(){var r,o,_;s(this,n);for(var u=arguments.length,c=Array(u),p=0;p<u;p++)c[p]=arguments[p];return o=_=l(this,(r=n.__proto__||Object.getPrototypeOf(n)).call.apply(r,[this].concat(c))),_.state={active:!1},_.handleMouseDown=function(){return _.setState({active:!0})},_.handleMouseUp=function(){return _.setState({active:!1})},_.render=function(){return a.default.createElement(t,{onMouseDown:_.handleMouseDown,onMouseUp:_.handleMouseUp},a.default.createElement(e,i({},_.props,_.state)))},l(_,o)}return _(n,r),n}(a.default.Component)};t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var r={},n=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r[e]=t};return 0===e&&n("first-child"),e===t-1&&n("last-child"),(0===e||e%2==0)&&n("even"),1===Math.abs(e%2)&&n("odd"),n("nth-child",e),r}},function(e,t,r){var n=r(140),i=r(248),o=r(220),a=r(486),s=r(69),l=r(122),_=r(249);e.exports=function e(t,r,u,c,p){t!==r&&o(r,(function(o,l){if(p||(p=new n),s(o))a(t,r,l,u,e,c,p);else{var d=c?c(_(t,l),o,l+"",t,r,p):void 0;void 0===d&&(d=o),i(t,l,d)}}),l)}},function(e,t,r){var n=r(248),i=r(242),o=r(245),a=r(243),s=r(246),l=r(171),_=r(67),u=r(487),c=r(138),p=r(178),d=r(69),h=r(224),f=r(173),m=r(249),y=r(488);e.exports=function(e,t,r,g,b,v,E){var O=m(e,r),M=m(t,r),P=E.get(M);if(P)n(e,r,P);else{var x=v?v(O,M,r+"",e,t,E):void 0,w=void 0===x;if(w){var C=_(M),D=!C&&c(M),T=!C&&!D&&f(M);x=M,C||D||T?_(O)?x=O:u(O)?x=a(O):D?(w=!1,x=i(M,!0)):T?(w=!1,x=o(M,!0)):x=[]:h(M)||l(M)?(x=O,l(O)?x=y(O):d(O)&&!p(O)||(x=s(M))):w=!1}w&&(E.set(M,x),b(x,M,g,v,E),E.delete(M)),n(e,r,x)}}},function(e,t,r){var n=r(109),i=r(84);e.exports=function(e){return i(e)&&n(e)}},function(e,t,r){var n=r(121),i=r(122);e.exports=function(e){return n(e,i(e))}},function(e,t,r){var n=r(490),i=r(497);e.exports=function(e){return n((function(t,r){var n=-1,o=r.length,a=o>1?r[o-1]:void 0,s=o>2?r[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(r[0],r[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++n<o;){var l=r[n];l&&e(t,l,n,a)}return t}))}},function(e,t,r){var n=r(139),i=r(491),o=r(493);e.exports=function(e,t){return o(i(e,t,n),e+"")}},function(e,t,r){var n=r(492),i=Math.max;e.exports=function(e,t,r){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var _=Array(t+1);++a<t;)_[a]=o[a];return _[t]=r(l),n(e,this,_)}}},function(e,t){e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},function(e,t,r){var n=r(494),i=r(496)(n);e.exports=i},function(e,t,r){var n=r(495),i=r(241),o=r(139),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:o;e.exports=a},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){var r=Date.now;e.exports=function(e){var t=0,n=0;return function(){var i=r(),o=16-(i-n);if(n=i,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,r){var n=r(120),i=r(109),o=r(172),a=r(69);e.exports=function(e,t,r){if(!a(r))return!1;var s=typeof t;return!!("number"==s?i(r)&&o(t,r.length):"string"==s&&t in r)&&n(r[t],e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alpha=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(1),a=u(o),s=u(r(77)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(499)),_=u(r(186));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=t.Alpha=function(e){function t(){var e,r,n;c(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=n=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.handleChange=function(e){var t=l.calculateChange(e,n.props.hsl,n.props.direction,n.props.a,n.container);t&&"function"==typeof n.props.onChange&&n.props.onChange(t,e)},n.handleMouseDown=function(e){n.handleChange(e),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleChange),window.removeEventListener("mouseup",n.handleMouseUp)},p(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,r=(0,s.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:n({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return a.default.createElement("div",{style:r.alpha},a.default.createElement("div",{style:r.checkboard},a.default.createElement(_.default,{renderers:this.props.renderers})),a.default.createElement("div",{style:r.gradient}),a.default.createElement("div",{style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},a.default.createElement("div",{style:r.pointer},this.props.pointer?a.default.createElement(this.props.pointer,this.props):a.default.createElement("div",{style:r.slider}))))}}]),t}(o.PureComponent||o.Component);t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,r,n,i){var o=i.clientWidth,a=i.clientHeight,s="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,_=s-(i.getBoundingClientRect().left+window.pageXOffset),u=l-(i.getBoundingClientRect().top+window.pageYOffset);if("vertical"===r){var c=void 0;if(c=u<0?0:u>a?1:Math.round(100*u/a)/100,t.a!==c)return{h:t.h,s:t.s,l:t.l,a:c,source:"rgb"}}else{var p=void 0;if(n!==(p=_<0?0:_>o?1:Math.round(100*_/o)/100))return{h:t.h,s:t.s,l:t.l,a:p,source:"rgb"}}return null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={},i=t.render=function(e,t,r,n){if("undefined"==typeof document&&!n)return null;var i=n?new n:document.createElement("canvas");i.width=2*r,i.height=2*r;var o=i.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,i.width,i.height),o.fillStyle=t,o.fillRect(0,0,r,r),o.translate(r,r),o.fillRect(0,0,r,r),i.toDataURL()):null};t.get=function(e,t,r,o){var a=e+"-"+t+"-"+r+(o?"-server":"");if(n[a])return n[a];var s=i(e,t,r,o);return n[a]=s,s}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditableInput=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),o=s(i),a=s(r(77));function s(e){return e&&e.__esModule?e:{default:e}}var l=[38,40],_=1,u=t.EditableInput=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(e){r.setUpdatedValue(e.target.value,e)},r.handleKeyDown=function(e){var t,n=function(e){return Number(String(e).replace(/%/g,""))}(e.target.value);if(!isNaN(n)&&(t=e.keyCode,l.indexOf(t)>-1)){var i=r.getArrowOffset(),o=38===e.keyCode?n+i:n-i;r.setUpdatedValue(o,e)}},r.handleDrag=function(e){if(r.props.dragLabel){var t=Math.round(r.props.value+e.movementX);t>=0&&t<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(t),e)}},r.handleMouseDown=function(e){r.props.dragLabel&&(e.preventDefault(),r.handleDrag(e),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},r.inputId="rc-editable-input-"+_++,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidUpdate",value:function(e,t){this.props.value===this.state.value||e.value===this.props.value&&t.value===this.state.value||(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(e){return function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},this.props.label,e)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||1}},{key:"setUpdatedValue",value:function(e,t){var r=this.props.label?this.getValueObjectWithLabel(e):e;this.props.onChange&&this.props.onChange(r,t),this.setState({value:e})}},{key:"render",value:function(){var e=this,t=(0,a.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return o.default.createElement("div",{style:t.wrap},o.default.createElement("input",{id:this.inputId,style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?o.default.createElement("label",{htmlFor:this.inputId,style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(i.PureComponent||i.Component);t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hue=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),o=l(i),a=l(r(77)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(503));function l(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=t.Hue=function(e){function t(){var e,r,n;_(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.handleChange=function(e){var t=s.calculateChange(e,n.props.direction,n.props.hsl,n.container);t&&"function"==typeof n.props.onChange&&n.props.onChange(t,e)},n.handleMouseDown=function(e){n.handleChange(e),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},u(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,r=void 0===t?"horizontal":t,n=(0,a.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===r});return o.default.createElement("div",{style:n.hue},o.default.createElement("div",{className:"hue-"+r,style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},o.default.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),o.default.createElement("div",{style:n.pointer},this.props.pointer?o.default.createElement(this.props.pointer,this.props):o.default.createElement("div",{style:n.slider}))))}}]),t}(i.PureComponent||i.Component);t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,r,n){var i=n.clientWidth,o=n.clientHeight,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=a-(n.getBoundingClientRect().left+window.pageXOffset),_=s-(n.getBoundingClientRect().top+window.pageYOffset);if("vertical"===t){var u=void 0;if(_<0)u=359;else if(_>o)u=0;else{u=360*(-100*_/o+100)/100}if(r.h!==u)return{h:u,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var c=void 0;if(l<0)c=0;else if(l>i)c=359;else{c=360*(100*l/i)/100}if(r.h!==c)return{h:c,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Raised=void 0;var n=s(r(1)),i=s(r(2)),o=s(r(77)),a=s(r(247));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.Raised=function(e){var t=e.zDepth,r=e.radius,i=e.background,s=e.children,l=e.styles,_=void 0===l?{}:l,u=(0,o.default)((0,a.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},_),{"zDepth-1":1===t});return n.default.createElement("div",{style:u.wrap},n.default.createElement("div",{style:u.bg}),n.default.createElement("div",{style:u.content},s))};l.propTypes={background:i.default.string,zDepth:i.default.oneOf([0,1,2,3,4,5]),radius:i.default.number,styles:i.default.object},l.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}},t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Saturation=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),o=_(i),a=_(r(77)),s=_(r(506)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(511));function _(e){return e&&e.__esModule?e:{default:e}}var u=t.Saturation=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handleChange=function(e){"function"==typeof r.props.onChange&&r.throttle(r.props.onChange,l.calculateChange(e,r.props.hsl,r.container),e)},r.handleMouseDown=function(e){r.handleChange(e);var t=r.getContainerRenderWindow();t.addEventListener("mousemove",r.handleChange),t.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=(0,s.default)((function(e,t,r){e(t,r)}),50),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var e=this.container,t=window;!t.document.contains(e)&&t.parent!==t;)t=t.parent;return t}},{key:"unbindEventListeners",value:function(){var e=this.getContainerRenderWindow();e.removeEventListener("mousemove",this.handleChange),e.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},r=t.color,n=t.white,i=t.black,s=t.pointer,l=t.circle,_=(0,a.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:r,white:n,black:i,pointer:s,circle:l}},{custom:!!this.props.style});return o.default.createElement("div",{style:_.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},o.default.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),o.default.createElement("div",{style:_.white,className:"saturation-white"},o.default.createElement("div",{style:_.black,className:"saturation-black"}),o.default.createElement("div",{style:_.pointer},this.props.pointer?o.default.createElement(this.props.pointer,this.props):o.default.createElement("div",{style:_.circle}))))}}]),t}(i.PureComponent||i.Component);t.default=u},function(e,t,r){var n=r(251),i=r(69);e.exports=function(e,t,r){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(r)&&(o="leading"in r?!!r.leading:o,a="trailing"in r?!!r.trailing:a),n(e,t,{leading:o,maxWait:t,trailing:a})}},function(e,t,r){var n=r(78);e.exports=function(){return n.Date.now()}},function(e,t,r){var n=r(509),i=r(69),o=r(146),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,_=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=s.test(e);return r||l.test(e)?_(e.slice(2),r?2:8):a.test(e)?NaN:+e}},function(e,t,r){var n=r(510),i=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(i,""):e}},function(e,t){var r=/\s/;e.exports=function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,r){var n=r.getBoundingClientRect(),i=n.width,o=n.height,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=a-(r.getBoundingClientRect().left+window.pageXOffset),_=s-(r.getBoundingClientRect().top+window.pageYOffset);l<0?l=0:l>i&&(l=i),_<0?_=0:_>o&&(_=o);var u=l/i,c=1-_/o;return{h:t.h,s:u,v:c,a:t.a,source:"hsv"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorWrap=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(1),a=_(o),s=_(r(251)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(252));function _(e){return e&&e.__esModule?e:{default:e}}var u=t.ColorWrap=function(e){var t=function(t){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return t.handleChange=function(e,r){if(l.simpleCheckForValidColor(e)){var n=l.toState(e,e.h||t.state.oldHue);t.setState(n),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,n,r),t.props.onChange&&t.props.onChange(n,r)}},t.handleSwatchHover=function(e,r){if(l.simpleCheckForValidColor(e)){var n=l.toState(e,e.h||t.state.oldHue);t.props.onSwatchHover&&t.props.onSwatchHover(n,r)}},t.state=n({},l.toState(e.color,0)),t.debounce=(0,s.default)((function(e,t,r){e(t,r)}),100),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,t),i(r,[{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),a.default.createElement(e,n({},this.props,this.state,{onChange:this.handleChange},t))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return n({},l.toState(e.color,t.oldHue))}}]),r}(o.PureComponent||o.Component);return t.propTypes=n({},e.propTypes),t.defaultProps=n({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};t.default=u},function(e,t,r){e.exports=r(514)},function(e,t,r){var n=r(239),i=r(238),o=r(223),a=r(67);e.exports=function(e,t){return(a(e)?n:i)(e,o(t))}},function(e,t,r){var n;!function(i){var o=/^\s+/,a=/\s+$/,s=0,l=i.round,_=i.min,u=i.max,c=i.random;function p(e,t){if(t=t||{},(e=e||"")instanceof p)return e;if(!(this instanceof p))return new p(e,t);var r=function(e){var t={r:0,g:0,b:0},r=1,n=null,s=null,l=null,c=!1,p=!1;"string"==typeof e&&(e=function(e){e=e.replace(o,"").replace(a,"").toLowerCase();var t,r=!1;if(k[e])e=k[e],r=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=q.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=q.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=q.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=q.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=q.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=q.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=q.hex8.exec(e))return{r:S(t[1]),g:S(t[2]),b:S(t[3]),a:K(t[4]),format:r?"name":"hex8"};if(t=q.hex6.exec(e))return{r:S(t[1]),g:S(t[2]),b:S(t[3]),format:r?"name":"hex"};if(t=q.hex4.exec(e))return{r:S(t[1]+""+t[1]),g:S(t[2]+""+t[2]),b:S(t[3]+""+t[3]),a:K(t[4]+""+t[4]),format:r?"name":"hex8"};if(t=q.hex3.exec(e))return{r:S(t[1]+""+t[1]),g:S(t[2]+""+t[2]),b:S(t[3]+""+t[3]),format:r?"name":"hex"};return!1}(e));"object"==typeof e&&(N(e.r)&&N(e.g)&&N(e.b)?(d=e.r,h=e.g,f=e.b,t={r:255*L(d,255),g:255*L(h,255),b:255*L(f,255)},c=!0,p="%"===String(e.r).substr(-1)?"prgb":"rgb"):N(e.h)&&N(e.s)&&N(e.v)?(n=U(e.s),s=U(e.v),t=function(e,t,r){e=6*L(e,360),t=L(t,100),r=L(r,100);var n=i.floor(e),o=e-n,a=r*(1-t),s=r*(1-o*t),l=r*(1-(1-o)*t),_=n%6;return{r:255*[r,s,a,a,l,r][_],g:255*[l,r,r,s,a,a][_],b:255*[a,a,l,r,r,s][_]}}(e.h,n,s),c=!0,p="hsv"):N(e.h)&&N(e.s)&&N(e.l)&&(n=U(e.s),l=U(e.l),t=function(e,t,r){var n,i,o;function a(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}if(e=L(e,360),t=L(t,100),r=L(r,100),0===t)n=i=o=r;else{var s=r<.5?r*(1+t):r+t-r*t,l=2*r-s;n=a(l,s,e+1/3),i=a(l,s,e),o=a(l,s,e-1/3)}return{r:255*n,g:255*i,b:255*o}}(e.h,n,l),c=!0,p="hsl"),e.hasOwnProperty("a")&&(r=e.a));var d,h,f;return r=I(r),{ok:c,format:e.format||p,r:_(255,u(t.r,0)),g:_(255,u(t.g,0)),b:_(255,u(t.b,0)),a:r}}(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=l(100*this._a)/100,this._format=t.format||r.format,this._gradientType=t.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=r.ok,this._tc_id=s++}function d(e,t,r){e=L(e,255),t=L(t,255),r=L(r,255);var n,i,o=u(e,t,r),a=_(e,t,r),s=(o+a)/2;if(o==a)n=i=0;else{var l=o-a;switch(i=s>.5?l/(2-o-a):l/(o+a),o){case e:n=(t-r)/l+(t<r?6:0);break;case t:n=(r-e)/l+2;break;case r:n=(e-t)/l+4}n/=6}return{h:n,s:i,l:s}}function h(e,t,r){e=L(e,255),t=L(t,255),r=L(r,255);var n,i,o=u(e,t,r),a=_(e,t,r),s=o,l=o-a;if(i=0===o?0:l/o,o==a)n=0;else{switch(o){case e:n=(t-r)/l+(t<r?6:0);break;case t:n=(r-e)/l+2;break;case r:n=(e-t)/l+4}n/=6}return{h:n,s:i,v:s}}function f(e,t,r,n){var i=[B(l(e).toString(16)),B(l(t).toString(16)),B(l(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function m(e,t,r,n){return[B(W(n)),B(l(e).toString(16)),B(l(t).toString(16)),B(l(r).toString(16))].join("")}function y(e,t){t=0===t?0:t||10;var r=p(e).toHsl();return r.s-=t/100,r.s=R(r.s),p(r)}function g(e,t){t=0===t?0:t||10;var r=p(e).toHsl();return r.s+=t/100,r.s=R(r.s),p(r)}function b(e){return p(e).desaturate(100)}function v(e,t){t=0===t?0:t||10;var r=p(e).toHsl();return r.l+=t/100,r.l=R(r.l),p(r)}function E(e,t){t=0===t?0:t||10;var r=p(e).toRgb();return r.r=u(0,_(255,r.r-l(-t/100*255))),r.g=u(0,_(255,r.g-l(-t/100*255))),r.b=u(0,_(255,r.b-l(-t/100*255))),p(r)}function O(e,t){t=0===t?0:t||10;var r=p(e).toHsl();return r.l-=t/100,r.l=R(r.l),p(r)}function M(e,t){var r=p(e).toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,p(r)}function P(e){var t=p(e).toHsl();return t.h=(t.h+180)%360,p(t)}function x(e){var t=p(e).toHsl(),r=t.h;return[p(e),p({h:(r+120)%360,s:t.s,l:t.l}),p({h:(r+240)%360,s:t.s,l:t.l})]}function w(e){var t=p(e).toHsl(),r=t.h;return[p(e),p({h:(r+90)%360,s:t.s,l:t.l}),p({h:(r+180)%360,s:t.s,l:t.l}),p({h:(r+270)%360,s:t.s,l:t.l})]}function C(e){var t=p(e).toHsl(),r=t.h;return[p(e),p({h:(r+72)%360,s:t.s,l:t.l}),p({h:(r+216)%360,s:t.s,l:t.l})]}function D(e,t,r){t=t||6,r=r||30;var n=p(e).toHsl(),i=360/r,o=[p(e)];for(n.h=(n.h-(i*t>>1)+720)%360;--t;)n.h=(n.h+i)%360,o.push(p(n));return o}function T(e,t){t=t||6;for(var r=p(e).toHsv(),n=r.h,i=r.s,o=r.v,a=[],s=1/t;t--;)a.push(p({h:n,s:i,v:o})),o=(o+s)%1;return a}p.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,r,n=this.toRgb();return e=n.r/255,t=n.g/255,r=n.b/255,.2126*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:i.pow((r+.055)/1.055,2.4))},setAlpha:function(e){return this._a=I(e),this._roundA=l(100*this._a)/100,this},toHsv:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=h(this._r,this._g,this._b),t=l(360*e.h),r=l(100*e.s),n=l(100*e.v);return 1==this._a?"hsv("+t+", "+r+"%, "+n+"%)":"hsva("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=d(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=d(this._r,this._g,this._b),t=l(360*e.h),r=l(100*e.s),n=l(100*e.l);return 1==this._a?"hsl("+t+", "+r+"%, "+n+"%)":"hsla("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return f(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,r,n,i){var o=[B(l(e).toString(16)),B(l(t).toString(16)),B(l(r).toString(16)),B(W(n))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*L(this._r,255))+"%",g:l(100*L(this._g,255))+"%",b:l(100*L(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*L(this._r,255))+"%, "+l(100*L(this._g,255))+"%, "+l(100*L(this._b,255))+"%)":"rgba("+l(100*L(this._r,255))+"%, "+l(100*L(this._g,255))+"%, "+l(100*L(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(A[f(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+m(this._r,this._g,this._b,this._a),r=t,n=this._gradientType?"GradientType = 1, ":"";if(e){var i=p(e);r="#"+m(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,n=this._a<1&&this._a>=0;return t||!n||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex4"===e&&(r=this.toHex8String(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return p(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(v,arguments)},brighten:function(){return this._applyModification(E,arguments)},darken:function(){return this._applyModification(O,arguments)},desaturate:function(){return this._applyModification(y,arguments)},saturate:function(){return this._applyModification(g,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(M,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(D,arguments)},complement:function(){return this._applyCombination(P,arguments)},monochromatic:function(){return this._applyCombination(T,arguments)},splitcomplement:function(){return this._applyCombination(C,arguments)},triad:function(){return this._applyCombination(x,arguments)},tetrad:function(){return this._applyCombination(w,arguments)}},p.fromRatio=function(e,t){if("object"==typeof e){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]="a"===n?e[n]:U(e[n]));e=r}return p(e,t)},p.equals=function(e,t){return!(!e||!t)&&p(e).toRgbString()==p(t).toRgbString()},p.random=function(){return p.fromRatio({r:c(),g:c(),b:c()})},p.mix=function(e,t,r){r=0===r?0:r||50;var n=p(e).toRgb(),i=p(t).toRgb(),o=r/100;return p({r:(i.r-n.r)*o+n.r,g:(i.g-n.g)*o+n.g,b:(i.b-n.b)*o+n.b,a:(i.a-n.a)*o+n.a})},p.readability=function(e,t){var r=p(e),n=p(t);return(i.max(r.getLuminance(),n.getLuminance())+.05)/(i.min(r.getLuminance(),n.getLuminance())+.05)},p.isReadable=function(e,t,r){var n,i,o=p.readability(e,t);switch(i=!1,(n=function(e){var t,r;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==r&&"large"!==r&&(r="small");return{level:t,size:r}}(r)).level+n.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},p.mostReadable=function(e,t,r){var n,i,o,a,s=null,l=0;i=(r=r||{}).includeFallbackColors,o=r.level,a=r.size;for(var _=0;_<t.length;_++)(n=p.readability(e,t[_]))>l&&(l=n,s=p(t[_]));return p.isReadable(e,s,{level:o,size:a})||!i?s:(r.includeFallbackColors=!1,p.mostReadable(e,["#fff","#000"],r))};var k=p.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},A=p.hexNames=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}(k);function I(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function L(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var r=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=_(t,u(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function R(e){return _(1,u(0,e))}function S(e){return parseInt(e,16)}function B(e){return 1==e.length?"0"+e:""+e}function U(e){return e<=1&&(e=100*e+"%"),e}function W(e){return i.round(255*parseFloat(e)).toString(16)}function K(e){return S(e)/255}var j,z,F,q=(z="[\\s|\\(]+("+(j="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+j+")[,|\\s]+("+j+")\\s*\\)?",F="[\\s|\\(]+("+j+")[,|\\s]+("+j+")[,|\\s]+("+j+")[,|\\s]+("+j+")\\s*\\)?",{CSS_UNIT:new RegExp(j),rgb:new RegExp("rgb"+z),rgba:new RegExp("rgba"+F),hsl:new RegExp("hsl"+z),hsla:new RegExp("hsla"+F),hsv:new RegExp("hsv"+z),hsva:new RegExp("hsva"+F),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function N(e){return!!q.CSS_UNIT.exec(e)}e.exports?e.exports=p:void 0===(n=function(){return p}.call(t,r,t,e))||(e.exports=n)}(Math)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Swatch=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=l(r(1)),o=l(r(77)),a=r(517),s=l(r(186));function l(e){return e&&e.__esModule?e:{default:e}}var _=t.Swatch=function(e){var t=e.color,r=e.style,a=e.onClick,l=void 0===a?function(){}:a,_=e.onHover,u=e.title,c=void 0===u?t:u,p=e.children,d=e.focus,h=e.focusStyle,f=void 0===h?{}:h,m="transparent"===t,y=(0,o.default)({default:{swatch:n({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,d?f:{})}}),g={};return _&&(g.onMouseOver=function(e){return _(t,e)}),i.default.createElement("div",n({style:y.swatch,onClick:function(e){return l(t,e)},title:c,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&l(t,e)}},g),p,m&&i.default.createElement(s.default,{borderRadius:y.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};t.default=(0,a.handleFocus)(_)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleFocus=void 0;var n,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(1),s=(n=a)&&n.__esModule?n:{default:n};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.handleFocus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(r){function n(){var e,t,r;l(this,n);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=r=_(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(o))),r.state={focus:!1},r.handleFocus=function(){return r.setState({focus:!0})},r.handleBlur=function(){return r.setState({focus:!1})},_(r,t)}return u(n,r),o(n,[{key:"render",value:function(){return s.default.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},s.default.createElement(e,i({},this.props,this.state)))}}]),n}(s.default.Component)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromeFields=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=u(r(1)),o=u(r(77)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(252)),s=u(r(519)),l=r(250),_=u(r(520));function u(e){return e&&e.__esModule?e:{default:e}}var c=t.ChromeFields=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.toggleViews=function(){"hex"===r.state.view?r.setState({view:"rgb"}):"rgb"===r.state.view?r.setState({view:"hsl"}):"hsl"===r.state.view&&(1===r.props.hsl.a?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(e,t){e.hex?a.isValidHex(e.hex)&&r.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?r.props.onChange({r:e.r||r.props.rgb.r,g:e.g||r.props.rgb.g,b:e.b||r.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&("string"==typeof e.s&&e.s.includes("%")&&(e.s=e.s.replace("%","")),"string"==typeof e.l&&e.l.includes("%")&&(e.l=e.l.replace("%","")),1==e.s?e.s=.01:1==e.l&&(e.l=.01),r.props.onChange({h:e.h||r.props.hsl.h,s:Number((0,s.default)(e.s)?r.props.hsl.s:e.s),l:Number((0,s.default)(e.l)?r.props.hsl.l:e.l),source:"hsl"},t))},r.showHighlight=function(e){e.currentTarget.style.background="#eee"},r.hideHighlight=function(e){e.currentTarget.style.background="transparent"},1!==e.hsl.a&&"hex"===e.view?r.state={view:"rgb"}:r.state={view:e.view},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"render",value:function(){var e=this,t=(0,o.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),r=void 0;return"hex"===this.state.view?r=i.default.createElement("div",{style:t.fields,className:"flexbox-fix"},i.default.createElement("div",{style:t.field},i.default.createElement(l.EditableInput,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?r=i.default.createElement("div",{style:t.fields,className:"flexbox-fix"},i.default.createElement("div",{style:t.field},i.default.createElement(l.EditableInput,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),i.default.createElement("div",{style:t.field},i.default.createElement(l.EditableInput,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),i.default.createElement("div",{style:t.field},i.default.createElement(l.EditableInput,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),i.default.createElement("div",{style:t.alpha},i.default.createElement(l.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(r=i.default.createElement("div",{style:t.fields,className:"flexbox-fix"},i.default.createElement("div",{style:t.field},i.default.createElement(l.EditableInput,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),i.default.createElement("div",{style:t.field},i.default.createElement(l.EditableInput,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),i.default.createElement("div",{style:t.field},i.default.createElement(l.EditableInput,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),i.default.createElement("div",{style:t.alpha},i.default.createElement(l.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),i.default.createElement("div",{style:t.wrap,className:"flexbox-fix"},r,i.default.createElement("div",{style:t.toggle},i.default.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},i.default.createElement(_.default,{style:t.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return 1!==e.hsl.a&&"hex"===t.view?{view:"rgb"}:null}}]),t}(i.default.Component);c.defaultProps={view:"hex"},t.default=c},function(e,t){e.exports=function(e){return void 0===e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(1),a=(n=o)&&n.__esModule?n:{default:n};t.default=function(e){var t=e.fill,r=void 0===t?"currentColor":t,n=e.width,o=void 0===n?24:n,s=e.height,l=void 0===s?24:s,_=e.style,u=void 0===_?{}:_,c=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["fill","width","height","style"]);return a.default.createElement("svg",i({viewBox:"0 0 24 24",style:i({fill:r,width:o,height:l},u)},c),a.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointer=void 0;var n=o(r(1)),i=o(r(77));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.ChromePointer=function(){var e=(0,i.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return n.default.createElement("div",{style:e.picker})};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointerCircle=void 0;var n=o(r(1)),i=o(r(77));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.ChromePointerCircle=function(){var e=(0,i.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return n.default.createElement("div",{style:e.picker})};t.default=a},function(e,t,r){"use strict";var n=r(61),i=r.n(n),o=r(200),a={insert:"head",singleton:!1};i()(o.a,a),o.a.locals},function(e,t,r){var n=r(46).default;function i(){"use strict";
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",_=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function p(e,t,r,n){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),s=new D(n||[]);return a(o,"_invoke",{value:P(e,r,s)}),o}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var h={};function f(){}function m(){}function y(){}var g={};c(g,l,(function(){return this}));var b=Object.getPrototypeOf,v=b&&b(b(T([])));v&&v!==r&&o.call(v,l)&&(g=v);var E=y.prototype=f.prototype=Object.create(g);function O(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function M(e,t){var r;a(this,"_invoke",{value:function(i,a){function s(){return new t((function(r,s){!function r(i,a,s,l){var _=d(e[i],e,a);if("throw"!==_.type){var u=_.arg,c=u.value;return c&&"object"==n(c)&&o.call(c,"__await")?t.resolve(c.__await).then((function(e){r("next",e,s,l)}),(function(e){r("throw",e,s,l)})):t.resolve(c).then((function(e){u.value=e,s(u)}),(function(e){return r("throw",e,s,l)}))}l(_.arg)}(i,a,r,s)}))}return r=r?r.then(s,s):s()}})}function P(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return k()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=x(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=d(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=d(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,h;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function T(e){if(e){var t=e[l];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:k}}function k(){return{value:void 0,done:!0}}return m.prototype=y,a(E,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:m,configurable:!0}),m.displayName=c(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,u,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},O(M.prototype),c(M.prototype,_,(function(){return this})),t.AsyncIterator=M,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new M(p(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(E),c(E,u,"Generator"),c(E,l,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),l=o.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;C(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";r.r(t);var n=r(0),i=r(1),o=r.n(i),a=r(79),s=r.n(a),l=(r.p,r(61)),_=r.n(l),u=r(188),c={insert:"head",singleton:!1},p=(_()(u.a,c),u.a.locals,r(255));"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;s.a.render(o.a.createElement(n.b.Provider,{value:{className:"react-icons"}},o.a.createElement(p.a,null)),document.querySelector("#app")),document.querySelector(".loading").style.display="none"},function(e,t,r){"use strict";var n,i=r(38),o=r(76),a=r(40),s=r(5),l=r(16),_=r(25),u=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),c="element",p="map",d="offset",h="position",f="positioning",m=function(e){function t(t){var r=e.call(this)||this;r.on,r.once,r.un,r.options=t,r.id=t.id,r.insertFirst=void 0===t.insertFirst||t.insertFirst,r.stopEvent=void 0===t.stopEvent||t.stopEvent,r.element=document.createElement("div"),r.element.className=void 0!==t.className?t.className:"ol-overlay-container "+a.d,r.element.style.position="absolute",r.element.style.pointerEvents="auto";var n=t.autoPan;return n&&"object"!=typeof n&&(n={animation:t.autoPanAnimation,margin:t.autoPanMargin}),r.autoPan=n||!1,r.rendered={transform_:"",visible:!0},r.mapPostrenderListenerKey=null,r.addChangeListener(c,r.handleElementChanged),r.addChangeListener(p,r.handleMapChanged),r.addChangeListener(d,r.handleOffsetChanged),r.addChangeListener(h,r.handlePositionChanged),r.addChangeListener(f,r.handlePositioningChanged),void 0!==t.element&&r.setElement(t.element),r.setOffset(void 0!==t.offset?t.offset:[0,0]),r.setPositioning(t.positioning||"top-left"),void 0!==t.position&&r.setPosition(t.position),r}return u(t,e),t.prototype.getElement=function(){return this.get(c)},t.prototype.getId=function(){return this.id},t.prototype.getMap=function(){return this.get(p)||null},t.prototype.getOffset=function(){return this.get(d)},t.prototype.getPosition=function(){return this.get(h)},t.prototype.getPositioning=function(){return this.get(f)},t.prototype.handleElementChanged=function(){Object(_.e)(this.element);var e=this.getElement();e&&this.element.appendChild(e)},t.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Object(_.f)(this.element),Object(l.c)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var e=this.getMap();if(e){this.mapPostrenderListenerKey=Object(l.a)(e,o.a.POSTRENDER,this.render,this),this.updatePixelPosition();var t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan()}},t.prototype.render=function(){this.updatePixelPosition()},t.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},t.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},t.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},t.prototype.setElement=function(e){this.set(c,e)},t.prototype.setMap=function(e){this.set(p,e)},t.prototype.setOffset=function(e){this.set(d,e)},t.prototype.setPosition=function(e){this.set(h,e)},t.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},t.prototype.panIntoView=function(e){var t=this.getMap();if(t&&t.getTargetElement()&&this.get(h)){var r=this.getRect(t.getTargetElement(),t.getSize()),n=this.getElement(),i=this.getRect(n,[Object(_.c)(n),Object(_.b)(n)]),o=e||{},a=void 0===o.margin?20:o.margin;if(!Object(s.g)(r,i)){var l=i[0]-r[0],u=r[2]-i[2],c=i[1]-r[1],p=r[3]-i[3],d=[0,0];if(l<0?d[0]=l-a:u<0&&(d[0]=Math.abs(u)+a),c<0?d[1]=c-a:p<0&&(d[1]=Math.abs(p)+a),0!==d[0]||0!==d[1]){var f=t.getView().getCenterInternal(),m=t.getPixelFromCoordinateInternal(f);if(!m)return;var y=[m[0]+d[0],m[1]+d[1]],g=o.animation||{};t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(y),duration:g.duration,easing:g.easing})}}}},t.prototype.getRect=function(e,t){var r=e.getBoundingClientRect(),n=r.left+window.pageXOffset,i=r.top+window.pageYOffset;return[n,i,n+t[0],i+t[1]]},t.prototype.setPositioning=function(e){this.set(f,e)},t.prototype.setVisible=function(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)},t.prototype.updatePixelPosition=function(){var e=this.getMap(),t=this.getPosition();if(e&&e.isRendered()&&t){var r=e.getPixelFromCoordinate(t),n=e.getSize();this.updateRenderedPosition(r,n)}else this.setVisible(!1)},t.prototype.updateRenderedPosition=function(e,t){var r=this.element.style,n=this.getOffset(),i=this.getPositioning();this.setVisible(!0);var o=Math.round(e[0]+n[0])+"px",a=Math.round(e[1]+n[1])+"px",s="0%",l="0%";"bottom-right"==i||"center-right"==i||"top-right"==i?s="-100%":"bottom-center"!=i&&"center-center"!=i&&"top-center"!=i||(s="-50%"),"bottom-left"==i||"bottom-center"==i||"bottom-right"==i?l="-100%":"center-left"!=i&&"center-center"!=i&&"center-right"!=i||(l="-50%");var _="translate(".concat(s,", ").concat(l,") translate(").concat(o,", ").concat(a,")");this.rendered.transform_!=_&&(this.rendered.transform_=_,r.transform=_,r.msTransform=_)},t.prototype.getOptions=function(){return this.options},t}(i.a);t.a=m}]);